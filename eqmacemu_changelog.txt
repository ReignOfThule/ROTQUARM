Author: Robregen
Date:   Tue May 9 14:33:58 2023 -0700

    Update log to LogInfo and LogError where needed.

Author: Solar
Date:   Tue May 9 07:43:46 2023 +0000

    fixed some items with worn effects not applying their effect properly, mostly see invis related items that were created from old PEQ data

Author: Solar
Date:   Tue May 9 06:33:30 2023 +0000

    fixed Suspended Minion AA so it saves and restores the item focus state of the pet (Shovel of Ponz and similar items)

Author: Solar
Date:   Tue May 9 04:38:18 2023 +0000

    made secondary attack chance calculation more precise
    
    requires database script 2023_05_09_ambidex_aa.sql

Author: Robregen
Date:   Sun May 7 16:05:36 2023 -0700

    Clean up zone.cpp.  replace error log with LogError and status log with LogInfo.

Author: Robregen
Date:   Sun May 7 15:16:16 2023 -0700

    add missing bracket.

Author: Robregen
Date:   Sun May 7 15:04:41 2023 -0700

    clean up item_intance - move initialize to header rather than in source.

Author: Robregen
Date:   Fri May 5 16:36:55 2023 -0700

    Use default ctor/dtor instead of empty ones.

Author: Robregen
Date:   Fri May 5 15:12:45 2023 -0700

    more updated crash.cpp

Author: Robregen
Date:   Tue May 2 14:39:28 2023 -0700

    more clean up in zoning.cpp.
    removed some unused code used for death/gm fast camp.
    re-added a code that was removed in 2014 whether it was on purpose or not.  Tested with zoning, etc and with no change.  May help with undesired zoning (ssra cave, Agnarr, Quarm room).

Author: Robregen
Date:   Mon May 1 20:10:06 2023 -0700

    cleaned up tradeskills.cpp and zoning.cpp

Author: Robregen
Date:   Mon May 1 18:14:35 2023 -0700

    Cleanup logic to use `EQ::skills::GetSkillTypeMap()`

Author: Robregen
Date:   Mon May 1 17:52:04 2023 -0700

    Remove GetClassHPFactor() from zone/client_mods.cpp and zone/client.h as this is unused.

Author: Robregen
Date:   Mon May 1 16:40:43 2023 -0700

    Add missing breaks in bonuses.cpp

Author: Solar
Date:   Sun Apr 30 23:19:05 2023 +0000

    Check NPC enrage timer while stunned.  This should fix the issue with pets enraging for longer than intended while fighting NPCs with long duration stuns.

Author: Solar
Date:   Sun Apr 30 21:55:12 2023 +0000

    Added check for item class when NPCs consider items to equip.  This prevents erroneously equipping things like bags and books that may have equip slots defined as the slots only make sense for equippable items.

Author: Solar
Date:   Sun Apr 30 02:50:42 2023 +0000

    Fix NPCs attacking players from out of range.

Author: Solar
Date:   Sat Apr 29 21:51:47 2023 +0000

    world server zone name /who filter changed to admin only

Author: Robregen
Date:   Tue Apr 18 09:47:15 2023 -0700

    cleaned up logging and main in world/net.cpp

Author: Solar
Date:   Thu Apr 13 05:37:12 2023 +0000

    fixed a mana regen bonus calculation error (thanks Meriadoc)
    
    CalcItemBonuses() and CalcMaxMana() had a circular dependency in CalcBonuses()

Author: Robregen
Date:   Wed Apr 5 20:02:56 2023 -0700

    Linux Crash Dump Improvements

Author: Robregen
Date:   Wed Apr 5 10:17:46 2023 -0700

    add some checks in few places.

Author: Robregen
Date:   Wed Mar 29 19:52:18 2023 -0700

    remove out of era race id.
    clean up #questerrors command
    added log entry questerrors.
    Fix issue with adding the real values of new logging categories

Author: Robregen
Date:   Wed Mar 29 13:06:24 2023 -0700

    clean up GetRace magic numbers.

Author: Robregen
Date:   Wed Mar 29 10:41:35 2023 -0700

    fixed linux compile that wasn't showing errors in VS build.

Author: Robregen
Date:   Wed Mar 29 10:27:46 2023 -0700

    rename file string_util -> strings
    Add Time String to Seconds Method to Lua.

Author: Robregen
Date:   Tue Mar 28 15:55:58 2023 -0700

    refactor some strings in string_util files.

Author: Robregen
Date:   Fri Mar 24 17:11:31 2023 -0700

    removed testing code.

Author: Robregen
Date:   Fri Mar 24 17:08:15 2023 -0700


Author: Robregen
Date:   Fri Mar 24 17:05:02 2023 -0700

    fixed an issue where scripted mobs that work like traps are not set to depop right away.

Author: Robregen
Date:   Wed Mar 15 15:29:18 2023 -0700

    Revert "Check event exists before export and execute EVENT_COMBAT, EVENT_ATTACK, EVENT_AGGRO, and EVENT_SPAWN for better Performance."
    

Author: Robregen
Date:   Sun Mar 12 10:41:26 2023 -0700

    fix possible zoning race condition where players occasionally ends up in random location.  credit to eqemu.

Author: Robregen
Date:   Sun Mar 5 16:33:44 2023 -0800

    Check event exists before export and execute EVENT_COMBAT, EVENT_ATTACK, EVENT_AGGRO, and EVENT_SPAWN for better Performance.

Author: Robregen
Date:   Sun Mar 5 02:20:26 2023 -0800

    some cleanup and removal of unused codes.
    refactor quest timers to be more efficient.

Author: Solar
Date:   Sat Mar 4 20:43:01 2023 +0000

    solro crash fix

Author: Torven
Date:   Sun Feb 26 17:17:36 2023 -0800

    GMMove fix; Ignore range Z check; Area Taunt now 25 range
    
    GMMove()'s default behavior was changed in the navmesh merge which resulted in the method setting the NPC's guard point to the location it was moved to.  Most calls of the method assumed that this would not happen and it was causing problems, such as summoned pets setting their guard point at the summon location.  I made the method no longer set the guard position by default.
    
    A lua API method for GMMove() was added to allow scripts to have GMMove set the guard position if a true paramter is set.
    
    I added a Z height check to aggro NPCs for NPCs with ignore ranges under 1000.  I'm somewhat confident that Sony's ignore range checked Z and without it players were pulling NPCs to crazy places like Agnarr to the stone giant area and the wind tower boss to the 4-way.  Instead of using the actual ignore range I just set it to 1000 because I noticed giants in BoT towers ending up in aggro/reaggro loops because they would run through walls then end up with a much lower Z value making them forget then reaggroing when they walked back onto the floor level.
    
    Area Taunt range increased to 25 from 20 after Elroz and I played with it in-game some.

Author: Torven
Date:   Sun Feb 19 23:23:38 2023 -0800

    Reduced Area Taunt's radius
    
    This commit reduces Area Taunt's radius down to 20, which is still 2 points higher than prior to the recent commit raising it to 30 from 18 as I do think round numbers are more likely to be accurate.  Ogre melee range (at least while attacking a size 6 human) is 18.4.
    
    Area Taunt in our era is about equal to or perhaps just slightly larger than melee radius.  Newer era comments regarding its radius are not applicable because Sony made it a spell in the middle of 2004.  Landing taunts is part of the challenge of encounters.
    
    https://web.archive.org/web/20041228065714/http://www.thesteelwarrior.org/forum/archive/index.php/t-5263.html
    
    "AE taunt range seems to be just slightly larger than the normal taunt range. (This is just my personal opinion/experience.) You basically need to be in melee range of the center of the target to count on it landing, including z-axis."
    
    "As a small race (Dwarf), I've had a number of problems with AE taunt not hitting boss mobs when a normal taunt will"
    
    I also disabled the LoS check on it.  Area Taunt did not have a LoS check in our era.  The lack of the LoS check is why the Z axis height (and the horizontal reach) on the skill was small enough that it did not reliably hit large raid boss NPCs.  It's accurate for Area Taunt to not be reliable on very large NPCs.  Our implementation was/is actually more forgiving because our raid boss Zs cap out around 12 units (as of this commit anyway) above the floor while Sony's Z heights could be over double that height.  Using levitate and grow or ogre illusion was a way to make Area Taunt land on very large NPCs (e.g. AoW or Fennin) and that is not needed here.
    
    See
    https://web.archive.org/web/20050101084846/http://www.thesteelwarrior.org/forum/archive/index.php/t-8198.html
    
    It's possible Sony's implementation was a sphere instead of a cylinder in which case 20 units would be too small (we're using a cylinder shaped check) but there's no way to know.

Author: Solar
Date:   Wed Feb 15 20:22:20 2023 +0000

    corrected an edge case in bard mod calculation that caused incorrect stat display on client - this only affected a handful of clickies that have spells that look like bard songs but are actually normal buff spells, and it was only a cosmetic display issue

Author: Haynar
Date:   Thu Feb 2 14:46:42 2023 -0700

    Made slight tweaks to AE taunt to be more reliable.

Author: Haynar
Date:   Wed Feb 1 14:19:21 2023 -0700

    Revert "Fixed a case where extended range focus items would not apply at the end of spell casting."
    
    This reverts commit 57ec0e561d86419abf8a5eb581236e121bf06e7b.

Author: Haynar
Date:   Tue Jan 31 17:41:23 2023 -0700

    Fixed a case where extended range focus items would not apply at the end of spell casting.
    Example:  Complete Heal begins at range 90.  Less than max spell range.  Any extended range item will not trigger.  But if the target moved to range 101, the spell would fail on an out of range, even with an extended range focus item equipped.  Add an extended range item check at the end of spell casting for this case, so that the extended range item will apply during the second spell range check.

Author: Torven
Date:   Mon Jan 23 18:57:39 2023 -0800

    bards now magic attack with h2h while wearing magic gloves; monks and beastlords no longer magic attack with non-magic weapons while wearing magic gloves

Author: Haynar
Date:   Wed Jan 18 08:59:55 2023 -0700

    Added a fix for sometimes being unable to loot in a raid.

Author: Solar
Date:   Sun Jan 15 03:03:03 2023 +0000

    admin: limit simultaneous logins per forum account

Author: Solar
Date:   Sun Jan 15 03:02:39 2023 +0000

    revert accidental change

Author: Robregen
Date:   Sat Jan 14 18:11:12 2023 -0800

    Cleanup #spawnstatus Command.

Author: Robregen
Date:   Wed Jan 11 14:08:54 2023 -0800

    change the money split to lower case to make it more live like.

Author: Haynar
Date:   Tue Dec 13 14:12:41 2022 -0700

    Fixed a crash in dreadlands, due to navmesh mapping areas in the trees.  Updated dreadlands.nav file excluding trees from pathing areas.

Author: Robregen
Date:   Mon Dec 12 09:57:38 2022 -0800

    fixed a stacking issue with itemtype 7 (throwing).  code it to use itemtype 19 (casting throwing item) instead.

Author: Solar
Date:   Sat Dec 10 19:54:55 2022 +0000

    size tweaks for Quarm's head appearance illusion

Author: Solar
Date:   Sun Dec 4 03:17:29 2022 +0000

    stop AA abilities from being used while not in standing position

Author: Solar
Date:   Sun Dec 4 02:19:09 2022 +0000

    gracefully close loot window when player corpse goes to graveyard while being looted

Author: Solar
Date:   Sun Dec 4 00:51:44 2022 +0000

    break invisibility when activating auto attack after Fading Memories

Author: Solar
Date:   Sat Dec 3 20:11:52 2022 +0000

    - fade all mez spells when one expires.  this causes a fade message to be generated for both players when a bard and enchanter are both mezzing the same target and one of the mez spells expires.

Author: Solar
Date:   Sat Dec 3 19:55:23 2022 +0000

    - tweak player race heights so illusioned players are the same size as a non illusioned player of the same race

Author: Robregen
Date:   Fri Dec 2 17:05:55 2022 -0800

    [Commands] Cleanup #ai Command.
    - Cleanup messages and logic.
    - Remove #ai start/#ai stop as they can crash zones and are mostly useless.
    - Add EQ::constants::GetConsiderLevelMap() and EQ::constants::GetConsiderLevelName().
    - Add eq.get_consider_level_name(consider_level) to Lua.

Author: Solar
Date:   Fri Dec 2 22:29:54 2022 +0000

    - tweak player race heights so illusioned players are the same size as a non illusioned player of the same race

Author: Robregen
Date:   Thu Dec 1 18:03:22 2022 -0800

    changed out ServerLockType and AccountStatus from namespace EQ::constants
    cleanup #save.

Author: Solar
Date:   Wed Nov 23 15:10:01 2022 +0000

    fix error with Conjure Corpse requiring consent

Author: Solar
Date:   Sun Nov 13 07:39:11 2022 +0000

    try to make corpse dragging easier when spamming /corpse while moving fast

Author: Solar
Date:   Fri Nov 11 23:17:53 2022 +0000

    add a corpse position op/struct.  this could be used in more places, but just using in one spot right now

Author: Solar
Date:   Thu Nov 10 22:37:19 2022 +0000

    fixed a struct for a GM command

Author: Robregen
Date:   Wed Nov 9 15:43:44 2022 -0800

    Revert "* Update C++ standard to C++17"
    

Author: Robregen
Date:   Wed Nov 9 15:20:49 2022 -0800

    * Update C++ standard to C++17
    
    * Nuke EQ::Any in favor of std::any
    
    * Remove std::iterator due to deprecation
    
    * Replace result_of with invoke_result due to deprecation

Author: Haynar
Date:   Tue Nov 8 16:04:07 2022 -0700

    Integrated the FaceTarget function better with the navigation system, so mobs should face their target better, when not moving.  Like charm pets.

Author: Haynar
Date:   Tue Nov 8 14:27:33 2022 -0700

    Added checks for ensuring client has finished zoning, for group spells, on a raid group.  This make sure we aren't sending spells to client too early, before they finish the connecting to zone process.

Author: Haynar
Date:   Tue Nov 8 13:50:51 2022 -0700

    Added another fix for sending packets to raids, making sure Client::Client has finished connecting to the zone.

Author: Haynar
Date:   Mon Nov 7 21:57:47 2022 -0700

    Added some checks for sending HP Updates to clients, to ensure they have finished connecting.

Author: Haynar
Date:   Sun Nov 6 17:25:33 2022 -0700

    Fixed some issues with raid looter window, when leader assigned looters.

Author: Robregen
Date:   Sun Nov 6 14:51:56 2022 -0800

    clean up moneysplit and add comments

Author: Torven
Date:   Fri Nov 4 22:38:38 2022 -0700

    used an old server build to connect a path node in unrest basement.  hopefully I did this right

Author: Robregen
Date:   Fri Nov 4 15:31:54 2022 -0700

    Add GetBodyTypeName and GetLanguageName to Lua.

Author: Torven
Date:   Fri Nov 4 02:04:34 2022 -0700

    pets no longer take non-enrage ripostes from NPCs

Author: Robregen
Date:   Thu Nov 3 19:56:04 2022 -0700

    moved AccountStatus, ServerLock, and GravityBehavior enum to emu_constants.h and changed the variable to reflect the move.

Author: Torven
Date:   Thu Nov 3 19:19:57 2022 -0700

    /corpse X Y range is now 50 units; Z axis check put in as well
    
    It was discovered that Sony had some sort of anti-exploit logic to prevent /corpsing to at least some places.  On Live the Z limit is 150 units, and it's easy to find 2004 era posts stating that a Z limit exists.  Older posts are more ambiguous but an AK post clearly states that it was not possible to /corpse people into Solusek Ro's chamber.  A patch not long after Velious's launch put in a Z axis check, as a user complaining they could no longer /corpse up from the trap in Charasis was found which Absor responded to, but they seemed to have relaxed this check several weeks later in April of 2001 which states "Fixed a problem with /corpse that kept it from working on corpses that were too far above or below you".  So it seems Sony put in some anti-cheat logic that was too onerous then relaxed it a month later, hence the patch note.
    
    Several old 1999 era posts in the EverQuest Usenet group state that the newly implemented /corpse command had a range of '50 feet'.  The old patch note seems to have been lost to history but several user posts claim the patch note stated '50 feet'.  On AK I had /corpsed up to the skeletal rider boss ledge in PoNightmare and I had to inch up to do it and this agrees with 50 units.  A 2004 patch increased the range to 100 units and this is in the public patch notes and easily found.

Author: Robregen
Date:   Thu Nov 3 17:53:43 2022 -0700

    clean up #setlanguage command.

Author: Robregen
Date:   Thu Nov 3 15:44:12 2022 -0700

    add constant waypoint status for readablity.

Author: Robregen
Date:   Mon Oct 31 12:23:54 2022 -0700

    reverted a commit that added a NoDrop-related hack abatement which may be causing issue in some cases.

Author: Robregen
Date:   Sun Oct 30 12:40:28 2022 -0700

    added namespace spells to CastingSlots

Author: Robregen
Date:   Fri Oct 28 19:41:30 2022 -0700

    added CastingSlot enum for readablity throughout the code.

Author: Torven
Date:   Thu Oct 27 13:23:00 2022 -0700

    fix for lower level damage being too high issue

Author: Robregen
Date:   Tue Oct 25 17:54:19 2022 -0700

    Clean up cvs a bit.  added total clients and ips.

Author: Robregen
Date:   Mon Oct 24 18:20:48 2022 -0700

    fixed #cvs command.

Author: Robregen
Date:   Sun Oct 23 17:19:41 2022 -0700

    switch to use conditional operator in the previous commit.

Author: Robregen
Date:   Sun Oct 23 16:50:28 2022 -0700

    autosplit will now randomly pick player in a group to get remainder of coin type.

Author: Robregen
Date:   Fri Oct 21 17:34:17 2022 -0700

    clean up from last commits.

Author: Robregen
Date:   Fri Oct 21 15:40:45 2022 -0700

    change the variable name to better readability.

Author: Robregen
Date:   Fri Oct 21 14:31:35 2022 -0700

    /split with group should now be more live like.   remainder of the split will always go back to the splitter.

Author: Robregen
Date:   Wed Oct 19 11:36:31 2022 -0700

    few corrections from last commit.

Author: Robregen
Date:   Tue Oct 18 18:51:02 2022 -0700

    fixed an issue with tradeskilling.  switched to the wrong slot.
    add a NoDrop-related hack abatement

Author: Robregen
Date:   Tue Oct 18 16:12:48 2022 -0700

    revamp eqdictionary system.

Author: Robregen
Date:   Mon Oct 17 12:44:24 2022 -0700

    refactor OP_Bug.
    * correct a struct variable "type" to "optional_info_mask" since it's a bitmask for options duplicate, crash, flag, and target info.
    * add a rule to disable bug and petition on the server.  by default.  bug is enable and petition is disabled.
    * added a few column for optional bitmask. (already added in database)

Author: Robregen
Date:   Sun Oct 16 17:36:55 2022 -0700

    Pointer validation in mob iteration loops

Author: Torven
Date:   Fri Oct 14 14:28:26 2022 -0700

    #ginfo fixes

Author: Robregen
Date:   Thu Oct 13 11:02:36 2022 -0700

    renamed /patches/mac_constants.h -> /patches/mac_limits.h
    some reformatting in eq_limits.cpp
    created new file for memory_buffer to use instead of string_util

Author: Torven
Date:   Thu Oct 13 02:01:17 2022 -0700

    removed the 115 atk threshold requirement for the PC damage multiplier since it apparently did not exist on AK

Author: Robregen
Date:   Wed Oct 12 21:22:52 2022 -0700

    Converted server 'BulkSendInventoryItems()' to use single buffer methodology
    removed unused ophaned function BulkSendItems()

Author: Haynar
Date:   Tue Oct 11 16:25:38 2022 -0600

    Pets that do not have to move, who are in combat range, should face their target when they start attacking now.

Author: Robregen
Date:   Mon Oct 10 20:48:38 2022 -0700

    added a string id 511 that display %1 shares money with the group.  Live shows this when the split is less than the group.  The split goes back to the owner while the rest of the group only receives the shared message even though they didn't get the split.

Author: Robregen
Date:   Mon Oct 10 14:42:16 2022 -0700

    add a message id split_failed if split is tempted with coins less than the number of members in a group.

Author: Robregen
Date:   Mon Oct 10 14:03:13 2022 -0700

    fixed a possible bug that generated "unknown" split message in some cases.

Author: Haynar
Date:   Sun Oct 9 16:00:44 2022 -0600

    When a person leaves the raid who is on the looter list, they will now be removed from the list, rather than bugging the list with gibberish.

Author: Haynar
Date:   Sun Oct 9 10:49:25 2022 -0600

    Fixed a crash related to formatting of a std::string with logs.
    When raid members go LD while zoning, they will now be removed from the raid group and not just the raid window.

Author: Torven
Date:   Sat Oct 8 14:08:08 2022 -0700

    Fixed spawn2's force_z
    
    This seems to have broken with the navmesh merge.  Enabling this will now allow mobs with a guardpoint Z well above the ground to properly reset.  Generally used for flying NPCs like bees in airplane.  Note that if force_z is set to false and a spawn location Z is well above the around (somewhere around 25 units; less for smaller NPCs) then the NPC will ghost out and disappear when it returns to its spawn point and this is still an issue as of this commit.  I got around that issue by reducing spawn Zs for huge NPCs (Sony had Zs well above the ground for large NPCs) but I needed to fix force_z so airplane mobs could be in the air.

Author: Haynar
Date:   Sat Oct 8 09:52:32 2022 -0600

    Fixed raids/groups getting bugged when someone is invited to a raid group which has less than 6 members, but the overall raid already has 60 in it.

Author: Torven
Date:   Fri Oct 7 19:21:09 2022 -0700

    charm break in DoZoneSuccess() moved to before aggro wipe to prevent pets summoning owner on zone

Author: Haynar
Date:   Thu Oct 6 18:20:05 2022 -0600

    Fixed an edge case where OP_Stamina updates were sent to client before zoning was finished.

Author: Robregen
Date:   Tue Oct 4 17:59:48 2022 -0700

    linux build fix

Author: Robregen
Date:   Tue Oct 4 17:42:31 2022 -0700

    Reworked ClientVersion into EQ::versions; Added EQ::versions::MobVersion

Author: Robregen
Date:   Wed Sep 28 19:00:57 2022 -0700

    Renamed class Inventory to EQ::InventoryProfile

Author: Robregen
Date:   Tue Sep 27 11:11:24 2022 -0700

    Add some knobs to our RNG class (credit to Mackal from EQEmu)
    Also included is an additive lagged fibonacci generator that should is
    very similar to EQ's. Also added BIASED_INT_DIST in case someone wants
    to use "bad" int distribution to more closely match EQ as well.
    
    An option to set a custom engine (just in case people would like to play
    with other std engines) is available.
    
    There is also support for GCC's SIMD accelerated extension to std random
    engines.
    
    All these options are hidden behind advanced options in CMake since
    they're rather advanced knobs.

Author: Torven
Date:   Tue Sep 27 00:43:16 2022 -0700

    NPC summon was made to place the summoned target very slightly in front of the NPC
    
    Users claimed that this was how it was on AK but I have no way to know.  It's only about 1 unit so the chance of an NPC summoning a player outside a wall is highly unlikely but I suppose not impossible.

Author: Robregen
Date:   Sun Sep 25 18:41:24 2022 -0700

    partially revert last commit.

Author: Robregen
Date:   Sat Sep 24 12:07:59 2022 -0700

    more datatype correction to match AK Item Struct.
    some correction for database read for SharedDatabase

Author: Robregen
Date:   Sat Sep 24 10:37:05 2022 -0700

    clean up some stuff in LoadItems to use correct datatype and value.

Author: Torven
Date:   Fri Sep 23 14:26:54 2022 -0700

    I called the wrong scanarea timer because apparently we have two scanarea timers even though one of them is a Mob member

Author: Torven
Date:   Fri Sep 23 13:00:44 2022 -0700

    cleaned up my last commit a bit.  been looking at too much TS recently

Author: Torven
Date:   Fri Sep 23 02:56:21 2022 -0700

    client scan area timer is now reset after client is removed from hatelists when CotHed and when zoning to prevent re-aggroing before client is actually moved

Author: Robregen
Date:   Thu Sep 22 15:12:29 2022 -0700

    Revert "[Cleanup] Cleanup code smells and compiler warnings in common/shareddb (Quintinon)"
    
    This reverts commit 3b3ab6e87a94f45de49491b232d42fe379bfbeac.

Author: Solar
Date:   Thu Sep 22 15:39:09 2022 +0000

    NPCs enrage at 10% health instead of 9%

Author: Haynar
Date:   Thu Sep 22 07:53:43 2022 -0600

    Made changes to help with LDs

Author: Robregen
Date:   Wed Sep 21 20:23:34 2022 -0700

    [Quest API] Allow EVENT_ZONE to be parsed as non-zero to prevent zoning.
    - This will allow server operators to prevent zoning to or from a specific zone based on whatever criteria they want.

Author: Robregen
Date:   Wed Sep 21 12:27:25 2022 -0700

    Define is _WINDOWS not WINDOWS (credit to Mackal EQEMU)

Author: Robregen
Date:   Mon Sep 19 11:55:49 2022 -0700

    Implement HasQuestSub to check encounter instead of using database NPC to set "encounter".

Author: Robregen
Date:   Thu Sep 15 16:20:00 2022 -0700

    fixed the spell id in the killby log to show spell id 0 if it's spell unknown instead of 65535.

Author: Robregen
Date:   Thu Sep 15 09:21:59 2022 -0700

    applied backtick to mysql reserved word "rank" to avoid error from mysql version 8.0 +

Author: Robregen
Date:   Wed Sep 14 14:06:07 2022 -0700

    [Cleanup] Cleanup code smells and compiler warnings in common/shareddb (Quintinon)
    
    * Apply refactoring for modernize-use-default-equals
    
    * Apply refactoring for const local variable
    
    * Replace c-style cast with static_cast<>
    
    * Explicit cast double to float to remove compiler warning
    
    * Make member functions const when possible
    
    * Correct [lnt-accidental-copy] by changing auto to auto&
    
    * Use static_cast instead of reinterpret_cast when appropriate
    
    * Remove unneeded initial values when assigned in all paths and joined delcaration and assignment when possible
    
    * Remove unused include
    
    * Make member function in header const

Author: Robregen
Date:   Wed Sep 14 06:14:53 2022 -0700

    Update zonedb.cpp

Author: Robregen
Date:   Wed Sep 14 05:54:44 2022 -0700

    Update zonedb.cpp

Author: Robregen
Date:   Sat Sep 10 10:07:09 2022 -0700

    [Cleanup] Fix unintended copies in zone/zonedb.cpp by changing auto to auto& (credit to Quintinon)
    more corrections for datatype in zonedb.cpp

Author: Robregen
Date:   Fri Sep 9 19:49:26 2022 -0700

    correct datatype in various places.

Author: Robregen
Date:   Fri Sep 9 14:44:31 2022 -0700

    change GMGoto_Struct datatype to float for x,y,z to match the datatype for ZonePC function.

Author: Torven
Date:   Thu Sep 8 19:06:02 2022 -0700

    Fixed kick and silentfist disc stuns
    
    Kick was was stunning like it was the bash skill due to the routine passing the bash skill enum instead of kick and this was fixed.  This was erroneously allowing non-warriors and warriors under 55 to stun and interrupt with kick.  Silentfist disc stun was not working because the disc was being cleared in the crit routine which was called before the stun routine.

Author: Robregen
Date:   Mon Sep 5 13:21:29 2022 -0700

    [Cleanup] Rework Lua QuestReward to not use try/catch blocks
    Quest system will catch any errors and result it in being reported where these weren't  (credit to Mackal)

Author: Robregen
Date:   Sat Sep 3 19:26:55 2022 -0700

    * Enforce character restrictions later in the connection process so we don't end up in a loop race condition in world
    * Object: Checking if first char is null should be faster than strlen

Author: Haynar
Date:   Thu Sep 1 10:29:07 2022 -0600

    Removed a change which could be making crashes/LDs worse.

Author: Robregen
Date:   Wed Aug 31 18:27:25 2022 -0700

    fixed linux compile from last commit.

Author: Robregen
Date:   Wed Aug 31 18:21:30 2022 -0700

    Separated class Inventory from item_instance files into inventory_profile files

Author: Solar
Date:   Tue Aug 30 21:46:55 2022 +0000

    Skill patch (partial)
    More work is needed but this patch adjusts some of the incorrect logic around cap values.
    
    Paladins get Bash at level 6
    Paladins get Parry at level 17
    Rogues get Intimidation at level 22
    These 3 class/skill combinations were acting bugged before those required levels.
    
    I know people will ask, so here are the differences for level 65 characters.
    There are a lot of changes for the intermediate levels so I won't list that out.
    
    Cleric  Bind Wound 201 -> 210
    Cleric  Bash  200 -> 165
    Paladin  Channeling 220 -> 215
    Paladin  Meditate 235 -> 226
    Ranger  Riposte  150 -> 185
    Shadow Knight Channeling 220 -> 215
    Shadow Knight Offense  230 -> 225
    Druid  Bind Wound 200 -> 210
    Monk  Block  230 -> 225
    Bard  Dual Wield 210 -> 245
    Rogue  Double Attack 240 -> 245
    Shaman  Bind Wound 200 -> 210
    Shaman  Alchemy  180 -> 200
    Beastlord Channeling 220 -> 215
    Beastlord Meditate 235 -> 226
    Beastlord Throwing 118 -> 113

Author: Robregen
Date:   Tue Aug 30 12:26:18 2022 -0700

    clean up void ZoneDatabase::RefreshGroupFromDB(Client *client)

Author: Solar
Date:   Tue Aug 30 16:48:08 2022 +0000

    meditate skill no longer improves while already full mana

Author: Torven
Date:   Mon Aug 29 17:38:35 2022 -0700

    reduced the frequency cleric NPCs cast dispel

Author: Robregen
Date:   Mon Aug 29 14:53:32 2022 -0700

    remove white spaces in GetTradeRecipe.

Author: Robregen
Date:   Mon Aug 29 13:36:52 2022 -0700

    add brackets to if, else.
    Added missing brackets on results.Success query.

Author: Haynar
Date:   Mon Aug 29 13:25:22 2022 -0600

    Added a fix to help prevent groups/raids from getting bugged when a player goes LD while zoning.

Author: Robregen
Date:   Sun Aug 28 17:34:51 2022 -0700

    reverted the lift changed.

Author: Haynar
Date:   Thu Aug 25 17:39:26 2022 -0600

    Added a pre-navmesh change which is contributing to current excess LDs.

Author: Torven
Date:   Thu Aug 25 13:09:25 2022 -0700

    summoned pets were not gaining the AC from the armor they were wearing and this was fixed (oops)

Author: Robregen
Date:   Tue Aug 23 11:07:56 2022 -0700

    more removal of out of era tradeskill codes.

Author: Torven
Date:   Mon Aug 22 13:28:51 2022 -0700

    Combat skill-up rate fix
    
    Fixed a problem where combat skill-up rates dramatically declined when the skill-up prime stat went over 135.  The result was that combat skill-ups were slower with 136-179 skill stat than at 135 skill stat.
    
    The rule 'HighStatSkillUpModifier' was removed.  Cavedude added this to quote 'so we can better tweak skillups based on stat' without any other explanation but it made no sense mathematically or any way you look at it and just resulted in a sharp drop off of skill-up rate at 136 skill value.  As far as I can tell the skill-up rate logic is precise or nearly precise otherwise, which he had implemented from an eqemu guy's post which quoted a Sony developer's comments and is almost identical to the already known tradeskill logic which is what is expected and therefore adds a lot of confidence in the result. (no offense intended here but I think it's important to document why changes are made)

Author: Robregen
Date:   Mon Aug 22 08:50:17 2022 -0700

    removed some out of era code that was pertained to GoD auto tradeskill interface.

Author: Robregen
Date:   Sat Aug 20 18:54:07 2022 -0700

    Fix for travis-ci build failure

Author: Robregen
Date:   Sat Aug 20 18:38:14 2022 -0700

    rename class ItemInst to EQ::ItemInstance

Author: Solar
Date:   Thu Aug 18 18:33:53 2022 +0000

    tweak range attack distance calculation to avoid dry firing but still using up ammo when out of range

Author: Solar
Date:   Thu Aug 18 14:46:56 2022 +0000

    Display dropped bone shields as a bag on the ground for the sake of being able to pick them up.  It seems the transparent bone shield graphic can't be clicked on for pickup.

Author: Solar
Date:   Thu Aug 18 01:14:34 2022 +0000

    revert door change as it seems to have broken more than it fixed

Author: Solar
Date:   Thu Aug 18 00:53:43 2022 +0000

    reduce frequency of player online checks for rezzable corpses to decrease load on world server

Author: Solar
Date:   Wed Aug 17 14:04:38 2022 +0000

    stopped cleaning up NPC corpses to graveyard

Author: Solar
Date:   Fri Aug 12 05:11:07 2022 +0000

    try to fix unreliable clicks at bertox throne and potime dial

Author: Haynar
Date:   Wed Aug 10 15:04:30 2022 -0600

    Merged more pre-navmesh changes associated with stale connections.

Author: Haynar
Date:   Tue Aug 9 13:27:02 2022 -0600

    Added change from pre-navmesh merge which might help with short timeouts at character select.

Author: Solar
Date:   Sun Aug 7 00:34:48 2022 +0000

    auto return corpses to PoP graveyards if they're moved too far out of it

Author: Solar
Date:   Sat Aug 6 21:31:07 2022 +0000

    changed Breath of Harmony and Lute of the Flowing Waters to act as a normal instant clicky not a repeating song.

Author: Solar
Date:   Sat Aug 6 18:50:54 2022 +0000

    changed Breath of Harmony and Lute of the Flowing Waters to act as a normal instant clicky not a repeating song.

Author: Solar
Date:   Sat Aug 6 16:38:29 2022 +0000

    Animate casters even if spell message is filtered out

Author: Solar
Date:   Sat Aug 6 16:37:39 2022 +0000

    Don't count unattackble pets for target limit on rain spells

Author: Robregen
Date:   Thu Aug 4 16:09:16 2022 -0700

    Refactor zone net class (nothing to do with networking)

Author: Solar
Date:   Tue Aug 2 06:40:24 2022 +0000

    Bard patch
    Various spell casting things were changed and it's possible some things are broken as a result.
    I tried to clean up some of the inconsistent behavior and casting messages.
    
    - Bard song range extension AA effect made consistent among initial and repeat ticks.  It only works on group songs, not the AoE regen and resist songs.
    - Items which have a bard song will play like a normal bard song and keep pulsing until stopped.
    - Songs with a recast delay or mana cost will not keep pulsing, but they won't automatically reset the spell gems either.  This makes all songs behave consistently, needing to be turned off to return to the normal resting state.
    - Bard songs won't generate 'did not take hold' messages.  I looked through AK logs and didn't find any.  Also suppressed some of these for Teleport and Mass Mystical Transvergance.
    - Nearby players shoudn't dance anymore when a bard is playing a detrimental song.
    - Bards shouldn't dance unless they have an instrument mod in effect.  Bards also don't perform the cast animation for clickies; this is how it still is on live eq.
    - Players will get hit by player cast detrimental AoE spells/songs and receive pvp protection messages.  When in the same group or raid, they won't be hit.
    - Instruments need to stay equipped for songs which require them or they will stop pulsing.
    - Spells with targettype 3 can affect allies for NPC casters
    - Changed the order of skill up checks for casting/specialization/channeling skills to match what I found in logs.
    - Changed how some spell effect protections are applied so that particles are still visible for the spell even if it doesn't take effect.

Author: Solar
Date:   Sun Jul 31 04:34:28 2022 +0000

    fixed a bug that allowed rezzing the same player corpse a second time (thanks Beastymanz for reporting)

Author: Robregen
Date:   Sat Jul 30 11:52:26 2022 -0700

    Removed idlezone codes from net.cpp since it seems to break idle timer and doesn't seems to have any affects if removed.
    Reverted partial code with zone idling.  After several tests, I concluded that it is working properly like it should.

Author: Robregen
Date:   Thu Jul 21 11:59:46 2022 -0700

    some cleanups in item_instance.h / .cpp
    Moved namespace ItemField from item_instance.h to shareddb.cpp

Author: Robregen
Date:   Wed Jul 20 09:27:25 2022 -0700

    fixed an issue with broken combine.

Author: Robregen
Date:   Mon Jul 18 19:29:14 2022 -0700

    change filename item to item_instance

Author: Robregen
Date:   Sun Jul 17 11:01:24 2022 -0700

    correct ItemEffect to be equipclick instead of click

Author: Torven
Date:   Sat Jul 16 23:20:01 2022 -0700

    Exp messages now more accurate
    
    Prior to this commit, experience messages would sometimes incorrectly display 'you gain party experience' when in fact the player was receiving solo exp.  This commit fixes that.
    
    I also renamed some method variables for readability.

Author: Robregen
Date:   Sat Jul 16 10:18:50 2022 -0700

    renamed files item_struct to item_data.  renamed Item_Struct to ItemData and added some functionality.

Author: Torven
Date:   Sat Jul 16 02:47:45 2022 -0700

    Fixed spell proc buff exploit and improved the logs output for procs

Author: Robregen
Date:   Fri Jul 8 16:21:07 2022 -0700

    change logs to check whether the zone is static or dynamic.

Author: Solar
Date:   Wed Jul 6 05:52:45 2022 +0000

    add 'did not take hold' message for AA spells

Author: Robregen
Date:   Tue Jul 5 11:56:06 2022 -0700

    changed condition from previous commit.

Author: Robregen
Date:   Tue Jul 5 09:38:07 2022 -0700

    add a couple of conditions for zone idling in zone/net.cpp

Author: Solar
Date:   Tue Jul 5 16:12:12 2022 +0000

    remove minor illusion when player moves.  this is a workaround for when there are no objects nearby to transform into.

Author: Robregen
Date:   Mon Jul 4 13:45:54 2022 -0700

    Added multi-type EQ::ValueWithin function
    [Consistency] deity not diety.

Author: Solar
Date:   Mon Jul 4 02:19:26 2022 +0000

    Don't reset harm touch timer on player death

Author: Robregen
Date:   Sun Jul 3 18:51:05 2022 -0700

    Fix miscellaneous memory leaks related to EQApplicationPacket and it's pBuffer
    * Handle freeing pBuffer[] if exists in zone/mob.cpp Create*Packet functions
    * Handle freeing pBuffer[] in zone/object.cpp Create*Packet methods
    * Make CreateHorseSpawnPacket() safer by freeing pBuffer[] before replacing with new[]
    * Free pack after sending in command_setlsinfo
    * Cleanup logic and free leaked NPCType in Client::Doppelganger

Author: Solar
Date:   Sun Jul 3 22:49:19 2022 +0000

    add comment

Author: Solar
Date:   Sun Jul 3 16:25:53 2022 +0000

    Warrior AA Warcry fixed so it works in raids and affects group members within 100 range of the warrior

Author: Solar
Date:   Mon Jun 27 23:30:20 2022 +0000

    Warrior AA Warcry fixed so it works in raids and affects group members within 100 range of the warrior

Author: Robregen
Date:   Sat Jun 25 11:08:00 2022 -0700

    fixed an appearance issue when charming a npc in sitting or lying position.

Author: Robregen
Date:   Fri Jun 24 17:09:32 2022 -0700

    split eq_dictionary into its respectable files emu_limits and emu_constants and removing the eq_dictionary file.  renamed main to slot for a more meaningful variable.

Author: Solar
Date:   Thu Jun 23 17:28:02 2022 +0000

    adjust bard logic for first spell slot

Author: Torven
Date:   Tue Jun 21 22:15:15 2022 -0700

    AoE rampage anti-cheese
    
    Ignite bones is shrinking raid boss models to human size which is reducing AoE rampage radius to a small radius.  This is cheesy for the Quarm fight in particular, so I added a little something to reduce the reduction amount.

Author: Robregen
Date:   Mon Jun 20 17:42:47 2022 -0700

    Move delete of ItemInstance to avoid edge case leaking in ZoneDatabase::LoadWorldContainer()
    [Loot] Clean up OP_LootItem
    * Use preexisting struct.
    * Remove newline.

Author: Torven
Date:   Sun Jun 19 01:49:24 2022 -0700

    Added some things for the Sleeper event
    
    I made NPCs over 300k hp not summonable (i.e. from charmed pets or NPCvNPC aggro) because I could not find cases of raid bosses being summoned in logs other than Xanamech, so I suspect that they may not have been summonable.  Kerafyrm would be summoned a lot if I didn't add something.
    
    Added SetNPCAggro() so scripts could turn on/off NPC aggro. (when NPCs can aggro other NPCs of an aggressive faction)
    
    Hardcoded some special behavior for Kerafyrm's proc.  It behaved in a strange way that isn't otherwise replicable.

Author: Solar
Date:   Fri Jun 17 06:39:15 2022 +0000

    fix queryserv logging for deleted containers

Author: Torven
Date:   Tue Jun 14 03:00:48 2022 -0700

    Fixed log spam issue; Zone::StartShutdownTimer() redone
    
    StartShutdownTimer() will now use the higher value of the AutoShutdownDelay rule and the database field.  Before it was ignoring the rule and just using the database field.

Author: Torven
Date:   Sat Jun 11 03:20:31 2022 -0700

    Improved #ginfo

Author: Robregen
Date:   Thu Jun 9 12:19:56 2022 -0700

    partially revert and used pp item material to load up tints.

Author: Robregen
Date:   Thu Jun 9 07:21:04 2022 -0700

    Fixed for armor tint not loading on corpses.

Author: Robregen
Date:   Wed Jun 8 20:07:11 2022 -0700

    change materialCount to LastTexture for CharSelectInfo GetInventory.

Author: Solar
Date:   Wed Jun 8 15:58:54 2022 +0000

    fix for bard song repeat turning off when sitting/crouched

Author: Robregen
Date:   Tue Jun 7 21:03:24 2022 -0700

    Fix memory leaks credit to Quint (EQEmu)

Author: Torven
Date:   Mon Jun 6 22:50:41 2022 -0700

    Another faction emote change
    
    After having a brief conversation with Rob I had noticed that AK's faction emotes always followed the "Time to die $name." emote.  So knowing that it made sense to link the emotes to a specific emote ID instead of by race.  It seems that the 'time to die' emote was some kind of default or programmatic emote on Sony's server.
    
    I changed the ID 1 emote to be "Time to die" and made the faction emotes trigger only for NPCs using this emote ID.  It's the most common emote in the game anyway so it makes sense to make it 1. (the previous ID 1 emote was a Kael emote and was moved to a new ID)

Author: Robregen
Date:   Mon Jun 6 18:00:15 2022 -0700

    Update command #loc to include regiontype.

Author: Robregen
Date:   Mon Jun 6 13:57:07 2022 -0700

    few tweak to command.cpp

Author: Torven
Date:   Mon Jun 6 02:56:03 2022 -0700

    Faction emotes limited even more
    
    I looked at logs more carefully and it's clear that Sony removed faction emotes from most stuff sometime in Luclin, not just Luclin expac zones.  I.e. gnolls and kobolds and such didn't emote on AK.  It was mostly playable races minus ogres and trolls, plus coldain.

Author: Torven
Date:   Sun Jun 5 02:52:59 2022 -0700

    Changed Point-blank and Targeted AoE spell logic somewhat
    
    There were two minor issues with it, which were that some targeted AoEs like wizard snare were hitting up to 6 mobs if the spell resisted on the target.  Also targeted AoE spells cast by NPCs were being limited to hitting 4 NPC mobs (pets and such) when it should be unlimited.
    
    The logic was kind of messy and I simplified it a bit as well.  Hopefully I didn't break anything.

Author: Solar
Date:   Sat Jun 4 16:55:23 2022 +0000

    adjust bertoxx aoe to work more reliably

Author: Robregen
Date:   Thu Jun 2 15:32:33 2022 -0700

    Some clean ups.
    Correct potential read out of bounds on array in Client::Doppelganger

Author: Solar
Date:   Thu Jun 2 13:48:16 2022 +0000

    make wizard familiar buff protected from dispel

Author: Solar
Date:   Thu Jun 2 02:28:16 2022 +0000

    some spell interrupt tweaks to work better with feared clients

Author: Torven
Date:   Wed Jun 1 02:54:04 2022 -0700

    fear now interrupts client spell casts

Author: Torven
Date:   Wed Jun 1 01:58:23 2022 -0700

    Fixed permarooted NPCs to return to their proper headings on deaggro or hails etc

Author: Torven
Date:   Tue May 31 20:59:20 2022 -0700

    Faction emotes made client only

Author: Torven
Date:   Tue May 31 20:50:32 2022 -0700

    NPCs randomly facing nearby clients added

Author: Robregen
Date:   Mon May 30 14:45:39 2022 -0700

    change split money message to use client string id.

Author: Robregen
Date:   Fri May 27 21:08:43 2022 -0700

    more texture update to use a more defined material variable name slots.

Author: Robregen
Date:   Fri May 27 17:20:38 2022 -0700

    fixed linux compile.

Author: Robregen
Date:   Fri May 27 17:09:58 2022 -0700

    Converted enumeration MaterialSlots to EQ::textures::TextureSlot
    Implemented EQ::TintProfile
    Implemented EQ::TextureProfile

Author: Solar
Date:   Fri May 27 19:17:26 2022 +0000

    adjusted the way clients are locked/unlocked when feared/charmed

Author: Torven
Date:   Fri May 27 03:43:14 2022 -0700

    Added faction emotes
    
    Faction emotes are NPC emotes that occur when NPCs aggro and display after the NPC's unique custom emote.  e.g. "you have ruined your own lands" and "filthy X like you must die"
    
    The implementation is not precise and will require modifications if the precise trigger logic is later discovered.
    
    Note that this relies on NPC::CanTalk() being accurate.  I also excluded PoP zones and all Luclin zones minus sseru because I'm not seeing PoP zones in logs and most Luclin NPCs seem to have had this turned off some time during the expansion.  I do see them in early Luclin logs, but not AK other than sseru and not many in there, however most Luclin zones were infrequently visted.

Author: Solar
Date:   Fri May 27 00:22:53 2022 +0000

    try to fix client lockup after charm/fear fades

Author: Robregen
Date:   Thu May 26 15:11:56 2022 -0700

    finished removing unused rules.

Author: Robregen
Date:   Thu May 26 11:17:13 2022 -0700

    more unused rule removed.
    clean up #zone command.

Author: Solar
Date:   Thu May 26 06:55:10 2022 +0000

    minor tweaks to double attack/dual wield calc

Author: Solar
Date:   Thu May 26 06:49:30 2022 +0000

    rename some unused fields in item struct

Author: Robregen
Date:   Wed May 25 18:00:18 2022 -0700

    Fix typos in #ban and #ipban Commands.

Author: Robregen
Date:   Wed May 25 17:31:03 2022 -0700

    Cleanup quest::givecash() and split.

Author: Robregen
Date:   Wed May 25 17:00:28 2022 -0700

    removed some unused combat rules.
    added commify to lua.

Author: Solar
Date:   Tue May 24 23:10:34 2022 +0000

    changed constant -2 to DMG_PARRY

Author: Robregen
Date:   Tue May 24 10:00:18 2022 -0700

    removed unused spell rules.
    clean up motd command.

Author: Solar
Date:   Tue May 24 05:04:25 2022 +0000

    apply damage shields before melee damage, fixes druid AA Wrath of the Wild

Author: Solar
Date:   Mon May 23 23:12:21 2022 +0000

    harm touch AA timer adjustments

Author: Robregen
Date:   Mon May 23 14:18:34 2022 -0700

    [Commands] Consolidate #lock and #unlock Commands into #serverlock.

Author: Robregen
Date:   Mon May 23 13:41:17 2022 -0700

    few more unused rules removed.
    clean up #kill command.

Author: Solar
Date:   Mon May 23 19:56:41 2022 +0000

    crash fix with gender illusion (GM only)

Author: Solar
Date:   Mon May 23 03:22:22 2022 +0000

    harm touch AA timer adjustments

Author: Solar
Date:   Sun May 22 18:21:17 2022 +0000

    minor dispel tweaks

Author: Robregen
Date:   Sun May 22 09:06:09 2022 -0700

    forgot to removed the "commented out" unused rules.

Author: Robregen
Date:   Sun May 22 09:02:32 2022 -0700

    remove a few unused rules.
    remove zone timer to use static local timer for idle zones. (credit to eqemu)
    Added support for quests to enable and then redisable processing of movement.

Author: Torven
Date:   Fri May 20 03:04:42 2022 -0700

    feigned minion AA fix

Author: Torven
Date:   Wed May 18 19:26:57 2022 -0700

    Apply Poison changes
    
    The success rate was modified because it was far too unforgiving, but the exact success rate algorithm is still unknown.
    
    Poison Mastery AA will now guarantee an application success.
    
    The 'old' poison logic was simplified because it was very simplistic and did not require going through the typical proc routines and this simplification makes it more accurate anyway.

Author: Solar
Date:   Thu May 19 00:13:20 2022 +0000

    adjust merchant sell price rounding to fix currency desync

Author: Torven
Date:   Sun May 15 18:43:19 2022 -0700

    added Object::DepopWithTimer() with lua method
    
    We needed a method to destroy objects on the ground so 'streetsweeper' NPC scripts could function.  The inherited API fuctions did not work for this.
    
    Note that ground spawn objects (objects that infinitely respawn when picked up) are handled in a weird way and this was part of the problem.  They are not actually removed from the object list when picked up, and when object packets are sent to the client, it checks if the respawn timer is active to determine if the client should see it or not.  This made Lua_EntityList::GetObjectLilst() not dependable since it always added these picked up items on cooldown when called.  I added a timer check to that routine to exclude picked up grownd spawns in this commit.

Author: Robregen
Date:   Sat May 14 21:18:07 2022 -0700

    * [Commands] Cleanup #ban, #ipban, #flag, and #kick Commands.
    - Cleanup messages and logic.
    - Add ServerFlagUpdate_Struct for flag updates.
    
    * Add #setlsinfo and #setpass to cleanup.
    
    * Update setlsinfo.cpp
    
    * Update database.cpp
    
    * Update command.cpp

Author: Robregen
Date:   Fri May 13 09:23:51 2022 -0700

    modified class functions for better readablity
    change some database functions to use fmt:format.

Author: Solar
Date:   Thu May 12 21:40:42 2022 +0000

    update text for book, old text was incorrect and crashing client

Author: Torven
Date:   Tue May 10 01:04:35 2022 -0700

    allowed Harm Touch to be focused by Improved Damage

Author: Torven
Date:   Tue May 10 00:38:41 2022 -0700

    Fixed the waypoint looping issue

Author: Torven
Date:   Sun May 8 19:04:16 2022 -0700

    Made rules for Monk AC softcap & projectle corner/wall blocking; bolts now collide with walls

Author: Robregen
Date:   Sun May 8 09:22:23 2022 -0700

    fixed merge that was lost in the last merge commits.

Author: Robregen
Date:   Sun May 8 03:00:41 2022 -0700

    fixed an error resulted from a revert merge.

Author: Robregen
Date:   Sun May 8 02:12:43 2022 -0700

    Revert "Merge branch 'preopen' into dev"
    
    This reverts commit c9b448de559d96a79258385255689ca62c6c7191, reversing
    changes made to a3313cf8ae09b5f767a6eb1b585b96dd1d8b4acf.

Author: Torven
Date:   Thu May 5 23:52:12 2022 -0700

    Doubled MaxNavmeshNodes and max_polys to allow for longer routes in pathfinding
    
    while investigating the cause of another bug, I discovered that our pathfinding rountines are incapable of computing longer routes and result in NPCs running through geometry half way to their destinations in some cases.  This is easily fixed by increasing these two variables. (perhaps EQEmu tested navmesh on older more simpler zones?)  Hopefully performance isn't impacted much

Author: Torven
Date:   Thu May 5 23:37:25 2022 -0700

    Fixed the ghosting/disappearing mobs issue
    
    This was happening because the last command in the movement queue must be the final destination, otherwise the movement logic will bug out and the NPC will disappear on the client because the stop navigation routine never gets run.
    
    More specifically this was still happening because the Z coordinate was not being checked for this and often the pathfinding routine fails to complete a full route because our configuration does not allow for long routes.  In that event the logic will cut off the route at the closest node to the end node and sometimes this was a location directly above/below the end location, and since the Z wasn't being checked, it ghosted out.

Author: Robregen
Date:   Mon May 2 10:26:42 2022 -0700

    re-add races that were removed from previous commit.

Author: Robregen
Date:   Sun May 1 21:21:02 2022 -0700

    clean up races defines and functions.

Author: Solar
Date:   Sun May 1 22:12:44 2022 +0000

    levitation appearance tweak

Author: Torven
Date:   Sat Apr 30 22:20:14 2022 -0700

    yet more improvements to archery wall detection

Author: Torven
Date:   Sat Apr 30 18:00:05 2022 -0700

    increased minimum stacked mob count check to 5 to prevent warps when quad kiting

Author: Robregen
Date:   Sat Apr 30 11:58:02 2022 -0700

    Add namespace EQ::skills to skills functions.

Author: Torven
Date:   Sat Apr 30 03:12:26 2022 -0700

    made archery wall poof check more forgiving in zones with irregular geometry

Author: Torven
Date:   Thu Apr 28 01:37:57 2022 -0700

    Consumption of the Soul AA implemented

Author: Torven
Date:   Tue Apr 26 03:05:21 2022 -0700

    fix for underwater FD; jumping out of water no longer blurs waterbound NPCs

Author: Robregen
Date:   Mon Apr 25 21:30:08 2022 -0700

    fixed linux compile.

Author: Robregen
Date:   Mon Apr 25 21:09:49 2022 -0700

    cleaned up loginserver a bit.

Author: Solar
Date:   Tue Apr 26 00:36:14 2022 +0000

    mana pool bonus calc adjusted to better match client values

Author: Robregen
Date:   Mon Apr 25 09:53:05 2022 -0700

    removed and strip all codes that is pertain to takp only to be release to public later.

Author: Robregen
Date:   Sun Apr 24 19:17:23 2022 -0700

    rebuild pofire navmesh to exclude objects in fields (trees, headstone, and tomb)

Author: Torven
Date:   Sat Apr 23 22:10:31 2022 -0700

    added SetCastRateBeneficial() and combat regen to ModifyNPCStats()

Author: Torven
Date:   Sat Apr 23 20:21:56 2022 -0700

    NPC::CalcMaxMana() and AddAISpell() fixes
    
    NPC::CalcMaxMana() was not allowing warriors rogues and monks to have mana and this was fixed.
    
    Calling Lua_NPC::AddAISpell() to add spells to NPCs that did not previously have spells was not working because the AIautocastspell_timer was set outside the add spell function.  I moved it inside to fix this.
    
    These changes were done to allow scripts to create NPCs from scratch instead of needing to use database NPCs.

Author: Torven
Date:   Fri Apr 22 02:04:53 2022 -0700

    added bestz function to lua.  allows for randomly generated waypoints

Author: Torven
Date:   Thu Apr 21 02:12:35 2022 -0700

    NPC attack delay change
    
    The attack delay routine was altered such that using a value over 400 will make it use that value as milliseconds instead of hundreds of milliseconds.
    
    Previously the value was always hundreds of milliseconds, which is the same as weapon delays on items.  But this limited the timer resolution.  This way allows for using both milliseconds and tens of milliseconds with no real risk of causing a conflict because there is no reason for a 41 second delay to exist.
    
    The database field is a tinyint so entering those high values is impossible (until it's changed anyway) regardless.  However with this commit a script can change the attack delay of an NPC to a millisecond resolution by calling ModifyNPCStat().

Author: Robregen
Date:   Tue Apr 19 13:09:51 2022 -0700

    rename EQCrytop to eq_crypto files
    rename CM to client_manager variable
    rename SM to server_manager variable

Author: Torven
Date:   Mon Apr 18 00:21:19 2022 -0700

    AoE Rampage range shrunk very slightly to allow avoiding it with some trial and error

Author: Torven
Date:   Sun Apr 17 22:16:08 2022 -0700

    fix for mobs wobbling with FD players. Doesn't fix wobbling for out of range players though

Author: Robregen
Date:   Sat Apr 16 10:14:23 2022 -0700

    fixed a warning due to string format change from last commit.

Author: Robregen
Date:   Fri Apr 15 20:52:25 2022 -0700

    Remove another unnecessary this == null check

Author: Robregen
Date:   Fri Apr 15 20:23:53 2022 -0700

    forgot to remove a couple of header function in string_util.h

Author: Robregen
Date:   Fri Apr 15 20:15:28 2022 -0700

    [Cleanup] Nuke Make/AppendAnyLenString
    Add a std::string overload for Database::SetMQDetectionFlag
    Nuke Client::GetItemLinkHash
    linked_list.h : References shouldn't be null
    ptimer.cpp : Remove unnecessary this == null check

Author: Robregen
Date:   Fri Apr 15 11:11:16 2022 -0700

    Lightsource relocation and formatting change.  need to rerun cmake.

Author: Torven
Date:   Thu Apr 14 18:48:32 2022 -0700

    fixed FD heal aggro and con

Author: Solar
Date:   Thu Apr 14 17:28:41 2022 +0000

    fixed levitate not cancelling while using luclin model horse

Author: Robregen
Date:   Thu Apr 14 09:49:56 2022 -0700

    oops...   copy and paste error.

Author: Robregen
Date:   Thu Apr 14 09:48:14 2022 -0700

    #invul on/off should now save to database

Author: Robregen
Date:   Thu Apr 14 09:40:22 2022 -0700

    Fixed #invul command.
    Added a message to QueryLoot for when there is no loots.

Author: Solar
Date:   Thu Apr 14 05:17:53 2022 +0000

    fix memory corruption error that occured with spell 3168

Author: Solar
Date:   Thu Apr 14 01:00:07 2022 +0000

    fix warrior berserker spam while charmed

Author: Torven
Date:   Wed Apr 13 12:50:16 2022 -0700

    commented out the feign movement check

Author: Torven
Date:   Wed Apr 13 02:01:14 2022 -0700

    Feign death logic rewrite
    
    This commit removes the separate lists for feign memory and faction memory and instead feigned players are kept on the hate list and NPCs ignore them.
    
    This was mostly done so a certain quirky behavior Sony had could be implemented, which is if you stand up immediately after feigning from an NPC boss spell with a feign component and a stun component (e.g. Time Vallon's stun) then the FD should not blur.
    
    Our previous feign logic was very kludgey because Sony kept feigned players on the hate list and not doing that required bad solutions.
    
    This commit also adds fail messages and breaks feign when players move or cast spells while feigned.
    
    This commit also fixes the stalwart endurance AA which was erroneously applying to spell stuns.

Author: Haynar
Date:   Tue Apr 12 16:01:17 2022 -0600

    Added fixes for ghosting mobs when they return to spawn points.

Author: Haynar
Date:   Tue Apr 12 14:00:28 2022 -0600

    Added fixes for powater so checks if in and out of water areas will work correctly.
    Fixed fishing in powater.
    Fixed casting spells from land to in the water in powater.

Author: Torven
Date:   Wed Apr 6 03:11:15 2022 -0700

    more archery corner tweaks.  this is hard to get right

Author: Torven
Date:   Tue Apr 5 19:10:04 2022 -0700

    Changes to previous archery commit
    
    I removed the randomness and made the angle larger after discussing this with Solar.
    Using fabs() instead of abs()

Author: Torven
Date:   Tue Apr 5 02:21:56 2022 -0700

    Arrow wall collision simulation improvements
    
    Arrows fired against walled NPCs now poof if the shots are fired perpendicularly.  This has a random component so some arrows will get through depending on the angle.
    Arrows fired from a large Z difference but otherwise close to the NPC will also get through the corner/walling check.
    Corner detection is improved.  Before it would often read false even while still in the corner.
    Added a special case for Mith Marr, who should be hittable on the pedastal if shooting close up but isn't because he doesn't end up on top of it in server locs.

Author: Robregen
Date:   Sun Apr 3 21:16:00 2022 -0700

    fixed compiling for test and client files/export and import.
    removed Misc folder since it useless to use with this source.

Author: Robregen
Date:   Sat Apr 2 21:12:19 2022 -0700

    Rename namespace EQEmu to namespace EQ (so we don't have two similar but different namespaces anymore)

Author: Robregen
Date:   Fri Apr 1 09:51:24 2022 -0700

    Fixed a performance issue involving std::string and EQStream identification. (credit to Secrets)
    Post-inc to pre-inc. (mackal)
    correct the timer for tracking server side.

Author: Robregen
Date:   Wed Mar 30 10:38:57 2022 -0700

    Update .travis.yml

Author: Haynar
Date:   Sat Mar 26 21:29:20 2022 -0600

    Added a way for scripts to search cursor queue for an item.

Author: Robregen
Date:   Wed Mar 30 08:45:46 2022 -0700

    change branch to check for travis

Author: Torven
Date:   Wed Mar 30 00:06:34 2022 -0700

    made walls less 'sticky' when pushing at a perpendicular angle

Author: Robregen
Date:   Sun Mar 27 13:43:21 2022 -0700

    Fix GetSafePoints to check and deal will nullptr being sent as short_name

Author: Solar
Date:   Wed Mar 30 00:09:51 2022 +0000

    fix group member health bar not showing correct value when new member joins raid group

Author: Solar
Date:   Sat Mar 26 19:26:17 2022 +0000

    remove a duplicate spell message

Author: Robregen
Date:   Wed Mar 30 07:33:25 2022 -0700

    Revert "Merge pull request #273 from regneq/dev"
    
    This reverts commit f869020ce2436822734223f90f08d20e9beb2792, reversing
    changes made to fd26e829bf105989221d3ad19d66d715cd654ec5.

Author: Torven
Date:   Wed Mar 30 00:06:34 2022 -0700

    made walls less 'sticky' when pushing at a perpendicular angle

Author: Solar
Date:   Wed Mar 30 00:09:51 2022 +0000

    fix group member health bar not showing correct value when new member joins raid group

Author: Robregen
Date:   Sun Mar 27 13:43:21 2022 -0700

    Fix GetSafePoints to check and deal will nullptr being sent as short_name

Author: Haynar
Date:   Sat Mar 26 21:29:20 2022 -0600

    Added a way for scripts to search cursor queue for an item.

Author: Solar
Date:   Sat Mar 26 19:26:17 2022 +0000

    remove a duplicate spell message

Author: Solar
Date:   Fri Mar 18 15:39:11 2022 +0000

    buff stacking logic fixes

Author: Solar
Date:   Thu Mar 17 19:37:09 2022 +0000

    buff stacking logic fixes

Author: Solar
Date:   Thu Mar 17 05:38:48 2022 +0000

    buff stacking logic fixes

Author: Solar
Date:   Thu Mar 17 03:38:19 2022 +0000

    buff stacking logic fixes

Author: Solar
Date:   Thu Mar 17 03:35:54 2022 +0000

    buff stacking logic fixes

Author: Solar
Date:   Thu Mar 17 02:13:39 2022 +0000

    buff stacking logic fixes

Author: Robregen
Date:   Wed Mar 16 18:39:31 2022 -0700

    fix flymode command to save to database.

Author: Solar
Date:   Thu Mar 17 00:39:20 2022 +0000

    fix for levitate appearance when overwriting lev spell on players

Author: Solar
Date:   Wed Mar 16 18:38:41 2022 +0000

    fix a buff related crash and caster level for spell effect

Author: Solar
Date:   Wed Mar 16 16:18:30 2022 +0000

    fix some spell/buff bugs from last commit

Author: Solar
Date:   Wed Mar 16 07:35:35 2022 +0000

    buff stacking logic rewrite

Author: Solar
Date:   Wed Mar 16 07:07:06 2022 +0000

    buff stacking logic rewrite

Author: Solar
Date:   Thu Mar 17 05:38:48 2022 +0000

    buff stacking logic fixes

Author: Solar
Date:   Thu Mar 17 03:38:19 2022 +0000

    buff stacking logic fixes

Author: Solar
Date:   Thu Mar 17 03:35:54 2022 +0000

    buff stacking logic fixes

Author: Solar
Date:   Thu Mar 17 02:13:39 2022 +0000

    buff stacking logic fixes

Author: Robregen
Date:   Wed Mar 16 18:39:31 2022 -0700

    fix flymode command to save to database.

Author: Solar
Date:   Thu Mar 17 00:39:20 2022 +0000

    fix for levitate appearance when overwriting lev spell on players

Author: Robregen
Date:   Wed Mar 16 15:58:04 2022 -0700

    replace flymode magic number with enum gravitybehavior variables.

Author: Solar
Date:   Wed Mar 16 18:38:41 2022 +0000

    fix a buff related crash and caster level for spell effect

Author: Solar
Date:   Wed Mar 16 16:18:30 2022 +0000

    fix some spell/buff bugs from last commit

Author: Solar
Date:   Wed Mar 16 07:35:35 2022 +0000

    buff stacking logic rewrite

Author: Solar
Date:   Wed Mar 16 07:07:06 2022 +0000

    buff stacking logic rewrite

Author: Robregen
Date:   Wed Mar 16 15:58:04 2022 -0700

    replace flymode magic number with enum gravitybehavior variables.

Author: Solar
Date:   Wed Mar 16 18:38:41 2022 +0000

    fix a buff related crash and caster level for spell effect

Author: Solar
Date:   Wed Mar 16 16:18:30 2022 +0000

    fix some spell/buff bugs from last commit

Author: Solar
Date:   Wed Mar 16 07:35:35 2022 +0000

    buff stacking logic rewrite

Author: Solar
Date:   Wed Mar 16 07:07:06 2022 +0000

    buff stacking logic rewrite

Author: Solar
Date:   Tue Mar 15 05:48:42 2022 +0000

    minor mem leak fix

Author: Torven
Date:   Mon Mar 14 01:40:22 2022 -0700

    renamed misnamed variable

Author: Robregen
Date:   Sun Mar 13 19:22:25 2022 -0700

    fixed crash with #level command

Author: Robregen
Date:   Sun Mar 13 15:07:09 2022 -0700

    fixed an issue with certain commands that tries to access an non existing alias.
    Removed the unneeded GetCommandAccess function.

Author: Robregen
Date:   Sat Mar 12 15:59:03 2022 -0800

    Renamed class Inventory to EQEmu::InventoryProfile

Author: Robregen
Date:   Sat Mar 12 10:34:08 2022 -0800

    removed the extra unneeded function in command_add.

Author: Solar
Date:   Sat Mar 12 06:18:03 2022 +0000

    send levitate appearance during zone entry

Author: Solar
Date:   Sat Mar 12 04:47:06 2022 +0000

    send levitate appearance during zone entry

Author: Robregen
Date:   Fri Mar 11 11:39:31 2022 -0800

    fix linux compile.

Author: Robregen
Date:   Fri Mar 11 11:16:18 2022 -0800

    Separated class Inventory from item_instance files into inventory_profile files (credit to EQEmu's Uleat)

Author: Robregen
Date:   Wed Mar 9 20:48:43 2022 -0800

    Update command injected commandsettings.

Author: Robregen
Date:   Wed Mar 9 12:16:29 2022 -0800

    few fixed for linux compile

Author: Robregen
Date:   Wed Mar 9 11:52:27 2022 -0800

    Renamed class ItemInst to EQEmu::ItemInstance

Author: Robregen
Date:   Tue Mar 8 20:48:38 2022 -0800

    correct the condition for update equipment light.

Author: Torven
Date:   Tue Mar 8 20:14:58 2022 -0800

    Spellcasted Fiegn Death fail rate fix

Author: Robregen
Date:   Tue Mar 8 12:49:41 2022 -0800

    moved item related struct from eq_constants to item_struct files.
    rename item_struct to ItemData.
    Renamed files item_struct to item_data and item to item_instance to be more definitive.

Author: Robregen
Date:   Mon Mar 7 08:01:07 2022 -0800

    renaming constant variables to be more definitive.

Author: Robregen
Date:   Sun Mar 6 11:25:51 2022 -0800

    Fix order of operations issues in worldshutdown command

Author: Robregen
Date:   Sun Mar 6 08:57:11 2022 -0800

    more clean up.

Author: Robregen
Date:   Sun Mar 6 08:28:31 2022 -0800

    Post-inc to pre-inc

Author: Robregen
Date:   Sun Mar 6 07:54:27 2022 -0800

    Cleaned up splits of eq_dictionary.

Author: Robregen
Date:   Sat Mar 5 11:40:27 2022 -0800

    forgot to includes some new files.

Author: Robregen
Date:   Sat Mar 5 11:39:15 2022 -0800

    split eq_dictionary into separate files eq_limits and emu_constants eliminating the need for eq_dictionary.
    rework eq_limits and emu_constants into using EQEmu namespace.

Author: Robregen
Date:   Thu Mar 3 15:18:22 2022 -0800

    Fixed a performance issue involving std::string and EQStream identification.

Author: Robregen
Date:   Mon Feb 28 12:48:51 2022 -0800

    update #worldshutdown command

Author: Robregen
Date:   Mon Feb 28 09:27:37 2022 -0800

    add a new function "ConvertMoneytoString" to string_util
    add more constant for adminstatus
    simplify corpselist functions.
    clean up and simplify queryloot.

Author: Robregen
Date:   Sun Feb 27 18:55:33 2022 -0800

    Make use of AccountStatus constants wherever status is checked or used.

Author: Robregen
Date:   Sat Feb 26 07:46:20 2022 -0800

    cleaned up command for #loc and #reloadqst

Author: Robregen
Date:   Wed Feb 23 12:12:33 2022 -0800

    removed some test functions from previous commit.

Author: Robregen
Date:   Wed Feb 23 12:10:19 2022 -0800

    Add #viewzoneloot <itemid> or <0> for all.  disabled saylink "goto"

Author: Haynar
Date:   Wed Feb 23 10:06:52 2022 -0700

    Fixed some pathing issues in water.
    Fixed mob glitching when they return to spawn points.
    Fixed stored guard locations, where comparisons were done between int vs float, and double vs float, when it should use floats all the time.

Author: Robregen
Date:   Sun Feb 20 22:04:54 2022 -0800

    Replace unescaped braces in format string that could result in a zone crash if this is logged.

Author: Robregen
Date:   Sun Feb 20 22:00:16 2022 -0800

    SayLink clean-up

Author: Robregen
Date:   Sun Feb 20 19:42:03 2022 -0800

    fixed a variable from recent commit.

Author: Robregen
Date:   Sun Feb 20 19:22:46 2022 -0800

    overhaul of say and item link.

Author: Robregen
Date:   Sun Feb 20 13:37:09 2022 -0800

    Fixed formatting message in itemsearch

Author: Haynar
Date:   Sat Feb 19 12:26:50 2022 -0700

    Added additional pathing nodes in powater.
    Added a check for finding nearest pathnode, to check if node is in water, to increase z range of checks.  This was only applying to kedge.  Now it should apply to any position in water.

Author: Torven
Date:   Thu Feb 17 21:52:49 2022 -0800

    made raid boss PBAoEs cast even when top hater is out of range

Author: Robregen
Date:   Thu Feb 17 21:38:42 2022 -0800

    remove spoff / spon.

Author: Robregen
Date:   Thu Feb 17 19:54:36 2022 -0800

    fix linux build

Author: Robregen
Date:   Thu Feb 17 19:15:24 2022 -0800

    clean up and update #peekinv and #itemsearch.

Author: Solar
Date:   Thu Feb 17 21:33:32 2022 +0000

    fix FoF3 being cleared in client window when purchasing AA

Author: Torven
Date:   Thu Feb 17 01:04:53 2022 -0800

    Bastion of Thunder key listing fix

Author: Robregen
Date:   Wed Feb 16 22:23:03 2022 -0800

    add money to peekinv command

Author: Robregen
Date:   Wed Feb 16 21:56:08 2022 -0800

    Added a new Client::MakeItemLink() method that uses Item_Struct instead of ItemInst. Changed the way that NPC::QueryLoot() builds its links.
    
    Updated #peekinv to use MakeItemLink

Author: Robregen
Date:   Wed Feb 16 09:23:36 2022 -0800

    Add getfactionname method to lua.

Author: Robregen
Date:   Wed Feb 16 09:01:33 2022 -0800

    Add skill name helper method.
    Add faction name helper method.
    Add other getter methods.
    Add getskillname(skill_id) to Lua.

Author: Robregen
Date:   Tue Feb 15 10:20:45 2022 -0800

    Change Faction Constants to reflect the con message.

Author: Haynar
Date:   Tue Feb 15 09:58:05 2022 -0700

    Fixed an issue which cause underwater mobs to memblur, if the navigation system considered them stuck.
    Updated some pathing areas in Halls of Honor (hohonora)

Author: Solar
Date:   Tue Feb 15 04:22:32 2022 +0000

    fix a minor spell stacking issue

Author: Robregen
Date:   Mon Feb 14 19:57:52 2022 -0800

    [Commands] Cleanup #advnpcspawn

Author: Robregen
Date:   Sun Feb 13 19:33:00 2022 -0800

    Change the getcommand sql table to the correct name.

Author: Robregen
Date:   Sun Feb 13 13:59:37 2022 -0800

    [Commands] Cleanup #npcspawn Commands.
    Add enum for spawn types to remove magic numbers.
    removed extra unused codes that were previously used for blob conversion.

Author: Robregen
Date:   Sat Feb 12 10:46:49 2022 -0800

    change access level to 20 for findaliases.  update bodytype.h

Author: Solar
Date:   Sat Feb 12 05:59:03 2022 +0000

    adjusted target selection logic for project illusion ability

Author: Robregen
Date:   Fri Feb 11 21:10:38 2022 -0800

    Add command #findaliases

Author: Robregen
Date:   Fri Feb 11 12:23:47 2022 -0800

    fix some formatting from previous commit.

Author: Robregen
Date:   Fri Feb 11 12:00:15 2022 -0800

    Updated the command systems to automatically add new commands and remove orphaned entries from the command settings tables (credit to eqemu)

Author: Solar
Date:   Fri Feb 11 15:27:12 2022 +0000

    improve handling of mana cost focus effects

Author: Haynar
Date:   Thu Feb 10 13:23:35 2022 -0700

    Updated some bad pathing areas in povalor.

Author: Robregen
Date:   Thu Feb 10 11:12:48 2022 -0800

    Command aliases are no longer handled through the command_add() function.
            - To add a command alias, edit the database table `command_settings` - here, you will find three columns: `command`, `access` and `aliases`
            - Adding command aliases require that the command contain an entry in `command_settings`.`command`
            - Only 'real' commands go inside of the command_init() function in command.cpp .. if you wish to add aliases, you must enter them into the database
            - 'Real' commands are loaded first .. then any access/alias data is loaded and applied afterwards
            - Duplicate aliases will be ignored .. only the first encountered occurrence will be honored - if it does not conflict with an existing command name
            - Aliases should not contain whitespace and should be '|' (pipe) delimited
            - The restriction on the number of aliases has been removed .. though each alias will still be limited to the access level of the parent command
            - If you need need more name space for aliases, simply edit the `command_settings` table and increase the size of the `aliases` column
            - All of the current 'standard' commands have been added to the new `command_settings` table

Author: Solar
Date:   Sun Feb 6 01:43:30 2022 +0000

    tweak to last commit after further testing

Author: Robregen
Date:   Sat Feb 5 10:59:33 2022 -0800

    Rogue can no longer pickpocket successfully while hidden.

Author: Solar
Date:   Sat Feb 5 17:35:43 2022 +0000

    There is a bug in the macintosh client that causes all characters, bard or not, to receive the benefit of Fleet of Foot AA level 3.  The AA data only allows improving the ability to level 2, but the code for level 3 exists and is the default case on the macintosh client.  If a bard purchases the Fleet of Foot AA and plays on the macintosh client, they will be slower than they were before purchasing the AA, and will be slower than non bard macintosh players.  On the windows client, levels 0-2 work correctly, however it still makes them slower than macintosh players.  Not being able to fix the bug in the macintosh client, the solution I came up with is to grant FoF level 3 to all players all the time.  This makes it so everyone is the same speed on both windows and mac, and the AA can not be purchased by bards so they can't 'harm' their character by making it slower.  The points players already spent on the AA are refunded and they all receive the previously unattainable level 3 of this ability for free.

Author: Solar
Date:   Thu Feb 3 20:43:06 2022 +0000

    set NPC attack timers to be ready when spawned instead of starting on cooldown

Author: Solar
Date:   Thu Feb 3 18:41:16 2022 +0000

    swarm pet tweak to attack sooner after spawning

Author: Solar
Date:   Thu Feb 3 16:50:13 2022 +0000

    fix eye of zomm corpse disappearing too fast

Author: Robregen
Date:   Wed Feb 2 20:29:26 2022 -0800

    fixed an expoit where rogue players can pick pocket any npc except undead 5 level above.

Author: Haynar
Date:   Wed Feb 2 07:29:23 2022 -0700

    Updated exp rate check.
    Mobs snared to a stop should adjust their heading now when fleeing.

Author: Solar
Date:   Wed Feb 2 06:29:13 2022 +0000

    more reliable unlock client controls after charm/fear wear off

Author: Solar
Date:   Wed Feb 2 05:44:49 2022 +0000

    apply Shroud of Stealth sneak/hide when using rogue Escape ability

Author: Solar
Date:   Wed Feb 2 04:33:18 2022 +0000

    speed up rogue sneak.  sneak speed will be same as normal run speed at level 60, and faster than running at 65.

Author: Solar
Date:   Tue Feb 1 05:00:11 2022 +0000

    ranged timer reset tweak

Author: Robregen
Date:   Wed Jan 26 12:33:42 2022 -0800

    revert SaveGuardSpot changes to fixed various quest function that uses it.

Author: Torven
Date:   Tue Jan 25 22:55:29 2022 -0800

    added Lua_Client::GetGuildName()

Author: Solar
Date:   Tue Jan 25 20:27:14 2022 +0000

    fix a client/server targeting desync after fear wears off

Author: Torven
Date:   Mon Jan 24 20:43:20 2022 -0800

    melee push timer now 500ms

Author: Torven
Date:   Sun Jan 23 23:17:52 2022 -0800

    summon timer for NPCs <66 now 11 seconds

Author: Robregen
Date:   Thu Jan 20 20:58:40 2022 -0800

    added back lua_npc SetGuardSpot.

Author: Solar
Date:   Fri Jan 21 03:19:33 2022 +0000

    adjust spell effect value formula 110 calc

Author: Solar
Date:   Thu Jan 20 06:52:29 2022 +0000

    adjusted some duration based spell effect value calculations

Author: Solar
Date:   Tue Jan 18 01:13:14 2022 +0000

    adjust project illusion ability to allow more races to be projected

Author: Torven
Date:   Fri Jan 14 20:42:08 2022 -0800

    improvement to previous commit

Author: Torven
Date:   Fri Jan 14 18:41:58 2022 -0800

    added Mob::GetHateRandomClient()

Author: Torven
Date:   Thu Jan 13 22:11:36 2022 -0800

    SendCSRNotice(); set special ability corpse camp fix
    
    Added a way to send CSR notices in discord via script.  It's done by calling eq.csr_notice().
    
    Setting corpse camp via script was not working, and this was fixed by calling AI_SetLoiterTimer() in the SetSpecialAbility() routine.

Author: Torven
Date:   Thu Jan 13 02:01:34 2022 -0800

    NPC PBAoE range extension changed
    
    The extension range is now +25%; e.g. 100 range spells will now be 125 range.
    
    Why did I do this?  Here's what I know as of this commit:
    
    In old EQ, NPC PBAoE spells had a larger range than the spell data indicated.  This is proven from many examples, such as Rathe Council AoE, Fennin AoE, RZ AoE etc hitting players who were clearly outside the range.
    
    Ravenwing told me, quote: "What raised eyebrows on the Rathe CMs is that their AE was supposedly 100', but it was possible to be getting extended range messages on CH and still sometimes get hit. (It was also possible not to get hit, though; probably depends on how close to the CM the tank is standing and how close to the edge of ER range the cleric is and how they're all positioned.)  We never had much trouble keeping the clerics out of Fennin's AE. Whatever range bonus he may have had seemed to be more than canceled out by his melee range and range extension focus."
    
    In November 2017, Daybreak algorithmically increased the radius of all PBAoE spells that cost 0 mana by 25%.  They also removed the server logic that extended the range of these spells, so that the range now precisely matches the spell data. (I presume they did this at the same time but I have yet to find proof)
    
    Why did Sony have a range extension for NPCs?  I have three possible explanations:
    
    1) When Sony added spell range focii to the game, they ended up allowing caster players to avoid many AoEs with them, as several were 200 radius.  They may have just done this instead of altering the spell data.
    2) Archery gains a large range extension from NPC size.  Perhaps they also wanted spells to get a range extension for similar reasons.
    3) To fuck with data miners and intentionally confuse players.
    
    Several days ago I added a PB extension similar to the archery range extension, but now I think Live's +25% is more likely correct, hence this commit.  Why?  Because Sony increased the range of PoTime boss mob AoEs to 400 not long after players got in there, which is very likely to prevent rangers from avoiding them, however with a max range extension of +75 (like archery has), 400 units would not be sufficient.  Also +16 is seemingly not enough extra range for smaller NPCs like Rathe Councilmen given what Ravenwing has just told me, and him mentioning that Fennin's AoE was easily avoided agrees more with +25%.

Author: Torven
Date:   Tue Jan 11 23:56:20 2022 -0800

    Spell effect id 79 (SE_CurrentHPOnce) may now partial hit

Author: Solar
Date:   Tue Jan 11 17:03:20 2022 +0000

    Merge Haynar's horse sit fix from devbackup commit 0127bcfca5f96efc0be6f789bb80c4b718bbecba

Author: Solar
Date:   Tue Jan 11 09:13:59 2022 +0000

    fix wild rampage related zone crash

Author: Torven
Date:   Mon Jan 10 23:18:53 2022 -0800

    giving 2hander wielding NPCs a 1hander will now replace the 2hander in all circumstances

Author: Solar
Date:   Mon Jan 10 05:48:37 2022 +0000

    adjusted 'starting to appear' message to trigger a tick later (reduce bard travel song spam)

Author: Solar
Date:   Mon Jan 10 05:23:34 2022 +0000

    - adjust spell effect value calculation for formula 122 (Splurt and some boss AoEs)
    - disable duration extension focus on player cast spells that use formula 122

Author: Solar
Date:   Sun Jan 9 23:40:44 2022 +0000

    tweaked some discipline reuse timers for players higher than level 60

Author: Torven
Date:   Sun Jan 9 14:26:48 2022 -0800

    NPC PBAoE spell radius extension

Author: Solar
Date:   Sun Jan 9 00:33:02 2022 +0000

    allow Bard AA Boastful Bellow to function while casting a song - it was just setting the timer but not firing unless the song was on repeat already

Author: Robregen
Date:   Sat Jan 8 15:10:57 2022 -0800

    reverted the changed made with hard skill cap.  added a comment with a link for reference.

Author: Robregen
Date:   Thu Jan 6 12:56:20 2022 -0800

    fixed the bracket from last commit

Author: Robregen
Date:   Thu Jan 6 12:43:20 2022 -0800

    fixed tradeskill mod cap for tradeskill max at 250 to go beyond HARD_SKILL_CAP of 252.

Author: Solar
Date:   Thu Jan 6 03:44:38 2022 +0000

    fix crash

Author: Solar
Date:   Tue Jan 4 19:49:32 2022 +0000

    limit Enchanter AA Project Illusion to playable races

Author: Solar
Date:   Tue Jan 4 17:21:50 2022 +0000

    Wake The Dead tweak

Author: Solar
Date:   Tue Jan 4 05:45:54 2022 +0000

    - swarm pet improvements

Author: Solar
Date:   Tue Jan 4 05:21:25 2022 +0000

    - implemented Necromancer swarm pet AA - Wake The Dead
    - swarm pet improvements
    - set item tint appearance when NPCs equip an item

Author: Solar
Date:   Mon Jan 3 18:45:17 2022 +0000

    adjust AA timer for Magician elemental forms

Author: Haynar
Date:   Fri Dec 31 10:11:14 2021 -0700

    Updated western wastes navmesh to have hard outer boundaries.
    Updated navmesh for Eryslai, The Kingdom of Wind (poair) to remove some dead spots in the navtiles from objects.

Author: Haynar
Date:   Thu Dec 30 12:27:09 2021 -0700

    Improved pathing in powater

Author: Haynar
Date:   Thu Dec 30 09:19:34 2021 -0700

    Updated navmesh pathing in ponightmare and nightmareb.  Added connections on walls around Terris Thule, so mobs on walls during event camp path better.
    
    Moved PoWater to path nodes.  Updated path nodes from other branch for Powater.

Author: Torven
Date:   Mon Dec 27 01:06:28 2021 -0800

    ModifyNPCStat() with "special_abilities" parameter now only modifies one ability at a time
    
    and it will no longer clear all special abilities before applying the modification

Author: Solar
Date:   Sun Dec 26 05:07:18 2021 +0000

    fix some spell duration calculations

Author: Solar
Date:   Sat Dec 25 22:38:57 2021 +0000

    fix some fields in buff update packet

Author: Solar
Date:   Sat Dec 25 21:15:23 2021 +0000

    fixed buff duration/counters in player profile packet

Author: Haynar
Date:   Sat Dec 25 13:01:44 2021 -0700

    Fixed some more areas in hohonora nav.

Author: Haynar
Date:   Sat Dec 25 11:23:15 2021 -0700

    Updated Halls of Honor map and navigation tiles.

Author: Haynar
Date:   Thu Dec 23 15:08:12 2021 -0700

    Fixed some bad pathing areas in nav tiles for VT.

Author: Haynar
Date:   Tue Dec 21 14:20:10 2021 -0700

    Updated PoFear map to include outer walls as solid borders, to prevent mobs from fleeing outsize of zone boundaries.

Author: Haynar
Date:   Mon Dec 20 15:50:15 2021 -0700

    Improved exp rate meter.

Author: Haynar
Date:   Sun Dec 19 19:41:31 2021 -0700

    Mob collision tweaks while kiting.

Author: Haynar
Date:   Sun Dec 19 17:49:23 2021 -0700

    Bard kiting fixes.

Author: Haynar
Date:   Sun Dec 19 17:24:05 2021 -0700

    Kiting improvements

Author: Haynar
Date:   Sun Dec 19 16:39:58 2021 -0700

    Fixed some areas in PoValor which were missing navmesh tiles.

Author: Haynar
Date:   Sun Dec 19 12:50:16 2021 -0700

    Fixed some pathing areas in ssratemple

Author: Haynar
Date:   Sun Dec 19 12:00:02 2021 -0700

    Fixed an issue that was causing archery to fail often.

Author: Robregen
Date:   Fri Dec 17 13:03:18 2021 -0800

    regenerate postorms.map to include all objects.

Author: Haynar
Date:   Fri Dec 17 10:16:02 2021 -0700

    Updated navmesh in pofear, to exclude areas outside walkable zone boundaries.
    Updated maiden's eye map and navmesh, to include a border around outside edge of zone, to improve mob pathing when feared/fleeing at zone boundaries.
    Fixed an issue when a PC is COTH, while feared.  If still feared, they should restart their feared movements at the COTH destination.

Author: Haynar
Date:   Thu Dec 16 16:22:37 2021 -0700

    Fixed an issue with push that was causing mobs to jitter when cornered.
    Fixed some cases where a mob would not update to facing the target they are attacking.

Author: Haynar
Date:   Mon May 24 19:03:36 2021 -0600

    Merge commit 'f115053876d22ec8478fe37a8dc964440be1e941' into dev

Author: Solar
Date:   Thu Dec 16 03:37:12 2021 +0000

    Fix some AA timers

Author: Haynar
Date:   Wed Dec 15 12:33:34 2021 -0700

    Blind mobs will now flee again, when their top hater is out of melee range.
    Added simulated collision code for mobs kited in a tight circle.  They will now spread out a bit more, rather than stacking all on top of each other.

Author: Solar
Date:   Wed Dec 15 07:53:23 2021 +0000

    - Updated timers/purchase costs for these AAs:
    Magician Elemental Forms
    Magician Host of the Elements
    Magician Frenzied Burnout
    Magician Turn Summoned
    Suspended Minion
    Rogue Purge Poison
    Rogue Hastened Purification
    Warrior Hastened Instigation
    Wizard Mana Burn
    Monk Purify Body
    Cleric Turn Undead
    Cleric Hastened Turning
    - Turn Undead/Turn Summoned improved

Author: Torven
Date:   Tue Dec 14 13:32:57 2021 -0800

    Z check for lull in VT
    
    Players were using lull aggro to pull mobs between floors in VT.  I should have added this along with the pet attack Z check awhile back.

Author: Haynar
Date:   Tue Dec 7 20:17:35 2021 -0700

    Updated path files for ssratemple, sirens, the deep, pohate from other branch.
    Bard mez songs should push mobs again.

Author: Haynar
Date:   Tue Dec 7 19:45:36 2021 -0700

    Fixed GMMove command to work with navigation system.  This should fix the trial of execution, in pojustice.

Author: Haynar
Date:   Tue Dec 7 13:05:07 2021 -0700

    Fixed NPCs getting pushed through walls.

Author: Solar
Date:   Mon Dec 6 22:16:58 2021 +0000

    allow luclin model using horse riders to ride over water without losing horse

Author: Haynar
Date:   Sun Dec 5 12:19:08 2021 -0700

    Fixed some missing navmesh tiles in vex thal.
    Fixed some bugs with mobs moving, when they are mezzed.
    The code for setting mobs to not moving, was not updating deltas correctly, so mobs would not update headings always.
    Mobs snared to nearly a stop will not stop moving.
    Mobs that lose aggro, while snared to a stop, will now rotate their heading to their desired heading.

Author: Haynar
Date:   Mon Nov 29 14:13:45 2021 -0700

    Fixed charm and fear on players to work correctly.

Author: Haynar
Date:   Mon Nov 29 10:58:04 2021 -0700

    Fixed an issue where under certain conditions, charm pets get stuck after charm breaks.

Author: Haynar
Date:   Mon Nov 29 09:29:58 2021 -0700

    Fixed issue with mob push when associated with spells.  Mez or Stun spells/songs, with a push component, will now correctly stop mobs which are currently moving.

Author: Haynar
Date:   Sun Nov 28 12:00:41 2021 -0700

    Added some pathing fixes for underwater only mobs.

Author: Haynar
Date:   Sun Nov 28 11:36:49 2021 -0700

    Added some flee location calculation improvements to help prevent mobs going outside of zone boundaries.
    Fixed a major issue with mobs pathing underwater.  Underwater pathing was very broken.
    Made changes to when a route is recalculated, while a mob is currently pathing.  This will help with mobs getting stuck, when early route coordinates are the same.  Instead of restarting over their pathing, they will continue on with current early route.

Author: Haynar
Date:   Sun Nov 28 11:32:39 2021 -0700

    Fixed a combat range check to how it was in other code base.

Author: Haynar
Date:   Sun Nov 28 11:31:23 2021 -0700

    Reverted some archery height offsets, which caused failures with low ceilings.

Author: Haynar
Date:   Sun Nov 28 10:55:11 2021 -0700

    Moved Vexthal and Sanctus Seru to use navmesh for pathing.

Author: Haynar
Date:   Sun Nov 28 10:46:42 2021 -0700

    Underwater mobs will not correctly drop aggro when their target gets out of the water.

Author: Haynar
Date:   Thu Nov 25 09:21:47 2021 -0700

    NPC's stunned will now stop moving.

Author: Haynar
Date:   Tue Nov 23 17:58:52 2021 -0700

    Archery arrow flight adjustments for navmesh.

Author: Haynar
Date:   Tue Nov 23 09:42:33 2021 -0700

    Fixed an issue when arriving at waypoints was out of sync with the new navigation system.  This caused mobs to ghost into walls, and never resume to their wandering.

Author: Haynar
Date:   Tue Nov 9 16:12:49 2021 -0700

    Fixed issue with doing bind wound with only bandages on cursor.

Author: Solar
Date:   Thu Oct 28 02:10:27 2021 +0000

    minor struct updates

Author: Haynar
Date:   Wed Nov 10 11:05:25 2021 -0700

    Fixed some issues causing mobs to bounce excessively.

Author: Haynar
Date:   Mon Nov 8 14:06:06 2021 -0700

    Added fix for navmesh pathing node system, where I did not put the end node in the right place.

Author: Haynar
Date:   Sun Nov 7 17:40:07 2021 -0700

    Fixed issue with large races attacking around corners.
    Fixed warp code when mob is in combat range but can't reach target.
    Fixed mobs not being able to hit when client is flying far above target.

Author: Haynar
Date:   Fri Nov 5 19:41:24 2021 -0600

    Improved some pathing issues with navmesh branch.

Author: Haynar
Date:   Sun Oct 24 11:59:49 2021 -0600

    Updated combat range calcs.
    Added flee stun fixes when moving.
    Added GetAuth fixes.
    Added zoning fixes for edge case packet resends.

Author: Haynar
Date:   Sun Oct 24 10:17:27 2021 -0600

    Changed navmesh pathfinder waypoint system to use the regular takp path node system, including original route searches and precalculated routes methods.

Author: Torven
Date:   Tue Oct 12 00:24:20 2021 -0700

    NPC hate list ignore behavior fixes
    
    NPCs will now ignore players when they reach the ignore radius immedately even if they've been damaged.  This was AK behavior and is necessary for NPC teleport procs to function.  Also the 24s timer was allowing for easy splitting of NPCs.
    
    NPCs will again not clear their hate lists when they return to guard loc.  Not even Live does this so shouldn't be there.
    
    I added a feature that will count the number of times an NPC begins to ignore all haters.  The AI loop checks this value and if the NPC has entered an ignore all haters state many times, it will aggro wipe itself and any nearby NPCs that are also in an ignore loop.  This will un-stick NPCs that are stuck in place after about a minute or so.

Author: Robregen
Date:   Wed Oct 20 17:27:40 2021 -0700

    Set zoning to false in failure cases

Author: Torven
Date:   Sat Oct 16 18:32:19 2021 -0700

    added a chance for spellcasted FD to work while autoattacking if NPC cast the spell for Time Vallon

Author: Haynar
Date:   Sat Oct 23 10:53:21 2021 -0600

    Fixed compile error (again)

Author: Haynar
Date:   Sat Oct 23 10:47:55 2021 -0600

    Fixed a compile error.

Author: Haynar
Date:   Fri Oct 22 19:51:27 2021 -0600

    Merged in some bestz calculation fixes.

Author: Robregen
Date:   Fri Oct 8 18:24:11 2021 -0700

    removed readbook codes from patch files to use native.

Author: Torven
Date:   Mon Oct 4 00:03:55 2021 -0700

    Tactical Mastery, Head Shot AAs; Assassinate fixes; NPC avoidance
    
    * Tactical Mastery AA implemented.
    * Head Shot AA implemented.
    * Rogue assassinate ability now works on NPCs up to level 46. (previously was 45)
    * Corrected the assassinate text when a rogue using a throwing weapon assassinates a NPC.
    * Assassinate 'proc' chance substantially increased.
    * NPCs above level 50 will now parry, riposte and dodge a little less frequently.
    * Divine Arbitration spell text added.

Author: Solar
Date:   Wed Sep 29 04:36:15 2021 +0000

    implement negative spell haste focus effect

Author: Torven
Date:   Thu Sep 23 01:14:03 2021 -0700

    Added a new GetQGlobals function to get qglobals from outside the zone

Author: Solar
Date:   Sat Sep 18 18:21:23 2021 +0000

    fix a mana regen edge case calculation

Author: Solar
Date:   Sat Sep 18 17:33:18 2021 +0000

    enable auto attacks for bards while channeling clickies with a cast time

Author: Solar
Date:   Tue Sep 14 17:40:26 2021 +0000

    fixed size parameter in illusion packet

Author: Torven
Date:   Mon Sep 13 22:29:11 2021 -0700

    NoTarget NPCs now won't try to cast buffs which was going into a bugged spellcast loop

Author: Torven
Date:   Mon Sep 13 21:07:42 2021 -0700

    Hardcoded a z check to pet attack for vexthal
    
    Players have been exploiting the crap out of this zone for far too long by pulling mobs between floors.

Author: Solar
Date:   Thu Sep 9 18:24:09 2021 +0000

    check for swimming skill ups while swimming on surface of water

Author: Robregen
Date:   Thu Sep 9 11:11:15 2021 -0700

    Correct Hardcoded portion for unknown216

Author: Robregen
Date:   Thu Sep 9 10:34:33 2021 -0700

    removed object_struct from mac patch files to use native code.

Author: Solar
Date:   Tue Sep 7 01:36:10 2021 +0000

    fixed a spell duration calculation

Author: Solar
Date:   Sat Sep 4 17:06:07 2021 +0000

    made ulaks look like a bag when dropped on ground - workaround for ulak model not being clickable on TAKP client

Author: Solar
Date:   Wed Sep 1 23:16:35 2021 +0000

    fixed stackable item quanitty showing incorrect value when adding more items to a stack while trading

Author: Haynar
Date:   Tue Aug 31 21:34:21 2021 -0600

    When trading to someone who has a full inventory, which results in items dropping to the ground.  The character with the full inventory, will now receive the message of items dropping to the ground.

Author: Torven
Date:   Tue Aug 31 00:09:22 2021 -0700

    didn't realize NPC Types are cached

Author: Torven
Date:   Mon Aug 30 15:02:28 2021 -0700

    reclaiming familiars now grant 0 mana

Author: Torven
Date:   Sat Aug 28 00:12:21 2021 -0700

    New parameter to Spawn2(), fix for crash issue with previous commit
    
    I added another parameter to Spawn2() so NPCs can be renamed at spawntime via script.  This allows NPCs spawned via script to use different names than the NPC Type's name field.
    
    I also fixed crashes when sending signals cross-zone without a data string.

Author: Torven
Date:   Thu Aug 19 00:21:14 2021 -0700

    Signal data payloads and cross-zone signals
    
    This commit introduces two additions to NPC signaling. (the lua script event)  Signaling NPCs can now attach a data payload in the form of an arbitrary length string.  This is a very powerful content development feature that allows devs to essentially use signals like custom opcodes.
    
    The other feature is that signals will now work cross-zone. (this was partially in already but not functional before now)  These features combined will allow easy and extensive communication between zones and also between intra-zone lua environments, i.e. splitting encounters into distinct scripts is now much more feasible since they can communicate much more effectively.
    
    This was primarily introduced for PoTime as something was needed for zones to communicate.  This would make doing a Sleeper awakening event quite easy to add as well.  The potential for custom content is also exciting.
    
    Note that this requires NPCs to use IDs with the zone ID in them, and cross zone signals will not work with pets since their IDs < 1000.  If for some reason NPCs stop using the ID scheme that we're currently using, then this will need to be updated.  EQEmu did that but I don't see why we ever would.

Author: Robregen
Date:   Tue Aug 17 18:12:02 2021 -0700

    increased the max quest items a Quest NPC can hold.

Author: Torven
Date:   Fri Aug 6 22:12:38 2021 -0700

    Charm root and blind accuracy improved
    
    * This commit implements the results of the research outlined here: http://www.eqemulator.org/forums/showthread.php?t=43370
    * The resist algorithm's roll is now using a > instead of a >=.  This will make targets 0.5% more resisty.
    * Charm, root and blind spell tick saves now apply a +4 level modifier for the caster's level.
    * The charm and mez charisma modifier is now accurate and only applies to enchanters.
    * The preliminary rolls for charm, root, blind and fear spells are now accurate.
    * The default magic resist floor for charm was set to the accurate value.
    * The amount hate generated from charm spells has been reduced.
    * Animals now hate charmers as much as non-animals do on breaks.
    * Added a small chance for PoP enchanter charms to aggro on nearby clients on breaks instead of the charmer.
    * Lull critical fail chance is now precise.
    * Charm and lull spells no longer have large resist penalties on yellow and red cons.

Author: Solar
Date:   Wed Jul 21 14:41:11 2021 +0000

    fix max hp calc i messed up in previous commit

Author: Solar
Date:   Mon Jul 12 18:09:46 2021 +0000

    magelo web stats export - unbuffed HP calculation tweak

Author: Robregen
Date:   Tue Jul 13 16:50:04 2021 -0700

    remove empty line from last commit

Author: Robregen
Date:   Tue Jul 13 16:11:07 2021 -0700

    fixed elevator that get stuck with no close timer.

Author: Robregen
Date:   Sun Jun 27 12:39:10 2021 -0700

    fixed an issue with elevator not completing the distance from the starting point if lever was re-clicked.

Author: Torven
Date:   Tue Jun 15 17:59:56 2021 -0700

    non-damaging hits no longer interrupt casts; 0 mana returned from hatelist pets using reclaim energy

Author: Solar
Date:   Wed May 26 06:53:33 2021 +0000

    fix a bind wound related crash

Author: Solar
Date:   Tue May 25 07:42:07 2021 +0000

    reset intoxication and air in lungs on death

Author: Solar
Date:   Tue May 25 06:49:02 2021 +0000

    fix timer and target type for Spirit of the Wood AA

Author: Solar
Date:   Tue May 25 05:47:39 2021 +0000

    exclude bards from requiring spell reagents

Author: Solar
Date:   Mon May 24 20:39:24 2021 +0000

    remove logic that incorrectly added spell haste to high level NPCs (credit to mackal)

Author: Haynar
Date:   Mon May 17 13:40:55 2021 -0600

    Fixed an issue with bash/kick skills not interrupting spells when the bash/kick does not cause a stun.

Author: Solar
Date:   Wed May 12 07:28:52 2021 +0000

    minor LoS check tweak for short races

Author: Solar
Date:   Wed May 12 05:47:11 2021 +0000

    fix some lung capacity issues that sometimes caused characters to drown after zoning underwater

Author: Robregen
Date:   Sun May 9 15:11:52 2021 -0700

    #grid delete was deleting the grids everywhere.
    
    Fix to only delete correct zone grid.

Author: Solar
Date:   Wed May 5 23:16:53 2021 +0000

    show proper rez timer when considering expired player corpse

Author: Robregen
Date:   Mon May 3 18:34:09 2021 -0700

    revert the change to clientlist.cpp as it was crashing the clients.

Author: Robregen
Date:   Mon May 3 13:42:07 2021 -0700

    Add race 114 (GHOST_SHIP) as part of IsBoat function.

Author: Robregen
Date:   Sun May 2 13:47:14 2021 -0700

    remove loot and consume struct in mac patch to use native
    correct datatype in sendwhoall in clientlist.cpp

Author: Torven
Date:   Sat May 1 21:59:31 2021 -0700

    NPC call for help assist cap removed
    
    This was implemented by Cavedude as guess based on a developer post by Rashere sometime around 2005 or 2006, which stated that some kind of assist limit existed. (he did not give a number)  However I can find no evidence for this ever have existing and in fact find evidence to the contrary.  It does not exist on Live servers.  Ravenwing also says that he never observed such a thing and that Rashere likely was incorrect.  Incidentally this wouldn't be the first Rashere post that I found to be very questionable.
    
    In particular, the following undesirable behavior will occur with a cap in place that is problematic:
    
    1) Pull a large pack of NPCs
    2) FD, die, zone, whatever
    3) Somebody tags a mob from the massive pile
    4) Only 6 mobs come (our limit was set to 5)
    
    Furthermore an 'assist limit' is not neccessary and is entirely redundant, as chain assisting is stopped by other logic that prevents assisting NPCs from calling for help themselves, which is strong evidence in and of itself that it never existed.

Author: Torven
Date:   Sat May 1 20:42:43 2021 -0700

    Permarooted NPCs no longer summonable

Author: Robregen
Date:   Wed Apr 28 13:03:21 2021 -0700

    [Bug Fix] Zone Heading for Binds, Summons, Teleports, and Zoning.
    
    With this we will be able to set zone's safe heading as well as preserve heading on summon (NPC or GM) and teleports between zones.
    
    This affects several pre-existing quest methods and extends their parameters to allow for the addition of heading.
    
    The following functions have had heading added.
    Lua
    - client:SetBindPoint()
    - quest::rebind()
    
    This converts some pre-existing methods from glm::vec3() to glm::vec4() and has an overload where necessary to use a glm::vec3() method versus glm::vec4() method.
    
    This shouldn't affect any pre-existing servers and will allow PEQ and others to document safe headings for zones properly.

Author: Solar
Date:   Wed Apr 28 19:45:56 2021 +0000

    tweaked frenzied burnout AA cast to cancel and reset the ability correctly when it fails due to range check

Author: Haynar
Date:   Mon Apr 26 20:54:04 2021 -0600

    Fixed NPCs loitering after losing aggro.
    Certain NPCs will again corpse camp.
    NPCs will path direct if they have LoS and no hazards, even on navmesh.
    Fixed some extra position updates being sent.
    Fixed an issue that resulted in double locations being sent when reaching navigation destination.
    Mobs that are pathing will not longer glitch to a different heading, due to conflicting heading updates.
    Improved the #wpinfo command to give descriptions on the type of wandering for the Grid WPs that are set.  Mobs on a roambox will now show their destination correctly and the status of their pause/loiter timers.
    Pets which are shrunk while guarding, should bounce less when changing direction to the nearest NPC. There is still a little bounce, but it is significantly less.

Author: Robregen
Date:   Mon Apr 26 08:59:53 2021 -0700

    [Strings] Split String Optimizations (credit to Mackal / EQEmu)
    * Switch the 2 split calls to SplitString
    
    * Nuke duplicate split in favor of SplitString
    
    * Optimize SplitString
    
    Benchmarking:
    --------------------------------------------------------------
    Benchmark                       Time           CPU Iterations
    --------------------------------------------------------------
    bench_oldsplit               5201 ns       5201 ns     129500
    bench_split                  1269 ns       1269 ns     548906
    
    This is splitting a VERY long SpecialAbilities string. This is ~75%
    speed up.

Author: Haynar
Date:   Tue Apr 20 10:08:56 2021 -0600

    Added fear point calculation checks to ensure a valid destination location is returned.

Author: Robregen
Date:   Tue Apr 20 09:08:04 2021 -0700

    regenerate iceclad.nav to smaller tiles

Author: Haynar
Date:   Tue Apr 20 09:48:04 2021 -0600

    Added fixes for fearpoint calculations in navmesh.

Author: Haynar
Date:   Tue Apr 20 09:12:26 2021 -0600

    Added Pathing system fixes for when mobs overshoot their destination node.

Author: Haynar
Date:   Mon Apr 19 19:36:43 2021 -0600

    Fix mob bouncing issues.

Author: Haynar
Date:   Mon Apr 19 18:58:25 2021 -0600

    Roambox fix round 3.

Author: Haynar
Date:   Mon Apr 19 14:44:39 2021 -0600

    Roambox fixes part 2.

Author: Haynar
Date:   Mon Apr 19 09:05:49 2021 -0600

    Fixed some issues with roamboxes, which caused mobs to sometimes warp outside of their roaming area.

Author: Robregen
Date:   Mon Apr 19 07:52:31 2021 -0700

    regenerate cobaltscar.nav using smaller tile so pathing is straighter on a flat surface.

Author: Haynar
Date:   Sun Apr 18 10:03:29 2021 -0600

    Updated navmesh in tenebrous to allow named to jump off balcony in vamp castle.

Author: Haynar
Date:   Sun Apr 18 09:59:07 2021 -0600

    Moved Tenebrous Mountains to navmesh.

Author: Haynar
Date:   Sun Apr 18 09:44:43 2021 -0600

    Moved the following zones to navmesh:  Dreadlands, Hollowshade, LOIO, OOT and Timorous Deepl

Author: Robregen
Date:   Sun Apr 18 08:28:01 2021 -0700

    add nav files to zone that doesn't have path file.

Author: Robregen
Date:   Sun Apr 18 08:26:11 2021 -0700

    added nav files to zone without pathfile.

Author: Haynar
Date:   Sun Apr 18 09:24:52 2021 -0600

    Excluded the dragon circle in pathing for navmesh in Great Divide.

Author: Haynar
Date:   Sun Apr 18 08:15:23 2021 -0600

    Reverted some approximations that were applied to push vector checks.

Author: Haynar
Date:   Sun Apr 18 08:07:44 2021 -0600

    Removed some of the steep slopes and inaccessible areas from Umbral Plains navmesh.

Author: Haynar
Date:   Sun Apr 18 07:43:51 2021 -0600

    Reverted player movement updates to previous methods.

Author: Robregen
Date:   Fri Apr 16 14:04:38 2021 -0700

    fixed connection with cobaltscar.nav

Author: Robregen
Date:   Fri Apr 16 05:34:54 2021 -0700

    Update .travis.yml

Author: Robregen
Date:   Fri Apr 16 05:31:13 2021 -0700

    Update .travis.yml

Author: Haynar
Date:   Thu Apr 15 22:45:12 2021 -0600

    Fixed teleport node pathing.  Mobs will now follow teleports in sanctus seru when feared/fleeing.
    Improved fearpoint generation in path nodes.  This will help prevent mobs fleeing through walls.

Author: Robregen
Date:   Thu Apr 15 12:16:12 2021 -0700

    add another email notification

Author: Robregen
Date:   Thu Apr 15 12:12:03 2021 -0700

    add email notification to travis

Author: Haynar
Date:   Thu Apr 15 12:13:38 2021 -0600

    Compile fix to make travis happy.

Author: Haynar
Date:   Thu Apr 15 11:27:55 2021 -0600

    Fixes to water pathing where mobs got pushed above ceiling.  This caused ghost mobs at zonein.
    Fixes to mobs that stay in water, so they will not run through walls to get to a separate area of water not connected.
    Mobs which are supposed to stay in water, will now follow the EvadeCombat method when they cannot reach their mobs loaded when the NPC loads, rather than retrieve default method from NPCS types.
    NPCs which are no longer aggro, will follow the RunToTarget method when pathing home if they get stuck.  Rather than follow the stuck method, which applies to only trying to reach their target.

Author: Robregen
Date:   Wed Apr 14 18:23:21 2021 -0700

    added pyramid objects to nro, commons, and west karana to map and nav

Author: Solar
Date:   Wed Apr 14 17:46:41 2021 +0000

    tweak mob position rounding

Author: Solar
Date:   Wed Apr 14 14:20:17 2021 +0000

    correct heading when npcs summon players

Author: Haynar
Date:   Tue Apr 13 11:40:31 2021 -0600

    Moved Kedge Keep to navmesh.

Author: Haynar
Date:   Mon Apr 12 21:58:26 2021 -0600

    Updated Umbral Plains navmesh.

Author: Robregen
Date:   Mon Apr 12 16:16:18 2021 -0700

    remove GroupInvite_Struct stuff from mac patches to use native code.

Author: Haynar
Date:   Mon Apr 12 16:22:50 2021 -0600

    Updated greatdivide navmesh with select placeable models, added prefered pathing in the tunnels to keep mobs off walls.

Author: Robregen
Date:   Sun Apr 11 17:16:45 2021 -0700

    feerrott and innothule nav files.

Author: Haynar
Date:   Sun Apr 11 13:12:02 2021 -0600

    Improved hazard checks when checking paths to client.
    Changed the method for finding nearest path node, to include a hazard check, to improve the quality of the path node returned.

Author: Haynar
Date:   Sun Apr 11 13:09:49 2021 -0600

    Memory leak fix in BulkZoneSpawnPacket::SendPacket()

Author: Robregen
Date:   Sat Apr 10 20:56:10 2021 -0700

    rebuild tox and misty map and nav

Author: Solar
Date:   Sat Apr 10 23:58:56 2021 +0000

    fixed a mem leak

Author: Haynar
Date:   Sat Apr 10 08:57:10 2021 -0600

    Fixed a small memory leak in Client::Handle_OP_RequestDuel

Author: Solar
Date:   Thu Apr 8 17:37:37 2021 +0000

    adjust heading for in-zone gate/CotH

Author: Robregen
Date:   Wed Apr 7 19:00:09 2021 -0700

    forgot to removed comment out codes.

Author: Robregen
Date:   Wed Apr 7 11:29:52 2021 -0700

    replace AppendAnyLenString with fmt using the new string util feature in UCS and World.

Author: Solar
Date:   Wed Apr 7 07:12:49 2021 +0000

    fix player jumping animation showing for other players (dwarf barrel roll and others)

Author: Haynar
Date:   Tue Apr 6 09:03:01 2021 -0600

    Changed movement manager to use steady_clock instead of system_clock for its timings.

Author: Solar
Date:   Mon Apr 5 23:32:31 2021 +0000

    fix timer running slower than expected

Author: Robregen
Date:   Mon Apr 5 15:20:30 2021 -0700

    make use of a few new string utils:
    #grid show will now show numbers in words instead of the npc name.
    modifyNPCStat will use str_tolower in place of a for loop to set lower cases.

Author: Robregen
Date:   Sun Apr 4 17:24:32 2021 -0700

    Update string_util files to include other features from eqemu.

Author: Robregen
Date:   Sun Apr 4 12:41:16 2021 -0700

    revert the log in ucs/clientlist.cpp that involves the symbol crash in the message.

Author: Robregen
Date:   Sun Apr 4 08:13:18 2021 -0700

    Update net.cpp

Author: Robregen
Date:   Wed Mar 31 11:07:32 2021 -0700

    move solA, ToV, Velketor nav files to a folder.

Author: Robregen
Date:   Tue Mar 30 15:47:51 2021 -0700

    Revert ZONEUPDATE to 10

Author: Haynar
Date:   Mon Mar 29 09:50:50 2021 -0600

    Fixed issue where mobs would not clear their feign death memory, after finish rotating to their guard point heading.
    Fixed an additional issue where the NPC guard animation sometimes would not update after returning to their guard point.

Author: Robregen
Date:   Sun Mar 28 18:43:34 2021 -0700

    rebuild nro, oasis, sro map and nav files.

Author: Solar
Date:   Mon Mar 29 00:23:40 2021 +0000

    backstab base damage calculation tweak

Author: Haynar
Date:   Fri Mar 26 20:41:34 2021 -0600

    Added fixes for mob moving in water, so their z is adjusted to keep them out of floors and ceilings.

Author: Robregen
Date:   Fri Mar 26 09:35:56 2021 -0700

    remade new nav and map files.

Author: Torven
Date:   Mon Mar 22 18:04:49 2021 -0700

    fix for notarget NPCs preventing call for help assists

Author: Torven
Date:   Mon Mar 22 13:04:20 2021 -0700

    Area Taunt AA Z offset cap raised

Author: Robregen
Date:   Sun Mar 21 20:26:54 2021 -0700

    redo postorms.nav

Author: Robregen
Date:   Sat Mar 20 20:52:43 2021 -0700

    rebuild map and nav files for North and South Karana.

Author: Robregen
Date:   Sat Mar 20 11:55:52 2021 -0700

    rebuild qeynos hills and west karana map and nav.

Author: Robregen
Date:   Fri Mar 19 20:30:50 2021 -0700

    rebuild qeynos maps and nav

Author: Haynar
Date:   Thu Mar 18 12:13:39 2021 -0600

    Fixed some data rate issues when clients move.  Really affected large raids.
    Mob push will only send a position update, if it moves the mob now.  Since the position packet sends x/y locations as integers, an integer comparison before and after push changes will now be used to determine if an update is needed.  This should remove some position updates being sent which are not needed.
    Corrected a client z rounding issue, which causes player characters to bounce slightly when standing still if their z location is less than zero.

Author: Torven
Date:   Wed Mar 17 23:47:20 2021 -0700

    Spawn2:Repop() now depops previously exiting NPC
    
    before it would just make another copy without deleting the previous spawn which made the method rather unusable

Author: Torven
Date:   Wed Mar 17 20:58:55 2021 -0700

    possible crash fix

Author: Haynar
Date:   Tue Mar 16 14:50:59 2021 -0600

    Fix for fear point not finding a route to calculated destination.

Author: Haynar
Date:   Tue Mar 16 11:05:46 2021 -0600

    Pathing fixes

Author: Solar
Date:   Sat Mar 13 23:01:26 2021 +0000

    shutdown crash fix

Author: Solar
Date:   Wed Mar 10 06:20:38 2021 +0000

    handle long timers better, remove some unused and redundant code in timer

Author: Solar
Date:   Mon Mar 8 01:22:56 2021 +0000

    shutdown on signal

Author: Haynar
Date:   Tue Mar 16 07:31:33 2021 -0600

    Made changes to path node culling.

Author: Haynar
Date:   Mon Mar 15 20:47:20 2021 -0600

    Added fix for fleeing/feared mobs disappearing when they calculate a new fearpoint.
    Improved mobs moving up steep slopes, so they do not fall into geometry.

Author: Robregen
Date:   Mon Mar 15 16:24:17 2021 -0700

    redo westwastes.nav

Author: Haynar
Date:   Mon Mar 15 12:46:11 2021 -0600

    Increased frequency of position updates for NPCs.

Author: Haynar
Date:   Mon Mar 15 12:22:41 2021 -0600

    Fixed some compile warnings in pathfinder_waypoint.cpp

Author: Haynar
Date:   Mon Mar 15 12:11:09 2021 -0600

    Really fixed mobs snared to a stop this time.

Author: Haynar
Date:   Mon Mar 15 12:00:02 2021 -0600

    Added fix for mobs ghosting into the unknown when fleeing/feared and snare should stop them.

Author: Haynar
Date:   Mon Mar 15 09:28:44 2021 -0600

    Added fix for calculating fear/flee destinations, when no pathing route found.
    Mob speed changes at low hp while fleeing/feared with snare, should now update when damage is done, rather than waiting until the next tic.

Author: Haynar
Date:   Mon Mar 15 07:43:42 2021 -0600

    Improved mob pathing when they fear or flee into water.

Author: Haynar
Date:   Sun Mar 14 20:05:45 2021 -0600

    Added fix for auto following clients.  There was no check if client was moving, and it was always set to false.  So timer update would send position every 10 seconds, with no deltas, often sent at an old location.  This was breaking auto follow.  Now when a client is moving and grouped, it will send client position updates more frequently.

Author: Robregen
Date:   Sun Mar 14 18:46:17 2021 -0700

    Plane of Storms:  mobs should now be able to cross the creek when chasing a player.

Author: Haynar
Date:   Sun Mar 14 18:50:12 2021 -0600

    Added fix for finding nearest pathing node, which was not checking if there was LOS to the node.

Author: Haynar
Date:   Sun Mar 14 15:32:34 2021 -0600

    Fixed mob push

Author: Robregen
Date:   Sun Mar 14 12:10:27 2021 -0700

    Mobs should now path in and out of water.   Giants should now path through fences / building.

Author: Haynar
Date:   Sun Mar 14 09:25:16 2021 -0600

    fixed compile error

Author: Haynar
Date:   Sat Mar 13 17:24:19 2021 -0700

    Pets will again face nearest NPC when guarding.

Author: Solar
Date:   Sat Mar 13 23:01:26 2021 +0000

    shutdown crash fix

Author: Robregen
Date:   Sat Mar 13 14:48:46 2021 -0800

    fixed kael bridge glitches

Author: Robregen
Date:   Sat Mar 13 08:25:46 2021 -0800

    regenerate map and nav files to exclude object to behave like AK.

Author: Robregen
Date:   Fri Mar 12 14:37:17 2021 -0800

    move vexthal.nav to nav folder.

Author: Robregen
Date:   Fri Mar 12 13:50:07 2021 -0800

    oops  forgot to include the folder

Author: Robregen
Date:   Fri Mar 12 13:38:43 2021 -0800

    Moved mostly unconfirmed working nav files to nav folder.

Author: Haynar
Date:   Thu Mar 11 20:27:06 2021 -0700

    Fixed some issues with loading .path pathing node files.
    Updated code to load takp specific pathing node files.
    Added node culling and LOS and hazard checks when path node based routes are calculated.
    Adjusted pet run/walk speed transition distances to be AKurate.
    Changing mob speed by SetCurrentSpeed(), will force an update of pathing.  So in old code where we needed to force an update by tar_ndx = 20;, we can now update speed by += 0.01f, and that will trigger a pathing update including speed changes.

Author: Robregen
Date:   Thu Mar 11 15:26:59 2021 -0800

    added back force_z.

Author: Robregen
Date:   Thu Mar 11 14:01:17 2021 -0800

    regenerated new nav files for mischiefplane, paludal, and templeveeshan that has excluded objects.

Author: Robregen
Date:   Thu Mar 11 09:52:53 2021 -0800

    readd back the modified vexthal.nav

Author: Robregen
Date:   Thu Mar 11 09:35:58 2021 -0800

    regenerate map files using modified azone build.
    regenerate nav files using the new build maps.

Author: Solar
Date:   Wed Mar 10 06:20:38 2021 +0000

    handle long timers better, remove some unused and redundant code in timer

Author: Haynar
Date:   Tue Mar 9 21:23:24 2021 -0700

    Updated velketor navmesh to removed dead spots from placed objects.
    Removed some dead spot gaps in Vex Thal navmesh.

Author: Haynar
Date:   Tue Mar 9 19:04:55 2021 -0700

    Re-added Torven's mob push code.

Author: Haynar
Date:   Tue Mar 9 14:37:38 2021 -0700

    Fixed some navmesh issues in VT courtyard

Author: Solar
Date:   Tue Mar 9 00:04:32 2021 +0000

    npc melee push tweak

Author: Haynar
Date:   Mon Mar 8 14:14:12 2021 -0700

    Connected bothunder teleport pads in water, lightning and air towers.

Author: Robregen
Date:   Mon Mar 8 10:08:49 2021 -0800

    update logging for queryserv

Author: Haynar
Date:   Mon Mar 8 10:25:48 2021 -0700

    Updated navmesh pathing in VT courtyard.  Mobs should path down the steps better and not jump off sides as much.

Author: Haynar
Date:   Mon Mar 8 08:59:17 2021 -0700

    Updated BoThunder navmesh to fix air tower.

Author: Haynar
Date:   Sun Mar 7 22:06:26 2021 -0700

    Fixed Eye of Zomm.
    Removed some test code for movement delta.
    Added a boat check for FixZ in navmesh code, to prevent sinking of boats.

Author: Solar
Date:   Mon Mar 8 01:22:56 2021 +0000

    shutdown on signal

Author: Solar
Date:   Sun Mar 7 22:42:13 2021 +0000

    tweak quiver haste calculation

Author: Solar
Date:   Sun Mar 7 22:41:16 2021 +0000

    Timer::SetAtTrigger fix

Author: Haynar
Date:   Sun Mar 7 00:07:44 2021 -0700

    Moved Z Offsets back to pre-calculated style.
    Reverted Roambox code from EQEmu to takp style.
    Fixed NPCs facing towards guard location when they lose aggro and are snared to a stop.

Author: Solar
Date:   Sun Mar 7 00:22:46 2021 +0000

    handle 32 bit timer wraparound

Author: Haynar
Date:   Sat Mar 6 15:52:55 2021 -0700

    Stale socket connections and connections set offline, will have their account id cleared, so it prevents identifying a stale connection incorrectly as valid, while waiting to be deleted.

Author: Haynar
Date:   Sat Mar 6 15:47:37 2021 -0700

    Updated formatting of LogInfo to include index numbering of parameters.

Author: Haynar
Date:   Sat Mar 6 15:24:41 2021 -0700

    Navmesh fixes for when reaching destination with specified cylinder, the z-offset updates correctly.
    Additional fixes for bouncing mobs when using MoveTo within quests.

Author: Robregen
Date:   Fri Mar 5 07:49:34 2021 -0800

    [Crash] Fix ReloadQuest on Shutdown crash related to encounters (mackal)

Author: Haynar
Date:   Thu Mar 4 17:53:52 2021 -0700

    Added improvements to smooth mob moving over land.
    Fixed an issue with MoveTo so heading updates correctly.

Author: Robregen
Date:   Thu Mar 4 13:23:29 2021 -0800

    skip logsetting injection if there's no table in login database.

Author: Torven
Date:   Wed Mar 3 18:18:47 2021 -0800

    Spawn2::SetTimer() no longer changes timer duration
    
    This was seemingly causing the issue of lua_update_spawn_timer() sometimes (usually not; not sure why) changing the respawn duration of the timer instead of just its remaining time, which is undesirable.  Spawn2::SetRespawnTimer() should be used for that purpose and not Spawn2::SetTimer().

Author: Robregen
Date:   Wed Mar 3 17:15:36 2021 -0800

    change more logging syntax for Loginserver and World.

Author: Solar
Date:   Wed Mar 3 23:11:50 2021 +0000

    fix door not showing up for zones that only have one door

Author: Robregen
Date:   Wed Mar 3 13:37:12 2021 -0800

    fixed warning on duplicate entry.

Author: Robregen
Date:   Wed Mar 3 13:20:08 2021 -0800

    Fixed Linux compile relating to logging.

Author: Robregen
Date:   Wed Mar 3 12:24:13 2021 -0800

    Change log syntax in Loginserver using new logging system and fmt.

Author: Solar
Date:   Wed Mar 3 19:12:47 2021 +0000

    fix door not showing up for zones that only have one door

Author: Robregen
Date:   Wed Mar 3 07:37:07 2021 -0800

    improving logging system with using fmt::format.h

Author: Haynar
Date:   Tue Mar 2 22:40:11 2021 -0700

    Added support for zero pause waypoints, so mobs will not stop if the pause is set to zero.
    Removed rotating at waypoints when pathing.
    Removed rotating to FaceTarget when in combat.  Mob will snap to the heading when in combat.

Author: Solar
Date:   Wed Mar 3 03:55:34 2021 +0000

    Revert "attempt to fix buff display desync when a regular buff overwrites a bard song buff"
    

Author: Robregen
Date:   Tue Mar 2 12:14:18 2021 -0800

    [Leak] Port SpawnGroup stuff to unique_ptr to fix leak credit to Mackal
    switch to C++14 as standard in CMake.

Author: Haynar
Date:   Tue Mar 2 11:53:01 2021 -0700

    Fixed MoveTo function.

Author: Haynar
Date:   Mon Mar 1 21:22:29 2021 -0700

    Added new navmesh files for AK version of nektulos, bazaar and lavastorm

Author: Torven
Date:   Sun Feb 28 18:33:29 2021 -0800

    NPCs can now gain or lose engaged status while mezed and stunned
    
    This is how it should be and was neccessary so Rathe Council NPCs will regen while mezed

Author: Robregen
Date:   Sun Feb 28 18:04:40 2021 -0800

    removed the revamped version of bazaar.nav, lavastorm.nav, and nektulos.nav

Author: Robregen
Date:   Sun Feb 28 17:30:36 2021 -0800

    remove out of era nav files.

Author: Haynar
Date:   Sun Feb 28 13:31:31 2021 -0700

    Updated swimming speed in navmesh movement manager.
    Updated navmesh for ssra temple, so mobs navigate ramps better.

Author: Haynar
Date:   Sun Feb 28 12:02:15 2021 -0700

    Updated navmesh for kedge to include connections for all the vertical passages.

Author: Haynar
Date:   Sat Feb 27 20:33:56 2021 -0700

    Updated navmesh in oasis, to include steep slopes around spectre island, so they will path off island more direct to someone in the water.

Author: Haynar
Date:   Sat Feb 27 20:27:35 2021 -0700

    Added #path show for navmesh, to display calculated node equivalents to target.

Author: Robregen
Date:   Sat Feb 27 18:43:56 2021 -0800

    Add #grid show comand to display a targeted NPCs grid points visually

Author: Solar
Date:   Sat Feb 27 23:16:41 2021 +0000

    fixed a crash with NPC name mangling when NPC name contains numbers

Author: Robregen
Date:   Sat Feb 27 09:06:13 2021 -0800

    Disable Client export/import option

Author: Robregen
Date:   Fri Feb 26 17:26:07 2021 -0800

    fixed cmake curl

Author: Robregen
Date:   Fri Feb 26 17:07:34 2021 -0800

    change version to 3.2

Author: Haynar
Date:   Fri Feb 26 14:48:06 2021 -0700

    Added CMakeLists.txt for luabind

Author: Robregen
Date:   Fri Feb 26 13:37:56 2021 -0800

    fixed cmake

Author: Robregen
Date:   Fri Feb 26 13:36:23 2021 -0800

    removed luajit option

Author: Haynar
Date:   Fri Feb 26 14:14:46 2021 -0700

    Fixes for flymode.

Author: Haynar
Date:   Fri Feb 26 13:32:54 2021 -0700

    Added navmesh fixes.

Author: Solar
Date:   Fri Feb 26 20:07:43 2021 +0000

    tweak summoned pet resistance calculations

Author: Torven
Date:   Fri Feb 26 00:14:24 2021 -0800

    boot variance change
    
    If boot respawn time is 0 and boot variance is non-zero, then the boot variance will not be cut in half and instead go from 0 to full variance time.  I.e. this is the same as setting boot respawn to half the variance.

Author: Torven
Date:   Thu Feb 25 23:47:49 2021 -0800

    boot variance no longer requires boot respawntime to be non-zero to function

Author: Robregen
Date:   Thu Feb 25 14:11:15 2021 -0800

    fixed an error if there's no item in merchantlist it won't load the temp list.

Author: Robregen
Date:   Thu Feb 25 09:05:46 2021 -0800

    readd flymode

Author: Robregen
Date:   Thu Feb 25 08:56:30 2021 -0800

    fixed compile and revert mob push.

Author: Robregen
Date:   Wed Feb 24 13:51:40 2021 -0800

    readd the nullptr back in.

Author: Robregen
Date:   Wed Feb 24 13:46:29 2021 -0800

    Pass through zone code to fix uninitialized pointer declarations (credit to eqemu)

Author: Robregen
Date:   Mon Feb 22 08:40:53 2021 -0800

    replace flymode enum with more readable enum meaning.

Author: Robregen
Date:   Sat Feb 20 14:40:13 2021 -0800

    add limit.h to client_process.cpp

Author: Robregen
Date:   Sat Feb 20 14:34:21 2021 -0800

    linux build fixed?

Author: Robregen
Date:   Sat Feb 20 14:26:45 2021 -0800

    fixed linux compile

Author: Robregen
Date:   Sat Feb 20 14:14:14 2021 -0800

    Update cmake to version 3.2
    Add modules, libs/luabind, and libs/zlibng
    remove glm in common/

Author: Robregen
Date:   Fri Feb 19 17:06:43 2021 -0800

    fixed an issue with a caster can bind anywhere in Skyshrine.

Author: Solar
Date:   Fri Feb 19 20:43:15 2021 +0000

    fix some NPC spell procs that weren't procing (ice burrower and some others)

Author: Secrets
Date:   Wed Feb 17 12:00:34 2021 -0500

    oops

Author: Secrets
Date:   Wed Feb 17 11:55:40 2021 -0500

    same packet works for both clients initiating a duel, just do nullptr checks instead - everything else can figure itself out

Author: Robregen
Date:   Sun Feb 14 08:54:44 2021 -0800

    removed unused files.

Author: Robregen
Date:   Sat Feb 13 09:52:57 2021 -0800

    Fix va_list leaks in MakeAnyLenString/AppendAnyLenString (credit to eqemu)

Author: Solar
Date:   Tue Feb 9 21:34:37 2021 +0000

    adjusted melee disciplines:
      reuse timer reduction added for levels beyond 60
      thunderkick base reuse changed from 420 to 540 seconds
      silentfist base reuse changed from 540 to 594 seconds
      reuse timers are reduced by 54 seconds per level (down from 60 seconds per level)
      reuse timer can't become less than 234 seconds (up from 60 seconds)
      allow disciplines to be used while stunned
      allow disciplines to be used while invulnerable (divine aura, harmshield, etc)

Author: Robregen
Date:   Tue Feb 9 06:56:42 2021 -0800

    correct line numbers in PlayerProfile_Struct

Author: Solar
Date:   Tue Feb 9 04:26:19 2021 +0000

    minor struct stuff based on studying client

Author: Solar
Date:   Tue Feb 9 04:22:00 2021 +0000

    allow melee disciplines to work while invulnerable

Author: Secrets
Date:   Sun Feb 7 11:00:36 2021 -0500

    Fix issue with dueling where accepting one could result in a nullptr zone crash
    
     Also fix duel 'ownership' flags to not be able to be spoofed maliciously

Author: Robregen
Date:   Sat Feb 6 08:24:38 2021 -0800

    remove CastSpell_Struct from mac patch file to use native code.  clean up some unused code.

Author: Solar
Date:   Thu Feb 4 05:48:53 2021 +0000

    attempt to fix buff display desync when a regular buff overwrites a bard song buff

Author: Solar
Date:   Tue Feb 2 05:22:21 2021 +0000

    adjusted some AA effects/attributes: Ayonae's Tutelage, Advanced Healing Gift, Ferocity

Author: Solar
Date:   Tue Feb 2 02:59:44 2021 +0000

    misc small memory fixes

Author: Solar
Date:   Tue Feb 2 00:17:16 2021 +0000

    fix group member joining group not displaying updated HP percentage for other group members until targeted

Author: Torven
Date:   Sun Jan 31 23:17:24 2021 -0800

    Passkey of the Twelve flag added to keyring output

Author: Torven
Date:   Sun Jan 31 22:13:02 2021 -0800

    Numbers no longer removed from NPC names on NPC creation
    
    Sony doesn't do this, and this is easily seen in poeartha with the trap NPCs

Author: Robregen
Date:   Sun Jan 31 17:56:27 2021 -0800

    fixed variable

Author: Robregen
Date:   Sun Jan 31 17:52:29 2021 -0800

    removed the extra references in couple of grid type that isn't necessary.

Author: Torven
Date:   Sat Jan 30 13:19:26 2021 -0800

    crash fix for Lua_Raid::GetMember()

Author: Robregen
Date:   Sat Jan 30 09:08:04 2021 -0800

    Added the ability to choose a centerpoint randomly if there's is more than one in a GridRandomPath type.

Author: Robregen
Date:   Fri Jan 29 14:43:49 2021 -0800

    forgot to save to push.

Author: Robregen
Date:   Fri Jan 29 14:42:36 2021 -0800

    tweaked RandomPath grid where it will ignore a waypoint with a pause that is less than 0 preferably -1 to be randomly selected.  This is needed for Plane of Air where mobs will path non stop to a small area to randomly pause at then return to center point.

Author: Solar
Date:   Fri Jan 29 08:11:52 2021 +0000

    tweak pvp spell damage mitigation values

Author: Torven
Date:   Tue Jan 26 00:37:26 2021 -0800

    Quest timer fixes
    
    This commit fixes two flaws.  The first flaw is that paused quest timers had their durations set to their remaining time, which resulted in any iterations after the first one to be shorter and shorter; so the timer was only useful for a single duration unless you set the duration after each loop.  I made paused and resumed timers keep their proper durations.
    
    Secondly, I fixed the problem of when you scripted a quest timer to overwrite an existing timer with the same name, the timer would only use the new duration for a single iteration then reuse the old duration for further iterations.  I made these overwritten timers keep the new duration.

Author: Solar
Date:   Mon Jan 25 16:36:27 2021 +0000

    misc small fixes

Author: Robregen
Date:   Sun Jan 24 13:38:51 2021 -0800

    update on map.cpp and water_map.cpp credit from eqemu

Author: Robregen
Date:   Fri Jan 22 11:10:39 2021 -0800

    combine EnvDamage2_Struct and Combat_Damage_Struct to Damage_Struct since both struct uses the same field.  Change Action2 opcode to EnvDamage opcode since it served no other purpose.

Author: Robregen
Date:   Tue Jan 19 18:54:37 2021 -0800

    forgot another revert.

Author: Robregen
Date:   Tue Jan 19 18:51:01 2021 -0800

    revert some structural change to Action_Struct

Author: Robregen
Date:   Tue Jan 19 13:55:29 2021 -0800

    eliminate env struct from mac patch files

Author: Solar
Date:   Fri Jan 15 04:35:34 2021 +0000

    minor mem leak and misc fixes

Author: Solar
Date:   Wed Jan 13 07:23:10 2021 +0000

    Revert "fix aa offensive spell hate being capped too low"
    
    This reverts commit 67f9892f0eb77b6e635f7934addcc7ef5d4b0d2b.

Author: Solar
Date:   Wed Jan 13 06:54:37 2021 +0000

    fix exp gain past 100% at max level

Author: Solar
Date:   Wed Jan 13 04:24:00 2021 +0000

    fix aa offensive spell hate being capped too low

Author: Robregen
Date:   Tue Jan 12 17:43:01 2021 -0800

    removed code that set old model elemental race since it will be set in database.

Author: Solar
Date:   Mon Jan 11 08:05:13 2021 +0000

    aoe range fix for a few NPC spells

Author: Solar
Date:   Thu Jan 7 06:33:40 2021 +0000

    implement/fix some PoP swarm pets
    
    SQL file for adding a new pet: utils/sql/git/requires/2021_01_06_AnimationXuzl.sql

Author: Solar
Date:   Wed Jan 6 20:59:43 2021 +0000

    aa casting range check

Author: Solar
Date:   Wed Jan 6 08:49:27 2021 +0000

    range check AA spells before beginning cast

Author: Solar
Date:   Tue Dec 29 21:42:13 2020 +0000

    sound command

Author: Solar
Date:   Tue Dec 29 21:00:10 2020 +0000

    add command for playing sounds

Author: Solar
Date:   Tue Dec 29 20:42:29 2020 +0000

    some more group bug stuff

Author: Robregen
Date:   Tue Dec 29 10:11:30 2020 -0800

    Add playsound opcode to add the ability to play sound using lua. (Credit to Harrakiri
    
    syntax is e.other:SendSound(sound_id);
    
    Known Sound id is as follow:
    
    139 - coin add
    141 - reward sound (ding)
    142 - mouse up
    143 - thunder?
    146 - move item

Author: Solar
Date:   Mon Dec 28 10:26:58 2020 +0000

    fix a group membership desync that occurs when moving between zones

Author: Solar
Date:   Sun Dec 27 06:47:41 2020 +0000

    send login error message for incorrect credentials on mac client

Author: Solar
Date:   Sun Dec 27 06:45:58 2020 +0000

    fixed some scripted teleport spells that should be targeting only the player's group
    
    id    name
    1087  Mechinetic Dislocation I
    1088  Mechinetic Dislocation II
    1089  Mechinetic Dislocation III
    1090  Mechinetic Dislocation IV
    1091  Mechinetic Dislocation V
    1092  Mechinetic Dislocation VI
    1093  Mechinetic Dislocation VII
    1094  Mechinetic Dislocation VIII
    1095  Mechinetic Dislocation IX
    1096  Mechinetic Dislocation X
    1124  Penance of Flame
    1125  Penance of the Whip
    1128  Penance of Stone
    1129  Penance of Torture
    1136  Torment's Beckon
    1156  Graveyard Sending1
    1157  Graveyard Sending2
    1158  Graveyard Sending3
    1159  Maze Sending1
    1160  Maze Sending2
    1161  Maze Sending3

Author: Torven
Date:   Sat Dec 26 00:36:39 2020 -0800

    hardcode to allow PoP NPC AoE teleports to hit everybody

Author: Solar
Date:   Wed Dec 23 04:57:25 2020 +0000

    fixed skill practice points gained when gaining multiple levels (as from quest turn ins)

Author: Solar
Date:   Tue Dec 22 09:24:23 2020 +0000

    implemented Planar Durability AA and corrected some max HP calculations
    
    required SQL to zero out the bonus effects on the AAs (utils/sql/git/required/2020_12_22_durability_aa_zero.sql)

Author: Solar
Date:   Tue Dec 22 03:43:48 2020 +0000

    client base hp calc made more accurate

Author: Haynar
Date:   Mon Dec 21 15:44:57 2020 -0700

    Updated a bad pathing area in Velketor's.

Author: Haynar
Date:   Mon Dec 21 14:22:56 2020 -0700

    Added initial pathing for:
    Torden, the Bastion of Thunder
    Plane of Torment

Author: Solar
Date:   Mon Dec 21 09:50:56 2020 +0000

    corrected haste percentage shown on magelo stats

Author: Solar
Date:   Mon Dec 21 09:27:33 2020 +0000

    added some more magelo stats.  everything on the main page is written out by the zone server now.
    
    Note: added columns to character_magelo_stats table (utils/sql/git/required/2020_12_21_character_magelo_stats.sql)

Author: Solar
Date:   Mon Dec 21 08:25:59 2020 +0000

    fix AC calculation on worn item effects

Author: Solar
Date:   Thu Dec 17 17:14:35 2020 +0000

    verified client use of fields and removed mac specific Action_Struct encode
    attempt to fix Greenmist recourse again so it's both positive and refreshes duration when reapplied

Author: Solar
Date:   Fri Dec 11 17:02:57 2020 +0000

    missed intoxication flag

Author: Solar
Date:   Fri Dec 11 07:40:03 2020 +0000

    write out summary stats when saving character, for magelo profile display
    verified in client and corrected several edge case calculations for hp regen, mana regen, AC and ATK
    
    new database table (util/sql/git/required/2020_12_10_character_magelo_stats.sql)

Author: Torven
Date:   Mon Dec 7 20:50:54 2020 -0800

    prevent NPCs from replacing weapons with shields

Author: Solar
Date:   Mon Dec 7 00:26:42 2020 +0000

    warrior berserking stat changes and client side effect
    intoxication stat changes made more accurate to match client

Author: Robregen
Date:   Sun Dec 6 08:26:45 2020 -0800

    fixed a bug when players try to buy an item that gives a message that it already being sold.

Author: Torven
Date:   Fri Dec 4 23:11:22 2020 -0800

    added attack_delay to ModifyNPCStat()

Author: Solar
Date:   Mon Nov 30 07:01:14 2020 +0000

    added a slash to watermap file path construction to make it consistent with map/nav file paths

Author: Solar
Date:   Mon Nov 30 06:59:17 2020 +0000

    fixed ranger archery criticals so they can start happening at level 17 instead of 51

Author: Solar
Date:   Mon Nov 30 07:01:14 2020 +0000

    added a slash to watermap file path construction to make it consistent with map/nav file paths

Author: Solar
Date:   Mon Nov 30 06:59:17 2020 +0000

    fixed ranger archery criticals so they can start happening at level 17 instead of 51

Author: Secrets
Date:   Sat Nov 28 15:35:33 2020 -0500

    Fix NPC push

Author: Secrets
Date:   Sat Nov 28 15:35:17 2020 -0500

    Fix scan area timer for clients

Author: Robregen
Date:   Sat Nov 28 08:23:57 2020 -0800

    fixed boat (launch)

Author: Secrets
Date:   Fri Nov 27 23:32:18 2020 -0500

    Grid pause/resume from any situation should now work. Fix issue related to uninitialized memory in QS notifications

Author: Secrets
Date:   Fri Nov 27 18:00:19 2020 -0500

    fix boats

Author: Secrets
Date:   Fri Nov 27 16:55:36 2020 -0500

    Fix pause timers on static grids

Author: Robregen
Date:   Fri Nov 27 12:18:25 2020 -0800

    change travis setting back to -j2

Author: Robregen
Date:   Thu Nov 26 18:54:09 2020 -0800

    remove sodium from CMakeLists.txt

Author: Secrets
Date:   Thu Nov 26 16:47:57 2020 -0500

    Fix NPC loiter timer on no longer engaged event

Author: Robregen
Date:   Thu Nov 26 10:41:38 2020 -0800

    correct the case for Maps since we use upper case "M" in linux.

Author: Robregen
Date:   Thu Nov 26 08:50:34 2020 -0800

    cleaned up cmake, removed pathingrework branch from travis, and deleted wercker.yml

Author: Robregen
Date:   Wed Nov 25 21:40:10 2020 -0800

    fixed cmake to include lua.

Author: Robregen
Date:   Wed Nov 25 18:59:17 2020 -0800

    use zlib instead of zlib-ng in cmake for windows.

Author: Robregen
Date:   Wed Nov 25 18:22:44 2020 -0800

    fixed CMAKE to work with windows.

Author: Secrets
Date:   Wed Nov 25 11:26:27 2020 -0500

    Add limits.h to avoid linux compile issue

Author: Secrets
Date:   Wed Nov 25 11:24:19 2020 -0500

    Add .nav files

Author: Secrets
Date:   Wed Nov 25 11:11:33 2020 -0500

    force add projects/cmake files

Author: Secrets
Date:   Wed Nov 25 11:03:19 2020 -0500

    try forcing cmake installed

Author: Secrets
Date:   Wed Nov 25 10:35:23 2020 -0500

    xenial needs gcc-7

Author: Secrets
Date:   Wed Nov 25 10:29:05 2020 -0500

    Submodules manually add

Author: Secrets
Date:   Wed Nov 25 10:28:01 2020 -0500

    Update .gitignore

Author: Robregen
Date:   Sat Nov 21 12:56:17 2020 -0800

    change version name and add branch pathingrework to travis

Author: Robregen
Date:   Sat Nov 21 12:45:48 2020 -0800

    re-add travix.yml

Author: Torven
Date:   Sat Nov 21 00:32:27 2020 -0800

    Faction check to trainers; merchant responses minor fixes
    
    GM trainers had no faction check and I added one.  I am however not very competent when it comes to packet stuff, so I couldn't get it working the way it should.  If you return out of the function before sending a trainer packet back, the client bugs out and right click will stop working (for trainers and merchants) until you zone.  I failed to try and resolve that so I just made the trainer window list no skills in it.  Feel free to do this properly for me if you're able.
    
    A merchant rejection response was incorrectly using the player's class instead of race and this was corrected.
    
    Iksar and Vah Shir will now get racial rejection responses instead of 'your club' responses.

Author: Torven
Date:   Fri Nov 20 20:07:42 2020 -0800

    Fixed and issue with NPC textures
    
    NPCs using texture 255 (Sony might have used -1 and we have the types unsigned?) were displaying a plate chest instead of chesttexture's value and this was corrected.
    
    Note that texture 255 means 'completely naked' as opposed to texture 0 which means 'cloth'.  Texture 255 is required for the NPC to display the texture of worn armor pieces or when using the armor slot texture fields in the DB, otherwise the 'texture' field will overrule those other fields.

Author: Secrets
Date:   Fri Nov 20 23:07:08 2020 -0500

    remove submodules

Author: Secrets
Date:   Fri Nov 20 23:05:37 2020 -0500

    Revert "remove submodules, cmake 2.8 req reinstated"
    

Author: Secrets
Date:   Fri Nov 20 23:05:30 2020 -0500

    Revert "fix cmake"
    

Author: Secrets
Date:   Fri Nov 20 23:05:28 2020 -0500

    Revert "qs fix"
    

Author: Secrets
Date:   Fri Nov 20 23:05:24 2020 -0500

    Revert "Update CMakeLists.txt"
    

Author: Secrets
Date:   Fri Nov 20 23:05:18 2020 -0500

    Revert "cmake 2.8 req"
    

Author: Secrets
Date:   Fri Nov 20 23:04:34 2020 -0500

    Revert "yeet"
    

Author: Secrets
Date:   Fri Nov 20 23:04:34 2020 -0500

    Revert "all submodules"
    

Author: Secrets
Date:   Fri Nov 20 23:04:31 2020 -0500

    Revert "cmake 2.8 on submodules"
    

Author: Secrets
Date:   Fri Nov 20 23:04:30 2020 -0500

    Revert "Update CMakeLists.txt"
    

Author: Secrets
Date:   Fri Nov 20 23:02:23 2020 -0500

    Update CMakeLists.txt

Author: Secrets
Date:   Fri Nov 20 22:54:32 2020 -0500

    cmake 2.8 on submodules

Author: Secrets
Date:   Fri Nov 20 22:48:59 2020 -0500

    all submodules

Author: Secrets
Date:   Fri Nov 20 22:48:06 2020 -0500

    yeet

Author: Secrets
Date:   Fri Nov 20 22:44:56 2020 -0500

    cmake 2.8 req

Author: Secrets
Date:   Fri Nov 20 22:39:11 2020 -0500

    Update CMakeLists.txt

Author: Secrets
Date:   Fri Nov 20 22:34:06 2020 -0500

    qs fix

Author: Secrets
Date:   Fri Nov 20 22:32:00 2020 -0500

    fix cmake

Author: Secrets
Date:   Fri Nov 20 22:30:34 2020 -0500

    remove submodules, cmake 2.8 req reinstated

Author: Secrets
Date:   Fri Nov 20 22:28:04 2020 -0500

    fix pathing

Author: Secrets
Date:   Fri Nov 20 21:20:20 2020 -0500

    add eq::timer to lib common

Author: Secrets
Date:   Fri Nov 20 20:29:40 2020 -0500

    Fix nav/path loading

Author: Secrets
Date:   Fri Nov 20 20:02:27 2020 -0500

    Mobs run with minimal abnormalities now

Author: Secrets
Date:   Fri Nov 20 17:34:14 2020 -0500

    When GMs 'fast camp', they no longer client crash. They 'fake die' and then disappear

Author: Secrets
Date:   Fri Nov 20 17:32:51 2020 -0500

    Fix invalid size

Author: Secrets
Date:   Fri Nov 20 17:32:44 2020 -0500

    Fix an issue with locking, some invalid ways of handling SendQueue too

Author: Secrets
Date:   Wed Nov 18 23:39:15 2020 -0500

    don't send to self

Author: Secrets
Date:   Wed Nov 18 23:36:29 2020 -0500

    timer fixes

Author: Secrets
Date:   Wed Nov 18 23:35:32 2020 -0500

    Timer fix

Author: Secrets
Date:   Wed Nov 18 22:35:57 2020 -0500

    Enable legacy paths if they exist as a fallback option

Author: Secrets
Date:   Wed Nov 18 22:15:14 2020 -0500

    Finished the merge! On to testing

Author: Secrets
Date:   Tue Nov 17 19:49:09 2020 -0500

    WIP merge, not done yet [skip-ci]

Author: Secrets
Date:   Tue Nov 17 15:34:32 2020 -0500

    Some WIP changes for pathing still - removing, resorting files

Author: Secrets
Date:   Tue Nov 17 15:24:45 2020 -0500

    Update CMakeLists.txt

Author: Secrets
Date:   Tue Nov 17 15:17:18 2020 -0500

    Add CMakeLists for luabind

Author: Secrets
Date:   Tue Nov 17 15:15:15 2020 -0500

    Shuffle some deps around

Author: Secrets
Date:   Tue Nov 17 15:09:02 2020 -0500

    remove submodule

Author: Secrets
Date:   Tue Nov 17 15:02:24 2020 -0500

    Revert "Update .gitignore"
    

Author: Secrets
Date:   Tue Nov 17 14:50:40 2020 -0500

    Update .gitignore

Author: Secrets
Date:   Tue Nov 17 14:46:26 2020 -0500

    Revert "Submodules"
    

Author: Secrets
Date:   Tue Nov 17 14:43:57 2020 -0500

    Update .gitignore

Author: Secrets
Date:   Tue Nov 17 14:42:51 2020 -0500

    Submodules

Author: Secrets
Date:   Tue Nov 17 14:37:31 2020 -0500

    gitignore

Author: Secrets
Date:   Tue Nov 17 14:16:10 2020 -0500

    Update pathfinder_waypoint.cpp

Author: Secrets
Date:   Tue Nov 17 14:14:59 2020 -0500

    Update pathfinder_waypoint.cpp

Author: Secrets
Date:   Tue Nov 17 14:12:31 2020 -0500

    WIP initial merge

Author: Torven
Date:   Mon Nov 16 21:24:46 2020 -0800

    note to self: test code more thoroughly before pushing

Author: Torven
Date:   Mon Nov 16 21:01:56 2020 -0800

    Another RandomPath grid type improvement
    
    Instead of checking for a centerpoint at the first waypoint, it will iterate down the list for one.  This will allow for the centerpoint to be anywhere in the list, which was needed for bothunder grids.

Author: Torven
Date:   Mon Nov 16 00:52:48 2020 -0800

    RandomPath grid type changes
    
    RandomPath has been changed to the following behavior:
    
    * When stopped at a waypoint, it will now use the waypoint's pause timer if it is non-zero.  If it is zero, it will use the first waypoint's pause timer if that is non-zero.  If both are zero it will use 38 seconds.  Previously it would always use the first waypoint's pause timer if it was non-zero.  This new way is what it should have been from the start, really.
    
    * If the first waypoint is flagged as a centerpoint, then the NPCs will always return to that first waypoint after moving.  I.e. every other move will be to the first waypoint if the bool is set.
    
    This was implemented to replicate movement behavior observered in Bastion of Thunder.

Author: Robregen
Date:   Fri Nov 13 11:30:46 2020 -0800

    removed travis-ci file since we are not using it.

Author: Robregen
Date:   Fri Nov 13 11:15:26 2020 -0800

    fixed a bug where vendors with bad faction in a no combat zone were showing nothing in the vendor list.

Author: Solar
Date:   Sun Nov 8 04:03:33 2020 +0000

    Apply CHA component in Icicle Aura and Ro's Illumination spells

Author: Solar
Date:   Sat Nov 7 05:25:32 2020 +0000

    merchants will properly pay for items sold by players using the stone UI

Author: Robregen
Date:   Sat Oct 31 16:20:14 2020 -0700

    removed death struct to use native code.

Author: Torven
Date:   Thu Oct 29 23:07:42 2020 -0700

    added new client event: event_click_merchant

Author: Robregen
Date:   Wed Oct 28 18:24:51 2020 -0700

    fixed missing pok book from feerrott and innothule.  Still doesn't fix HoHonorb and nightmareb door.

Author: Robregen
Date:   Tue Oct 27 10:12:47 2020 -0700

    forgot an else statement for fishing.

Author: Robregen
Date:   Mon Oct 26 18:04:53 2020 -0700

    fixed a bug with fishing skill that is over 150 requirement.

Author: Robregen
Date:   Mon Oct 26 12:43:01 2020 -0700

    changed datatype for some names in Item_Struct to match struct.h from client

Author: Robregen
Date:   Mon Oct 26 11:26:51 2020 -0700

    fixed an issue with Veeshan Deity not showing up on items.

Author: Robregen
Date:   Thu Oct 22 17:47:03 2020 -0700

    restructured the door packets and removed unused door functions.   (there's still an elusive bug where if there's only 1 door in a zone, door object will not spawn.)

Author: Solar
Date:   Fri Oct 23 00:28:13 2020 +0000

    changed DoT hate calculation to exclude the additional damage gained from focus effects

Author: Robregen
Date:   Wed Oct 21 16:09:47 2020 -0700

    removed Combine_Struct from patch to use native.

Author: Robregen
Date:   Thu Oct 15 12:45:52 2020 -0700

    removed deletespawn from patch to use native.

Author: Solar
Date:   Wed Oct 14 18:11:12 2020 +0000

    minor throwing weapon fix

Author: Torven
Date:   Tue Oct 13 23:04:51 2020 -0700

    Lua_NPC::GetWaypointMax() fix; random NPC features
    
    A face value of 254 in the database for NPCs will now randomize the NPC's non-armor visual characteristics. (face, hair, eyes)  This was put in to prevent mass copying of NPC types just to change their faces.  Sony may have some kind of randomization option as well.  The new SetRandomFeatures() logic was based on the #randomfeatures command and may not have the all ranges entirely correct.
    
    Get/SetWaypointMax() methods and the wp_m member seemed to do absolutely nothing so they were removed.  The waypoint logic uses the max_wp member instead.  The lua method GetWaypointMax() was using the useless GetWaypointMax() so it was fixed to instead use GetMaxWP() which actually returns the number of waypoints in the NPC's grid.

Author: Solar
Date:   Tue Oct 13 18:09:47 2020 +0000

    fixed an edge case with archery bane damage

Author: Torven
Date:   Thu Oct 8 21:16:41 2020 -0700

    minor fix to #spawnstatus timer displays

Author: Solar
Date:   Thu Oct 8 07:21:45 2020 +0000

    Greenmist Recourse proc refresh fix

Author: Torven
Date:   Thu Oct 1 19:55:58 2020 -0700

    primary weapons in offhand now only for level 66+ NPCs

Author: Robregen
Date:   Thu Oct 1 15:06:35 2020 -0700

    added a rule for no drop delete on closed world containers.   currently it set to true.

Author: Robregen
Date:   Thu Oct 1 14:37:17 2020 -0700

    removed projectile and tradecoins from patch to use native.

Author: Torven
Date:   Sun Sep 27 23:07:41 2020 -0700

    NPC weapon equip logic changes
    
    I noticed Elite Diakus were not equipping their offhands so the logic had to be changed because the diaku weapons are flagged as primary only.  NPCs apparently can equiup primary only weapons in the offhand.  This was implemented.
    
    To do that I had to remove the compare that checked for weapon damage so NPCs will now just equip any newly given weapon even if it is lower damage.  The routine would need a much larger re-write to keep that in but it's a very trivial concern.
    
    This commit also fixes two more issues: NPCs wielding 2handers were refusing to equip 1handers (unless the 1hander damage was higher) and now will favor 1handers.  NPCs will also no longer equip 2handers in the offhand. (some items are flagged that way)

Author: Torven
Date:   Sun Sep 20 18:23:22 2020 -0700

    Visual studio ctrl-z is deleting stuff it shouldn't be

Author: Torven
Date:   Sun Sep 20 18:18:09 2020 -0700

    NPC max backstab math changed; reclaim pet on charm pet fix

Author: Robregen
Date:   Fri Sep 18 16:35:51 2020 -0700

    No drop items being left in world container will now be deleted regardless of who open it to make it more Akurate.

Author: Robregen
Date:   Fri Sep 18 12:00:54 2020 -0700

    removed zonechange code from patch files to use native code.

Author: Torven
Date:   Sat Sep 12 00:47:14 2020 -0700

    Added scriptable waypoint generation
    
    Several methods were added to allow for the on-the-fly grid/waypoint generation via lua script.  I wanted this for a long time but the stampede event in Drunder gave me a good excuse to add it since it has random waypoint behavior.  Now scripted NPCs can have grids without needing database grids, which is very handy and also reduces DB clutter.  Since every NPC has their own copy of a grid, it's fairly easily implemented.
    
    New methods: NPC::EditWaypoint(), NPC::AddWaypoint(), NPC::SetWanderType(), NPC::SetPauseType() along with their lua analogs.
    Also some logic moved to new private method NPC::InitializeGrid() to prevent code duplication.
    
    Script generated grids will be assigned a grid ID of 999999.  The waypoint code required a grid ID to function and instead of chnaging any of it I just assigned all custom grids with that ID.

Author: Solar
Date:   Thu Sep 10 01:00:08 2020 +0000

    Fix Bard AA Jam Fest to match client behavior

Author: Torven
Date:   Sat Sep 5 23:06:57 2020 -0700

    new methods: NPC::SetBaseHP() which allows us to change NPC max hitpoints

Author: Haynar
Date:   Sat Sep 5 17:32:28 2020 -0600

    Fixed some bad pathing areas in Velketor's Labyrinth.

Author: Haynar
Date:   Sat Sep 5 17:04:25 2020 -0600

    Added initial pathing for The Temple of Marr (hohonorb).

Author: Haynar
Date:   Sat Sep 5 16:49:10 2020 -0600

    Added initial pathing for The Halls of Honor.

Author: Robregen
Date:   Sat Sep 5 15:41:02 2020 -0700

    update datatype for spawn struct to match client

Author: Haynar
Date:   Sat Sep 5 16:27:05 2020 -0600

    Fixed a pathing spot that was missed in poinnovation.path

Author: Haynar
Date:   Sat Sep 5 16:21:18 2020 -0600

    Added initial pathing for Plane of Innovation

Author: Haynar
Date:   Sat Sep 5 15:57:09 2020 -0600

    Added initial pathing for Crypt of Decay

Author: Haynar
Date:   Sat Sep 5 15:27:25 2020 -0600

    Added initial pathing for Plane of Tactics

Author: Robregen
Date:   Fri Sep 4 08:08:30 2020 -0700

    remove GuildMOTD_Struct and GuildInviteAccept_Struct from mac patches so it run in native codes.
    rearrange Spawn_Struct in mac.cpp

Author: Torven
Date:   Thu Sep 3 00:15:19 2020 -0700

    Spawn2::Enable() fix; spawnstatus command improved; SetWalkSpeed() SetRunSpeed()
    
    * #spawnstatus is now much improved.
    * New methods: SetWalkSpeed() and SetRunSpeed() with corresponding Lua_Mob methods.
    * An issue with Spawn2::Enable() was fixed.  If the disabled spawn had a disabled timer from being spawned when it was disabled, then enabling it again wasn't working.

Author: Robregen
Date:   Sat Aug 29 17:18:13 2020 -0700

    Remove some unused misc.cpp functions (encode/decode)
    These were unused and throwing warnings, so throw them away!
    *credit to Mackal from EQEmu

Author: Robregen
Date:   Wed Aug 19 12:30:00 2020 -0700

    removed enterworld data from mac patches file to use native code.
    correct various datatype in PP and newzone to match client struct.

Author: Torven
Date:   Sun Aug 16 01:01:35 2020 -0700

    little fix to previous commit

Author: Torven
Date:   Sun Aug 16 00:45:55 2020 -0700

    Fix for DoTs causing weird aggro issues when using charm; quick spdat refactor
    
    IsDOTSpell() was not including many/most DOT spells in the game because it was excluding spells with a direct damage component which was causing issues with charm and DoT casting pets.  I made it include spells with a direct damage component.
    
    I also refactored some of the spdat.cpp logic to be easier to undestand, and now some of the fuctions will behave more as their names suggest.

Author: Haynar
Date:   Thu Aug 13 11:25:50 2020 -0600

    Trying a different alias for wercker build.

Author: Haynar
Date:   Thu Aug 13 11:17:08 2020 -0600

    Fixed a compile issue.

Author: Haynar
Date:   Thu Aug 13 10:38:36 2020 -0600

    If you camp out or are disconnected with coins on your cursor, they will now be put in your inventory, instead of being invisible on the cursor until you pick something up.  This helps prevent desync issues with moving items to the cursor.

Author: Haynar
Date:   Thu Aug 13 09:08:02 2020 -0600

    Animations are back.

Author: Torven
Date:   Sat Aug 8 12:52:54 2020 -0700

    Eye of zomm aggro fix

Author: Solar
Date:   Sat Aug 8 07:51:11 2020 +0000

    Donal's BP effect made more accurate to match client

Author: Solar
Date:   Sat Aug 8 05:28:16 2020 +0000

    A couple of AC calc tweaks based on client decompile:
    - Don't apply a 33% item AC bonus for NEC WIZ MAG ENC - still applies to other classes
    - Cap item AC for characters below level 50

Author: Solar
Date:   Fri Aug 7 20:32:26 2020 +0000

    ApplyDurationFocus adjusted to include the extra tick in calculations - this matches up better with AK logs and fixes some edge cases with short duration spells.

Author: Robregen
Date:   Wed Aug 5 14:30:26 2020 -0700

    removed consider struct from mac patch files.

Author: Haynar
Date:   Wed Aug 5 07:19:17 2020 -0600

    Added attack animations to server filters.  This will help reduce data traffic, but you will no longer see others swinging weapons if you have seeing hits and misses turned off.
    
    Clients will freeze again when charmed.
    
    Added a fix to help with ghosting of mobs while having packet loss.

Author: Torven
Date:   Sat Aug 1 23:28:52 2020 -0700

    Added NPC::SetGuardSpot() with corresponding lua method

Author: Torven
Date:   Sat Jul 25 00:02:23 2020 -0700

    Triple attack rate changed to 13.5%
    
    I found a flaw in my melee simulation script that was making 15% seem to fit the data better than it should.  I have a dozen 8+ hour logs from 2003 of meleeing unkillable NPCs, and the data suggests that triple attack is somewhere between 13 and 14%.  Sony often liked to use weird numbers for things so not being a round number isn't unusual for them

Author: Torven
Date:   Fri Jul 24 17:14:24 2020 -0700

    triple attack is now 15%; PC flurries now yellow text

Author: Robregen
Date:   Thu Jul 23 08:23:14 2020 -0700

    removed traderequest from patch and restructured it in eq_packet_structs.h

Author: Robregen
Date:   Wed Jul 22 08:26:42 2020 -0700

    replace sound with reward to match op_reward in lua_packet.cpp

Author: Haynar
Date:   Mon Jul 20 16:31:35 2020 -0600

    Webhooks fixes

Author: Haynar
Date:   Mon Jul 20 13:50:29 2020 -0600

    Added pathing for Qeynos Catacombs.

Author: Robregen
Date:   Sat Jul 18 15:25:54 2020 -0700

    change Op_Sound to Op_Reward to better reflect its function.

Author: Torven
Date:   Thu Jul 16 22:15:38 2020 -0700

    added Lua_Mob::RemoveFromHateList()

Author: Torven
Date:   Wed Jul 15 15:38:12 2020 -0700

    fix for zomm exp and corpses

Author: Torven
Date:   Wed Jul 15 01:00:27 2020 -0700

    copy paste error made wercker not happy

Author: Torven
Date:   Wed Jul 15 00:42:26 2020 -0700

    Changes/fixes to experience split logic and damage credit handling
    
    The second damage table for awarding kill credit that was implemented in 2017 has been removed and the hate list damage is again used.  The second list was put in place because false assumptions were made (notably that pet damage is somehow remembered if the pets go away which is untrue) so the second list was not needed at all.
    
    See the following links for evidence:
    https://groups.google.com/forum/#!searchin/alt.games.everquest/reclaim$20pet$20powerlevel|sort:date/alt.games.everquest/KPuTINImTbQ/QT68jydCamMJ
    https://groups.google.com/forum/#!searchin/alt.games.everquest/reclaim$20pet$20powerlevel|sort:date/alt.games.everquest/e1SdcYO8lpg/t1Y_uM9_aTwJ
    
    Hate list damage tracking was refactored/improved somewhat as well.  Feign death players will now get credit for their pet damage and this fixed an issue where necros could FD and super powerlevel players by using pets as uncredited damage.  #hatelist will now show a second damage value for players with pets that is the combined damage.
    
    The PBAoE damage experience reduction is now factored individually and not based on the top damage dealer.  I'm not sure if that should be the case but I have no way to know so I will default to this since experience would be reduced to nearly nothing in some cases otherwise.  The pbaoe damage variable moved to Mob class to be more like the others.
    
    I reworked the experience split logic somewhat.  I discovered a huge, highly exploitivate bug which was that FD players were not being added to the weighted average sum but still getting exp, which meant that simply being FD when the NPC died granted everybody in the group more experience because they were not being factored into the split.  FD players were also not being included in the group bonus and this was corrected.
    
    Green exp was simplifed.  Two unused rules were removed because I can't imagine why a server would ever want to use these and they were making the code harder to understand.  Overall the code was simply more complicated than it needed to be.  Otherwise the end results here are intended to be unchanged. (minus a small error in green exp splits that I caused recently that was corrected)
    
    A new rule was added to be able to toggle the 'bonus' exp for greens.  This extra exp comes from a post Placer made on the forum in which he claims that the weighted average level for players to whom the NPC is green to gets reduced to the level of the highest level player that the NPC is not green to.  This allows for powerleveling by mass slaughter of green con NPCs grouped with a high level player and I feel is bad for the game but I left it in even though we have no hard evidence for this claim.  The rule allows for an easy way to turn it off however. (default is on)

Author: Solar
Date:   Wed Jul 15 05:52:18 2020 +0000

    tweaked fizzle code so spells with a 0 adjustment in the spell data are easier to cast - this includes most bard songs.

Author: Robregen
Date:   Tue Jul 14 16:16:42 2020 -0700

    eliminate illusion struct in mac_structs.h.

Author: Robregen
Date:   Mon Jul 13 08:09:39 2020 -0700

    removed GMTrainEnd_Struct from mac patches to use eq_packet_structs.h

Author: Robregen
Date:   Sun Jul 12 11:03:48 2020 -0700

    change expansion condition in world.

Author: Robregen
Date:   Sun Jul 12 10:34:26 2020 -0700

    more reformatting for structs.
    removed code for last name of NPC.

Author: Torven
Date:   Sat Jul 11 15:27:50 2020 -0700

    made #kill not work on yourself

Author: Solar
Date:   Sat Jul 11 18:55:58 2020 +0000

    fixed a typo in spell fizzle code that makes familiar buffs help with fizzle reduction again

Author: Torven
Date:   Sat Jul 11 00:05:22 2020 -0700

    New method: NPC::RemoveWaypoints() with coresponding lua method
    
    I thought I needed this for something but turns out I didn't.  May still come in handy later.
    
    You can call this after an NPC reaches a waypoint then call SaveGuardPoint() to have NPCs set their guardpoints after walking a grid.

Author: Torven
Date:   Wed Jul 8 20:14:26 2020 -0700

    Revert "made non-pet NPCs refuse to attack enraged NPCs"
    

Author: Solar
Date:   Wed Jul 8 16:21:39 2020 +0000

    fix interrupt for spell too powerful message

Author: Solar
Date:   Wed Jul 8 15:45:10 2020 +0000

    fix beastlord fizzle

Author: Torven
Date:   Sat Jul 4 19:30:02 2020 -0700

    made non-pet NPCs refuse to attack enraged NPCs

Author: Torven
Date:   Fri Jul 3 20:25:22 2020 -0700

    neglected to remove a comment. bleh

Author: Torven
Date:   Fri Jul 3 20:19:46 2020 -0700

    Correction to the Velious era exp bounses rule
    
    I had discovered a producers letter from 2001 which had missing patch notes not in my patch notes file that described the true Velious to mid-PoP era group exp bounses.  Changed the rule name and description to correct some erroneous comments.  Obviously we're not using this rule but I wanted it in there for other servers

Author: Torven
Date:   Fri Jul 3 16:15:07 2020 -0700

    Fix for con colors when over level 60 and light blue exp

Author: Robregen
Date:   Thu Jul 2 17:10:19 2020 -0700

    fixed compile error on latest Visual Studio Build

Author: Torven
Date:   Tue Jun 30 00:09:14 2020 -0700

    Few more Experience things
    
    * MLM no longer applies when NPC is > 5 level above the player.  ShowEQ thread from Feb 2003 mentions this and shakerpage log suggests it was AK but not 100% on this.
    * MLM will not apply if group member is more than 5 levels under the group level average.  Feb 2003 ShowEQ thread mentions this and AK powerleveling log seems to agree it was on AK.
    * Added a slight MLM gain above white level if player is under level 60 and NPC is yellow or red.  Data suggests it was there but is slight.  Exact formula is unknown but this should be close.

Author: Robregen
Date:   Mon Jun 29 21:05:33 2020 -0700

    Allow rule access from lua
    Adds dynamic rule capabilities to quests in LUA

Author: Solar
Date:   Mon Jun 29 08:05:42 2020 +0000

    Reworked spell fizzles based on client decompile.  The old and new functions are similar but some things will fizzle more and some less.  This is code I got out of the client, so I think this should end up feeling just like AK, unless some of the stats going into it are somehow off.
    
    - Fizzling burns 40% of the mana cost of the spell, previously this was 25%.  This value is capped to 1/8th of mana pool size.
    - Superior Healing has its fizzle adjustment set to 0 for non-clerics which makes all 3 priests equally good at casting this even though they get it at a higher level so it's naturally harder to cast.
    - The fizzle adjustment is set to 0 for spells level 56+ (level 41+ for PAL/RNG/SHD)
    - Specialization and Spell Casting Mastery make a big difference and for the typical character with 255 primary stat and SCM3 I see less fizzles.  For characters without SCM it seems worse.
    - The Brilliance of Ro focus found on a few items and the same effect provided by wizard familiars and enchanter buffs helps a lot.

Author: Torven
Date:   Sun Jun 28 01:03:20 2020 -0700

    Experience changes
    
    * Experience logic is now based on an AA point being 18,750,000 exp and was refactored somewhat.  Most notably the MLM calcs are reduced but effective AA gain from killing NPCs near the player's level will be the same.
    
    * MLM calculations are now precise for almost all scenarios; although I'm still uncertain when the NPC is more than 3 levels above the player and the player is level 60+.
    
    * Exp per level for levels above level 60 are now reduced as the previous mod values were based on an incorrect assumption that 1 AA = 24m exp.
    
    * Hell Level Balance Multipliers are now implemented using the level_exp_mods table and the LevelBasedEXPMods Rule.  This was pretty much working already and just a database change but it's important to note that what it's being used for.
    
    * Racial modifiers for AA exp will work better now.  Before it would not really work if the player switched to 100% AA exp near the end of the AA point since it was only changing how much exp was required.
    
    * Removed the 'resexp' paramter from AddEXP() because it was not used, not needed and not working.  Res spells are skipping this method and using SetEXP() as it should.  Lua methods changed accordingly.
    
    * I made players level 5 and under have an artifical ZEM of 100 if the current zone ZEM is less than that.  I'm uncertain for how many levels this should apply and 5 is a wild guess, but this artifical ZEM should exist.
    
    * Light blue exp is now hardcoded to be 20% for most levels, however at higher levels the top level light blues might end up 80% or 60%.  This comes from a collection of showeq data that was confirmed to be accurate in other respects, so likely the is the correct light blue exp. (or close to it)
    
    * Rules: LevelBasedEXPMods now true by default; new rule RaceEffectsAASplit is true by default; the AlKabor con exp rules are now 100.0f by default; ExpPerPoint is now 18750000 by default.

Author: Solar
Date:   Sat Jun 27 08:07:03 2020 +0000

    forgot a spell id in the last commit

Author: Solar
Date:   Sat Jun 27 07:55:39 2020 +0000

    Changed these spells back to beneficial so they match focus effect limit filters properly:
    34    Superior Camouflage
    42    Invisibility
    235   Invisibility versus Undead
    247   Camouflage
    255   Invisibility versus Animals
    894   Invisibility versus Animal
    1576  Torpor
    1771  Call of the Hero
    
    These spells look to have been manually updated in the database to make them behave as group only spells, but this made it so they no longer counted as beneficial for focus effects that look at the spell type, putting it out of sync with the client.
    
    Required SQL:
    -- restore spells that have had their beneficial flag changed
    UPDATE spells_new SET goodeffect = 1 WHERE id IN ( 34, 42, 235, 247, 255, 894, 1576, 1771 )
    SELECT * FROM spells_new WHERE goodeffect = 2 -- should return 18 rows

Author: Solar
Date:   Sat Jun 27 03:20:26 2020 +0000

    - tweaked spell clicky rate limit logic to be more forgiving of a few rapid clicks
    - make horse bridle click fail to cast if already mounted
    - tweaked the way some spell cast failures happen when checking requirements for casting, to interrupt before it begins casting and not spam other players

Author: Robregen
Date:   Fri Jun 26 08:40:04 2020 -0700

    restructured combat ability into eq_packet_structs.h

Author: Robregen
Date:   Thu Jun 25 16:55:13 2020 -0700

    a few more restructering.

Author: Robregen
Date:   Wed Jun 24 22:20:47 2020 -0700

    regenerate velketor map to exclude objects.

Author: Robregen
Date:   Wed Jun 24 11:50:39 2020 -0700

    fixed an issue where cancel trade will not work.

Author: Robregen
Date:   Wed Jun 24 08:17:54 2020 -0700

    fixed an issue with object_name length being short.

Author: Torven
Date:   Tue Jun 23 23:59:38 2020 -0700

    PBAoE exp reduction
    
    First attempt at the PBAoE reduction.  It was discovered that Sony had put in reduction logic at some point during Luclin.  This occurred sometime after January 2002.
    
    Sony's logic did not kick in if the player was ungrouped, however I don't think players should be able to avoid the penalty simply because I have discovered ways around it in my research so I applied it regardless of group size.
    
    I made it kick in if the NPC was damaged 51%+ with pbaoe damage without other conditions.  I have no idea how Sony determined this, but I do know that stuns on the NPCs were NOT required to trigger it as I saw it in logs of NPCs that were never stunned.
    
    During early GoD era in 2004, I 3 box AoEd FG and did not see the reduction.  Unknown if they simply removed it or it required 4 members.  I know that 4 members would trigger it on AK.
    
    The reduction seemed to scale with level somehow.  It's hard to say exactly how but I put in a crude scaling algorithm to try and match the very limited data I have.  It should provide decent results for mid 30s NPCs and AoEng in Fungus Grove at level 60 at least, since that's what I based it on.

Author: Haynar
Date:   Tue Jun 23 19:43:57 2020 -0600

    Fixed some bad pathing areas in Akheva Ruins, Sebilis and Droga

Author: Robregen
Date:   Fri Jun 19 09:13:01 2020 -0700

    fixed an issue with client crashing.

Author: Robregen
Date:   Fri Jun 19 08:21:42 2020 -0700

    correct the databit to match datatype for pp.guildid

Author: Torven
Date:   Thu Jun 18 20:03:06 2020 -0700

    set default raid exp percent rule to 60%

Author: Robregen
Date:   Thu Jun 18 15:26:23 2020 -0700

    changed to unsigned to a couple of places in envdamage2 struct.

Author: Robregen
Date:   Thu Jun 18 14:31:12 2020 -0700

    change bit type to match datatype in various files.

Author: Robregen
Date:   Thu Jun 18 13:56:36 2020 -0700

    Fixed an issue where the command #viewplayerfaction can crash the zone if factionid is out of range.

Author: Torven
Date:   Thu Jun 18 01:03:07 2020 -0700

    Group exp split tweak; exp range check fix
    
    The group exp split logic was changed very slightly to match some information I discovered on the showeq forum.  Specifically +5 is added to the levels of group members when doing weighted splits.
    
    Fixed an error causing range checks in the exp logic to fail much of the time.  Renamed the method to be more obvious what it dodes.

Author: Torven
Date:   Mon Jun 15 16:45:07 2020 -0700

    Blind NPCs now run at full speed

Author: Torven
Date:   Sun Jun 14 20:03:02 2020 -0700

    added a IsAIControlled() just in case

Author: Torven
Date:   Sun Jun 14 19:50:35 2020 -0700

    More Blind behavior improvements
    
    Blind will now take into account whether or not the target is moving when determining how frequently the NPC moves to a random waypoint or toward the player.  Stationary targets will result in much more random waypoints.  This is also checked on buff ticks.
    
    Note that there doesn't seem to be a reliable means of determining if a client is moving or not so this solution isn't ideal.  The animation member seems to hold a crude movement speed value but returns 0 if the client is strafing.  I want strafing to count as movement but this is a small enough problem that I'm just going to move on.

Author: Robregen
Date:   Sun Jun 14 08:34:51 2020 -0700

    revert the datatypes on aa array

Author: Robregen
Date:   Sun Jun 14 08:03:02 2020 -0700

    set the max_aa_array to the previous setting.

Author: Torven
Date:   Sat Jun 13 18:10:15 2020 -0700

    failed witness checks no longer turn off assist-only mode; RNG was screwing with me when I was testing.  default light blue exp now 15%

Author: Torven
Date:   Sat Jun 13 00:21:07 2020 -0700

    Charm fixes; keyring qglobals
    
    * Client:KeyRingList() now checks for two qglobals (bertox key and BoT zone-in flag/key) to display output to the player.  I decided to use qglobals instead of using items because using items would require hardcoding anyway to prevent "suchandsuch was added to your keyring" from displaying.  Sony has 'you receive a character flag' in place of 'added to keyring' text when you get these keys, so they probably were flags on their servers anyway.
    * New parameter to Spawn2:Disable(), with the accompanying lua method, which is a bool to prevent depopping the NPC when disabling the spawn.  This is needed for some scripted events.
    * When clients with a charmed pet are themselves charmed, their pet will now simply break charm and deaggro instead of depop.
    * Charmed players will attack other players again instead of stand around.  Seems I broke this when I changed the engaged logic awhile back. (why can't people report these things...)
    * Added a FaceTarget() in the Client AI routine so the avatar won't end up facing away from the target in melee range.
    
    Just a small note: the IsCharmed() and IsCharmedPet() methods produce unreliable output and should not be used alone.  This really should be fixed/refactored but for now I just paired it with GetOwnerID() to make it work.

Author: Robregen
Date:   Thu Jun 11 20:15:47 2020 -0700

    update languages.h to era appropiate

Author: Robregen
Date:   Thu Jun 11 16:57:43 2020 -0700

    update to setting variables in PP

Author: Robregen
Date:   Thu Jun 11 16:13:49 2020 -0700

    set the static const variable within the PP

Author: Robregen
Date:   Thu Jun 11 15:51:42 2020 -0700

    fixed for create char crash.

Author: Robregen
Date:   Thu Jun 11 11:00:26 2020 -0700

    more restructuring in eq_packet_structs.h.
    removed old prefix to the proper struct name.

Author: Torven
Date:   Wed Jun 10 23:57:35 2020 -0700

    fix for pet hold

Author: Torven
Date:   Wed Jun 10 14:48:20 2020 -0700

    fix for dumbfire pets not despawning

Author: Robregen
Date:   Wed Jun 10 07:42:54 2020 -0700

    eliminated a few structs in mac_structs.h while reconstructing structs in eq_packet_structs.h

Author: Haynar
Date:   Wed Jun 10 07:41:15 2020 -0600

    Webhooks updates

Author: Solar
Date:   Mon Jun 8 23:15:03 2020 +0000

    remove a debug message left in by accident

Author: Solar
Date:   Mon Jun 8 09:10:03 2020 +0000

    Fixed the spell cast time reduction AAs to match client: Spell Casting Deftness, Quick Buff, Quick Damage, Quick Evacuation, Quick Summoning
    Fixed the focus effect filter effect for detrimental/beneficial type spell targets to match the client better.  Some spells are group only and don't count as beneficial for focus effect filters.
    
    SQL to clean up unused effects from AA tables (optional):
    DELETE FROM aa_effects WHERE aaid IN (104,105,106, 137,138,139, 141,142,143, 147,148,149, 164,165,166)

Author: Torven
Date:   Wed Jun 3 00:15:11 2020 -0700

    Refactored AI_Process() a bit; prevented more fear ghosting
    
    I put the target getting and engaged setting near the top of the routine, above the fear movement, to make the code cleaner.
    
    Also some changes to prevent ghosting when feared NPCs have their hate lists cleared.

Author: Solar
Date:   Tue Jun 2 14:53:07 2020 +0000

    Implement Wizard AA Allegiant Familiar
    Implement Cleric AA Celestial Renewal (single target upgrades to Celestial Regeneration)

Author: Torven
Date:   Tue Jun 2 00:00:52 2020 -0700

    Blind rework
    
    * Blind fear points are now set to the top hater's current location instead of random most of the time.  This is how Sony's blind appears to function.  Blind was not meant to make NPCs easy kills like fear is, which is why Sony did not put a level cap on it like fear has.
    
    * The fear/blind movement logic in AI_Process() was moved into a new private method, DoFearMovement(), to avoid code duplication and this is now called late in the AI_Process() routine for blind.  Blind now does most of the logic in AI_Process(), which enables desired behavior such as summoning and casting spells.
    
    * Blind no longer acts like root in selecting the closest target.  This was wrong and was allowing pets to tank when they should not have.
    
    * Rooted NPCs will now face the target again.  Somehow this got removed.

Author: Torven
Date:   Mon Jun 1 00:44:11 2020 -0700

    increased chance for blind to save throw

Author: Torven
Date:   Sun May 31 23:39:49 2020 -0700

    NPC Call for Help rewrite
    
    This commit refactors and simplifies the call for help logic.  Specifically, the following was done:
    
    * The three assist timers are now a single timer, which is 3 seconds.
    * The call for help cap is now just a limit done in the Yell for help routine without any sort of members used.
    * PrimaryAggro and AssistAggro bools are a single bool: 'assisting'.
    * The assisting bool logic now behaves this way: if the NPC becomes aggro by assisting an NPC that called for help, then assisting becomes true.  If true, that NPC will not call for help.  This prevents chain aggro and is what Sony does in modern EQ.  If that assisting NPC gains any more hate in any way, or even fails a witness check, then the bool is set false.
    
    Note that the previous logic was not calling for help frequently enough in some situations and this new logic will result in more assists; this is intended.
    
    The following fixes are also included in this commit:
    
    * Landing mez on an NPC will now trigger a call for help.
    * Blind and feared NPCs will now call for help.
    * NPC pets will now not attack until the NPC is struck; i.e. 'body pulling' by itself will no longer aggro NPC pets.
    * Killing an NPC with a single attack from an unaggro state will now depop the pet instantly.
    * Blind and feared NPCs that stop moving after the spells wear off and have no target to chase will now stop and no longer ghost.
    
    Note: My current understanding of how the call for help logic should function is incomplete and this is a best guess.  Currently on Live EQ, there does not appear to be ANY cap or limit to the number of NPCs that will assist in a single call for help.  I.e. if you stack a dozen mobs on top of each other, aggro one, then they all come.  Also, if you carefully 'body pull' the temple in PoFear, you'll get the entire temple all at once.  However an old Rashere (EQ dev) comment said explicitly that there was a limit:
    
    "When most NPCs call for help, they will only call for a small, set number of NPCs to respond to keep from swarming people with dozens of NPCs at once. There was a problem in the call for help routine that caused an NPC to not call for help again for a few seconds if it had already called for help and enough NPCs responded that they had met that maximum number the first time." -- Rashere September 2006
    
    So for now, I'm leaving the current default limit of 5 in.  However it seems weird to me that you could stack 100 mobs together, aggro one from a distance, and only get 6. (currently not possible on Live)  So I have some doubts as to Rashere's comment being true.  It wouldn't be the first time I've had reason to doubt something he's said.  There may have simply been more to the logic than he went into since he had reason to be brief in his comment. (very likely IMO)
    
    Also: from looking at my AK videos, it does appear that the call for help delay was about 3 seconds, so I can confirm that

Author: Solar
Date:   Sat May 30 14:51:17 2020 +0000

    Limit the rate of instant clicky spam

Author: Solar
Date:   Sat May 30 01:25:07 2020 +0000

    Critical heal implemented for lifetap spell heals

Author: Haynar
Date:   Tue May 26 16:03:48 2020 -0600

    Added a few missing break's found in a switch in zoneserver.cpp
    A pet on hold being attacked, will now stay held if it ripostes a attack.
    Selling too many items to a vendor, will no longer break the vendor.

Author: Robregen
Date:   Sat May 16 09:59:15 2020 -0700

    adjusted target_z 999999 on zonepoints.

Author: Robregen
Date:   Wed May 13 15:28:11 2020 -0700

    forgot to include comment.

Author: Robregen
Date:   Wed May 13 15:26:39 2020 -0700

    fixes for target_z and target_heading when zoning using 999999 and 999 respectively.

Author: Solar
Date:   Wed May 13 13:43:38 2020 +0000

    limit bolt range to 300

Author: Haynar
Date:   Wed May 13 07:25:51 2020 -0600

    Webhooks added zone info to message.

Author: Solar
Date:   Wed May 13 03:04:07 2020 +0000

    Implemented aimed bolt spells fired straight forward when nothing or self is targeted.  This makes the Flare spell work for lighting up a dark tunnel.

Author: Solar
Date:   Tue May 12 16:23:08 2020 +0000

    Exclude Illusion: Tree from Permanent Illusion AA

Author: Solar
Date:   Mon May 11 07:04:33 2020 +0000

    exclude Minor Illusion from Permanent Illusion AA

Author: Robregen
Date:   Sat May 2 15:05:17 2020 -0700

    added a missing newzone packet field "max_z"

Author: Robregen
Date:   Thu Apr 30 12:23:35 2020 -0700

    corpse_graveyard_timer will now use zone graveyard time column derived from newzone packet instead of using RuleI based time.

Author: Robregen
Date:   Tue Apr 28 18:57:25 2020 -0700

    correct QuestReward datatype for faction_mod in lua_client.cpp

Author: Robregen
Date:   Tue Apr 28 18:34:46 2020 -0700

    Remove the faction boolean and change the faction syntax in Questreward Lua.

Author: Haynar
Date:   Tue Apr 28 17:14:30 2020 -0600

    Nethook to discord - Added AA rate flag, when AA gained less than 30 minutes.

Author: Haynar
Date:   Tue Apr 28 15:20:56 2020 -0600

    Added fixes for groups getting bugged and for when you log back in stuck in a stale group.

Author: Haynar
Date:   Tue Apr 28 12:51:13 2020 -0600

    Made netcode changes to improve zone times.

Author: Robregen
Date:   Mon Apr 27 19:15:01 2020 -0700

    Merchant should no longer spam welcome message every time an item is being sold.

Author: Torven
Date:   Thu Apr 23 15:46:40 2020 -0700

    Fixed some issues with the AddLootDropToNPC() routine
    
    I had discovered two serious problems with this routine:
    
    1) Droplimits were dramatically increasing the number of dropped items and in fact where causing much more drops than if no drop limit were set at all in many cases.
    2) Items with multipliers were not being rolled correctly because of a copy-and-paste error (using 'i' instead of 'j' in a nested loop) and this was also accessing an array out of bounds.
    
    I need to outline how this routine is supposed to work because it really needs to be explained somewhere.
    
    This routine handles loot with three (now four) loops:
    
    Loop 1: If mindrop and droplimit are both 0, then the drop table adds loot as one would expect then returns.
    
    Loop 2: For tables with a mindrop > 0, all item chances are added up and rolled against the sum to force a drop, then is looped for each mindrop. (one roll per table loop)  This ensures that the drop chances in the table are what they suggest, however may cause more duplicate drops of items than one may expect because the loop resets when it drops an item; i.e. each individual mindrop rolls against the entire table. (Sony's logic may do this anyway?)
    
    Loop 3: For tables with a droplimit > mindrop; this is done after loop 2, which may or may not have executed.  This can't be done in loop 1 (or loop 1 moved under loop 2) because the developers' objective is to make the drop chances in the table match the literal drop percentile.  The problem with simply rolling each item individually and exiting the loop once X items drop is that the results will not match the % value in the database; e.g: 4 items at 25% each with droplimit 1 would result in an actual drop rate of about 68%.  I had pointed this out to eqemu devs years ago and KLS implemented a solution, however shit gets complicated when droplimit is 2 or more above mindrop, requiring some unintuitive logic.  In retrospect I think a better idea would have been to implement a boolean parameter to switch the table from rolling on items individually to rolling against the entire table at once instead of trying to mix them.
    
    Loop 3 does a single roll against either the sum of the item chances or 100, whichever is higher.  In that way the roll can allow the possibility that nothing drops while ensuring drop chances are as they suggest.  This works well if drop limit is 1 and mindrop is 0; however this creates some issues otherwise:
    
    1) It simply becomes impossible for more than one item to drop at the same time without re-running the loop, but rerunning the loop is counterintuitive when not handling mindrops; after all you wouldn't re-run loop 1.  The lower than expected drops from expected table % values was what allowed for multiples to drop in the first place.
    2) If you re-run the loop, you end up with too many drops; sometimes WAY too many drops depending on the table parameters.  That was happening.
    3) If you re-run the loop, you can end up with mindrop+1 drops of the same item (items with multiplier set to 1) which makes no sense.
    4) If mindrop>0, then the dropped items average is higher than expected; i.e. mindrop=1 droplimit=2 will drop significantly more items on average (even while the limit is enforced; varies depending on the item drop rates) than mindrop=1 droplimit<=mindrop.
    
    The quick and imperfect solution I put in was to run a different loop if droplimit is 2+ above mindrop.  It is essentially the loop that would have been used if we were not ensuring that drop chances are literal to the table data.  It randomizes the starting point of the items and rolls against them individually and exists once the limit is reached.  This mostly works because the higher the droplimit above mindrop, the closer the results will be to the literal table percentages, so drops using +2 droplimit will be much closer to the table % than +1 droplimit.  This does not fix problems 3 and 4 however, but will prevent high droplimits from creating a ton of items.
    
    A warning to content developers: Because of the way this method functions, having a mindrop > 0 and a droplimit > mindrop in the same lootdrop is not advised as it will result in higher than expected drop rates and possibly duplicate drops of the same item with mindrop 1.  The better practice is to use mindrops with probabilities and multmins to achieve the desired drop rates or to just keep mindrop 0.

Author: Torven
Date:   Fri Apr 17 22:47:21 2020 -0700

    Fixed issue with group spell item clicks/procs
    
    The isproc parameter wasn't being passed to SpellOnTarget() for some spell types like group buffs and I added it.
    
    This was causing an issue with certain bard insta-click items which were generating a large amount of hate.
    
    Also regen spells were applying too much hate when they landed.

Author: Haynar
Date:   Wed Apr 15 08:32:23 2020 -0600

    Empty corpses should depop faster after looted.

Author: Haynar
Date:   Wed Apr 15 07:33:27 2020 -0600

    Looting a corpse that is about to expire will no longer give a message that someone is already looting that corpse.

Author: Haynar
Date:   Tue Apr 14 22:44:54 2020 -0600

    Commented out some queries that were only used for logging.
    Added some webhooks, and new sql to run for notices.

Author: Haynar
Date:   Tue Apr 14 17:18:21 2020 -0600

    Rebuilt map path nodes around temple area of Cazic Thule zone.

Author: Torven
Date:   Mon Apr 13 19:56:38 2020 -0700

    Fix for AoE/Wild Rampage crashes
    
    AoE Ramp was crashing for two reasons, both caused by targets dying in the iterative loop.
    
    h->ent (or simply h) was going null mid-loop, so off-hand rounds were crashing when main-hand blows killed the target; and the list size changing caused crashes when iterating.  The former was easily handled but I couldn't get it to stop crashing without cloning the hate list. (fuck C++)  It's not the most efficient solution but it's probably the safest anyway

Author: Torven
Date:   Wed Apr 8 18:44:50 2020 -0700

    fix for manaburn crits, which I botched badly

Author: Torven
Date:   Tue Mar 31 21:44:44 2020 -0700

    New methods to adjust NPC det spell cast rate; Hybrid NPC cast rate increase
    
    New methods: NPC::SetCastRateDetrimental() and Lua_NPC:SetCastRateDetrimental()
    
    These allow you to dynamically adjust an NPC's detrimental spell cast rate.  Since we do not have a way to set this in the database for individual NPCs (which really should be an option) I needed to add these in order to adjust a scripted NPC's cast rate, otherwise an event would have been too easy/inaccurate.
    
    I also noticed that hybrid NPC detrimental cast rates seemed way too low, so I upped it.  I seem to have over-done it when I lowered it previously

Author: Torven
Date:   Sun Mar 29 20:49:44 2020 -0700

    Fix for ResumeWandering() which was skipping the waypoints after the paused WP

Author: Torven
Date:   Thu Mar 26 20:08:49 2020 -0700

    added eq.debug() with a default error level of 1 because it's annoying to keep adding the 1

Author: Torven
Date:   Tue Mar 24 23:44:03 2020 -0700

    Added methods to get NPC pointer from spawnpoint
    
    New methods: Spawn2::GetNPCPointer() and Lua_Spawn:GetNPC()
    
    This allows you to easily get the NPC object from a Spawn2 object which would otherwise have to be gotten by iterating through the NPC list and checking spawnpoint ids which shouldn't have to be done

Author: Robregen
Date:   Mon Mar 23 15:43:26 2020 -0700

    Change some animation enum to give a more meaning aligned with the in game emote commands.

Author: Torven
Date:   Sun Mar 22 20:01:24 2020 -0700

    Fix for proximity say event
    
    Proximity say functionality (which is when NPCs respond to say text while the player is not targeting an NPC) was semi-broken because the struct was not initialized and therefore reading random data for the bool member responsible for determining if the proximity region is a 'say region'.  In fact the code was not even setting this flag at all. (not sure it's even neccessary?)  anyway, I fixed it

Author: Robregen
Date:   Sun Mar 22 19:11:05 2020 -0700

    change wording to fix compile.

Author: Robregen
Date:   Sun Mar 22 18:59:43 2020 -0700

    change to upper cap.

Author: Robregen
Date:   Sun Mar 22 18:56:39 2020 -0700

    added missing anim in animation enum.

Author: Haynar
Date:   Sat Mar 21 20:26:44 2020 -0600

    Made changes to make zoning consistently faster.  This should be more consistent now, rather than just sometimes being faster.

Author: Robregen
Date:   Fri Mar 20 20:26:04 2020 -0700

    Replace hard coded 12 with EFFECT_COUNT in the two spots I see it used.

Author: Haynar
Date:   Tue Mar 17 22:10:12 2020 -0600

    Changed packet resends while zoning, to help prevent getting stuck zoning.

Author: Haynar
Date:   Tue Mar 17 17:20:16 2020 -0600

    Fixed some pathing around entrance of ssra, to help with massive trains that could be created pulling to entrance.

Author: Haynar
Date:   Tue Mar 17 17:18:59 2020 -0600

    Added some pathing improvements.

Author: Robregen
Date:   Tue Mar 17 15:37:52 2020 -0700

    fixed an issue where an NPC would not face the target when hail in new gcc compile.

Author: Solar
Date:   Tue Mar 17 07:31:10 2020 +0000

    Innate Lung Capacity AA fixed

Author: Solar
Date:   Tue Mar 17 05:39:38 2020 +0000

    - Bard AA Fading Memories implemented.
    - Cleaned up AA activation code a bit.  This changes the behavior of Dire Charm and Suspended Minion which were not going through the normal invis breaking flow when casting their spells.
    
    -- SQL update for AA abilities
     update aa_actions set nonspell_duration = 3600, reuse_time = 1 where aaid = 643 -- Project Illusion
     update aa_actions set spell_id = 0 where aaid = 630 -- Fading Memories
     update altadv_vars set spellid = 4294967295 where skill_id = 630 -- Fading Memories

Author: Robregen
Date:   Sun Mar 8 19:55:01 2020 -0700

    revert the last commit since it's hackish and there's another way around it.

Author: Robregen
Date:   Sun Mar 8 15:40:23 2020 -0700

    add a spawn animation "eaStill" to use for Quest NPC to not face target.

Author: Robregen
Date:   Sat Mar 7 16:49:45 2020 -0800

    removed unneeded faction checked in op_consider since getfactionlevel takes care of it.

Author: Robregen
Date:   Fri Mar 6 20:29:06 2020 -0800

    add another faction check for no combat zone.

Author: Robregen
Date:   Fri Mar 6 18:49:45 2020 -0800

    removed creditor in a comment from last commit.

Author: Robregen
Date:   Fri Mar 6 18:42:00 2020 -0800

    NPC will always conned indifferent in no combat zone such as PoK, Nexus, etc

Author: Haynar
Date:   Mon Mar 2 18:05:08 2020 -0700

    Added pathing nodes for Plane of Disease.

Author: Solar
Date:   Tue Feb 25 06:00:19 2020 +0000

    Fix an issue with world server checking account session limits during zone to zone transfer.  This 'should' fix the lost chat messages during zoning.

Author: Robregen
Date:   Sat Feb 22 12:25:55 2020 -0800

    Fixed an issue where a caster could bind anywhere in Kael.

Author: Solar
Date:   Sat Feb 15 21:58:19 2020 +0000

    allow Share Form of the Great Wolf to MGB even though it's a group only spell

Author: Solar
Date:   Sat Feb 15 17:48:20 2020 +0000

    categorize spells with invis, model size and illusion effects to be group only, even when cast with MGB (Sunskin, Foliage Shield, Selo` Song of Travel, Tiny Terror, Share Form of the Great Wolf).

Author: Robregen
Date:   Thu Feb 13 19:50:42 2020 -0800

    changed the log message that was not really an error with a stream being selected.

Author: Haynar
Date:   Mon Feb 10 17:17:58 2020 -0700

    The /pet hold command will cause pet to disengage mobs again like it used to.

Author: Robregen
Date:   Sat Feb 8 10:55:41 2020 -0800

    Created a new Lua api to summon item to cursor by default instead of adding extra parameters.   new api is e.other:SummonCursorItem(itemid) and e.other:SummonCursorItem(itemid,charges);

Author: Haynar
Date:   Tue Feb 4 22:24:48 2020 -0700

    Made changes to packet resends when zoning under packet loss, to try and improve zone success rates.

Author: Haynar
Date:   Tue Feb 4 21:12:41 2020 -0700

    Fixed some behavior of the /pet hold command, so it should function more like it was on AK.  It is no longer a single command, that puts pet on hold, backs them off and clears its hate list.
    Command /pet hold will no longer clear all aggro.  You will need to back off pet, if they are engaged to stop them attacking.
    If a pet is on /pet hold, using /pet follow or /pet guard (here) will no longer take the pet off hold.
    Using the command /pet follow me, will take the pet off hold, and they will follow their master.
    Using the command /pet attack [target] will take the pet off hold, causing them to attack target.

Author: Robregen
Date:   Sun Feb 2 14:14:46 2020 -0800

    forgot to include something.

Author: Robregen
Date:   Sun Feb 2 14:12:50 2020 -0800

    added a safety for target in QuestReward function.
    Matched the new QuestReward function to the old QuestReward function.

Author: Robregen
Date:   Sun Feb 2 13:10:18 2020 -0800

    Expand Lua's Client QuestReward function
    
    You can now use it to summon up to 8 items ex:
    `e.other:QuestReward(e.self, {items = {28745, 28092}, exp = 250})`
    
    This expands the version that takes a table. The new item is a table (in
    the main table) called items, which needs to be auto keyed like the
    example above. If you also provide the old itemid key, it will be
    ignored if the items is there. (credit to Mackal)

Author: Robregen
Date:   Sun Feb 2 07:43:17 2020 -0800

    Update Mac QuestReward Struct based on data type in MAC_NET_MSG_reward_MacMsg
    Update QuestReward Struct in eq_packet_structs.h (credit to Mackal)

Author: Robregen
Date:   Sat Feb 1 14:09:44 2020 -0800

    Add a lua table overload for Lua_Client::QuestReward (credit to Mackal)

Author: Torven
Date:   Thu Jan 30 23:48:01 2020 -0800

    NPC AI change for warrior shield ability
    
    NPC warriors will now look for wounded NPCs to shield instead of wounded NPCs looking for warriors.  I had it done the reverse way in order to save cycles but that was causing problems with NPCs not shielding when they should have.  The old logic was also just getting the nearest NPC and checking if it could shield and not checking for other nearby NPCs to shield if the nearest could not.  NPCs will now check 1/10th as often as before and shielding rates won't change much, so the old way probably didn't even save many if any cycles to begin with.
    
    New method: EntityList::GetNearestNPCs()
    renamed method: EntityList::FindNearestNPC() changed to EntityList::GetNearestNPC()

Author: Solar
Date:   Thu Jan 30 02:39:41 2020 +0000

    Bard AA Boastful Bellow special cased so it doesn't break invis and works while buffed with Divine Aura

Author: Solar
Date:   Wed Jan 22 04:22:43 2020 +0000

    detect client version for PPC Mac OS X clients in world server

Author: Robregen
Date:   Tue Jan 21 08:11:02 2020 -0800

    add an one-way depop pathgrid exception to on spawn current pause from previous commit.

Author: Torven
Date:   Sun Jan 19 16:00:58 2020 -0800

    New randompath behavior
    
    The randompath grid type will now use the closest waypoint as its current waypoint on spawning.  This allows multiple spawn locations to use the same grid without having the undesirable behavior of walking to the first waypoint through walls and ignoring waypoint nodes.
    
    NPC::GetClosestWaypoint() was renamed to NPC::GetClosestWaypoints() as it was filling a list of multiple waypoints.
    a new method NPC::GetClosestWaypoint() returns a single waypoint in the form of an integer.

Author: Robregen
Date:   Sun Jan 19 10:19:36 2020 -0800

    Roaming NPC will no longer pause after it spawned.

Author: Robregen
Date:   Sat Jan 18 20:45:59 2020 -0800

    add lua Mob:GetAppearance()

Author: Solar
Date:   Mon Jan 13 02:03:32 2020 +0000

    make PPC launcher use 'EverQuest' from current directory as the default app to launch

Author: Solar
Date:   Sun Jan 12 21:57:45 2020 +0000

    - EQ Mac PPC client support in login/world
    - EQPPCLaunch utility to launch CFM game app without EverQuestLP.app launch pad login

Author: Haynar
Date:   Tue Dec 24 14:40:24 2019 -0700

    Made small netcode changes to reduce resend timer, to help improve zoning.

Author: Haynar
Date:   Tue Dec 24 14:27:30 2019 -0700

    Added Rampage and Flurry to the Frenzied Burnout AA.
    Added SQL to run, to add the non-spell actions to the aa_actions table, for frenzied burnout.

Author: Torven
Date:   Sat Dec 21 22:43:51 2019 -0800

    Low health aggro bonus change
    
    The low health aggro temporary hate modifier is now equal to the NPC's CURRENT hp instead of its maximum HP which I had confirmed is Live server behavior today after it finally dawned on me to check this. (a stupid oversight to make, certainly)
    
    This explains some behavior I had noticed on AK where low health aggro would not hold when killing NPCs using a low HP kiter.  I had put in some logic to taper this modifier with distance because I didn't know what was causing it and I had to put in something to prevent exploiting it.  This taper was removed in this commit.

Author: Torven
Date:   Tue Dec 17 23:14:49 2019 -0800

    fixed an implementation mistake for neutral illusions

Author: Torven
Date:   Tue Dec 17 22:02:34 2019 -0800

    Restored some faction behavior that was changed last commit
    
    The see_illusion field for NPC factions now again only works on non-playable race illusions.  Keep in mind that the skip_illusions method argument will ignore ALL illusions and these two variables have different behavior

Author: Torven
Date:   Tue Dec 17 00:54:45 2019 -0800

    More changes to faction code
    
    * Illusions were modifying 'personal' faction (in some cases making it always 0!) and this incorrect.  Illusions now only change the race modifier.
    * #viewplayerfaction displays more details.
    * Code was simplified a little more.

Author: Torven
Date:   Sat Dec 14 13:21:14 2019 -0800

    forgot to remove some commented out unused code

Author: Torven
Date:   Fri Dec 13 22:25:24 2019 -0800

    Faction update code fix+mini rewrite
    
    The routines that handle granting faction hits to the client and displaying messages have been rewritten to both fix a logic error and to make it less messy.
    
    The error was that faction logic was using the 'personal' faction caps of -2000 to 2000 to cap modified faction which was flooring faction levels far too high, such that (for example) mistmoore faction with a base modifier of -2000 was resulting in zero negative faction hits being granted when the modified faction floor should go down to -4000.
    
    Client::UpdateAndSendFactionMessgage() and Client::SendFactionMessage() have been removed and messge code was put into UpdatePersonalFaction() instead, which now has a bool argument to turn on/off messages.
    
    The #viewplayerfaction command now displays the 'modified' faction range which is the effective faction range for the player after all racial, diety, illusion etc modifiers.

Author: Torven
Date:   Wed Nov 13 18:08:58 2019 -0800

    Merchant greed algorithm significantly improved
    
    The NPC::greed member was previously a counter that tracked how many buys/sells the merchant had from a player in order to scale merchant greed (which is custom behavior and not something EQ had or has) using a rule.  This was renamed to shop_count and the greed member is now an actual greed% value.  A greed field was added to the NPC types table.
    
    Merchant greed scaling is now extremely (but not quite absolutely) precise using an algorithm derived from curve fitting to price data obtained from Live servers.
    
    Amiable and above factions now grant the equivalent to having 11 extra charisma when prices are calculated.
    
    Listing the following verified NPC greed values for reference and comparison:
    
    most merchants = 0
    Flyndia Deeppockets = 5
    Boomba the Big = 50
    Ping Fuzzlecutter = 75
    Sonsa Fromp = 100

Author: Haynar
Date:   Tue Nov 12 22:38:38 2019 -0700

    Added netcode improvements for camping and zoning.
    Dire charm cast on a PC will reset the ability.
    Dire charm cast on an already charmed NPC will reset the ability.

Author: Torven
Date:   Sun Nov 3 12:03:52 2019 -0800

    Added misty merchant Sonsa Fromp to greedy vendors routine

Author: Torven
Date:   Sat Nov 2 16:17:50 2019 -0700

    * #showskills now works on NPCs.
    * Fixed a bug that was not granting the appropriate weapon skill values to NPCs that can spawn with a level range.  Previously if say, a mob could spawn as levels 10-14, the skills would always be 10 * 5.
    * Minor changes to the levels at which NPCs are granted skills.  Most notably kick is now granted after level 15.
    * Class checks were removed from the Special Atttacks routine.  They will now use any skill that has been granted to them. (i.e. any NPC can backstab if they have non-zero skill of it)  The class checks are done when skill values are assigned to the NPC in the constructor.  NPCs will use the most powerful attack that has been granted to them.

Author: Robregen
Date:   Sun Oct 27 19:10:10 2019 -0700

    add if condition to objuser from last commit.

Author: Robregen
Date:   Sat Oct 26 21:02:14 2019 -0700

    Container lock inconsistent state fix

Author: Haynar
Date:   Tue Sep 17 20:44:06 2019 -0600

    Changed some of the resend schema for zoning.  I had inadvertently left the max packets sent per cycle too high, which would contribute to LDs zoning.  This was put back down to the value that worked better.  Fixed an issue with resends zoning, to only resend un-acked packets.  It was resending all, which could contribute to not resolving zoning packet loss.

Author: Haynar
Date:   Tue Sep 17 20:44:06 2019 -0600

    Changed some of the resend schema for zoning.  I had inadvertently left the max packets sent per cycle too high, which would contribute to LDs zoning.  This was put back down to the value that worked better.  Fixed an issue with resends zoning, to only resend un-acked packets.  It was resending all, which could contribute to not resolving zoning packet loss.

Author: Haynar
Date:   Sun Sep 15 17:17:56 2019 -0600

    Fixed two issues where mob z location was not updating as the code intended.

Author: Robregen
Date:   Thu Sep 5 22:12:33 2019 -0700

    update glm definitions to cmakelist.txt

Author: Haynar
Date:   Mon Sep 2 21:02:31 2019 -0600

    Added a fix for scripted traps that spawn mobs, so they will not engage and attack.

Author: Haynar
Date:   Mon Sep 2 19:58:07 2019 -0600

    Reduced stream timeout delay.
    Changed resend schema for zoning.
    Fixed a mob movement issue when initially engaged.
    Set initial values for push_vector (hopefully ghosting/warping fix).

Author: Robregen
Date:   Mon Sep 2 16:30:57 2019 -0700

    Tinkering trivial greater than 0 only works on gnomes.

Author: Haynar
Date:   Mon Sep 2 16:49:19 2019 -0600

    Fixed a bug associated with the taunt skill being granted to all classes.

Author: Torven
Date:   Fri Aug 23 21:35:15 2019 -0700

    SetNoQuestPause() and Lua_ItemInst::GetName()
    
    New methods:
    
    Lua_ItemInst::GetName()
    NPC::SetNoQuestPause()
    Lua_NPC::SetNoQuestPause()
    
    New members:
    
    bool NPC::noQuestPause
    
    Something was needed to prevent wandering NPCs from stopping on say events (i.e. hails), because not all NPCs should stop.
    
    This is particularly important for escort quests.  I wasn't quite sure the best way to implement this, and the easy way seemed as good as any, so I just made a bool member.

Author: Torven
Date:   Fri Aug 16 22:26:37 2019 -0700

    Added Corpse::MoveToGraveyard() and Lua_Corpse::MoveToGraveyard()

Author: Robregen
Date:   Sun Aug 11 19:28:29 2019 -0700

    removed some glm files that was left in from older version.

Author: Robregen
Date:   Sun Aug 11 13:31:01 2019 -0700

    Updated glm library to 0.9.9.5 (from 0.9.8.4)

Author: Torven
Date:   Fri Aug 9 23:39:00 2019 -0700

    Change to the 'Bonus Tick' logic
    
    The bonus/extra tick that was previously applied to client spells (minus some bard songs) is now also applied to NPCs and fewer bard songs.
    
    When testing the Manaetic Behemoth encounter I had become aware of NPC spells not lasting as long as they should, and the investigation led me to this 'Bonus Tick' logic, which was not accurate.  The new logic is based on AK logs and many bard songs on Live servers.  I'm uncertain if this is 100% accurate but it matches every spell I've looked at.

Author: Torven
Date:   Fri Aug 9 21:50:43 2019 -0700

    fix for my secondary aggro yelling for help mistake

Author: Torven
Date:   Thu Aug 8 21:28:10 2019 -0700

    Random Path won't always go to first waypoint first with WP spawns on anymore

Author: Haynar
Date:   Tue Aug 6 18:40:55 2019 -0600

    Made changes to improve slow zoning.  Added a resend timer to final packets when a connection is flagged as closing.  This will assist in resends to finalize the packet queue better.
    Made an adjustment to the bugged group/raid prevention code.

Author: Torven
Date:   Sun Aug 4 22:00:36 2019 -0700

    New wander type: GridRandomPath; fixed an issue with WP spawning
    
    A new grid type, Random Path, was added.  This behavior will select a random waypoint and path to it by following the waypoint chain instead of moving in a direct line of sight path that ignores geometry.  This is the behavior that Sony's servers have implemented.
    
    Pause behavior using this type is different: it will ignore waypoint pauses on the way to the random destination.  Once the destination is reached, it will use the waypoint's pause time, or if that is zero, it will use the first waypoint's pause time, or if that is zero, it will use a hardcoded time of 38 seconds.
    
    Also in this commit is a fix to my dumb waypoint spawning logic error that was causing it to fail if the waypoint had a X Y or Z of 0.

Author: Torven
Date:   Fri Aug 2 23:10:57 2019 -0700

    resist adjust added to spell log

Author: Torven
Date:   Sun Jul 28 19:27:27 2019 -0700

    event_death and event_death_complete table values fixed
    
    Some of the event table data for these two events was wrong/bugged and have been fixed.  Some changes were made to make them more useful as well.
    
    event_death now returns an event table with the following:
    
    e.self and e.other as usual
    e.killer = Lua_Mob object of the mob with the final blow
    e.damage = damage of the final blow
    e.spell = Lua_Spell object of the spell if blow was a spell
    e.skill_id = skill ID number of the skill that killed the NPC
    
    event_death_complete now returns an event table with the following:
    
    e.self and e.other as usual
    e.killer = Lua_Mob object of one of the mobs/clients with kill rights as returned by GetDamageCreditTop(); not neccessarily the top damage
    e.damage = sum damage of the highest damage mob or group or raid
    e.spell = Lua_Spell object of the spell if final blow was a spell
    e.skill_id = skill ID number of the skill that killed the NPC
    
    e.killer in particular was not being set and is needed for PoP flagging scripts
    
    Lua spell objects appear to be broken and I'm not sure how to fix that, but at least the events now return a lua spell object

Author: Robregen
Date:   Fri Jul 26 14:35:47 2019 -0700

    Fixed a loop that can cause a crashed due to infinite loop in the reflect section of spells.cpp  (credit to Mackal for optimization)

Author: Robregen
Date:   Fri Jul 26 07:34:59 2019 -0700

    removed player skill frenzy since it's a GoD era Berserker unique skill.  This also fixed a crash with GM Trainer associated with gcc 5+ in linux.

Author: Robregen
Date:   Sat Jul 20 08:28:31 2019 -0700

    Added random graveyard corpse placement within +/- 20 units on X/Y axis to help spread corpses out.

Author: Torven
Date:   Thu Jul 18 19:56:38 2019 -0700

    spells that 'destroy' NPCs made to trigger EVENT_DEATH

Author: Haynar
Date:   Tue Jul 16 19:23:46 2019 -0600

    Updated pathing nodes for Plane of Justice (pojustice.path).

Author: Torven
Date:   Tue Jul 16 15:10:49 2019 -0700

    Mounts given an attack delay of 30 and immune to taunt special ability

Author: Torven
Date:   Sun Jul 14 23:45:06 2019 -0700

    chase timer disabled on velious giants only so trial of flame can work

Author: Robregen
Date:   Sun Jul 14 21:00:44 2019 -0700

    Adjust VARSTRUCT_ENCODE_STRING macros for smarter compilers such as newer GCC (credit to Mackal)

Author: Torven
Date:   Sat Jul 13 21:19:28 2019 -0700

    made non-engaged NPCs with a hate list run again

Author: Torven
Date:   Sat Jul 13 00:28:23 2019 -0700

    Change to NPC engaged logic
    
    A NPC is now considered engaged when it is actively attacking or chasing down target(s) and not merely if the NPC has a non-zero hate list.  This will make NPCs that are ignoring all haters behave more like unaggro NPCs.
    
    I needed to do this because on Live, if an NPC is ignoring all haters, its despawn timer ticks down and they fast regen.
    
    This also allows for cleaner code.  I concentraded the engaged logic in the AI process routine and the AI event calls only need to be called from that one location.

Author: Torven
Date:   Wed Jul 10 21:10:00 2019 -0700

    added language paramter to Lua_Mob::Say() and Lua_Mob::Shout()

Author: Haynar
Date:   Wed Jul 10 18:19:32 2019 -0600

    Added fixes for disconnecting while zoning.

Author: Haynar
Date:   Tue Jul 9 21:06:16 2019 -0600

    Added additional checks to help prevent groups and raids from being bugged.  Sometimes when someone gets disconnected zoning, they will skip the linkdead cycle.  And the server allows them to login right away.  In these cases, they will go back in the raid/group without bugging out better.
    Made some changes for zoning, to try and help with the super long zone times.
    Reduced some of the max packet sending rates to the client, to help prevent routers from disconnecting on massive packet situations like when doing AOE.
    Identical bard songs from two bards, with different instrument modifiers should land better.
    Started work on pre-calculation of some spell properties which are checked often in code, to reduce cpu in the busy spell casting code.
    Fixed a spell logging message that was missing a parameter.

Author: Torven
Date:   Tue Jul 9 17:30:22 2019 -0700

    added Lua_Mob::IsPet()

Author: Robregen
Date:   Sun Jul 7 18:33:38 2019 -0700

    Tinkering is no longer restricted to gnome.  Only gnome can raise skills with Tinkering.

Author: Torven
Date:   Sat Jul 6 23:05:28 2019 -0700

    removed rule NPCBashKickLevel because it was preventing scripted NPCs from bashing and the hardcoded skill values handle the min level anyway

Author: Robregen
Date:   Fri Jul 5 19:47:57 2019 -0700

    forgot to remove a line.

Author: Robregen
Date:   Fri Jul 5 19:45:17 2019 -0700

    added a correct string message for Project Illusion.

Author: Torven
Date:   Thu Jun 27 00:26:00 2019 -0700

    Fix for lua UpdateWaypoint()

Author: Haynar
Date:   Wed Jun 26 21:19:45 2019 -0600

    Fixed an issue with buffs that was introduced in last patch, where level of the caster can be overwritten, causing a reduced effectiveness of the buffs.

Author: Haynar
Date:   Wed Jun 26 20:40:33 2019 -0600

    Fixed an issue with camping introduced in latest patch.  Some code used for testing was committed inadvertently.

Author: Torven
Date:   Tue Jun 25 23:08:40 2019 -0700

    No Harm From Players now allows NPC damage from non-client pets

Author: Torven
Date:   Tue Jun 25 20:35:52 2019 -0700

    Cazic Touch no longer shouts player names in PoP zones

Author: Torven
Date:   Sun Jun 23 17:12:18 2019 -0700

    Modification to NPC inital aggro logic
    
    When an NPC is initially aggroed from a non-aggro state via proximity check, it will now add both clients and NPCs to the hate list simultaneously.
    
    Emu logic is currently to have clients scan for NPCs to attack it rather than the reverse.  This makes the code rather convoluted because the way it's supposed to work is that all clients and NPCs it hates should be added simultaneously if the NPC is unaggro and suddenly spawns in the middle of them.  So I had to put in 'if newly aggro, look for more stuff' logic in some places.
    
    I didn't rewrite the logic to instead have NPCs scan for attackables rather than the reverse (which would make more sense) because I don't know how that might affect server CPU use.  If somebody wants to try/refactor this later, have fun

Author: Haynar
Date:   Thu Jun 20 22:41:15 2019 -0600

    Fixed an issue with buffs not refreshing after zoning, when the caster has effective casting level increase effects like AA Jamfest.
    Improved sending buff worn off messages to original casters.
    Fixed an issue with stacking bard effects, which were not taking the instrument modifier into account.
    Improved some buff fading code, which was doing some extra unneeded checks.
    Changed how buffs are loaded after zoning, where it keeps track if buff was cast by a client.  This will now remain correct when zoning, and the caster not being in the new zone first.  It was dependent on finding the caster in the zone still.

Author: Torven
Date:   Wed Jun 19 22:03:15 2019 -0700

    fix for TeleportGroup() lua function

Author: Haynar
Date:   Sun Jun 16 17:28:17 2019 -0600

    Druid dire charm, Servant of Nature, will no longer lock spell casting bar when used on wrong type of mob.

Author: Haynar
Date:   Sun Jun 16 16:49:34 2019 -0600

    Beneficial spell haste focus effects will now work with the cancel magic line of spells and faction modifying spells like Alliance/Collaboration.

Author: Haynar
Date:   Fri Jun 14 14:34:29 2019 -0600

    Fixed group recourse spells to land again.

Author: Haynar
Date:   Tue Jun 11 20:40:03 2019 -0600

    Fixed a bug associated with pacify when it is resisted by mobs.
    Casting the same invis spell on someone else will now refresh, instead of giving an already invis message.

Author: Haynar
Date:   Tue Jun 11 20:24:13 2019 -0600

    When charm fades from a player, it will no longer strip all debuffs on NPCs.  Charm fading was triggering slow to be removed on cursed, when slower got charmed.

Author: Haynar
Date:   Tue Jun 11 20:23:01 2019 -0600

    Fixed something I broke with UCS netcode.

Author: Haynar
Date:   Mon Jun 10 20:10:23 2019 -0600

    Made changes to UCS netcode, to help with resends of packets.  This may or may not help stability.

Author: Haynar
Date:   Mon Jun 10 19:49:59 2019 -0600

    Fixed a bug with duration formula 2.
    Duration Increasing focus effects will now increase the duration of buffs from recourses, such as Vexing Mordinia.
    Spells will group recourses, should now benefit from duration increasing item focus effects.
    Made netcode improvements, which should improve slow zoning.

Author: Haynar
Date:   Wed May 1 17:04:23 2019 -0600

    Crash fixes

Author: Haynar
Date:   Tue Apr 30 17:39:00 2019 -0600

    Made some netcode changes to help improve chat channel reliability.

Author: Robregen
Date:   Tue Apr 30 16:15:05 2019 -0700

    Added safety to SuspendMinion spell index dereference -- Uleat EQEmu

Author: Haynar
Date:   Sun Apr 28 13:06:49 2019 -0600

    Made some pathing changes.  This fixes Kal'Vunar getting stuck trying to path back to guard position.  Hopefully it doesn't break too many other things.

Author: Haynar
Date:   Fri Apr 26 19:42:20 2019 -0600

    Updated MGB persist timer.

Author: Haynar
Date:   Fri Apr 26 19:38:14 2019 -0600

    Mass Group Buff ability will now be reset, when interrupting a MGB'able spell.  Fizzling the spell does not reset the MGB AA ability.

Author: Haynar
Date:   Tue Apr 16 20:49:18 2019 -0600

    Horses should now be useable while levitating over water.
    Added some netcode changes.  This is to help with desyncs and crashes when zoning.

Author: Haynar
Date:   Sun Apr 14 15:47:47 2019 -0600

    Fixed some weirdness with disbanding from a group, when you have a non-group member targeted.
    Fixed a client desync issue.

Author: Robregen
Date:   Wed Apr 10 20:18:32 2019 -0700

    Revert "fixed a possible world crash."
    

Author: Haynar
Date:   Tue Mar 19 18:40:21 2019 -0600

    Removed spell casting macro detection from pok, so people skilling up will quit firing off detects.
    Fixed a bug where group leaders pressing disband with members of different groups targeted, which can sometimes cause the other group to get bugged.
    Controlled pets attacking targets will have their 10 min deaggro timer reset, by telling them to attack the target again.  When no other hate is being added to pet, this will help keep them on their target and not back off.
    Fixed a bug with pathing, for teleports such as portals in Sanctus Seru.  Mobs will now move between the portals as they are supposed to.
    When fear lands on an NPC, it will now interrupt any spells being cast.
    Fixed a bug introduced last patch will npc spell casting filtering.
    Added a #showfilters command, to allow showing current server filter settings serverside, to allow debugging.

Author: Haynar
Date:   Tue Mar 5 21:08:22 2019 -0700

    NPCs that are rooted, should face their top hated target when no one is in combat range.
    Changed the defaults for adjusting best z, when mobs are in water.  The default setting now checks if the mob is in water, and only adjust their z to the ground if they not in water.  This should prevent cases where mobs seem to always be on the bottom.
    When someone is charmed, it was removing that entity from only npc hate lists.  If a player is charmed, they will also have a hate list.  So now a charmed entity will be removed from all hate lists.  This helps prevent two charmed players from fighting each other.

Author: Haynar
Date:   Mon Feb 25 20:11:26 2019 -0700

    Updated pathing in zone Cazic Thule

Author: Robregen
Date:   Mon Feb 18 18:51:17 2019 -0800

    fixed a possible world crash.

Author: Robregen
Date:   Mon Feb 18 18:23:27 2019 -0800

    ZoneDatabase::GetKarma crash fix credit to Akkadius

Author: Haynar
Date:   Tue Feb 5 20:31:11 2019 -0700

    Rooted mobs should face their targets better.
    Added a potential crash fix in streaming code for chat channels.
    Changed some of the keepalive code for chat channels, to help keep channels connected better with clients.  There were situations where the keepalive from the server would never send to client.  In low traffic situation, routers could close the connection sometimes.

Author: Haynar
Date:   Mon Jan 21 20:00:40 2019 -0700

    Rooted mobs should attack mobs close by better.
    Improved some mob pathing in water.
    Pets trying chasing mobs in water should do a better job.  They shouldn't go off in weird directions and get lost so much.
    Mobs pathing home, or to fixed locations should navigate obstacles better.  This should improve cases where mobs get stuck trying to pathing to waypoints, or back to spawn points.

Author: Torven
Date:   Tue Jan 15 11:38:34 2019 -0800

    Improvements to the recent wp_spawns option
    
    NPCs spawned with a grid in spawngroups with wp_spawns enabaled will now start walking their grids from the random waypoint instead of moving to the first waypoint.  This allows the feature to be more usuable (not just for random grids) and frankly makes more sense.

Author: Torven
Date:   Mon Jan 14 20:13:48 2019 -0800

    Fix for NPCs getting stuck in casting
    
    The recent problem with NPCs not moving or attacking was because IsCasting() checks for the spell ID being cast instead of the timer, and there was a place in the code that was disabling the timer and not resetting the rest of the cast variables.  This wasn't a problem until I hardcoded certain spell IDs to be uninterruptable, as the code would before have eventially reset the casting variables but after my modification did not when the target zoned/died mid-cast.
    
    I removed the timer disable in the SpellProcess() routine as it wasn't really needed and it should always reset the casting variables at the same time as the timer.  All logic paths in CastedSpellFinished() should reset the casting variables.
    
    I moved the hardcoded spell ID checks to the melee interrupt and spell interrupt routines instead of InterruptSpell() because that was a dumb place to put it as you'd want the spell to interrupt when targets die/zone

Author: Torven
Date:   Mon Jan 14 16:37:09 2019 -0800

    added a line in #npcstats to show spell casts to aid in tracking down AI bugs

Author: Torven
Date:   Tue Jan 8 22:06:15 2019 -0800

    QuestManager timers fix
    
    Quest timers for NPCs were not being removed from the lists that kept track of them when NPCs died, which was resulting in list entries pointing to newly spawned NPCs that were taking up the same place in memory, which is of course super bad.  This was granting paused timers to NPCs that should not have timers.
    
    The fix I implemented was to add the removal of paused timers in the stop timer routines and then stop the timers in the NPC deconstructor.
    
    The second list for paused timers should probably be removed and instead the timers should use the timer class' pause functionality rather than deleting and creating timers for each pause and resume, but that's a much larger commit and this is serious enough to patch immediately as it could bug out all kinds of scripts.

Author: Haynar
Date:   Tue Jan 8 22:10:22 2019 -0700

    Blind fleeing mobs should face their target now if in combat range.
    Fixed some issues with HP of targets never updating, if experiencing some packet loss.

Author: Torven
Date:   Sat Jan 5 16:18:42 2019 -0800

    fixed a couple of oversights on my part

Author: Torven
Date:   Sat Jan 5 15:51:53 2019 -0800

    New spawngroup field: wp_spawns (SQL required)
    
    I added a new spawngroup field, which is a boolean that if true changes the behavior of spawngroups this way:
    
    If the spawnpoint in the spawngroup has a grid, the NPC will spawn at a random waypoint location taken from its grid instead of the spawnpoint location.
    
    This was needed because A) Sony zones use this functionality for outdoor zone roamboxes by default anyway, and B) because it's an issue for fast respawning outdoor regions as the omission of this allows NPCs that should not be campable to be camped.
    
    Note that Cavedude's roambox additions also allow for random spawn locations when using roamboxes, but since we use mostly grids, we also need it for grids.

Author: Torven
Date:   Fri Jan 4 15:40:52 2019 -0800

    ResumeWandering() fix; loiter and waypoint timer fixes
    
    ResumeWandering() was breaking if the NPC was moved off of its waypoint loc, which made the method too unreliable to use, so it required a fix.  I made it stop the loiter timer and no longer check coordinates to execute.
    
    Setting the loiter timer to the waypoint pause time was breaking some scripted waypoint functionality as well.  ResumeWandering() would fail because the loiter time would be enormous (even on NPCs flagged NO_LOITER) as I am setting waypoint pause times to a huge value so the NPC will stay there until some player action triggers a ResumeWandering() call.
    
    Disabling the walk timer at the same time as setting the loiter timer was also breaking some waypoint functionality, because it was making NPCs ignore their waypoint pause when deaggroing and they would immediately wander to the next waypoint after I stopped the loiter timer.
    
    But resolving the above STILL didn't fix the issue I was having.  The walking timer was being set to 1 second when NPCs deaggro, which I assume was placed there just to make them pause for 1 second after killing something, but this was causing NPCs to immediately skip their waypoint pause delay and move to the next waypoint, which breaks scripts/grids that require long pauses. (and is potentially exploitable)  This is probably why we needed a loiter timer to begin with.
    
    I fixed this by only briefly pausing after deaggro if the time remaining was < 1 sec and pausing/resuming the walk timer like we currently do for the loiter timer instead of setting the loiter time to the walk timer, such that both timers need to expire before the NPC may move.  These timers could probably be consolidated.
    
    I also set a value of 0 to the pause_time member in the timer class in one of the constructors; the omission was causing randomly huge timer durations.

Author: Haynar
Date:   Tue Dec 25 19:36:04 2018 -0700

    Fixed several bad pathing areas in katta.path.
    Updated some pathing commands to show more info when connecting nodes manually.

Author: Haynar
Date:   Tue Dec 25 17:29:47 2018 -0700

    Fixed several pathing issues in Sanctus Seru.

Author: Haynar
Date:   Tue Dec 25 17:28:35 2018 -0700

    More pathing fixes.

Author: Haynar
Date:   Mon Dec 24 15:04:01 2018 -0700

    Updated pathing logic to allow mobs to navigate over water obstacles better.
    Added some missing pathing areas in VT.
    Added pathing to the tunnels in grimling.

Author: Haynar
Date:   Mon Dec 24 10:20:25 2018 -0700

    Dire Charm ability will once again reset on failures.

Author: Robregen
Date:   Sat Dec 22 15:15:30 2018 -0800

    excludes Luclin from dessert zones (area that consumes more water than normal)

Author: Torven
Date:   Sat Dec 22 00:09:15 2018 -0800

    High level kill bonus modifications; more accurate exp for 61-65; dire charm scaling
    
    * After combing logs and crunching numbers for a week, I have come up with a better approximation of Sony's high level kill bonus exp algorithm.  It matches the (admittedly limited) data quite well.  I doubt it gets better than this without some new data find or code leak.
    * Increased the exp required for PoP levels.  Logs were able to provide a rough estimate: 60-61 seems to be a bit under 2 AAs worth, and 61-65 seems to be roughly 4.5-5 AAs worth of exp.
    * Dire charm pets now take exp scaled to damage rather than two flat tiers.  Old dev posts were rather clear that it scaled.  Approximate exp gained will be roughly the same however. (either more or less depending on damage)
    * New server rule/option: ClassicGroupEXPBonuses which will if enabled (default is false) use the classic era group experience bonuses. (2-20% exp for 2-6 members)
    * New server rule: ServerExpBonus (default is true) which allows an admin to disable the server exp bonus if desired.
    * Added some more exp related debug/log info to make verifying exp accuracy easier.

Author: Haynar
Date:   Sun Dec 16 21:55:02 2018 -0700

    Pathing fixes for ramps

Author: Haynar
Date:   Tue Dec 11 20:34:57 2018 -0700

    Pathing updates.

Author: Torven
Date:   Tue Dec 11 18:26:38 2018 -0800

    reworked GetAggroDeaggroTime() to behave in a more obvious manner

Author: Torven
Date:   Mon Dec 10 23:36:14 2018 -0800

    Combat range check removed for proximity aggro ability as Live servers did not have this restriction

Author: Torven
Date:   Sat Dec 8 20:00:34 2018 -0800

    More anti-kiting code
    
    I added a lot more logic on top of Haynar's recent commit and changed his GetTopHateCount() to work differently so it could be used elsewhere.
    
    GetTopHateCount() (now in EntityList) now iterates through NPCs and adds up which are all targeting the mob argument.
    
    Basically I just made NPCs not assist on the kiter's train for 30 seconds after mobs in the kite deaggro, plus reduced the pull limit in the event of multiple kiters.  I also added a small chance for NPCs to warp on top of the kiter once the pull limit is exceeded.  This effectively prevents the kiter from re-aggroing lost mobs forever and just happens to be very AK-like (mob warps on AK were common)
    
    The logic necessary for this also allows #hatelist to show more information: time since last aggro (if not engaged) and time aggro (if engaged) and total NPCs targeting the selected client
    
    New methods in this commit:
    
    EntityList:GetTopHateCount()
    Zone::GetNumAggroedNPCs() - returns the number of NPCs in zone with a hatelist > 0
    Zone::SetNumAggroedNPCs() - used in the mob process loop
    Mob/HateList::GetAggroDeaggroTime() - returns either time since last hate wipe or time since aggro started
    
    The Zone class had some very old similar logic to try and keep track of the number of aggro mobs but it didn't work so I replaced it

Author: Torven
Date:   Thu Dec 6 16:34:34 2018 -0800

    #hatelist crash fix

Author: Torven
Date:   Thu Dec 6 11:24:17 2018 -0800

    Zone::GetPullLimit(); NPC exp multiplier, avoidance; AAs in #showstats
    
    NPC exp multiplier (default 100) is to allow individual experience levels to be set on an NPC type basis. (some NPCs award higher exp, like the level 67+ stuff in PoFire)
    
    Avoidance is a bonus value to allow NPCs to evade melee attacks more.  Mostly needed for VT bosses and PoWater bosses.  Would also be used for client avoidance stat if we wanted to implement Ykesha era bonuses again.

Author: Torven
Date:   Wed Dec 5 21:40:10 2018 -0800

    new database fields sql

Author: Haynar
Date:   Tue Dec 4 23:07:51 2018 -0700

    Add initial code which limits kite/train sizes.

Author: Torven
Date:   Sat Dec 1 22:29:00 2018 -0800

    fix for insta-click hate which I broke in a commit a year ago like an idiot

Author: Torven
Date:   Fri Nov 30 23:47:34 2018 -0800

    new lua function: GetHateAmount() with option to ignore bonus

Author: Torven
Date:   Thu Nov 29 20:10:14 2018 -0800

    Lifeburn fix

Author: Torven
Date:   Wed Nov 28 21:38:39 2018 -0800

    Removed more pursue AI junk; AI casting rate increased
    
    I increased the detremental spell cast rate for NPCs because it was so low that it was actually lower than the pursue rolls that I removed.  They really weren't casting enough.
    
    NPC clerics only have one nuke, so it doesn't really need a lower base cast rate than wizards, as the AI logic doesn't factor in how many spells the NPC has very well and the result is lower casts anyway
    
    Made clerics not nuke if they're under 50% hp, but the heal code is so aggressive that it doesn't matter much

Author: Torven
Date:   Wed Nov 28 20:07:32 2018 -0800

    fix to allow casters to heal while outside melee range of target

Author: Torven
Date:   Tue Nov 27 22:05:56 2018 -0800

    Beneficial aggro changes
    
    * Beneficial aggro now has a max range of 500, which was observed on Daybreak servers.
    * Beneficial hate resulting from spells not castable by the class (i.e. clickables, procs) is now capped at 400 like detremental hate.  Not 100% certain of this but it's likely accurate.  can't prove it until I get an item that lets me.
    * Bard hate was being added twice after Solar's recent changes, causing a serious issue with Shield of Songs.  I've commented the lines out instead of deleting them so Solar can take a look at them.

Author: Haynar
Date:   Tue Nov 27 22:05:17 2018 -0700

    Fixed an issue around zone line areas, where you cannot cast spells on your target.  This fixes issue around VT zonein.
    Made pathing changes, to help fix issues with mobs falling, like guards around Arch Lich in ssra.
    Sacrifice now used the same exp loss equations as death.
    Added some webhooks changes.
    Added some packet reduction for animations sent to clients, which get quite spammy in raid situations.

Author: Torven
Date:   Sun Nov 25 16:44:16 2018 -0800

    CH 8s recast time in mob AI

Author: Torven
Date:   Sat Nov 17 19:37:31 2018 -0800

    New methods: SetAggroRange() SetAssistRange()
    
    including the lua equivalents.  I needed something to prevent sitting on spawnpoints trivialzing the grimling war event

Author: Torven
Date:   Thu Nov 15 23:09:45 2018 -0800

    Push/cornering algorithm improvements
    
    My previous attempt to make corner detection work in angled corners was not working, and this commit has a good solution for this.
    
    Also I managed to fix the problem of mobs being 'sticky' to walls when pushing mobs at a near 90 degree angle to the wall.  I was erroneously using the dot product to reduce the glance vector magnitude when I should have been using the angle value.

Author: Haynar
Date:   Tue Nov 13 22:03:45 2018 -0700

    When players/npcs are charmed, only their dot spells will be removed from other npcs to prevent faction wars.  Debuffs will now be left alone, if they do not have a damage component.
    Made some changes to charm logic, to allow NPCs to have multiple charm pets.

Author: Haynar
Date:   Tue Nov 13 20:29:53 2018 -0700

    Added pathing improvements.
    Fixed some pathing areas in sseru and katta.

Author: Torven
Date:   Tue Nov 13 16:51:30 2018 -0800

    reverted some lull modifications

Author: Torven
Date:   Tue Nov 13 00:40:56 2018 -0800

    More Bash and Lull modifications
    
    * Lull spell aggro on immune NPCs put back in.
    * Level difference modifier removed for Lull spell resist rolls.  This still needs more research and may change again.
    * NPCs will now wait until 5 seconds have passed from the start of a gate attempt before attempting another gate if interrupted.
    * Pet bashes now use PC interrupt rolls.
    * PC bash interrupt chance on level 66+ NPCs now caps at 2%.
    * PC non-stunning bash interrupt chance on blue cons increased. (this was already always 100% on NPCs below level 50)

Author: Torven
Date:   Sun Nov 11 00:11:04 2018 -0800

    Lull aggro changes + Channeling rework
    
    * Lull spells no longer aggro lull immune NPCs.
    * Lull spells landing on immune NPCs now display a 'not affected' message.
    * Spell channeling has been reworked for PCs and NPCs.
    * NPCs will no longer have casts interrupted due to being pushed. (stuns will of course still work)
    * NPCs are now considerably harder to interrupt with melee.
    * NPCs will try to gate less aggressively when low health.

Author: Torven
Date:   Tue Oct 30 23:59:02 2018 -0700

    hardcode to prevent corpse drag into Emp room

Author: Torven
Date:   Tue Oct 30 21:25:08 2018 -0700

    AA exp capped at 100%; minor pet focus tweaks

Author: Torven
Date:   Tue Oct 30 00:31:52 2018 -0700

    Vendor Pricing Code Revamp
    
    I discovered that vendor prices were noticably off and vendors were selling items too cheaply and paying too much when buying from players.  Merchants were actually not even taking as much money as the client's chat output told the player.  I managed to come up with formulae that produce precise output (or within 1 copper at least) and implemented it in this commit.  Live prices seem to be the same as our era. (although their prices are off by a copper sometimes since they changed how their vendor packets work)
    
    Greedy merchant results however are not precise.  Not all greedy merchants are greedy by the same amount, either.  I may do more on this later, but this is pretty good.

Author: Torven
Date:   Fri Oct 26 21:20:47 2018 -0700

    NPC minimum cast time; dumbfire pet unsummons
    
    * NPC spell cast times set to a minimum of 1 millisecond so they send a 'begins to cast' message to clients, as this message is supposed to be recieved by clients for NPC instant-cast spells.
    * Dumbfire pets now cast Unsummon Self before depopping.

Author: Torven
Date:   Mon Oct 22 18:45:21 2018 -0700

    rejiggered EndShield() to be cleaner

Author: Torven
Date:   Sun Oct 21 23:18:50 2018 -0700

    Change to Z offset in LoS checks for permarooted mobs
    
    I modified CheckLosFN() routines so that permarooted NPCs use a Z offset that matches what Sony's offset was.  It's safe to do this since they don't move and can't be pulled somewhere with a low ceiling.  This was accomplished by merely using the database Z instead of modifying it.
    
    This was semi-required because some NToV dragons had some safe spots near them as their calculated 'head' point ended up too low.

Author: Torven
Date:   Sun Oct 21 20:00:09 2018 -0700

    Summoned Pet Random Name Generator
    
    The static array of pre-generated pet names was replaced with an implementation of Rygar's pet name research conclusions which can be found here: https://www.project1999.com/forums/showpost.php?p=2661968&postcount=12

Author: Torven
Date:   Sun Oct 21 16:38:28 2018 -0700

    Summoned pet corpses
    
    Summoned pets now leave corpses.  AK logs confirm that NPC summoned pets were lootable. (enchanter animations had temp loot)  Client pets were instantly disappearing and not death animating, so having them make a very brief unlootable corpse was an effective solution to that issue.
    
    /pet get lost and zoning is supposed to death animate summoned pets, but calling Death() on them produces killed/die messages and makes a 'pet's corpse' nametag, so I'm assuming that Sony had some sort of different packet for it or filled out the death packet in a way that Death() cannot handle.  Leaving that to devs more familiar with packets and op codes.

Author: Torven
Date:   Fri Oct 19 22:40:50 2018 -0700

    Committing minor stuff before branching
    
    * FD now breaks charm before feigning instead of after
    * Mez now breaks living shield
    * Fix in GetOffenseByHand()

Author: Haynar
Date:   Wed Oct 17 05:49:06 2018 -0600

    Updated pathing in sseru arx.
    Added pathing in vamp castle in tenebrous mountains.
    Improved maidens eye pathing in fort area.
    Added chat channel improvements to help with disconnects.

Author: Torven
Date:   Wed Oct 17 00:07:59 2018 -0700

    Lifebane no longer a lifetap; more pet stat adjustments

Author: Torven
Date:   Sun Oct 14 23:37:22 2018 -0700

    Pet stuff; Finishing blow fixes
    
    * Mote pet focus item adjustments.
    * NPCs wielding bane weapons will now correctly hit targets that are vulnerable to the weapons.
    * Charm will now fade when casting feign death.
    * Finishing Blow no longer triggers on non-fleeing targets.
    * Finishing Blow was hitting NPCs one level higher than it should have and this was corrected.
    * The to-hit bonus while under warrior berserker frenzy and the penalty from drunkeness were not being applied and this was fixed.
    * NPCs with Divine Aura spells on them are no longer prevented from attacking or moving.
    * Sanity check added to TryCriticalHit()
    * Pet offense is now equal to weapon skill value and AC now uses the database value.
    * #showbuffs now colors the text of the buff: green for beneficial, red for detremental

Author: Haynar
Date:   Wed Oct 10 19:57:16 2018 -0600

    Added initial Katta Castrum pathing.

Author: Solar
Date:   Tue Oct 9 06:00:07 2018 +0000

    Group buffs cast with MGB will receive spell haste focus benefit

Author: Haynar
Date:   Mon Oct 8 19:27:06 2018 -0600

    Added pathing improvements.

Author: Solar
Date:   Mon Oct 8 17:07:35 2018 +0000

    Made Pacify spell gain spell haste benefit from focus effects like the one on Ring of the Shissar, despite the duration limit that should exclude it. This agrees with the client calculation.

Author: Solar
Date:   Wed Oct 3 06:28:50 2018 +0000

    instrument mod tweaks

Author: Torven
Date:   Tue Oct 2 21:21:41 2018 -0700

    Pet focus item rework
    
    Pet focii code now ignores 'pet power' and instead hardcodes pet stats.  Pet power was implemetned after our era, and could not be used because bonus max hit damage varied per pet for the same focus. (also how it worked isn't even known anyway as far as I know)
    
    Focused pet stats are now more accurate for our era, and max hits should be precise in most cases.  Max HP is less certain, and AC+other stats very uncertain.  This is about as good as it'll get with the infomation available.

Author: Solar
Date:   Tue Oct 2 07:10:01 2018 +0000

    bolt spell tweaks
    - the model for the projectile still isn't correct but it's visible and shows the trajectory
    - when casting a bolt without a target it will fail instead of shooting the caster.  more work needed to make it shoot straight forward.

Author: Solar
Date:   Tue Oct 2 06:53:25 2018 +0000

    bard instrument mod tweaks

Author: Solar
Date:   Mon Oct 1 12:44:05 2018 +0000

    effective casting level focus changed to only reduce fizzles instead of scaling spells as if cast by a higher level

Author: Haynar
Date:   Sun Sep 30 22:52:07 2018 -0600

    Improved some pathing areas in SSRA Temple

Author: Haynar
Date:   Sun Sep 30 22:47:55 2018 -0600

    Fixed some pathing issues in water.  This should improve pathing in kedge and ssra water tubes.

Author: Torven
Date:   Thu Sep 27 20:35:16 2018 -0700

    lua BuffFadeByEffect() now shows worn off messages

Author: Solar
Date:   Wed Sep 26 23:28:43 2018 +0000

    prevent dueling players from buffing and being buffed by players other than their duel opponent

Author: Torven
Date:   Tue Sep 25 19:41:52 2018 -0700

    Area Taunt height cap raised; no longer produces 'interfere' text

Author: Solar
Date:   Sat Sep 22 15:53:45 2018 +0000

    don't apply singing modifier to Amplification bard song

Author: Solar
Date:   Sat Sep 22 07:16:18 2018 +0000

    preserve items in inventory cursor queue when swapping contents of cursor and world object container slot

Author: Torven
Date:   Fri Sep 21 00:19:14 2018 -0700

    20% rain fix; dumbfire pet stats; /shield break on charm

Author: Torven
Date:   Wed Sep 19 12:22:24 2018 -0700

    fix for my dumb GetTop() mistake

Author: Torven
Date:   Wed Sep 19 00:22:05 2018 -0700

    Dumbfire pets no longer kick/bash.  Mob::TypesTemporaryPets() removed (unused method)

Author: Solar
Date:   Wed Sep 19 05:46:54 2018 +0000

    change Afflicition Efficiency to work on all detrimental buffs, ignoring the effect 0 restriction limit in the focus

Author: Solar
Date:   Wed Sep 19 04:51:17 2018 +0000

    bard fixes
    - bard instrument mod fixes including puretone
    - changed the way bard spell pulses are applied
    - suppress did not take hold messages for bard group buffs that hit a player full on buffs

Author: Torven
Date:   Tue Sep 18 00:34:31 2018 -0700

    added nullptr check that looked needed

Author: Torven
Date:   Tue Sep 18 00:23:17 2018 -0700

    Pet hate stuff; DA rule
    
    * Rule 'Aggro:PetSpellAggroMod' removed.
    * Rule 'AlKabor:InvulnHateReduction' added because I know some of you guys want this kind of thing.  If true (default is false) it will halve the hate when a player is hit by a DA spell.
    * IsRainSpell() will now return better results.
    * Pet non damaging detrimental hate effects are now capped at 100. (this is an increase as before the rule combined with the 400 proc cap was reducing hate to 40)
    * Pet melee hate was cut in half.  Parsed results are now much more like I see in logs.  Pet hate was just way too high previously.  Unsure how Sony did it.
    * Pets now get hate bonuses again.
    * Reversed the recent change I put in that made NPCs ignore pet hate when summoning ranged attackers.

Author: Haynar
Date:   Sun Sep 16 15:03:22 2018 -0600

    Updated water tube pathing in ssra temple.  Mobs will now path through the tubes when moving between floors.  Fixed some pathing issues around ramps in tube rooms.

Author: Solar
Date:   Fri Sep 14 16:55:11 2018 +0000

    revert bard buff fading fix from last patch

Author: Torven
Date:   Sun Sep 9 21:41:11 2018 -0700

    removed hate lists modifier for DA spells

Author: Torven
Date:   Thu Sep 6 15:02:34 2018 -0700

    warrior /shield implementation complete

Author: Torven
Date:   Wed Sep 5 00:21:51 2018 -0700

    NPC melee hate reduced slightly

Author: Torven
Date:   Tue Sep 4 22:25:22 2018 -0700

    fixed issue with pet hate preventing NPCs from summoning out-of-melee-range haters

Author: Torven
Date:   Tue Sep 4 21:05:10 2018 -0700

    warrior /shield mostly complete

Author: Solar
Date:   Tue Sep 4 03:53:38 2018 +0000

    fix buff duration client desync when refreshing an existing buff on a bard player

Author: Solar
Date:   Mon Sep 3 01:37:22 2018 +0000

    apply spell pushup and pushback on bard pulses

Author: Torven
Date:   Sat Sep 1 15:45:37 2018 -0700

    fix for 2h bash AA

Author: Torven
Date:   Fri Aug 31 20:51:31 2018 -0700

    A few focus and spell crit fixes
    
    * Spell crits now multiply the damage before the focus damage is added. (result is smaller criticals)
    * Focus effects will now only focus spells that are castable by the class of the player.
    * Spell hate focus is now random 1-X%.

Author: Solar
Date:   Fri Aug 31 05:50:38 2018 +0000

    - Hybrid class innate spell was applying to some beneficial spells when it shouldn't have been
    - Wizard Quick Damage AA benefit set to 2/5/10% as in the AA description
    
    SQL:
    -- Quick Damage AA
    update aa_effects set base1=2, base2=0 where id = 1893;
    update aa_effects set base1=5, base2=0 where id = 1898;
    update aa_effects set base1=10, base2=0 where id = 1903;

Author: Torven
Date:   Thu Aug 30 19:54:31 2018 -0700

    neglected to comment out debug code

Author: Torven
Date:   Wed Aug 29 21:21:20 2018 -0700

    fixed an infinite loop I caused in #hatelist

Author: Torven
Date:   Wed Aug 29 00:10:53 2018 -0700

    meh, some stuff to clean up from previous commit

Author: Torven
Date:   Wed Aug 29 00:06:41 2018 -0700

    NPC corner sensing code now detects wider angles

Author: Solar
Date:   Tue Aug 28 13:06:05 2018 +0000

    Paragon of Spirit MGB/TGB is now possible.
    
    SQL to make this actually work:  update aa_actions set target = 4 where aaid = 291; -- Paragon of Spirit

Author: Torven
Date:   Thu Aug 23 21:43:42 2018 -0700

    AE Taunt and #hatelist fixes/additions
    
    * AE Taunt now puts taunter 100 points of hate above the previous top hater.
    * AE Taunt default range is now 18 units for all users.  (this is roughly Ogre melee range)
    * AE Taunt now displays skill messages indicating the NPCs hit to the user.
    * Combat range check removed from Mob::Taunt() and placed elsewhere so a range exceeding combat range can be passed to AETaunt() and pets won't say they're taunting from out of range.
    * #hatelist's sorting will no longer change who has the 'first in range' bonus.  New method HateList::GetFirstMobInRange() was created to accommodate this.
    * Pets will now taunt undead targets.
    * SE_AETaunt code removed because it's not a spell.

Author: Torven
Date:   Wed Aug 22 22:11:48 2018 -0700

    Soul Abrasion AA now works on spells with spellgroup 99 instead of hardcoding spell IDs

Author: Haynar
Date:   Wed Aug 22 12:29:35 2018 -0600

    Crash fix

Author: Torven
Date:   Tue Aug 21 22:29:50 2018 -0700

    ranged attack anti-exploit range minimum is now 350

Author: Haynar
Date:   Tue Aug 21 22:21:21 2018 -0600

    Improved pathing in ME around entrance to Akheva Ruins.
    Changed some of the LoS methods for transitioning between node and non-node areas.
    Fixed and issue with quiver haste that resulted in increasing bow proc rates excessively.

Author: Torven
Date:   Thu Aug 16 20:28:44 2018 -0700

    Flurry and Ramp fixes
    
    * The extra rounds from Flurry and Rampage no longer quad if the NPC is not dual wielding. (oops)
    * Area/Wild Rampage now hits the tank if the hate list == 1 entity

Author: Torven
Date:   Thu Aug 16 16:44:24 2018 -0700

    fear resist is no longer modified by CHA

Author: Solar
Date:   Mon Aug 13 03:06:21 2018 +0000

    MGB will no longer function on item clickies or auto cast recourse spells

Author: Solar
Date:   Mon Aug 13 01:35:32 2018 +0000

    MGB buffs will not hit pets anymore, only players

Author: Torven
Date:   Sun Aug 12 16:56:35 2018 -0700

    Revert "targeted AE spells now check LoS with the caster and mob instead of the target and mob"
    
    This reverts commit 3e6b030c611dd585b0403a05a0a015f334cc03f8.

Author: Torven
Date:   Sun Aug 12 15:27:22 2018 -0700

    targeted AE spells now check LoS with the caster and mob instead of the target and mob

Author: Torven
Date:   Sat Aug 11 23:48:03 2018 -0700

    code to remove corpses from rampage list

Author: Solar
Date:   Thu Aug 9 00:49:45 2018 +0000

    instant clickies will once again not have a casting message when they begin casting

Author: Solar
Date:   Wed Aug 8 03:33:05 2018 +0000

    enforce zone location type 2 (dungeon) restriction in spells.  the list of dungeons is probably incomplete and needs some research.
    acrylia, akheva, befallen, blackburrow, cazicthule, charasis, chardok, citymist, codecay, crushbone, crystal, dalnir, droga, frozenshadow, fungusgrove, griegsend, gukbottom, guktop, hateplane, hole, kaesora, karnor, kedge, kurn, mistmoore, najena, necropolis, nurga, paw, permafrost, potorment, powater, runnyeye, sebilis, sirens, sleeper, soldunga, soldungb, ssratemple, templeveeshan, thedeep, thurgadinb, unrest, veeshan, veksar, velketor, vexthal, warrens
    
    sql required:
    alter table zone add castdungeon tinyint(4) not null default 0;
    update zone set castdungeon = 1 where zoneidnumber in (154,179,36,17,48,105,103,90,200,58,121,104,81,111,157,163,66,65,76,39,88,102,64,97,59,44,123,107,18,73,207,216,11,89,125,128,31,32,162,124,164,129,63,108,109,112,158,101);

Author: Haynar
Date:   Tue Aug 7 20:17:36 2018 -0600

    Webhooks updates

Author: Solar
Date:   Wed Aug 8 00:37:34 2018 +0000

    copy pasted and messed up, fixing

Author: Haynar
Date:   Mon Aug 6 20:43:55 2018 -0600

    Added pathing in Maiden's Eye.  Mobs should path into zone in/out areas better.
    Improved pathing in Akheva Ruins.  Mobs should path around corners and up/down steps better.
    Improved pathing in Ssra Temple.  Mobs should go up and down ramps and corners better.
    Added #path processnew command, to only perform process function on nodes with no neighbors.  This allows adding select nodes easier.
    Charm on players should work again.

Author: Solar
Date:   Tue Aug 7 13:03:01 2018 +0000

    prevent Stoicism, Torpor from stacking with movement speed increasing bard songs to avoid client buff desync

Author: Torven
Date:   Tue Aug 7 00:27:23 2018 -0700

    high level exp bonus tweaks, the first of many

Author: Solar
Date:   Tue Aug 7 04:04:20 2018 +0000

    tweak casting and wear off messages for melee disciplines

Author: Torven
Date:   Mon Aug 6 20:46:41 2018 -0700

    high level kill exp bonus model

Author: Solar
Date:   Mon Aug 6 05:22:18 2018 +0000

    change Veil of Elements to be a fixed duration invis spell

Author: Solar
Date:   Mon Aug 6 04:27:50 2018 +0000

    fixed reverse damage shield effect not applying

Author: Solar
Date:   Mon Aug 6 03:52:34 2018 +0000

    disable critical heals on percental heal spells (Tunare's Request, Kragg's Mending, Karana's Renewal)

Author: Solar
Date:   Mon Aug 6 03:10:06 2018 +0000

    removed the chance of regaining concentration for players without the channeling skill (pure melee classes)

Author: Torven
Date:   Sat Aug 4 20:08:23 2018 -0700

    Exp required for PoP levels change
    
    Level mods for PoP levels were previously set such that exp required for each level was only slightly more than level 60-61's required exp. (which is supposed to be a fast level)  This commit changes the required exp to be more reasonable, but what Sony had it at is still unknown.  If you discover what it should be, feel free to change assuming we haven't launched PoP yet, otherwise don't unless you know how to change every user's experience value in the database correctly.
    
    Exp for levels 61-65 will each be roughly about what level 59-60 required, (less at 61, more at 64) but with players killing higher level stuff in zones with significant ZEMs, will still feel faster.
    
    Previous exp-to-next-level values:
    
    58: 63,819,900
    59: 89,334,600
    60: 53,463,000
    
    61: 56,739,200
    62: 60,143,200
    63: 63,677,400
    64: 67,344,200
    65: 71,146,000
    
    New exp-to-next-level values:
    
    58: 63,819,900
    59: 89,334,600
    60: 53,463,000
    
    61: 79,437,300
    62: 85,110,700
    63: 91,025,900
    64: 97,187,700
    65: 103,600,900

Author: Haynar
Date:   Thu Aug 2 22:14:57 2018 -0600

    Compile fix

Author: Haynar
Date:   Thu Aug 2 21:37:06 2018 -0600

    NPCs which summon players, will no longer use their z location as the player destination. Players will be summoned to the ground at NPCs location.

Author: Solar
Date:   Thu Aug 2 04:01:40 2018 +0000

    break invis properly when casting an AA ability and adjust how instant spells are cast so that innate camo works the way it should

Author: Torven
Date:   Mon Jul 30 22:22:56 2018 -0700

    accidentally included a file that shouldn't have been

Author: Torven
Date:   Mon Jul 30 22:20:17 2018 -0700

    client archery will now fail to shoot NPCs outside of NPC ignore distance

Author: Solar
Date:   Tue Jul 31 03:21:05 2018 +0000

    when force eating food from an inventory slot, check that the item about to be eaten is actually food before deleting it.  this should prevent accidentally eating backpacks when trying to eat foraged vegetables.

Author: Haynar
Date:   Mon Jul 30 20:53:25 2018 -0600

    Added pathing to caves and around entrance in Umbral Plains.

Author: Haynar
Date:   Mon Jul 30 20:51:44 2018 -0600

    Improved pathing from open spaces to area with path nodes.

Author: Solar
Date:   Tue Jul 31 02:09:34 2018 +0000

    load invis status from buffs earlier so invis players spawn as invis when entering zone

Author: Solar
Date:   Tue Jul 31 02:07:37 2018 +0000

    NPCs killed by Disintegrate spells should respawn normally now

Author: Solar
Date:   Mon Jul 30 07:44:09 2018 +0000

    Change Balance of Zebuxoruk debuff to subtract 75% from heals instead of adding 25%

Author: Torven
Date:   Sun Jul 29 23:42:55 2018 -0700

    non-summoned client pets have melee hate bonus again

Author: Solar
Date:   Mon Jul 30 06:18:36 2018 +0000

    Resummon wizard familiar pet if you have the buff when entering zone

Author: Solar
Date:   Mon Jul 30 05:27:02 2018 +0000

    Made AA titles visible to other players.

Author: Solar
Date:   Mon Jul 30 01:55:10 2018 +0000

    zone crash fix - bard AE song could affect connecting clients that didn't load yet, we ignore these now until they're fully in world

Author: Haynar
Date:   Fri Jul 27 08:58:29 2018 -0600

    Webhooks updates

Author: Solar
Date:   Fri Jul 27 05:26:32 2018 +0000

    remove buffs Yaulp V and Yaulp VI when sitting down or riding a horse

Author: Torven
Date:   Wed Jul 25 16:34:15 2018 -0700

    fix for rampage AA

Author: Haynar
Date:   Wed Jul 25 06:06:22 2018 -0600

    Initial Sanctus Seru pathing

Author: Robregen
Date:   Mon Jul 23 21:48:01 2018 -0700

    memory corruption fix in OP_ReqClientSpawn (secrets)

Author: Haynar
Date:   Mon Jul 23 21:27:41 2018 -0600

    Webhooks fixes

Author: Haynar
Date:   Sun Jul 22 22:07:25 2018 -0600

    Compile fix

Author: Haynar
Date:   Sun Jul 22 21:57:33 2018 -0600

    More webhooks stuff.

Author: Haynar
Date:   Sun Jul 22 13:13:37 2018 -0600

    Zone line regions will no longer block line of sight.  Like around the entrance to VP in Skyfire.

Author: Haynar
Date:   Sun Jul 22 11:09:43 2018 -0600

    Sitting HP regen on a horse will be negated while moving or attacking.
    Added a check to prevent going linkdead when you finish camping.

Author: Haynar
Date:   Sun Jul 22 10:38:46 2018 -0600

    Sitting mana regen while on a horse will no longer apply while moving or with auto attack turned on.

Author: Solar
Date:   Sun Jul 22 05:10:15 2018 +0000

    exclude horses from area effect spells

Author: Solar
Date:   Mon Jul 16 06:48:39 2018 +0000

    chat language fixes

Author: Robregen
Date:   Sun Jul 15 15:14:00 2018 -0700

    Changed the default rule setting for Character, DisableAAs to false.

Author: Solar
Date:   Sat Jul 14 06:51:45 2018 +0000

    stop riding horse when entering indoor zone

Author: Solar
Date:   Fri Jul 13 05:48:39 2018 +0000

    queued guildchat message filter fix

Author: Haynar
Date:   Sun Jul 8 18:55:01 2018 -0600

    Fixed some pathing issues associated with pathing nodes and also while under water, such as in kedge.

Author: Solar
Date:   Tue Jul 3 05:17:41 2018 +0000

    - Chat channel queues (not related to UCS channels): messages to cross zone channels like raid/group/guild/tell will be saved and delivered to clients when they finish zoning.  Players should not end up missing any chat messages due to zoning anymore.
    - Languages implemented for all the chat channels that support them (not related to UCS channels)

Author: Haynar
Date:   Sun Jul 1 21:24:35 2018 -0600

    Fixed a bug with last commit.

Author: Haynar
Date:   Sun Jul 1 21:02:05 2018 -0600

    Improved mob transition into water while pathing.
    Added more glm lib optimizations of raycast code.

Author: Haynar
Date:   Sat Jun 30 20:53:58 2018 -0600

    Updated path nodes in Paludal Caverns

Author: Haynar
Date:   Thu Jun 28 17:09:31 2018 -0600

    Fixed issue with mobs not following into water.

Author: Solar
Date:   Tue Jun 26 04:19:06 2018 +0000

    Fixed a bug that caused some queued tells to be lost while zoning

Author: Haynar
Date:   Mon Jun 25 21:20:04 2018 -0600

    Updated some UCS timings.
    
    Added additional CPU optimizations.

Author: Haynar
Date:   Fri Jun 22 21:33:21 2018 -0600

    Added a message for keys being added to the keyring.

Author: Haynar
Date:   Fri Jun 22 17:02:05 2018 -0600

    More mob falling below world fixes.
    Added some CPU usage reductions.

Author: Solar
Date:   Fri Jun 22 22:31:43 2018 +0000

    Mana stealing spell tweaks
    - Theft of Thought can no longer fizzle when attempting to cast on a non-caster mob, it's interrupted prior to the fizzle check.
    - Mind Wrack, Wandering Mind and Scryer's Trespass act as mana-tap-over-time spells and can no longer be cast or procced on non-casters.

Author: Solar
Date:   Thu Jun 21 03:29:30 2018 +0000

    - minor logging fixes
    - special treatment for item Bracelet of the Shadow Hive to allow casting while moving by any player including non bards

Author: Torven
Date:   Mon Jun 18 16:57:34 2018 -0700

    Riposte fixes
    
    * Archery should no longer be riposted by Enraged NPCs.
    * The IMMUNE_RIPOSTE special ability looked like it was coded incorrectly, so I changed it. (Cavedude: tell me if I'm wrong.  No NPCs are flagged with it from what I can see)  It now allows the NPC to melee without its attacks from being riposted.  Previously it was disabling ripostes from the flagged NPC when other entities attacked it, almost as if it had 0 riposte skill.
    * Riposte code refactored a tiny bit.

Author: Haynar
Date:   Fri Jun 15 17:19:24 2018 -0600

    Added a quick fix for Riposte Disc vs Enraged mob, to prevent crashing.
    Changed some of the fixes for falling below world.
    Added back keep alive packets for UCS.  Since it was more stable before.
    Fixed an issue with how mobs calculate fear points when feared or fleeing, to prevent falling below world as often.

Author: Haynar
Date:   Sat Jun 9 22:33:42 2018 -0600

    Added Pathing nodes to caves, tunnels and building area in Jaggedpine Forest.

Author: Torven
Date:   Sat Jun 9 02:12:14 2018 -0700

    beneficial innate NPC procs no longer aggro again.  Seems I had removed this erroneously thinking it handled elsewhere

Author: Torven
Date:   Fri Jun 8 23:11:16 2018 -0700

    Proximity Aggro behavior modifications
    
    Engaged NPCs flagged with the Proximity Aggro special ability will now only add new (faction appropriate) melee range entities to their hate lists if they are closer in range than the current target.
    
    The 'first in range' +35 hate bonus now functions differently for Proximity Aggro NPCs.  It is now applied to the closest entity instead of the first entity in the list.

Author: Haynar
Date:   Thu Jun 7 22:32:47 2018 -0600

    Updated path nodes for Grieg's End

Author: Haynar
Date:   Thu Jun 7 10:33:18 2018 -0600

    Updated pathing around entrance of Velktor's.

Author: Haynar
Date:   Sun Jun 3 11:28:40 2018 -0600

    The #suspend and #ban commands will now remove world authentication, to completely remove the player from the world.

Author: Haynar
Date:   Sun Jun 3 11:16:57 2018 -0600

    The #kick command will now remove the world authentication.  So it should send all the way to server select.
    Using /camp desktop will remove world authentication, so it will more reliable shut down the client.
    Mobs will now correct their z location better when they get in combat range.  This helps correct mobs that have fallen below the world.
    Removed a keepalive function that was send in chatserver stream, as the client completely ignored it.
    Improved behavior when a mob is chasing a client or npc over water transitions.  This helps prevent mobs from falling below the world.

Author: Torven
Date:   Sun Jun 3 03:46:43 2018 -0700

    Pets no longer get a hate bonus

Author: Robregen
Date:   Sat Jun 2 21:08:27 2018 -0700

    fixed SpellBuffFade_Struct in mac_structs.h to match Secrets' bard modifier fixes in eq_packet_struct.h.

Author: Robregen
Date:   Sat Jun 2 09:55:49 2018 -0700

    Bard instrument mods identified in OP_Buff. (Secrets)

Author: Haynar
Date:   Sun May 27 09:28:29 2018 -0600

    Changed some chat channel settings to prevent chat channel lag, and reduce time out disconnections.

Author: Haynar
Date:   Sun May 27 09:17:14 2018 -0600

    Fixed an issue that results in leaving the client in a sitting state using eye of zomm.

Author: Torven
Date:   Sat May 26 12:29:39 2018 -0700

    fix for NPC buffs on NoTarget NPCs

Author: Torven
Date:   Fri May 25 15:59:53 2018 -0700

    blind tick save throws

Author: Haynar
Date:   Wed May 23 21:19:39 2018 -0600

    Added pathing nodes for Vex Thal

Author: Haynar
Date:   Sun May 20 17:34:49 2018 -0600

    Added path nodes for The Deep.

Author: Haynar
Date:   Sun May 13 13:04:17 2018 -0600

    Added pathing nodes to caves and buildings area in Fungus Grove.
    Fixed a log define for skillups associated with language.  The mask was a float when the value used was an int.
    Removed sending a skill change for language skillups, as client ignores this.  You must zone for language skillups to show client side. This is a client limitation.

Author: Haynar
Date:   Sat May 12 17:35:10 2018 -0600

    When a gate collapses, pets will no longer be dismissed or charm broken.
    When left behind on a succor spell, pets will no longer be dismissed.
    Moved where pet is removed for succor.  This should prevent charm from breaking before leaving the zone.
    Changed how charm and fear work on the client.  This will prevent the client from being stuck in a locked up state.
    When a eye of zomm spell is cast, the client will no longer freeze immediately.  The client movement will now be frozen when the perspective switches to the eye.
    Fixed an issue when a player was charmed, that caused them to move at warp speed when not aggro.  They will now move to their master as normal speeds.
    Fixed an issue when a player goes LD while zoning, that helps prevent groups/raids from getting bugged.

Author: Haynar
Date:   Fri May 4 21:55:31 2018 -0600

    Added pathing nodes to Echo Caverns

Author: Haynar
Date:   Wed May 2 20:31:35 2018 -0600

    Feign death will now only give a fallen to the ground message on roll failures.
    
    Feign death will fail 100% if attack is on.  This also includes monks now.  It only failed with attack on, for spell based FD before these changes.

Author: Haynar
Date:   Tue May 1 22:00:27 2018 -0600

    Changed how NPC pet positions are updated while following their owner.  This is an improvement to cpu and data rate usage.  This also prevents a constant update of a pet position being sent out all the time while following.

Author: Robregen
Date:   Thu Apr 26 08:50:27 2018 -0700

    changed the xp loss modifier to 16%

Author: Robregen
Date:   Thu Apr 26 07:58:42 2018 -0700

    dying at level 60 will now give 20% xp loss.

Author: Torven
Date:   Tue Apr 24 01:16:14 2018 -0700

    disease counter hate removed and poison counter hate is now equal to standard spell hate

Author: Haynar
Date:   Tue Apr 17 20:04:39 2018 -0600

    Webhook updates.
    Added some checks to help pets recover from falling below world.

Author: Torven
Date:   Tue Apr 10 22:04:40 2018 -0700

    Loottable crash bug fix
    
    d_melee_texture1 is ending up in equipment[] somehow, resulting in null returns from database.GetItem() because texture IDs aren't item IDs.
    
    Somehow this is only resulting in crashes for Ornate Bridles (an AMMO slot item; should NPCs be trying to equip AMMO items?) and not melee weapons.  I am too unfamiliar with this code to do a proper fix, so I'm just putting in a null check.  This however will become a very minor issue if custom servers create new items using low item ID numbers, as the item stats the NPC equip code compares items with will be wrong.

Author: Haynar
Date:   Tue Apr 10 20:23:52 2018 -0600

    Step 1 of converting raycast mesh to use glm library.

Author: Haynar
Date:   Tue Apr 3 21:56:57 2018 -0600

    Webhooks update

Author: Haynar
Date:   Mon Apr 2 19:07:13 2018 -0600

    Added compiler options to improve code performance.

Author: Robregen
Date:   Mon Apr 2 14:45:39 2018 -0700

    added 2 missing bodytype.

Author: Torven
Date:   Mon Apr 2 07:32:46 2018 -0700

    prevent NO_LOITERING from overriding CORPSE_CAMPER

Author: Torven
Date:   Fri Mar 30 14:18:15 2018 -0700

    FaceTarget() API function fix

Author: Torven
Date:   Thu Mar 29 14:36:13 2018 -0700

    Root resist changes; NPC off-hand equipping fix
    
    * NPCs will now equip non-weapon off-hands (e.g. instruments, glowing black
      stone, stat books)
    * Root tick saving throws on low MR targets are now less likely to succeed.
    * Roots will now break more easily when casting direct damage spells against
      rooted targets that are not around the same level as the caster.
    * New server rule: RootMinResist

Author: Torven
Date:   Sun Mar 25 05:52:11 2018 -0700

    Mob Spellcast AI Modifications
    
    * NPCs were previously not casting spells set to use the snare AI logic if
      they were in melee range of their target and they now do so.
    * Removed the 'DontDotMeBefore' variable because it made little sense when
      the logic checked for the dot existing on the target.
    * Removed the 'DontHealMeBefore' variable because god knows why it was
      implemented.
    * Spell AI logic for type Nuke was ignoring the roll and always casting the
      first nuke spell due to omitted parentheses (my bug) that went unnoticed
      because default spell sets with multiple nukes had recast timers.  This is
      now fixed.
    * NPC spellcast AI now modifies the roll for casts based on the number of
      spells available to the NPC.  This will allow spells lower on the list a
      better chance to cast; as well as increase the cast rate for NPCs with
      only 1-3 spells.  (boy does NPC spellcast AI need a rewrite)

Author: Haynar
Date:   Wed Mar 21 21:55:32 2018 -0600

    Fixed issues that caused zoning to the safe points by mistake.
    Added another fix for mobs being stuck below the world in roamboxes.

Author: Haynar
Date:   Tue Mar 20 20:45:14 2018 -0600

    Added fixes to prevent mobs from falling below world.

Author: Haynar
Date:   Sun Mar 18 17:59:09 2018 -0600

    Worn damage shield bonuses should now apply.  This will fix the DS on Talisman of Vah Kerrath.

Author: Haynar
Date:   Sun Mar 11 19:58:55 2018 -0600

    Changed handling for "clients left behind" from Succor type spells.  This makes being left behind work properly and prevents unsolicited zone requests.  Adjusted rate at which clients are left behind, based on data within the client.

Author: Haynar
Date:   Sun Mar 11 14:10:58 2018 -0600

    Client triggered gate collapses should no longer send you to the safe coordinates of the current zone.

Author: Haynar
Date:   Sun Mar 11 14:07:51 2018 -0600

    Added combat range fixes.

Author: Torven
Date:   Wed Mar 7 23:59:40 2018 -0800

    fixed old bug that was making the initial resist check on charm spells resist more than they should

Author: Torven
Date:   Wed Mar 7 20:53:45 2018 -0800

    Charm logic modifications
    
    * The charm break logic was simplified to make more sense.
    * Charm will now hold longer on targets with higher MR.
    * Average charm duration at lowest MR remains the same.
    * The resist bonus on charm targets that are higher level than the caster no
      longer applies to NPC casters.
    * NPC AI altered to allow charming/mezing NPCs to cast those spells more
      often.
    * New rule: CharmMinResist (default is 12) which replaces deleted rule
      CharmBreakChanceCheck.
    * Default value for rule MaxCharmDurationForPlayerCharacter is now 21.

Author: Torven
Date:   Sat Mar 3 19:36:44 2018 -0800

    removed a pointless delay added to mob AI spell casts when mobs spawn, which was affecting script spawned NPCs

Author: Robregen
Date:   Fri Feb 23 09:19:33 2018 -0800

    change windows files to executable files

Author: Haynar
Date:   Thu Feb 22 17:34:25 2018 -0700

    Added fixes for mobs falling under world, due to union enforced, anti-flying dragon changes.

Author: Haynar
Date:   Tue Feb 20 21:34:07 2018 -0700

    Dragons can no longer fly.
    Updated pathing in water, so there is less z warping.

Author: Haynar
Date:   Sun Feb 18 18:20:28 2018 -0700

    Added macro tests for complete heal and fishing.

Author: Torven
Date:   Sat Feb 17 20:04:09 2018 -0800

    SetSkill() added
    
    SetSkill() for NPCs added along with a Lua Mob method to adjust skills.
    
    This was added because a handful of NPCs (Seru and Emperor) have skills
    atypical to their class. (these two NPCs have the block skill)

Author: Haynar
Date:   Sun Feb 4 22:27:47 2018 -0700

    Webhooks updates.

Author: Robregen
Date:   Thu Feb 1 10:51:27 2018 -0800

    correct the destination to the lua module directory

Author: Robregen
Date:   Thu Feb 1 10:12:01 2018 -0800

    added eqemu_config.json support (xackery)

Author: Robregen
Date:   Wed Jan 31 17:59:34 2018 -0800

    Added Json library / framework

Author: Torven
Date:   Wed Jan 31 02:47:28 2018 -0800

    granted NPCs a 1.2 spell range multiplier, which Demonstar found in decompiles

Author: Torven
Date:   Tue Jan 30 20:16:30 2018 -0800

    fixed weapon bane damage wielded by NPCs

Author: Torven
Date:   Sun Jan 28 19:31:39 2018 -0800

    slam fix for non-bashing classes w/ shields

Author: Haynar
Date:   Sun Jan 28 13:02:20 2018 -0700

    Feign death will now only give fallen to the ground messages on roll failures.

Author: Torven
Date:   Sat Jan 27 06:32:02 2018 -0800

    Ignore distance and loiter fixes
    
    A needed NPC position update that was removed in a previous commit was
    reimplemeneted.  I assume it was removed because it was causing problems,
    however it was there for a reason and I put it back in with some extra
    safeguards.  The problem that required it was that NPCs that 'fake deaggro'
    from ignore distance would ghost and disappear instead of stop because that
    circumstance was not handled at all in the AI_Process() routine.
    
    AICheckClientAggro() and AICheckNPCAggro() were previously not proximity
    aggroing on new mobs when the NPC had hated entities on its list and they
    were all outside of ignore range.  This caused an exploitable scenario
    whereby a player could aggro NPCs, run out of range, then all these NPCs
    would not proximity aggro on anything, even after they had gone back to their
    guard location.
    
    The corpse camping special ability was broken in a previous commit and has
    been fixed.

Author: Haynar
Date:   Wed Jan 24 21:56:30 2018 -0700

    Webhooks fixes.
    Class and Race will now show in the #alliance feed.

Author: Haynar
Date:   Tue Jan 23 22:24:26 2018 -0700

    Webhooks fixes

Author: Haynar
Date:   Mon Jan 22 20:05:53 2018 -0700

    webhook updates

Author: Haynar
Date:   Sun Jan 21 20:03:04 2018 -0700

    Better encoding fix for webhooks.

Author: Haynar
Date:   Sat Jan 20 22:53:46 2018 -0700

    Added a webhooks http/1.1 encoding fix for abnormal characters.  This was causing them to not be % escaped correctly, leading to an overflow and a crash.

Author: Haynar
Date:   Sat Jan 20 20:21:36 2018 -0700

    Fixed an issue which could result in one or more characters zoning slower, when simultaneously zoning multiple characters.
    
    Improved how packet updates are sent while moving.  This should improve autofollow behavior when moving in a straight line.

Author: Haynar
Date:   Fri Jan 12 19:47:49 2018 -0700

    Added webhooks converting item links to point to allaclone.
    Cleaned up more webhooks stuff.
    Added logging to gm /kill command.

Author: Haynar
Date:   Wed Jan 10 21:43:28 2018 -0700

    Fixed webhooks to send to correct channels.

Author: Haynar
Date:   Sun Jan 7 19:42:39 2018 -0700

    More webhook adjustments.
    Fixed issue with #petition list, not displaying the time correctly.

Author: Haynar
Date:   Sun Jan 7 12:32:03 2018 -0700

    Added more webhooks options.

Author: Haynar
Date:   Sat Jan 6 20:33:14 2018 -0700

    updated cmake find for curl lib

Author: Haynar
Date:   Sat Jan 6 20:27:06 2018 -0700

    cmake updates

Author: Haynar
Date:   Sat Jan 6 19:40:20 2018 -0700

    Updated cmake for curl.

Author: Robregen
Date:   Sat Jan 6 18:06:49 2018 -0800

    add install package to wercker.yml

Author: Haynar
Date:   Sat Jan 6 18:39:16 2018 -0700

    Initial webhooks commit.

Author: Torven
Date:   Sat Dec 23 05:51:20 2017 -0800

    More crit stuff; NPC item haste; holyforge
    
    * Holyforge crit and slay chances are no longer added to slay undead and AA
      crit chance.  The higher chance is used.  This was made additive in a Dec
      2004 patch.
    * Holyforge crippling blow chance fixed.
    * Holyforge/slay undead damage is now very close to Live's, but this is wrong
      for our era.  Will change this later if I can figure it out, but I have
      little data.  (AK damage seems to be a little higher but with possibly lower
      min hits, hard to say)
    * Holyforge crits now only occur on undead targets.
    * Charmed NPCs again use item haste.
    * Strength buffs on pets were erroneously capped in a recent patch and this
      is now fixed.
    * 'beams a smile' text no longer sent when spell is not castable by the mob.
      This prevents the text from being sent on lifetap proc weapons such as the
      goldrenrod.
    * NPC Magic weapons no longer disarmable.
    * CanTalk() check placed into NPC::Disarm()
    * Disarm success rate formula redone.  It now rolls against the target's
      offense skill.  Success rate was also made more reasonable.  Note that this
      formula (and the previous one it replaced) is not based on any data and is
      subject to change if any data becomes available.

Author: Haynar
Date:   Tue Dec 19 21:45:12 2017 -0700

    Fixed an issue with adding heal aggro to leashed mobs, which caused some unpredictable behavior.

Author: Haynar
Date:   Fri Dec 15 19:59:39 2017 -0700

    Adjusted camping timer slightly, to allow client enough time to finish camping so when the logout packets are received from the client, it will reduce the chances of being handled like a linkdead.  Sometimes camping will result in LD, rather than going to character select.  This will hopefully help some of those cases.

Author: Haynar
Date:   Fri Dec 15 18:45:22 2017 -0700

    Added fixes for mobs warping after losing aggro (FD Warp bug).

Author: Haynar
Date:   Sun Dec 10 08:44:45 2017 -0700

    Updated installer images and build.

Author: Torven
Date:   Thu Dec 7 23:09:56 2017 -0800

    Melee crit chance; slam fix
    
    * Base melee critical hit chance is now even more accurate.
    * Archery crit chance is now more accurate.  I'll adjust this again later.
    * Crippling blow stun chance is now 85%.
    * Fix for slam on non-warriors.
    * Removed redundant SendPosition() after NPC pushes.

Author: Cavedude
Date:   Thu Dec 7 18:40:12 2017 -0800

    Fixed a crash in NPC::GetBaseDamage()

Author: Cavedude
Date:   Sun Dec 3 12:39:37 2017 -0800

    ApplyDurationFocus crash fix.

Author: Haynar
Date:   Mon Nov 27 21:12:59 2017 -0700

    Move mob position update optimizations.

Author: Torven
Date:   Sat Nov 25 16:15:49 2017 -0800

    Melee refactor part 2.1
    
    * Summoned pets now require level 17 to double attack.
    * Summoned pets now require level 19 to dual wield.
    * Fix for off-hand proc rate which I broke in refactor part 2.
    * Cleric bash and Eagle Strike fixed which I broke in refactor part 1.
    * Melee crit damage should now be precise.  Cripples are extremely close but
      not quite 100%.  Crits now properly do minimum damage.
    * Melee crit chance changed to more closely match old and modern EQ logs.
      Pre-AA warrior crit chance now much more accurate although probably not
      precise.  Work-in-progress as I produce and parse many logs as the formulae
      don't appear simple.  War crit rate currently 3.05% at 255 dex.
    * Melee critical hit chance bonus now only applies to all melee and crit code
      refactored a bit.
    * Triple attack chance reduced to 10%.

Author: Haynar
Date:   Fri Nov 24 16:28:20 2017 -0700

    Pets guarding on a slope, should bounce less.
    Fixed an issue with pets guarding, that was causing excessive position updates to be sent.
    Pets guarding, should only change heading, if the new heading to nearest mob changes by more than an integer.

Author: Haynar
Date:   Thu Nov 23 18:37:36 2017 -0700

    Fixed a mob position update issue, where locations can get out of sync, causing ghosting of mob locations.

Author: Cavedude
Date:   Thu Nov 23 10:42:13 2017 -0800

    Lifetap messages are now filtered under spells.

Author: Cavedude
Date:   Wed Nov 22 21:15:50 2017 -0800

    Mem blur components of Mez spells will no longer always fail.

Author: Haynar
Date:   Tue Nov 21 21:16:14 2017 -0700

    Fixed an issue that causes elevated CPU usage when a zone initially starts up.
    Tuned mob movement speeds more.  They were moving a little too fast.
    Consolidated the AI_Think Timer and AI_Movement Timers as they were somewhat redundant in how they actually behaved.
    Overloaded the Timer::Check function to make it more efficient, even though it only saves a few CPU cycles.  It is the most called function.

Author: Torven
Date:   Tue Nov 21 06:39:00 2017 -0800

    fixed double attack AA multiplier

Author: Haynar
Date:   Mon Nov 20 20:32:50 2017 -0700

    Simplified position update counters for clients and npcs.  This should prevent sending extra updates for the entire zone periodically.

Author: Torven
Date:   Mon Nov 20 16:11:35 2017 -0800

    Melee combat code refactor part 2
    
    * More of the combat code consolidated so that Clients and NPCs use the same
      routines.  NPCs are now using skills like clients for more calculations
      instead of my older hardcoded estimates. (players won't notice a difference
      for most of it)  Methods split, renamed etc.
    * The double attack chance calculation is now precise.
    * Summoned pet double attack and dual wield skills now capped at 200.
    * Summoned pet avoidance skills now capped at 100 for Classic and Kunark pets
      and 125 for PoP pets.
    * Beastlord pets granted the block skill, capped at 50 and parry skill
      removed. (overall avoidance will increase slightly due to block being such
      a better skill)
    * The following AAs are now implemented correctly: Bestial Frenzy, Harmonious
      Attack, Knight's Advantage, Ferocity.
    * Triple attacks are now 15% chance on a successful double attack.
    * Flurry AA now requires a triple attack, and 2 hit flurries are 10% chance.
    * Non-pet NPCs no longer affected by item haste.
    * Client procs are now handled before the weapon swing instead of after.
    * Clients no longer double attack in the off-hand if double attack skill is
      < 150.
    * The damage bonus method has been replaced by EQEmu's updated version with
      a slight modification to comply with our era.  New method is much shorter
      and should be more accurate if not precise, although the previous method
      was fairly accurate.  Credit to Demonstar.
    * Monk and Beastlord hand-to-hand damage and delay method replaced with
      EQEmu's.  Credit to Demonstar.  New method returns different values for
      each class.  Previously Beastlords were using Monk damage and delay.
    * 'Your hands are now magic weapons' text added at level 30 for monks and
      beastlords.
    * New method IsSummonedClientPet().
    * Worn item effects now scale properly on NPCs.
    * Archery rolling the crit multiplier twice is now fixed.
    * Fixed issue with special class attacks using mainhand offense/atk instead
      of skill offense.
    * Melee immunity logic changed to match our era.
    * Archery damage modifier bonuses for spells and AAs are now applied
      multiplicatively so that Trueshot disc will properly double the damage of
      a ranger with Archery Mastery.
    * Summoned pets now doing the same minimum backstabs as other NPCs.
    * Innate dual wielding NPCs no longer equip 2h weapons.
    * NPCs should no longer desync their main-hand and off-hand attacks when the
      main-hand attack kills a target and both attack delays are the same.
    * New method Timer::CheckKeepSynchronized() which is used to prevent the
      delays between timer checks from increasing effective melee attack delays.
    * Eagle Strike damage fixed.
    * Dual Wield logic simplified to merely check for weapons at melee time and
      the convoluted code all over the place to set and check booleans removed.
      Clients already did this, but NPCs had their own dual wield logic.  New
      logic consolidated into new method IsDualWielding().
    * Damage bonus removed from throwing attacks.

Author: Cavedude
Date:   Tue Nov 14 22:55:15 2017 -0800

    Focus code rewrite.
    
    The correct item will now be chosen whenever a focus is used.
    
    Moved the focus checks and messages to the appopriate parts of spell casting process.
    
    Focus effects should now occur under the correct conditions.
    
    Fixed the non-working focus effects (Reagent conservation for example was not working at all.)
    
    Removed several unused focus effects and a few unused focus methods.
    
    Required SQL:
    utils/sql/git/required/2017_11_14_focus.sql

Author: Torven
Date:   Tue Nov 14 03:25:31 2017 -0800

    flee stuns back to 10%; shield bash dmg cap

Author: Haynar
Date:   Mon Nov 13 21:57:46 2017 -0700

    Updated method for determining behind mob stun checks.

Author: Cavedude
Date:   Mon Nov 13 20:24:31 2017 -0800

    Changed animation column to be signed, this allows us to know when the client is moving backwards. (Thanks mackal for the heads up!)

Author: Haynar
Date:   Sun Nov 12 17:00:33 2017 -0700

    NPC movement speed updates.

Author: Cavedude
Date:   Sun Nov 12 12:21:37 2017 -0800

    Removed Secondary Forte code as it is out of era.
    
    Change to GetAA() to hopefully prevent future crashes. (Haynar)

Author: Torven
Date:   Sun Nov 12 01:10:59 2017 -0800

    flee stuns temporarily reduced to 5%

Author: Robregen
Date:   Sat Nov 11 19:52:36 2017 -0800

    NPC will no longer turn to face you when hailing if sitting or laying.

Author: Haynar
Date:   Sat Nov 11 15:44:00 2017 -0700

    Removed LoadServerSettings schema from login server code.
    
    Because having the ability to vary the name of a table, to store values in a fixed table, whose name will never change, just because you want the ability to define the name of a table other than the default table name == dumb.

Author: Cavedude
Date:   Wed Nov 8 08:43:01 2017 -0800

    Band aid fix for a crash we saw due to a dangling group leader pointer. The cause of the dangling pointer was not tracked down, but it will be cleared by this code if it ever happens again.

Author: Cavedude
Date:   Tue Nov 7 10:16:17 2017 -0800

    Harmony type spells will no longer break feign death when they are resisted.

Author: Torven
Date:   Tue Nov 7 08:25:47 2017 -0800

    Archery hate fix; lifeburn damage fix
    
    * Archery hate is once again weapon damage + arrow damage per shot.
    * Lifeburn now does the necro's hitpoints in damage without a multiplier.

Author: Torven
Date:   Mon Nov 6 05:53:25 2017 -0800

    Manaburn fixes; TryWizardInnateCrit() added
    
    * Manaburn damage scaling is now 150-200% current mana.
    * Manaburn damage now capped at 9492.
    * Manaburn is now able to innate crit. (but still not AA crit)
    * Manaburn hate hardcoded to 1.
    * New method: Client::TryWizardInnateCrit().  Wizard crit logic was removed
      from Client::GetActSpellDamage() and given its own method because
      SE_CurrentHPOnce effects don't focus or employ AAs but they do innate crit
      and duplicating code is bad.

Author: Torven
Date:   Sun Nov 5 08:30:54 2017 -0800

    Dragon punch, Wu's again; new SE for aggressive
    
    * Dragon punch knockback AA now 100% chance on hit.
    * Wu's no longer triggers dragon punch.
    * SE_SkillDamageTaken (197) related code removed.  It was only used for
      aggressive discipline.  Aggressive discipline spell modified to use
      SE_MeleeMitigation (168) and given an inverse value to the defensive
      discipline since they work the same way. (+/-50% base damage)  Signs
      were unflipped in the code and formula changed to be less confusing.

Author: Haynar
Date:   Sat Nov 4 22:49:15 2017 -0600

    Fixed some issues that would prevent quest::move_to from causing mobs to move immediately.

Author: Cavedude
Date:   Sat Nov 4 11:09:41 2017 -0700

    Adjusted the HP regen cap to match the client decompile. (Thanks to demonstar)

Author: Torven
Date:   Sat Nov 4 04:41:54 2017 -0700

    Pet haste cap implemented; dragon punch, wus and BS stuff
    
    * New methods: NPC::GetHasteCap() and Client::GetHasteCap().
    * Client::CalcHaste() was removed and now Mob::GetHaste() is used for clients
      and NPCs.
    * Summoned pets are now subject to a haste cap, which was taken from
      decompiles. (credit to Demonstar, who is awesome)  Summoned pet haste cap
      is this: 10 + petLevel + max(0, ownerLevel - 39) + max(0, ownerLevel - 60)
    * DoMonkSpecialAttack() and DoSpecialAttackDamage() modified a bit to allow
      for Wu's AA to be in one location and dragon punch AA code moved to a
      better location.
    * Changed spell id for Dragon punch AA and removed resist modifier.
    * Angle check added to NPC backstab which I forgot to include after rewriting
      the method.
    * Chaotic Stab fix which I also broke. (next patch will be fun)

Author: Haynar
Date:   Fri Nov 3 17:05:54 2017 -0600

    Added mob movement improvements.

Author: Cavedude
Date:   Fri Nov 3 10:35:46 2017 -0700

    Resurrection Effects will no longer fail to land when the target player is in a no combat zone.

Author: Cavedude
Date:   Thu Nov 2 11:11:39 2017 -0700

    Fixed the issue causing spells with an instant heal effect to not heal properly.

Author: Cavedude
Date:   Fri Nov 3 10:35:46 2017 -0700

    Resurrection Effects will no longer fail to land when the target player is in a no combat zone.

Author: Cavedude
Date:   Fri Nov 3 10:28:23 2017 -0700

    Compile error fix.

Author: Torven
Date:   Fri Nov 3 08:07:44 2017 -0700

    Melee combat code refactor part 1
    
    * Part 1 of a large refactor and audit of melee combat code, along with many
      minor imperfections in the game logic ironed out.  Several unused bonuses
      and unapplicable rules removed.  Several new methods and others renamed,
      etc.
    * New method Mob::CalcMeleeDamage() with some combat logic moved there so
      duplicated code could be consolidated.  All physical damage goes through
      here and pretty much all the discipline multipliers are now in this one
      routine.
    * All client class special attacks (e.g. bash, flying kick etc) should now
      produce precise damage based on decompiled code, (credit do demonstar) but
      I haven't verified them all.  Backstab was already functioning well.
    * Flying kick now has a minimum damage of level * 4 / 5.
    * Client special attacks now do hate equal to the base damage of the skill.
    * NPC rogue backstabs now do precise minimum damage, but max damage is still
      an imprecise estimate.
    * NPC Harm Touch and Lay on Hands now have 40 minute reuse timers.
    * Melee weapon damage now properly applies elemental damage, including for
      backstab.
    * Throwing damage now applies the damage bonus and the ranged damage divisor.
    * Spells cast from items (including weapon procs) now do full hate if the
      spell is castable by the class of the item holder/wielder.
    * Enraging blow effects now do full hate for bards.
    * Avoidance skill order is now: Block, Parry, Riposte, Dodge
    * NPCs of the appropriate classes will now gain the Riposte skill at level 12
    * Timer::Check() fixed so that DoClassAttacks() called immediately after
      triggering the class attack timer will cause a special attack.  This was
      preventing NPCs from doing two special attacks per Flurry and Rampage as
      intended.
    * The riposte and parry formulae have been modified slightly to reduce the
      overall parry and riposte rates.  This amounts to a -1% for each at max
      skill.
    * The Dragon Punch AA proc granted a -1000 resist modifier.
    * The Dragon Punch AA is now hardcoded instead of using a bouns as it was the
      only skill using that SE.
    * Frenzy skill related code removed. (Berserker class ability)
    * Wizard innate critical spell chance is now hardcoded using the formula
      given to me by Ravenwing.
    * Rules SpecialAttackACBonus, AdjustSpecialProcPerMinute, WizCritChance
      removed.
    * Stonestance and Protective Spirit disciplines are now precise and defensive
      discipline is now softcoded. (they all function the same way)  Note that
      they are only supposed to apply to the 'DI' portion of NPC damage and the
      monk & beastlord discs are now less effective.
    * Fix to Beastlord hand-to-hand hate generation.

Author: Cavedude
Date:   Fri Nov 3 07:54:42 2017 -0700

    Fixed the issue causing /who all filters such as zone to ignore the guild filter and list everybody, regardless of guild status.

Author: Cavedude
Date:   Thu Nov 2 11:11:39 2017 -0700

    Fixed the issue causing spells with an instant heal effect to not heal properly.

Author: Cavedude
Date:   Sat Oct 28 11:05:51 2017 -0700

    Removed numhits as the spell data and Lucy history suggests no spells in our era used it.
    
    Removed some unused columns from out buff struct.
    
    Required SQL (already run on dev, will need to be run on TAKP on patch day):
    utils/sql/git/required/2017_10_27_numhits.sql

Author: Torven
Date:   Fri Oct 27 03:21:51 2017 -0700

    Bash and Furious Bash fixes
    
    * GetFuriousBash() function now works.
    * Mob::AddToHateList() was erroneously applying the hate multiplier bonus and
      it has been removed.  First-to-aggro spells should now do proper hate.
    * Bash without a shield now does 6 hate, which is far less than before.  This
      value is uncertain and subject to change.
    * Bash hate with a shield is now equal to the shield's AC and is capped at 25.
    * Furious Bash effects now increase bash hate 1-X%.

Author: Torven
Date:   Thu Oct 26 20:09:32 2017 -0700

    fix to Leech Touch AA

Author: Torven
Date:   Thu Oct 26 19:04:34 2017 -0700

    full hate from same class spells from items

Author: Cavedude
Date:   Thu Oct 26 16:12:55 2017 -0700

    Added a IsGroupSpell() check to CheckSpellLevelRestriction() when a clicky is used.

Author: Cavedude
Date:   Thu Oct 26 11:13:17 2017 -0700

    Moved the combat zone check to the end of the spell casting phase.
    
    Clickies will no longer check spell level restrictions.
    
    AE spells with AEDuration set will now do a second range check at the end of the cast.

Author: Cavedude
Date:   Thu Oct 26 09:16:18 2017 -0700

    Pacify will now always land on NPCs assuming all other spell checks are met. If the NPC is immune, the buff will simply have no effect.
    
    Applying spell effects and bonuses are now done after the second spell action packet is sent. The method was split into two, AssignBuffSlot() which is still done in the same spot, and SpellEffect() which was moved to the end of the SpellOnTarget() method.
    
    Due to the above change, the Lua method SpellEffect() has been removed.
    
    Removed several redudant bonus calculations done while a spell is cast.
    
    Spells will now only check level restrictions at the beginning of the cast.

Author: Cavedude
Date:   Thu Oct 26 06:59:59 2017 -0700

    Removed some remaining bot.h calls.

Author: Torven
Date:   Wed Oct 25 16:37:38 2017 -0700

    Client spell dmg revamp; harm touch fixes; AAs; unused focus effects removed
    
    * Client::GetActSpellDamage() completely rewritten.
    * 'SkillDmgTaken' related code removed and replaced with the simple
      GetPhysDmgTakenMod() method which simply returns an int for all physical
      damage taken.  Increased damage taken for individual damage skills is after
      our era.
    * Lots of code relating to focus effects that our after our era has been
      removed.
    * focusFcDamagePctCrit enum renamed to FocusSpellDamageMult which makes more
      sense.
    * SpellCritDmgIncrease and SpellCritDmgIncNoStack bonuses removed.
    * Harm Touch now has precise damage scaling: 1 + level * 10, with an
      additional bonus of level - 40 * 20 (max 400) after level 40. (this is an
      increase over previous scaling for SKs above level 50)
    * NPCs now use the same HT as PCs and do the same increased scaling damage;
      my previous commit was premature.
    * Harm Touch was using the disease version for all HTs after level 40 and now
      properly uses MR for non-disc HT and disease for disc HT.
    * Improved Harm Touch AA is now fully functional and does unresistable damage.
    * Unholy Touch AA is now functional.
    * Unholy Aura discipline now always increases damage by 50%.
    * Unholy Aura disc now fades after use of Improved Harm Touch and Leech Touch.
    * Wizard innate crit damage is now a random 1-50%, down from 20-70%.
    * Spell Casting Fury AA implemented.
    * Soul Abrasion AA implemented.
    * Leech Touch AA spell id set to SPELL_LEECH_TOUCH instead of
      SPELL_HARM_TOUCH2.
    * Fervent Blessing and Touch of the Wicked AAs now reduce cooldown time by
      the proper amounts.
    * Rules BaseCritChance and BaseCritRatio have been removed.
    * Rule WizCritChance now defaults to 2.

Author: Cavedude
Date:   Mon Oct 23 22:16:08 2017 -0700

    Fixed a crash in #castspell (Thanks Torven for pointing it out.)

Author: Torven
Date:   Sun Oct 22 22:02:32 2017 -0700

    NPC Harm Touch changed to proper version
    
    NPCs are in fact supposed to cast spell ID 2821, not 929.  929 is a weak
    version without a spell resist modifier and does less damage.  This is easily
    verified in logs.  I see only a single NPC using 'Harm Touch NPC' (Nortlav)

Author: Torven
Date:   Sun Oct 22 19:11:09 2017 -0700

    Distance() changed to DistanceNoZ()

Author: Torven
Date:   Sun Oct 22 16:26:06 2017 -0700

    Mob spellcast AI improvements
    
    * New rules: AI_EngagedDetrimentalChanceHealer and
      AI_EngagedDetrimentalChanceHybrid which allow for the separate adjustment
      of the detrimental spell cast rate of healer and hybrid classes.  Defaults
      are 15 and 1.  (DPS was and remains 20)
    * NPCs no longer cast AoE spells of type 'nuke' if they hate 3 or less
      targets.  Does not apply to spells without mana or priority <= 0.
    * NPCs no longer cast PBAoE spells of type 'nuke' if the closest hater is
      beyond range of the spell.  Does not apply to spells without mana or
      priority <= 0.

Author: Cavedude
Date:   Sun Oct 22 10:22:08 2017 -0700

    Fixed the issue causing the greed field of the trainer packet to be reversed. Training costs will now go down as your CHA goes up.

Author: Cavedude
Date:   Sun Oct 22 09:35:38 2017 -0700

    Removed the "Invalid spell proc" message that occured with weapons that have an invalid proc id.

Author: Cavedude
Date:   Sun Oct 22 09:10:55 2017 -0700

    Added eq.get_timer("name"); method to Lua which returns how much time in milliseconds the given timer has left. If the timer doesn't exist this will return 0.

Author: Torven
Date:   Wed Oct 18 21:41:04 2017 -0700

    Flee stuns
    
    * NPCs granted the ability to stun players for 3 seconds when the player is
      facing away from the NPC and the player is running or walking.  This chance
      is 10% on hit.  Note that this isn't a perfect replication due to the
      movement packet not being decoded entirely, so I had to improvise.   The
      stun angle was reduced slightly so that strafing would be less likely to
      result in stuns, which is undesirable.  Stuns are also possible if
      backpedaling closer to the NPC which is also not desired but that is fairly
      rare and short lived as the NPC will come into front view.
    * New function EQEmu::IsMeleeWeaponSkill() returns true for weapon skills +
      damage skills (e.g. 1h blunt, kick.  not double attack or dual wield)
    * Mob::GetCurrentSpeed() now returns a value for clients.  This value is not
      precisely equivalent to NPC speed however.

Author: Robregen
Date:   Wed Sep 20 21:34:50 2017 -0700

    update thegrey.map

Author: Cavedude
Date:   Fri Sep 15 13:53:00 2017 -0700

    Corrected the issue causing Brusco`s Bombastic Bellow to require a component.

Author: Cavedude
Date:   Fri Sep 15 09:02:07 2017 -0700

    NPCs will no longer remember feigned players after Mem Blur has successfully been cast on them. This combined with the above change should hopefully completely fix this issue.

Author: Cavedude
Date:   Fri Sep 15 08:43:20 2017 -0700

    Primary factions can now be given unique faction cap values. min_cap and max_cap were added to the faction_list database table to configure the caps.
    
    Having a DoT going at any time while feigned will no longer result in faction hits after the NPC is successfully mem blurred. If a DoT hits the NPC after the blur lands faction hits will again occur.
    
    Required SQL (already run on dev, not needed on TAKP):
    utils/sql/git/required/2017_09_14_faction_list.sql

Author: Cavedude
Date:   Wed Sep 13 09:27:40 2017 -0700

    Added the ability to disable the casting of specific spells in the database. Any spells disabled in this way will be interrupted as soon as they are cast, before all other checks. GM flag will allow the spell to be cast.
    
    Changed the functionality of CanBeInZone() to also support checking a zone before the player enters it. This allows us to cancel the zoning process before it even happens, so the player won't move at all. Unfortunately, this will not work for teleport spells as the client initiates an unsolicited zone request when those spells are cast. However, it works very well for things like doors (PoK books/stones.)
    
    Changed the default rule for NPC buff slots to be 30.
    
    Corrected an issue that would cause a trader account to become stuck, if they lack the Luclin expansion on their account. (This is not an issue on TAK, due to our web account management system.)
    
    (Database)
    Disabled the Cazic Thule port spells from being cast.
    
    Required SQL (Already run on dev, no need to run on TAKP):
    utils/sql/git/required/2017_09_13_spells_disable.sql

Author: Haynar
Date:   Tue Sep 5 21:46:03 2017 -0600

    More netcode updates.

Author: Haynar
Date:   Sun Sep 3 00:32:00 2017 -0600

    Added Netcode Fix for 1017 errors.
    Fixed an issue with quest::MoveTo.

Author: Haynar
Date:   Fri Sep 1 22:02:36 2017 -0600

    Netcode update.

Author: Haynar
Date:   Mon Aug 28 20:12:34 2017 -0600

    Updated netcode resend timers for triggering client to resend packets to server.
    Reduced some of the ack required packets, associated with bard song spell effect packets and various animations.

Author: Haynar
Date:   Sun Aug 27 21:55:10 2017 -0600

    More netcode improvements.

Author: Haynar
Date:   Sun Aug 27 18:35:18 2017 -0600

    Fixed a crash in NPC::Attack.

Author: Haynar
Date:   Fri Aug 25 17:15:25 2017 -0600

    Mez spells should only send position updates when mobs are moving.  They were sending a position update every time the mez hits.  This should make AE Mez spells friendlier on data sent to clients.

Author: Haynar
Date:   Fri Aug 25 17:04:52 2017 -0600

    Netcode changes to packet handling for out of order and buffered packets.

Author: Cavedude
Date:   Fri Aug 18 09:29:16 2017 -0700

    Gating in your bind zone with Eye of Zomm up will no longer send you to invalid coords.

Author: Cavedude
Date:   Fri Aug 11 13:17:43 2017 -0700

    Copy/paste error correction.

Author: Cavedude
Date:   Fri Aug 11 13:06:02 2017 -0700

    Updated several disciplines to use duration timers based on the 1/9/01 patch.

Author: Cavedude
Date:   Fri Aug 11 09:12:06 2017 -0700

    Temporary pets will no longer use their owner's resists.
    
    Dire Charm will now reset when cast on a mob that is immune to charm.

Author: Haynar
Date:   Thu Aug 10 21:57:13 2017 -0600

    Changed how position updates are performed at a distance.  This could help improve LDs while tracking.  Or it could have the opposite effect, and make everyone LD more.

Author: Haynar
Date:   Thu Aug 10 21:54:53 2017 -0600

    Fixed a potential issue that could cause the ReaderLoop to not start up correctly.

Author: Haynar
Date:   Tue Aug 8 21:42:29 2017 -0600

    Fixed an issue with quest moveto which caused mobs to not move right away.

Author: Haynar
Date:   Mon Jul 31 12:36:21 2017 -0600

    Fixed an issue with mobs distracted from their grid, which results in depopping early if on a GridOneWayDepop type grid.

Author: Cavedude
Date:   Mon Jul 31 07:54:15 2017 -0700

    Added rule AlKabor:ClickyHateExploit to determine if Invisibility versus Animals clicky items should produce extra hate or not. Defaults to false.

Author: Haynar
Date:   Mon Jul 24 21:39:58 2017 -0600

    Made changes to how Z is calculated while moving, to help prevent mobs from falling below world.

Author: Torven
Date:   Mon Jul 17 01:48:14 2017 -0700

    nerf to insta-click spam aggro generation

Author: Robregen
Date:   Fri Jul 14 10:14:48 2017 -0700

    update outdoor Luclin map using Azone2 which excludes objects.

Author: Cavedude
Date:   Thu Jul 13 08:16:26 2017 -0700

    Added Immune to Riposte special ability.

Author: Cavedude
Date:   Sun Jul 2 10:57:23 2017 -0700

    Cleaned up the server weight calculation a bit more. There are times we are still 1 off, but I've confirmed that is because the client will randomly skip over items below 0.5 weight. I have no idea why. The server side weight is correct, and it's never more than 1 off, so it's good enough.
    
    #showstats will now display weight the same way the client does (It just truncates the decimal, no rounding.)

Author: Cavedude
Date:   Fri Jun 30 08:21:08 2017 -0700

    Corrected an issue causing bag weight to not be calculated correctly server side.

Author: Haynar
Date:   Thu Jun 29 16:58:04 2017 -0600

    Fixed issued with loiter timers.

Author: Cavedude
Date:   Thu Jun 29 08:22:17 2017 -0700

    Added The Grey to the underwater process.

Author: Cavedude
Date:   Wed Jun 28 11:12:38 2017 -0700

    A minor change to the AE target limit based on mackal's findings on Live. We were really close, so no change should be seen in the vast majority of situations.
    
    Fixed an exploit in the reagent focus code.

Author: Cavedude
Date:   Wed Jun 28 11:00:47 2017 -0700

    Air remaining will now be saved when camping/zoning.
    
    Improved the accuracy of determining if a player is in water for swimming skillups when they are at the ocean floor.
    
    GM Only:
    Added detection for underwater breathing client hacks.

Author: Haynar
Date:   Tue Jun 27 22:13:38 2017 -0600

    Fear will no longer permanently freeze a client under certain conditions.
    Fear will now be more reliable on clients that are levitated.

Author: Haynar
Date:   Tue Jun 27 21:31:30 2017 -0600

    Fixed an issue with loiter timers not resetting when a guarding mob returns to their guard position.
    Fixed an issue with loiter timers getting stuck in reset condition.
    Fixed where a hate list can be cleared, but the no longer engaged event never fires.

Author: Cavedude
Date:   Thu Jun 22 08:22:45 2017 -0700

    Corrected how Defensive Discipline is calculated.

Author: Cavedude
Date:   Thu Jun 22 07:51:35 2017 -0700

    Removed the lua call depop_all() because it wouldn't do anything as written. Only depop_all(npcid) is being used in Lua scripts, which works fine.

Author: Cavedude
Date:   Tue Jun 20 11:21:38 2017 -0700

    Minor changes to some Lua methods required by the last quest commit.

Author: Cavedude
Date:   Thu Jun 15 11:30:00 2017 -0700

    Increased the Z coord check for portal pads, which was causing players to not be able to teleport properly.
    
    Portal pads will no longer "open" or "close".

Author: Haynar
Date:   Mon Jun 12 19:54:22 2017 -0600

    Updated upper bounds for dispell spells to succeed.

Author: Haynar
Date:   Sun Jun 11 19:46:07 2017 -0600

    Improved Cancel Magic code.
    Added functionality for Taper Magic enchanter spell.

Author: Haynar
Date:   Sat Jun 10 16:52:17 2017 -0600

    Revert "Improved the behavior of the cancel magic line of spells."
    

Author: Haynar
Date:   Sat Jun 10 14:17:05 2017 -0600

    Improved the behavior of the cancel magic line of spells.

Author: Cavedude
Date:   Fri Jun 9 18:07:34 2017 -0700

    Disciplines will no longer fail if your buff bar is full.

Author: Cavedude
Date:   Fri Jun 9 12:31:43 2017 -0700

    Player pets will now engage in combat in PVP areas of no combat zones.

Author: Haynar
Date:   Fri Jun 2 20:00:49 2017 -0600

    Mobs distracted while at a waypoint pause, will now use the remaining time for loitering before continuing on to their next waypoint.

Author: Haynar
Date:   Fri Jun 2 19:59:53 2017 -0600

    Fixed a compile error

Author: Cavedude
Date:   Wed May 31 15:00:36 2017 -0700

    Expired no rent items will no longer display on character select.

Author: Cavedude
Date:   Tue May 30 17:31:00 2017 -0700

    Linux compile fix take 2.

Author: Cavedude
Date:   Tue May 30 17:25:20 2017 -0700

    Linux compile fix.

Author: Cavedude
Date:   Tue May 30 17:17:52 2017 -0700

    Numerous fixes to spawngroups with a spawn limit set to make sure their spawnpoint timers are maintained, and to also produce better results when new spawnpoints are chosen to spawn.
    
    Moved many respawn_timer query methods from zonedb.cpp to spawn2.cpp.
    
    Adjusted the logging levels of the Spawn category so it is more useful.
    
    Added how the NPC was spawned to #wpinfo and #npclist.

Author: Haynar
Date:   Mon May 29 19:57:05 2017 -0600

    Fixed an issue with loiter timer on static NPCs resetting every time aggro is lost.  The loiter timer will now reset only when the NPC returns to their guard location.

Author: Haynar
Date:   Mon May 29 15:57:27 2017 -0600

    Fixed an issue with quest::start, causing NPCs to delay in moving when a grid is assigned.

Author: Haynar
Date:   Mon May 29 09:46:06 2017 -0600

    Rooted mobs that are fleeing will now face their target.

Author: Cavedude
Date:   Sat May 27 10:12:45 2017 -0700

    Final NPC cleanup (hopefully.) Removed some more unused columns and variables.
    
    The npc_types loading query has been moved to a centralized method GrabNPCType(), so it isn't repeated in the const and temp methods.
    
    Required SQL: (already run on dev)
    utils/sql/git/required/2017_05_27_npc_cleanup_again.sql

Author: Haynar
Date:   Fri May 26 22:29:14 2017 -0600

    Updated kael pathing, connecting nodes through the one way wall.

Author: Haynar
Date:   Fri May 26 21:58:21 2017 -0600

    Updated Velktor's pathing around upper spiders.

Author: Cavedude
Date:   Fri May 26 19:23:45 2017 -0700

    Roambox dist is now randomly generated. Removed the dist column from spawngroup as a result.
    
    Required SQL: (already run on dev)
    utils/sql/git/required/2017_05_26_dist.sql

Author: Cavedude
Date:   Fri May 26 17:31:19 2017 -0700

    Alterations to the SPECATK_RANGED_ATK special ability parameters:
    
    Parameter 0 can no longer be used to shoot multiple arrows. The new values are:
    
    11,0 - NPC will not use a ranged attack.
    11,1 - NPC will use a ranged attack with no ammo requirement.
    11,2 - NPC will use a ranged attack, but will require suitable items in the ammo slot (either arrows or small throwing.) They will use unlimited charges.
    11,3 - NPC will use a ranged attack, requires ammo, and will consume ammo. Once the charges reach 0, they will stop using a ranged attack.
    
    Minimium range was moved from paramater 4 to 2. (2 was unused for whatever reason.)
    
    The full list of paramaters are:
    0 - Basic functionality
    1 - Max range
    2 - Min range
    3 - Damage modifier
    
    Example: 11,1,500,100,10
    
    Will cause the NPC use ranged attack with a 100 min range and 500 max range, with a 10% damage modifier.
    
    Corrected an issue where ranged NPCs would do two attack animations for every one attack.

Author: Cavedude
Date:   Fri May 26 16:50:10 2017 -0700

    Corrected the time of day Dance of the Fireflies can be cast.

Author: Cavedude
Date:   Fri May 26 14:44:12 2017 -0700

    Removed findable and trackable as they are not in our spawn struct and thus were unused.
    
    Removed some unused variables from the playerprofile.
    
    Removed some leftover code from the playerprofile conversion.
    
    Required SQL (already run on dev, not required on TAKP):
    utils/sql/git/required/2017_05_26_npc_cleanup.sql

Author: Haynar
Date:   Fri May 26 13:36:00 2017 -0600

    Player pets should remember who hit their master better.  They were suffering from short term memory loss.

Author: Haynar
Date:   Fri May 26 09:32:21 2017 -0600

    Fixed archery double damage.

Author: Haynar
Date:   Fri May 26 09:25:54 2017 -0600

    Shrink and Grow under an illusion will now update z offset based on the illusion race.

Author: Cavedude
Date:   Thu May 25 16:35:42 2017 -0700

    PVP areas in no combat zones will now work.
    
    Removed ReloadProxSayNPCs() as the bug that required this has been fixed.

Author: Cavedude
Date:   Wed May 24 07:29:47 2017 -0700

    CastTime is now an int32.

Author: Cavedude
Date:   Tue May 23 17:55:30 2017 -0700

    Fixed a crash in NPC::CheckMinMaxLevel().

Author: Cavedude
Date:   Tue May 23 17:55:30 2017 -0700

    Fixed a crash in NPC::CheckMinMaxLevel().

Author: Cavedude
Date:   Tue May 23 16:45:25 2017 -0700

    Removed several unused variables from features.h.
    
    Removed resist types not found in our spell data.
    
    Removed several strings that aren't in our client's eqstr_en.txt file.
    
    Required SQL (already run on dev, doesn't need to be run on takp):
    utils/sql/git/required/2017_05_23_more_cleanup.sql

Author: Cavedude
Date:   Mon May 22 07:15:48 2017 -0700

    Corrected an overflow in Spell Casting Reinforcement Mastery that was causing permanent buffs to appear to be fading.

Author: Haynar
Date:   Sun May 21 17:17:53 2017 -0600

    Updated Z Offset calcs to match the client.
    Updated player sizes to match the values used in the client.
    Fixed size adjusts for illusions not updating all required values.  This will fix issues with wolf form, causing pathing issues in various places.

Author: Cavedude
Date:   Sat May 20 19:02:39 2017 -0700

    Corrected the bug that prevented Enchanter pets from being able to upgrade their weapon slots.

Author: Cavedude
Date:   Sat May 20 15:10:13 2017 -0700

    Casting an instant activated ability while casting another will now reset the original ability's cooldown timer.

Author: Cavedude
Date:   Sat May 20 11:56:48 2017 -0700

    Removed leftover test code from last commit.

Author: Cavedude
Date:   Sat May 20 11:17:43 2017 -0700

    Rewrote several deprecated char methods to use their std::string equivalents.
    
    Fixed several other misc Windows warnings. (Mostly unused variables, logic that didn't return a value, or deprecated calls.)
    
    Removed Evolution client framework, as it's unlikely to ever see support in our code base due to the differences in the client.
    
    Removed #serverinfo and #object as they either didn't work or are not completely compatible with our client and were both creating Windows warnings.
    
    Moved the remaining warning suppression from #pragma in each effected file to ADD_DEFINITIONS calls in CMakeLists.txt. This allows us to easily comment/remove each definition when we wish to see specific Windows warnings.
    
    Removed code our client will never use in eq_dictionary.cpp and associated files.
    
    DumpPacket() will now require EQDEBUG level 11 or higher. It will also now provide opcode information by default.
    
    Removed common/guilds.cpp as it provided nothing of use and was creating a linker warning.
    
    Changed the Logs::SpellDebug calls to again use Logs::Spells as the bug that caused me to change that hasn't been reported in some time.
    
    Renamed sof_char_create_data.h to char_create_data.h and removed out of era code from it.
    
    -----------------------
    
    Notes:
    
    If you have it, to remove the "Unknown compiler version - please run the configure tests and report the results" warning coming from Boost:
    
    Open boost\boost\config\compiler\visualc.hpp and change the version #if (_MSC_VER > 1xxx) statement at the bottom of the file to be:
    
    #if (_MSC_VER > 1910 && _MSC_FULL_VER > 191025017)
    
    No warnings should appear in VS after this commit.

Author: Haynar
Date:   Fri May 19 22:10:23 2017 -0600

    Moved NPC ranged attacks to use the new ranged attack system.
    NPCs in PoM should now be able to have their ranged attacks hit other NPCs.
    Adjusted origination and destination height of projectiles.
    Added mob collisions of ranged/bolts for the final jump in the movement.  Mobs real close to the destination were skipped in collision checks.

Author: Haynar
Date:   Thu May 18 21:56:09 2017 -0600

    Updated textures on spell bolts.  To make the flying bolt visible, you must use old spell effects by deleting the spellsnew.edd and spellsnew.eff files in your client install folder.

Author: Haynar
Date:   Thu May 18 18:17:00 2017 -0600

    Bolt fixes.

Author: Haynar
Date:   Wed May 17 17:10:07 2017 -0600

    Improved projectile collisions with mobs.

Author: Cavedude
Date:   Wed May 17 10:27:25 2017 -0700

    (Haynar) Fixed the timer issue causing world to not allow logins.

Author: Haynar
Date:   Wed May 17 10:18:43 2017 -0600

    Removed unused Lua methods for Archery and Throwing Attacks.
    Changed delay range for static mobs, when they return home, after losing aggro.  This is closer to how EQLive behaves.
    Improved some of the precision calculations associated with geometry calculations.
    Optimized the calculate heading to target, to go directly from radians to EQ angles.  Rather than go Radians -> 0-360 degrees -> EQ angles.
    Added delayed damage for bolt spells, archery and thrown weapons.
    Added mob and geometry collisions for bolt spells, archery and thrown weapons.
    Mobs fleeing should stop turning to face their attackers behind them (hopefully got rest of cases where this was happening).
    NPCs spawned with the #spawn command will now have a default size assigned.

Author: Cavedude
Date:   Tue May 16 18:53:38 2017 -0700

    Removed server agreement rules.

Author: Cavedude
Date:   Tue May 16 08:35:56 2017 -0700

    Updated the rules regarding bracer textures to match how the client handles them. If a bracer is in the left slot, it should now always be favored over the right.
    
    Corrected an issue in the WearChange struct which hopefully fixes a few random minor problems we've seen.
    
    Removed some custom messages sent by merchants.

Author: Cavedude
Date:   Sun May 14 15:45:40 2017 -0700

    Merchants with merchantid 0 will no longer open a merchant window.

Author: Cavedude
Date:   Sun May 14 10:00:08 2017 -0700

    Anybody in a group can now accept a raid invite on behalf of their group, assuming the whole group is in the same zone.
    
    Added some comments to the raid invite accept process.

Author: Cavedude
Date:   Sun May 14 08:26:25 2017 -0700

    Feign will no longer prevent exp gain while in a group.

Author: Cavedude
Date:   Sat May 13 16:19:10 2017 -0700

    Added rules to change the exp percentage for each con except green.

Author: Cavedude
Date:   Sat May 13 16:06:16 2017 -0700

    #zonebootup will now find and boot any zones that have crashed.
    
    #zonebootup <shortname> (zoneserverid) can still be used to manually boot a single static zone. zoneserverid can still be manually set, however it is not required.

Author: Cavedude
Date:   Fri May 12 10:46:38 2017 -0700

    Removed some orphaned rules.

Author: Cavedude
Date:   Thu May 11 18:38:10 2017 -0700

    Removed support for evolving items, and several item columns we are not using in the database.
    
    Required sql (already run on dev, will hit takp automagically):
    utils/sql/git/required/2017_05_11_items_cleanup.sql

Author: Cavedude
Date:   Thu May 11 11:23:28 2017 -0700

    Added rule AlKabor:LightBlueExpPenalty which controls how much of an experience penalty light blue conned mobs will have. This can be tweaked until it feels AKcurate if need be.
    
    Removed the Client variable XPRate which was unused.

Author: Cavedude
Date:   Thu May 11 08:25:32 2017 -0700

    Hopefully improved the loading of Bazaar trader items.
    
    (GM only):
    Added command #showtraderitems to show the server's current item list on a player trader.

Author: Cavedude
Date:   Wed May 10 23:43:50 2017 -0700

    Added clientcount telnet command.

Author: Cavedude
Date:   Wed May 10 23:26:18 2017 -0700

    Fixed a Linux compile warning in the Bazaar trader mode.

Author: Cavedude
Date:   Wed May 10 13:08:10 2017 -0700

    Added the ability to force a NPC to equip a loot drop item. This can be used if you need a NPC to prefer one item over another in a specific slot. It can also force a NPC to equip a bow or other ranged weapon instead of primary/secondary items. Once an item is forced into a slot, items added later will not override it.
    
    Ranged items will now display properly in-game for NPCs.
    
    Fixed an issue causing NPCs to not equip ammo items.
    
    Made several changes to AddLootDrop() to reduce memory usage and make the code easier to read.
    
    The method NPCs use to determine item material in AddLootDrop() for OP_WearChange is now matches the one used by all mobs in GetEquipmentMaterial().
    
    Moved several NPC equipment methods from npc.cpp and mob.cpp to loottables.cpp.
    
    Changed AddLootDrop() calls to be uniform with the database column's default values.
    
    Removed several methods that were duplicates or no longer used in the NPC equipment code. (RemoveItem() being one of the primary ones.)
    
    Rewrote three methods that delete NPC items to be safer, to send out OP_WearChange, and to properly clear the equipment variable for the given slot.
    
    Fixed some odd behavior that occurred when a NPC has duplicate items and they have their pockets picked.
    
    GM only:
    
    Implemented #npcloot remove all. This removes all items and coin on the NPC. And sends a WearChange update.
    
    Fixed #npcloot to be better about sending WearChange in general.

Author: Cavedude
Date:   Tue May 9 09:20:17 2017 -0700

    Selling an equipped item to a merchant will now properly update your appearance.

Author: Cavedude
Date:   Tue May 9 08:49:05 2017 -0700

    Moved PERMAROOT_FLEE to DESTRUCTIBLE_OBJECT's position since that isn't used.

Author: Cavedude
Date:   Sat May 6 18:07:30 2017 -0700

    Added PERMAROOT_FLEE special ability to force a NPC to flee (turn and stop attacking) when permarooted. They will attack as normal when rooted by a spell.

Author: Cavedude
Date:   Sat May 6 17:32:44 2017 -0700

    Feigned before an NPC begins to flee will again clear damage credit.
    
    Renamed RemoveDamageCredit() to RemoveFromDamageCredit() to be uniform with existing methods in this code block.

Author: Cavedude
Date:   Fri May 5 21:20:52 2017 -0700

    Typo fix.

Author: Haynar
Date:   Fri May 5 18:48:27 2017 -0600

    Added more improvements to timers.

Author: Cavedude
Date:   Fri May 5 16:21:57 2017 -0700

    Removed attuned code, which was already largely disabled anyway. Also removed color methods from the ItemInst code, which was a remnant from armor dye.
    
    Note: The Lua method SummonItem() has changed syntax, however I only found calls using the first two arguments which are unaffected by this change. (The third argument for attuned was the one that was removed.) It is unlikely any quest method would use this one or the slot argument that follows, so I doubt this is an issue. Still, it's something to keep in mind if a quest does happen to break.
    
    Required SQL (already run on dev, will need to be done on patch day for TAKP):
    utils/sql/git/required/2017_05_05_attuned_removal.sql
    
    *Some of those columns may have already been removed. If so, the resulting error can be ignored.

Author: Cavedude
Date:   Fri May 5 08:42:24 2017 -0700

    Potion families (regular, minor, greater) will now use clicklevel instead of the caster's level for the spell effect level.

Author: Haynar
Date:   Fri May 5 09:22:07 2017 -0600

    Improved some of the timer functions to be more efficient.  This reduces idle zone cpu usage.

Author: Haynar
Date:   Fri May 5 09:19:38 2017 -0600

    Fixed some comparisons in eqstream.

Author: Haynar
Date:   Fri May 5 09:17:58 2017 -0600

    Restored a change to spell casting animations.

Author: Cavedude
Date:   Thu May 4 10:56:25 2017 -0700

    *GM only:
    
    /who all zonename will now always show anonymous players for GMs of sufficient status.
    
    Fixed an issue causing GMs to always appear on the /who all list of other GMs, regardless of filter.
    
    tradercount has been added to the telnet help menu.

Author: Cavedude
Date:   Thu May 4 09:34:01 2017 -0700

    Changed many instances of printf to use Log() instead to prevent writing to file.

Author: Cavedude
Date:   Wed May 3 17:19:51 2017 -0700

    Fixed corpses not displaying the correct armor appearance.

Author: Haynar
Date:   Tue May 2 21:45:16 2017 -0600

    Spells with push components, should now apply the push immediately.
    Stunned or mezzed mobs should now be moveable by spells with a push component.
    NPCs casting spells, will now update positions if being pushed by spells or combat.
    Fixed a potential faction war source, associated with rampage.

Author: Haynar
Date:   Mon May 1 21:50:56 2017 -0600

    Improved some pathing areas in velketor's.
    Updated hazard checks at a distance to check further before going direct line of sight.

Author: Cavedude
Date:   Mon May 1 09:40:23 2017 -0700

    Some more memory leak and misc fixes found in debugging.

Author: Cavedude
Date:   Mon May 1 09:14:29 2017 -0700

    Removed support for charm and power source inventory slots. This reduces the size of our items in shared memory, and removes a memory leak in the quest parser.
    
    Required SQL (already run on dev, takp will get this automagically when updated):
    utils/sql/git/required/2017_05_01_charm_removal.sql

Author: Cavedude
Date:   Sun Apr 30 14:55:29 2017 -0700

    Rewrote cc3773018556466827badd283f760049a350d383 to allow for more situations.

Author: Cavedude
Date:   Sun Apr 30 09:52:14 2017 -0700

    Fixed many memory leaks in bazaar trading, and a couple other minor ones else where.

Author: Haynar
Date:   Sat Apr 29 23:02:12 2017 -0600

    Fixed some memory leaks with LuaParser

Author: Haynar
Date:   Fri Apr 28 21:51:45 2017 -0600

    Additional Memory Leak fixes.

Author: Haynar
Date:   Fri Apr 28 21:49:01 2017 -0600

    Updated pathing for highkeep.

Author: Haynar
Date:   Thu Apr 27 21:58:36 2017 -0600

    Owner's of pets will now add to the rampage list, if the pet gets added to the hatelist of a mob that rampages.

Author: Cavedude
Date:   Thu Apr 27 14:45:57 2017 -0700

    NPCs will now yell for help when a detrimental spell hits them and they are mesmerized.

Author: Cavedude
Date:   Thu Apr 27 11:16:08 2017 -0700

    Player armor textures will now be set in a variable each time a client initiated wear change occurs. This allows us to use these variables when sending appearance instead of iterating through items. It also allows us to send "bugged" armor appearances due to illusions. Because weapons are always sent/expected by the client, there is no benefit to store those as variables.
    
    OP_WearChange will no longer be sent for armor slots while illusioned as a non-playable race. Primary/Secondary will always be sent, to match what the client expects.
    
    WearChange will now only be sent for the helm slot when a player illusion fades (the client doesn't seem to keep track of the helm for whatever reason here.)
    
    Removed SendTextureWC() as WearChange() has replaced its functionality.

Author: Cavedude
Date:   Thu Apr 27 08:20:40 2017 -0700

    Added telnet tradercount. Fixed the line endings on zonecount and playercount.

Author: Cavedude
Date:   Wed Apr 26 19:05:51 2017 -0700

    Disciplines will no longer be faded on client death.

Author: Cavedude
Date:   Wed Apr 26 08:39:05 2017 -0700

    Quest NPCs will no longer turn and face their target if they are sneaking.

Author: Haynar
Date:   Tue Apr 25 18:11:27 2017 -0600

    Updated poknowledge.path to lower cpu use version.
    Moved queue'd clientlist to std::deque.

Author: Cavedude
Date:   Tue Apr 25 08:45:09 2017 -0700

    Items dropped to the ground will now always point north.

Author: Haynar
Date:   Sun Apr 23 17:37:57 2017 -0600

    Fixed memory leaks associated with sending merchant inventory to clients.
    Fixed memory leaks with combining fragmented packets from the client.
    Added some optimizations to packet allocation in a few processes, and fixed some inconsistencies.
    Fixed potential memory leaks with creating spawn/despawn packets.

Author: Cavedude
Date:   Sun Apr 23 10:48:39 2017 -0700

    Fixed the issue causing NPCs to attempt to cast the same spell family over and over.

Author: Cavedude
Date:   Sun Apr 23 09:57:05 2017 -0700

    Added Haynar's client decompiles.

Author: Cavedude
Date:   Sun Apr 23 07:38:24 2017 -0700

    (GM only):
    Added playercount and zonecount telnet commands. playercount will list each zone that is booted and their player population. zonecount will give the zone counts plus total player population.

Author: Cavedude
Date:   Sat Apr 22 20:39:47 2017 -0700

    Zone will now only load emotes that are used by NPCs in the zone.

Author: Speedz
Date:   Sat Apr 22 17:28:11 2017 -0700

    Forgot to remove a comment block and change the default xml.

Author: Speedz
Date:   Sat Apr 22 16:04:10 2017 -0700

    Removed unused files and code.
    Moved a versioning system to world out of common, as it is not a "common" function.

Author: Speedz
Date:   Sat Apr 22 12:27:18 2017 -0700

    Commented GM check code.
    This is to see if this helps improve server load.
    DON'T add this to the changelog. Players don't need to see GM code adjustments.

Author: Cavedude
Date:   Fri Apr 21 13:38:58 2017 -0700

    Fixed a memory leak in SendWearChange().

Author: Cavedude
Date:   Wed Apr 19 08:45:06 2017 -0700

    (Haynar) Fix for inventory items not showing up.

Author: Cavedude
Date:   Tue Apr 18 17:22:18 2017 -0700

    TGB spells will now hit the caster regardless of raid affiliation.
    
    The server will no longer allow Foliage Shield to land on other groups/raids when TGB is used.

Author: Haynar
Date:   Tue Apr 18 17:19:41 2017 -0600

    Added some fixes for potential world server crashes.

Author: Cavedude
Date:   Tue Apr 18 12:25:08 2017 -0700

    Added new column aggro_charid to qs_player_npc_kill_log. This will specify the characterid of the player who initially got aggro with the killed NPC, if they or their raid/group were not credited with the kill. If they were credited, the column will be set to 0 for that entry.
    
    Rule QueryServ, LevelAlwaysLogKills can now be set to not log the deaths of NPCs under the specified level. Kills that result in aggro_charid being populated with a valid entry will always be logged, regardless of this rule. Default is 1 (disabled.)
    
    Required SQL (already ran on dev and TAKP):
    sql/git/required/2017_4_18_npc_kill_aggroid.sql

Author: Cavedude
Date:   Tue Apr 18 09:54:15 2017 -0700

    The telnet command 'who' should again work properly. Cleaned up the method some, and added AFK and TRADER tags to the output.

Author: Cavedude
Date:   Tue Apr 18 09:48:01 2017 -0700

    Reclaim Energy will now use the pet's current HP to help determine the percentage of mana that should be reclaimed.
    
    Reclaim Energy now works with the Mage epic pet.

Author: Cavedude
Date:   Tue Apr 18 09:40:20 2017 -0700

    The server will no longer ignore /sit packets that occur after the spell is cast, but before Eye of Zomm takes control of the client.
    
    Changed playeraction to use the animation enums instead of meaningless numbers.
    
    Rain spells will now use the beacon's entityid in OP_Action instead of the caster's so the caster is no longer forced to stand to other players on each wave.
    
    Some more tweaks to the Feign Death skill chance.

Author: Haynar
Date:   Mon Apr 17 20:29:58 2017 -0600

    Fixed some memory leaks, potential leaks, and some general inconsistencies.

Author: Haynar
Date:   Sun Apr 16 21:23:36 2017 -0600

    Fixed some potential memory leaks.

Author: Cavedude
Date:   Sat Apr 15 10:04:14 2017 -0700

    Group exp split rewrite. Simplified the code and added comments and logging to make it easier to read. It is also less likely to cause issues due to counter variables with invalid values. The counter variables are now set in a single loop, instead of being set and then possibly changed later on.
    
    Corrected an issue sometimes causing the split code to attempt to hand out exp, when nobody in the group qualified.
    
    In addition to the general improvements, reworked splits involving greens to be more flexible and allow different configurations using rules. Added rules:
    
    AlKabor:GreensKeepFullSplit which when true only counts players who get XP towards the split.
    
    AlKabor:GreensFullBonus which when true counts all players who meet the basic requirements (not dead in zone, in range depending on that rule, etc) towards the group bonus, even if they don't qualify for XP due to con.
    
    Changed green splits so that higher level players are weighed equally to the highest player who receives exp when AlKabor:GreensKeepFullSplit is set to false. (When true, those players aren't counted at all.)

Author: Cavedude
Date:   Fri Apr 14 14:55:58 2017 -0700

    Sneak will no longer prevent quest say triggers from working.

Author: Cavedude
Date:   Fri Apr 14 09:27:17 2017 -0700

    Adjusted the Feign Death skill to have a lower success chance at lower skill levels.

Author: Haynar
Date:   Thu Apr 13 18:53:39 2017 -0600

    Added a fix for picking up items off ground, to prevent item loss in certain situations.
    Zoning with a bag on the cursor will now add the internal items to the character weight appropriately.

Author: Cavedude
Date:   Sun Apr 9 09:56:20 2017 -0700

    Corrected an issue that could potentially cause nobody to get credit for a NPC kill.

Author: Cavedude
Date:   Sat Apr 8 12:09:26 2017 -0700

    NPCs will act as if they have never been damaged before when a charm spell they are buffed with fades. This does not affect damage they do to other mobs while charmed. The owner of the pet will retain credit even after charm fades.
    
    (GM only):
    Rule NPC:NPCTemplateID now defaults to NPCID 541 (MonsterSum1) since that is a "blank" NPC without emotes or faction hits.

Author: Haynar
Date:   Fri Apr 7 14:33:21 2017 -0600

    Fixed some hatelist management issues that resulted in no faction hits on some mobs during ring war 10.

Author: Cavedude
Date:   Thu Apr 6 16:51:12 2017 -0700

    Corrected an issue causing damage shields to count towards XP added in the previous patch.

Author: Cavedude
Date:   Thu Apr 6 16:51:12 2017 -0700

    Corrected an issue causing damage shields to count towards XP added in the previous patch.

Author: Robregen
Date:   Thu Apr 6 16:07:13 2017 -0700

    regenerate paludal map file to exclude tent objects for LoS.

Author: Haynar
Date:   Tue Apr 4 20:20:15 2017 -0600

    Added combined packets for OP_MobUpdate

Author: Haynar
Date:   Tue Apr 4 18:49:48 2017 -0600

    Adjusted some spell casting AI values to save CPU cycles.

Author: Cavedude
Date:   Tue Apr 4 09:07:03 2017 -0700

    Aggro scan timers will now be disabled in no combat zones.

Author: Haynar
Date:   Sun Apr 2 22:51:31 2017 -0600

    Added some optimizations in hatelist management, where distance to mob was being calculated multiple times.
    Added a min persuit range where timers are used and mobs will continue to chase.  This will help prevent runners in ring war from being kited.
    Pets will no longer apply hate bonuses due to closer proximity.  Low HPs are still appealing though.

Author: Mackal
Date:   Sat Apr 1 16:46:23 2017 -0400

    Use do-while(0) trick for function like macros

Author: Cavedude
Date:   Sun Apr 2 12:15:55 2017 -0700

    Converted the loginserver to use LogSys, removing the old error_log system. The categories used in this commit are Login_Server, Netcode, and Error. Set all three to general in order to get full log output.
    
    The login's trace and world_trace options have been removed from the database. In order to enable those logs, set Netcode to general.
    
    The packet_dump in/out options are still valid, and require Login_Server to be set to general.
    
    Added DumpServerPacketToString() so that Server Packets can be dumped using LogSys instead of DumpPacket(). DumpPacketToString() already exists for Application Packets. Converted several DumpPacket() calls to use LogSys.
    
    Some console color syntax may have been lost in this commit. New LogSys categories with a custom color can be added in that's an issue. By default, the colors are yellow for Login_Server/Netcode and red for Error.
    
    Required SQL (already run on Dev, will need to be run on TAKP on patch day):
    utils/sql/git/required/2017_04_02_login_logsys.sql

Author: Cavedude
Date:   Sun Apr 2 08:57:00 2017 -0700

    Revert "Loginserver compile fix."
    

Author: Cavedude
Date:   Sat Apr 1 15:47:25 2017 -0700

    Loginserver compile fix.
    
    This is just a hack to get the loginserver to compile again. The proper fix is to convert the login to use LogSys, which happened on 12/15 for EQEmu. I have it compiling using LogSys locally, however I wasn't able to get it to output and I don't have enough time to debug what's wrong this weekend. This commit will likely be reverted once I get it converted and working properly.

Author: Akkadius
Date:   Sat Apr 1 03:51:46 2017 -0500

    [Performance] Reworked how all log calls are made in the source, see changelog.txt for more details

Author: Akkadius
Date:   Tue Mar 28 00:30:06 2017 -0700

    [Performance] Fixed a large overhead issue where every single NPC in a zone was checking to depop themselves
            as a swarm pet every 3ms regardless of being a swarm pet or not. Swarm pets now check to depop only when their timer is up

Author: Cavedude
Date:   Sat Apr 1 09:52:50 2017 -0700

    Created a new variable for /assist range, and set it to be slightly higher than /target range.

Author: Cavedude
Date:   Sat Apr 1 09:05:59 2017 -0700

    Damage done to a NPC used to credit XP and the corpse upon their death is now kept in its own list, instead of using hatelist.
    
    Removed the hatelist methods that previously handled this functionality. As a result, the Lua export GetHateDamageTop() has also been removed. (It was unused.)
    
    Damage added to this list by all player pets will now count towards their owner to correct issues with charmed pets losing damage credit when charm fades. (NPC pets will keep track of their own damage, since they don't despawn when their owner dies.)
    
    Rewrote a large portion of NPC:Death() to implement this new list, optimize the method, remove obsolete code, and correct a potential zone crash.
    
    Rule AlKabor:HighLvlCorpsesAlwaysSpawn has been changed to AlKabor:LevelCorpsesAlwaysSpawn and now can be used to specify the level NPCs will always leave corpses if a player is present (defaults to 55.)
    
    NPCs will no longer seek out other NPCs to attack in zones that never idle and have no players. (Boat/Quest zones.) This saves a good amount of CPU in local testing.
    
    NPCs will no longer fully process death in zones that are idling (this shouldn't happen much anymore due to the above change.)
    
    (GM only)
    Damage totals will now also display the amount of damage the mob credited with the corpse dealt.
    
    #findnpctype will now display the results in order of ID.

Author: Robregen
Date:   Thu Mar 30 21:58:53 2017 -0700

    Fix Lua GetPet/GetOwner (Mackal from EQEmu)

Author: Akkadius
Date:   Tue Mar 28 15:52:51 2017 -0500

    [Performance] Remove unecessary log calls from EQStream hot paths (read/write)

Author: Robregen
Date:   Thu Mar 30 13:40:32 2017 -0700

    fixed compiling error from last revert commit.

Author: Robregen
Date:   Thu Mar 30 13:32:08 2017 -0700

    Revert "[Performance] Reworked how client to NPC aggro checks are made"
    

Author: Robregen
Date:   Tue Mar 28 17:48:50 2017 -0700

    revert the aggro timer.

Author: Mackal
Date:   Tue Mar 28 14:31:10 2017 -0400

    Make lua Get*List entity_list functions less silly

Author: Mackal
Date:   Tue Mar 28 13:45:41 2017 -0400

    Use better GetNPCList function for close_npcs

Author: Robregen
Date:   Tue Mar 28 17:00:25 2017 -0700

    removed merc list from last commit.

Author: Mackal
Date:   Tue Mar 28 13:45:20 2017 -0400

    Add some const & GetList entity functions

Author: Akkadius
Date:   Tue Mar 28 02:45:07 2017 -0500

    [Performance] Disabled enraged timer checks for NPC's that do not actually have enrage as a special attack

Author: Akkadius
Date:   Tue Mar 28 02:36:51 2017 -0500

    [Performance] Removed a timer where clients would constantly calculate light amount on equipment every 600ms, instead clients will update light when changing equipment or entering a zone

Author: Akkadius
Date:   Tue Mar 28 01:30:42 2017 -0500

    [Performance] Reworked how client to NPC aggro checks are made
            - Before when reverse aggro checks were done (client to NPC), checks would happen every 750 millseconds where a client would
                    check an entire entity list with distance calcs and other checks for aggro, with many clients in a zone and many NPC's this would
                    add a lot of unecessary overhead. A temporary adjustment on 3/25 was made and upped the check to 6 seconds.
            - Now, there is a new methodology to scanning. The client will build a cache list of NPC's within close range as defined in new rule:
                    RULE_INT(Range, ClientNPCScan, 300) and will also get any NPC that has an aggro range beyond that defined range to use in
                    the frequent checks for aggro, the result is far less overhead
            - Client scanning changes when moving versus not moving, the client will scan aggro every 500 milliseconds while moving, and
                    3000 millseconds aggro check when not moving, with a 6000ms re-fetch for close NPC's
            - A demo of these changes can be found here:
                    https://youtu.be/aGroiwLSTVU

Author: Haynar
Date:   Sun Mar 26 19:44:46 2017 -0600

    Updated dialogbmp.bmp

Author: Haynar
Date:   Sun Mar 26 19:27:06 2017 -0600

    Increased Rule PetCommandRange to 200.  This is used for pursuit range of pets.
    Updated some message ranges to clients.
    Dragging your own corpse will no longer cause aggro in some Velious zones.

Author: Akkadius
Date:   Sun Mar 26 00:03:51 2017 -0500

    [Performance] Reduced CPU footprint in cases where a client is checking for aggro excessively every 750 millseconds. This has
            been adjusted to 2 seconds per new rule RULE_INT(Aggro, ClientAggroCheckInterval)
            - When zones have many players, with many NPC's, this adds up quickly

Author: Akkadius
Date:   Sat Mar 25 23:32:49 2017 -0500

    [Performance] Reduced CPU footprint in non-combat zones doing constant checks for combat related activities

Author: Uleat
Date:   Sun Mar 26 13:51:03 2017 -0400

    Oops! (don't attempt a commit when you have to go to the restroom...)

Author: Uleat
Date:   Sun Mar 26 13:41:14 2017 -0400

    Updated glm library to 0.9.8.4 (from 0.9.6.1)

Author: Haynar
Date:   Sat Mar 25 21:08:39 2017 -0600

    Updated to installer ver 3.1

Author: Haynar
Date:   Sat Mar 25 16:39:24 2017 -0600

    Updated shortcut to eqgame.exe.
    Added commandline patchme.
    Fixed a build issue with file information being harvested wrong.

Author: Cavedude
Date:   Sat Mar 25 11:43:10 2017 -0700

    Fixed a Linux compile warning.

Author: Cavedude
Date:   Sat Mar 25 11:14:06 2017 -0700

    Pets will now use the same melee range as their owner.

Author: Haynar
Date:   Sat Mar 25 00:29:48 2017 -0600

    Added AK style icon.
    Updated graphics in installer.

Author: Speedz
Date:   Thu Mar 23 19:34:52 2017 -0700

    Added new settings entries to the auto table creation routine.

Author: Speedz
Date:   Thu Mar 23 10:03:28 2017 -0700

    Corrected comment in the sql for ticketed connection.
    I mistook it for Trilogy.

Author: Cavedude
Date:   Thu Mar 23 09:16:34 2017 -0700

    /who all will now display AFK and LFG.

Author: Speedz
Date:   Thu Mar 23 02:23:47 2017 -0700

    Corrected spelling of sql file.
    Must source this for previous commit

Author: Speedz
Date:   Thu Mar 23 02:18:13 2017 -0700

    Added settings to allow/block client types.
    Must source sql file login_util/updates/2017_03_23_tblLoginServerAccounst.sql

Author: Cavedude
Date:   Wed Mar 22 07:49:16 2017 -0700

    Dying while LD will now correctly send you to your bind point.

Author: Mackal
Date:   Sat Mar 18 00:54:03 2017 -0400

    Fix uninit group value

Author: Mackal
Date:   Sat Mar 18 16:59:46 2017 -0400

    This should resolve leaks and shutdown lua issues

Author: Mackal
Date:   Sat Mar 18 14:11:30 2017 -0400

    Take 2 at fixing encounters

Author: Mackal
Date:   Sat Mar 18 01:30:59 2017 -0400

    Fix encounters leaking?
    
    I didn't actually test this ...

Author: Mackal
Date:   Sat Mar 18 01:15:08 2017 -0400

    Fix memory leak in raids

Author: Mackal
Date:   Sat Mar 18 01:09:48 2017 -0400

    Fix fix memory leak fix

Author: Mackal
Date:   Sat Mar 18 00:51:54 2017 -0400

    Fix typo

Author: Mackal
Date:   Sat Mar 18 00:34:49 2017 -0400

    Fix leak in Group::SendHPPacketsTo

Author: Uleat
Date:   Fri Mar 17 20:37:48 2017 -0400

    Added clamp for EQEmuLogSys::LogSettings database values load

Author: Mackal
Date:   Thu Mar 16 14:10:36 2017 -0400

    clang-tidy said this was a use-after-free
    
    Also, what is this code doing?

Author: Robregen
Date:   Sat Mar 18 09:30:28 2017 -0700

    bug found by clang 4 (mackal from eqemu)

Author: Haynar
Date:   Sat Mar 18 08:23:50 2017 -0600

    Added correct format luclindefaults.txt for PC.

Author: Haynar
Date:   Sat Mar 18 08:18:28 2017 -0600

    Added Wix Installer build for PC Client

Author: Robregen
Date:   Tue Mar 14 13:49:04 2017 -0700

    removed the extra includes from shareddb.cpp

Author: Mackal
Date:   Wed May 25 16:29:39 2016 -0400

    Make EQStreamIdentifier::Record ctor take advantage of move semantics [clang-tidy]

Author: Phredi
Date:   Tue May 24 20:45:32 2016 -0500

    eqemu_config.xml.full update

Author: Mackal
Date:   Wed May 25 13:46:47 2016 -0400

    Fix more windows.h/winsock.h/winsock2.h issues
    
    We want to use winsock2.h rather than winsock.h. This was mostly enforced
    from the global_defines.h file, but I wanted to make it consistent.
    
    Most of these includes can be removed since they're included via
    global_defines.h, but someone on windows should clean that up

Author: KLS
Date:   Tue May 24 23:58:19 2016 -0700

    Missed config cause I'm totes not on gcc right now

Author: KLS
Date:   Tue May 24 23:49:25 2016 -0700

    Compile fixes, needs cleaning up

Author: Mackal
Date:   Wed May 25 02:38:06 2016 -0400

    Nuke unused COLLECTOR defines

Author: Akkadius
Date:   Wed May 25 01:20:09 2016 -0500

    Few more windows compile fix adjustments

Author: Phredi
Date:   Tue May 24 23:24:49 2016 -0500

    FreeBSD Compile Fixes

Author: Akkadius
Date:   Tue May 24 22:57:12 2016 -0500

    Add eqemu_config_extern.h to cmake - add header blockers

Author: Phredi
Date:   Tue May 24 22:17:50 2016 -0500

    fix to pass tests

Author: Phredi
Date:   Tue May 24 20:18:11 2016 -0500

    small fix for logdir

Author: Phredi
Date:   Tue May 24 20:00:54 2016 -0500

    initial logdir work(incomplete)

Author: Phredi
Date:   Fri May 20 21:03:34 2016 -0500

    Config File Update Initial Update
    
    # Conflicts:
    #       common/eqemu_config.cpp
    #       common/eqemu_config.h
    #       common/patches/rof.cpp
    #       common/patches/rof.h
    #       common/patches/rof2.cpp
    #       common/patches/rof2.h
    #       common/patches/sod.cpp
    #       common/patches/sod.h
    #       common/patches/sof.cpp
    #       common/patches/sof.h
    #       common/patches/titanium.cpp
    #       common/patches/titanium.h
    #       common/patches/uf.cpp
    #       common/patches/uf.h
    #       common/shareddb.cpp
    #       zone/embperl.cpp
    #       zone/embperl.h
    #       zone/lua_parser.cpp
    #       zone/quest_parser_collection.cpp

Author: Robregen
Date:   Mon Mar 13 21:56:20 2017 -0700

    some changes.

Author: Robregen
Date:   Mon Mar 13 21:23:14 2017 -0700

    Reduce the initial telnet console prompt timer

Author: Akkadius
Date:   Wed Feb 8 18:00:38 2017 -0600

    Allow admin telnet connections from localhost without requiring credentials to world

Author: Mackal
Date:   Sat Jun 11 15:59:46 2016 -0400

    Add luarocks support
    
    This allows one to use the lua_modules folder as their luarocks tree
    ex (from the server folder with lua_modules using default location)
    
    luarocks --tree=lua_modules install luasql-mysql MYSQL_INCDIR=/usr/include
    
    This will install the luasql mysql module so you can now do queries from lua

Author: Cavedude
Date:   Sun Mar 12 08:50:07 2017 -0700

    Added wandertype 8, which is labeled GridRandomCenterPoint. Wandertype 7 has been renamed to GridCenterPoint to avoid confusion.
    
    This new type causes a NPC to alternate between a random waypoint in grid_entries and a random waypoint marked with the new centerpoint column set to true. If no waypoints are marked as a centerpoint, this wandertype will not work. There is no numbering requirement or limit for centerpoints. You can have as many as you need.
    
    Required SQL (already run on dev and TAKP):
    utils/sql/git/required/2017_03_12_grid_centerpoint.sql

Author: Haynar
Date:   Sun Mar 12 09:04:12 2017 -0600

    Updated damage message range.

Author: Cavedude
Date:   Fri Mar 10 13:44:36 2017 -0800

    Throwing and ammo items will no longer be placed in a container that is below their size capacity when a trade is canceled.

Author: Cavedude
Date:   Fri Mar 10 08:37:10 2017 -0800

    Spirit of Bih`Li will again properly stack with illusions that aren't also runspeed buffs.

Author: Cavedude
Date:   Wed Mar 8 10:47:03 2017 -0800

    Removed the dupe lore check that occurs before a tradeskill recipe is performed as it breaks some recipes. The lore check will only be done after the recipe completes, meaning the product will be deleted if you already have one in your inventory.

Author: Cavedude
Date:   Wed Mar 8 08:13:04 2017 -0800

    Revert "Set limits on attack animation frequency.  This helps with high combat network traffic in raid situations."
    

Author: Cavedude
Date:   Wed Mar 8 06:31:36 2017 -0800

    Sacrifice will no longer cause the target to remember their HP and mana values.

Author: Haynar
Date:   Tue Mar 7 21:37:19 2017 -0700

    Reduced damage message range to match client.

Author: Cavedude
Date:   Tue Mar 7 11:22:26 2017 -0800

    Smoothed the death experience loss at higher levels a bit.

Author: Cavedude
Date:   Tue Mar 7 10:07:27 2017 -0800

    Some code that should have been in the previous commit.
    
    (Git Gui seems to have bugged out and created two conflicting commits, and did not stage all of the lines I told it to. Hopefully, we're all sorted now.)

Author: Cavedude
Date:   Tue Mar 7 09:00:33 2017 -0800

    Spells that land on any target will no longer break Feign Death.
    
    SE_LimitSpellType will now check for spells that land on any target and treat them as Beneficial.

Author: Cavedude
Date:   Mon Mar 6 15:36:15 2017 -0800

    Spells that land on any target will no longer break Feign Death.
    
    SE_LimitSpellType will now check for spells that land on any target and treat them as Beneficial.

Author: Cavedude
Date:   Mon Mar 6 09:13:02 2017 -0800

    Movement speed buffs will now be blocked by illusion buffs that have a movement speed component.

Author: Haynar
Date:   Sun Mar 5 21:14:07 2017 -0700

    Set limits on attack animation frequency.  This helps with high combat network traffic in raid situations.

Author: Haynar
Date:   Sun Mar 5 19:59:54 2017 -0700

    Fixed some extra unnecessary packets going out during combat.

Author: Cavedude
Date:   Sun Mar 5 10:38:25 2017 -0800

    Resisting a spell will now break invis.

Author: Haynar
Date:   Fri Mar 3 15:36:46 2017 -0700

    Fixed some pathing issues in Lower Guk and Estate of Unrest.
    Improved pathing logic for finding hazards.

Author: Cavedude
Date:   Thu Mar 2 17:27:23 2017 -0800

    Implemented opcode OP_ResetSkill which resets an activated skill. (Thanks to Haynar for helping to work out the struct.)
    
    The server timer for Mend will again survive zoning and camping. The skill will become available again after the original timer expires, even if pressed. (The client incorrectly resets the button.)
    
    (Gm only) Implemented the new opcode in #cleartimers, although many skills do not seem to be affected by it.
    
    Developers: Remember to update your patch_Mac.conf!

Author: Cavedude
Date:   Thu Mar 2 16:55:57 2017 -0800

    Identified LastModulated field in the player profile, and we're now populating it with data and sending it to the client.

Author: Cavedude
Date:   Thu Mar 2 16:51:33 2017 -0800

    Bard beneficial AE spells will no longer land on pets.

Author: Cavedude
Date:   Thu Mar 2 09:50:50 2017 -0800

    Going into water on a horse will now fade the horse buff.

Author: Cavedude
Date:   Thu Mar 2 09:36:39 2017 -0800

    Bard songs with an ATK component (McVaxius` Rousing Rondo, Jonthan's Provocation) will now use normal stacking rules when compared with a spell that also has an ATK component. This corrects a buff slot desync seen in this situation.

Author: Cavedude
Date:   Wed Mar 1 09:53:22 2017 -0800

    Fixed an issue causing tradeskill recipes to incorrectly use a product item as the recipe container if all other variables succeeded.
    
    Tradeskill recipes that would result in a duplicate lore item on success will now fail before any items are consumed. This will prevent item loss and a possible item desync.
    
    Corrected a tradeskill packet desync caused by not sending the reply packet OP_TradeSkillCombine when a tradeskill fails due to a race or class specific combine.
    
    Removed some methods related to the overhauled tradeskill window newer clients have.
    
    Fixed a Windows compile warning in GetDiscTimerID().
    
    (GM only) GM accounts created manually (using a command) will now use all expansions instead of the server default.

Author: Cavedude
Date:   Tue Feb 28 17:32:16 2017 -0800

    Removed opcode_dispatch.h as it was not being used.

Author: Cavedude
Date:   Tue Feb 28 17:29:41 2017 -0800

    More CPU optimizations.

Author: Cavedude
Date:   Tue Feb 28 16:11:07 2017 -0800

    Fix for high CPU usage.

Author: Cavedude
Date:   Mon Feb 27 11:51:50 2017 -0800

    Mod Rods' reuse timer will now persist over camping and zoning.

Author: Cavedude
Date:   Mon Feb 27 10:04:22 2017 -0800

    Corrected an issue causing a duplicate lore item to be allowed during certain tradeskill combines.

Author: Cavedude
Date:   Mon Feb 27 09:40:45 2017 -0800

    Corrected a stacking issue involving Speed of the Shissar.

Author: Cavedude
Date:   Mon Feb 27 08:57:03 2017 -0800

    Added new method GetFactionValue() and exported it to Lua. This works similar to GetFactionLevel() except it returns the numeric faction value instead of the con value.
    
    Lua syntax is:
    if(e.other:GetFactionValue(e.self) >= 1100) then
    
    There is no need to specify a factionid, the method will use the NPC's primary. The value the method returns is the player's final faction value including base modifiers, player faction, spell/item bonuses, illusions, and invis.
    
    Removed the npc_id paramater in GetFactionLevel() as it was never used.
    
    (GM only):
    
    Lowered the default status of #giveplayerfaction to 200.
    
    Changed #viewplayerfaction to use a NPC target to grab the factionid from. If no NPC is targeted, a factionid will need to be manually specified. In addition, if a NPC is targeted, the new GetFactionValue() will be used to count modifiers such as invis, and spell/item faction bonuses.

Author: Haynar
Date:   Sun Feb 26 22:42:45 2017 -0700

    Many netcode updates. Many improvements to prevent client desyncs.
    Added more size checks in inbound packets to ensure buffer is adequate.
    Sends to client will keep track such that acks do not get more than 120 behind, preventing going into packet loss.
    Added more checks when rolling over the ARQ under high data rates and packet loss, to prevent client from desyncs.

Author: Cavedude
Date:   Sat Feb 25 08:47:55 2017 -0800

    Removed the player_lootitem namespace so we don't need to maintain two identical ServerLootItem_Struct structs.

Author: Cavedude
Date:   Sat Feb 25 07:43:26 2017 -0800

    Corrected the AA resue timer message to use white text.

Author: Cavedude
Date:   Fri Feb 24 17:11:01 2017 -0800

    Implemented the Necro AA Flesh to Bone.
    
    Added singingMod to the SE_AddSingingMod spell effect. This should fix the Bard AA Singing Mastery.

Author: Cavedude
Date:   Fri Feb 24 10:05:19 2017 -0800

    Added rule Character:DefaultExpansions which allows us to change the expansion that is set when a new account is created without having to change the account database table.
    
    Added command #expansion [accountname][expansion] to allow GMs to change the expansions on a specific account.

Author: Cavedude
Date:   Thu Feb 23 08:30:06 2017 -0800

    Added new pathgrid type 7. This grid causes a NPC to alternate between the first waypoint in their grid (Number 1 in the editor) and a random waypoint. (1 - 7 - 1 - 4 - 1 - 11 - 1 - 5 - 1, etc)
    
    Changed the wandertype IDs to an enum so we know what we're looking at.

Author: Cavedude
Date:   Tue Feb 21 18:40:20 2017 -0800

    Corrected the issue causing shuttles to fall out of sync when there are no players in the zone.

Author: Cavedude
Date:   Tue Feb 21 10:03:35 2017 -0800

    Fishing an edible item will now use the item's name in the message, instead of telling you that you caught "something."
    
    Removed the code to fish up a NPC.
    
    Spilling your beer while fishing will now delete a single charge of an alcoholic beverage in your inventory. If you have no alcohol on you, you will no longer get the spilled beer message.
    
    Removed the hardcoded forage items, as they are completely handled by the database. This should also eliminate incorrect messages seen while foraging.
    
    Required SQL (already run on dev and TAKP):
    utils/sql/git/required/2017_02_21_fishing.sql

Author: Cavedude
Date:   Tue Feb 21 08:16:22 2017 -0800

    Corrected an issue causing NPCs to use their off-hand weapon's animation when no weapon can be found in their primary hand.

Author: Cavedude
Date:   Mon Feb 20 13:16:34 2017 -0800

    Added support for randomly spawned NPCs. Instead of requiring a spawnpoint, these NPCs will randomly spawn anywhere between the specified roambox. They will then begin pathing within that roambox. If no roambox exists for the given spawngroup, no random spawns will occur. The NPCs will be pulled from spawnentry for the given spawngroup like normal spawns are. When a random NPC dies or despawns, a new NPC will respawn in a new location after the respawntimer expires. Ultimately, they are just normal spawns with a dynamic spawnpoint instead of using a hardcoded one in spawn2. Four new columns have been added to spawngroup for this feature:
    
    rand_spawns - The number of random NPCs you want in this spawngroup.
    rand_respawntime/rand_variance - The respawntime and variance random NPCs in this spawngroup will use. Each random spawn will calculate their own variance and will keep track of their individual timer.
    rand_condition - The spawn_condition the random NPCs will use. Useful, if for example you want random spawns to be on a day/night cycle.
    
    Each zone is limited to 1,000 random NPCs due to how the spawn IDs are reserved for these spawns.
    
    Removed repopdelay from Repop() as it was not implemented.
    
    Required SQL (already run on dev and TAKP):
    required/2017_02_20_rand_spawn.sql

Author: Haynar
Date:   Mon Feb 20 13:19:32 2017 -0700

    Updated crash fix to use MAX_PP_MEMSPELL

Author: Haynar
Date:   Mon Feb 20 13:15:36 2017 -0700

    Fixed a potential crash in Client::AI_SpellCast()

Author: Cavedude
Date:   Mon Feb 20 11:42:06 2017 -0800

    GM only:
    
    Added new command #underworld [z]. This will report any NPC that is currently below the given Z coord, or if not given any below the lowest Z found in spawn2 and grid_entries. Reported entries that are yellow simply means they are below the current coord, but they are not below the underworld coord. Those entries may not necessarily be under the world. Entries that are red means the NPC is currently below the underworld coord. They either are under the world, or the underworld coord is incorrect. Either way, a red entry means something is wrong. If a red entry has a spawn2 entry, the bestz of their current coord will also be given for easy reference.

Author: Cavedude
Date:   Mon Feb 20 10:28:10 2017 -0800

    Skills that are affected by a skill mod will now use a hard cap of 252.
    
    Moved racial skills to CanHaveSkill() and MaxSkill() to avoid having to do extra checks in multiple places. (Removed the extra checks I found.)
    
    GM Only:
    
    #setskillall will now enforce the soft (database) cap for each skill. If you need to set a skill up to 252 or give a player a skill they shouldn't have for testing, then use #setskill.
    
    #setskill will now enforce the hard cap of 252.
    
    Both of the above commands will no longer fail if you set a skill value higher than the cap, instead it will just use the cap.
    
    Removed the remains of #myskills, since that requires window support found in newer clients. Its functionality is completely replaced by #skills values

Author: Cavedude
Date:   Mon Feb 20 09:32:04 2017 -0800

    Refreshing a buff or debuff will be blocked if the effect values are the same, and the second caster is lower in level than the original caster.

Author: Haynar
Date:   Sun Feb 19 21:52:56 2017 -0700

    Fixed some pathing issues in templeveeshan.path around first four-way in West Wing, and one way walls in HoT.

Author: Haynar
Date:   Sun Feb 19 09:15:56 2017 -0700

    Fixed potential crash issues associated with iterator handling.

Author: Haynar
Date:   Sun Feb 19 09:08:50 2017 -0700

    The pause parameter with lua moveto should now work correctly.

Author: Cavedude
Date:   Fri Feb 17 07:54:06 2017 -0800

    Missed a related part of mob.cpp in my last commit.

Author: Cavedude
Date:   Fri Feb 17 07:47:37 2017 -0800

    Fixed a compile warning under Linux.

Author: Cavedude
Date:   Fri Feb 17 00:51:15 2017 -0800

    Updated player_lootitem to match ServerLootItem_Struct.

Author: Robregen
Date:   Thu Feb 16 23:02:37 2017 -0800

    revert eq_packet_structs.h change that was causing issue on the server as suggested by Secrets.

Author: Cavedude
Date:   Thu Feb 16 11:56:49 2017 -0800

    The charges variable should now be uniform in methods where NPCs handle items.
    
    Rewrote the code that NPCs use to swap their item's inventory slot during a Disarm to be safer, cleaner, and to prevent an exploit. MoveItemToGeneralInventory() can also be used in other systems if need be.

Author: Haynar
Date:   Tue Feb 14 20:10:35 2017 -0700

    Added netcode improvements to help with desyncs.

Author: Robregen
Date:   Tue Feb 14 11:27:20 2017 -0800

    removed the files leftover from web interface removals.

Author: Cavedude
Date:   Tue Feb 14 10:42:45 2017 -0800

    Handle_Connect_OP_WearChange will now be processed instead of returning, and all client initiated OP_WearChange packets will no longer send a packet to the sender.
    
    Corrected an issue causing a helm update to be sent when weapons are swapped. (Todo: Figure out why the client doesn't always send OP_WearChange on swaps so this code can be removed entirely.)
    
    The client initiated OP_WearChange that happens due to removal of a helm will now send the packet properly if the client has showhelm off.
    
    When a new player with a helm that has a graphic enters a zone, an additional packet will be sent to every player with showhelm off to hopefully prevent general texture updates from overriding the helm texture.

Author: Akkadius
Date:   Wed Feb 8 17:28:54 2017 -0600

    Heavily reduce idle cpu footprint with many zone processes loaded simultaneously and not active

Author: Cavedude
Date:   Mon Feb 13 22:02:04 2017 -0800

    Flaming Sword of Xuzl and Unswerving Hammer of Faith will no longer taunt.

Author: Cavedude
Date:   Mon Feb 13 13:31:24 2017 -0800

    Feign Death will now display a message when it is broken due to being a target of a detrimental spell.
    
    The NPC Gate message will now be filtered under critical spells.
    
    Ground spawn items within a bag will now log the bag's ID when dropped or picked up in QueryServ.

Author: Akkadius
Date:   Mon Feb 13 01:38:23 2017 -0600

    Apply KLS' tweaks to Log.Out (CPU saves) https://github.com/EQEmu/Server/commit/1d055b5364a4183a327683dfa13cf33954874616

Author: Haynar
Date:   Fri Feb 10 14:49:36 2017 -0700

    Netcode updates to fix desyncs for very low latency connections.

Author: Cavedude
Date:   Fri Feb 10 10:39:59 2017 -0800

    FindBestZ() will now check to make sure the Z it selects isn't lower than the zone's underworld coordinate. This will help to reduce the amount of NPCs that fall below the world. The underworld coord may need to be tweaked in problematic zones.
    
    (GM only): #bestz now supports X and Y coords as parameters to check specific coords. If no X and Y are specified, bestz will use your current location as normal.

Author: Cavedude
Date:   Wed Feb 8 17:47:33 2017 -0800

    Fixed the issue causing weapons to not update when swapped.

Author: Cavedude
Date:   Tue Feb 7 22:24:14 2017 -0800

    Fixed a flaw the the NPC dual wield logic uncovered by the previous commit.

Author: Cavedude
Date:   Tue Feb 7 22:00:17 2017 -0800

    Corrected an issue causing NPCs to not be able to equip secondary only items without first equipping a primary.

Author: Cavedude
Date:   Tue Feb 7 21:45:20 2017 -0800

    Corrected a minor problem with the order of NPC emote string replacements.

Author: Cavedude
Date:   Tue Feb 7 15:48:34 2017 -0800

    NPC database emotes now supports basic variables. More than one variable can be used at a time.
    
    The variables are:
    $name - Target's name
    $race - Target's races
    $racep - Target's race plural (Dark Elves instead of Dark Elf)
    $class - Target's class
    
    $mname - NPC's name
    $mrace - NPC's race
    $mracep - NPC's race plural
    $mclass - NPC's class
    
    A NPC can now have multiple emotes per event type. They will randomly choose one of the emotes each time it is triggered.
    
    The hailed emote trigger will now pause and turn the NPC to face the hailing player.
    
    Required SQL (already run on dev and TAKP):
    utils/sql/git/required/2017_02_07_npc_emotes.sql

Author: Cavedude
Date:   Tue Feb 7 12:07:26 2017 -0800

    Changed the merchant item quantity cap to a variable, and set it to 500.

Author: Haynar
Date:   Tue Feb 7 12:42:30 2017 -0700

    Added forum id to account and character_data tables.

Author: Haynar
Date:   Sun Feb 5 17:11:55 2017 -0700

    Fixed an issue with authenticating servers not able to retrieve username/password from the db.
    Added a check for a potential buffer overflow error with TCP communications.
    Re-Added support for the Trilogy client to the loginserver.
    Added a check for releasing stale USC connections that closed abnormally.

Author: Robregen
Date:   Sun Feb 5 13:52:00 2017 -0800

    Revert "Tweak to EQStreamProxy (credit to KLS)"
    

Author: Cavedude
Date:   Thu Feb 2 11:41:03 2017 -0800

    Fixed a crash in the character consent code.

Author: Cavedude
Date:   Thu Feb 2 11:41:03 2017 -0800

    Fixed a crash in the character consent code.

Author: Cavedude
Date:   Thu Feb 2 10:31:03 2017 -0800

    Group invites will no longer place players in a existing raid as an ungrouped member if the group they were invited to has become full. (They will need to be raid invited or invited to another group.)
    
    Moved up some more events and emotes on NPC death.

Author: Cavedude
Date:   Thu Feb 2 07:32:19 2017 -0800

    Form of the Great Bear will now turn Iksar into a black bear.

Author: Robregen
Date:   Wed Feb 1 16:50:17 2017 -0800

    Tweak to EQStreamProxy (credit to KLS)

Author: Robregen
Date:   Wed Feb 1 14:21:04 2017 -0800

    Removed web interface related code since it's incomplete and useless.
    Moved Luabind to the main directory.

Author: Cavedude
Date:   Wed Feb 1 12:46:21 2017 -0800

    The no-rent version of the GM Uber Sword can't be summoned by accounts with a non-GM status.

Author: Cavedude
Date:   Wed Feb 1 09:03:47 2017 -0800

    Disarm will now return magical weapons to the NPC's inventory, instead of failing.
    
    Added IMMUNE_DISARM special ability, to allow content developers to mark specific NPCs as being immune to disarm.
    
    Made Disarm() a virtual method to clean up the code some.

Author: Cavedude
Date:   Tue Jan 31 16:40:19 2017 -0800

    Moved OP_WearChange from encode to native code.
    
    Removed hero_forge_model and other out of era code in OP_WearChange.
    
    Helms using idfile IT240 and material 0 will now send their idfile in OP_WearChange instead of their material. (This fixes 20 custom helms.) The same was also done to the character select code.
    
    Cleaned up some logic in the character select armor appearance code.
    
    Removed the player tint code for LoY dye.
    
    Added code to ensure helm updates are always sent to other players.
    
    Replaced meaningless numbers in many material loops with the informative enums MATERIAL_BEGIN and MATERIAL_END.
    
    Added player command #showhelm. Full syntax is:
    
    #showhelm on/off [all]
    
    This toggles all player helms (including your own) on or off both in-game and at character select. If the optional "all" argument is used, all characters on the current account will be toggled. If it isn't used, only the current character will be affected. The showhelm option is saved in the database per player, so it doesn't need to be toggled each time you play. Also, different characters on the same account can each have different settings if desired. This command will not work for NPCs who spawn with helms. (It may work if the NPC is given a helm, but that is untested.)
    
    [GM only] Updated the #wc command to handle all of our OP_WearChange columns and removed out of era columns.
    
    Required SQL (already run on Dev, will need to be run on TAKP on patch day):
    utils/sql/git/required/2017_01_31_helms.sql

Author: Torven
Date:   Tue Jan 31 16:40:05 2017 -0800

    archery hate reduced

Author: Haynar
Date:   Fri Jan 27 22:52:37 2017 -0700

    Pushback spells will now push in the direction the caster is facing.

Author: Cavedude
Date:   Fri Jan 27 18:19:22 2017 -0800

    Corrected another stacking issue with Resurrection Effects.

Author: Cavedude
Date:   Fri Jan 27 10:08:45 2017 -0800

    Moved EVENT_NPC_SLAY in NPC::Death() up before corpse creation, so e.other:GetID() is a valid value for event_slay in Lua.

Author: Cavedude
Date:   Tue Jan 24 13:16:13 2017 -0800

    Optimized /consent a bit to hopefully prevent an issue causing consent to be denied when it shouldn't be.

Author: Cavedude
Date:   Tue Jan 24 13:08:24 2017 -0800

    Reverted Pets will no longer generate low health hate bonus.

Author: Robregen
Date:   Tue Jan 24 09:10:59 2017 -0800

    memleak fix https://github.com/EQEmu/Server/commit/7033d9d91988b2e3e0a6dd15388c05b49e23d1eb

Author: Cavedude
Date:   Mon Jan 23 10:13:14 2017 -0800

    Pets will no longer generate low health hate bonus.
    
    Corrected an issue causing pet health to exceed 100%.
    
    Corrected spell stacking rules for resurrection effects and for beneficial vs detrimental spells with an AC effect in slot 4.
    
    (GM only) Fixed an issue with the #castspell command not resetting the GM exception.

Author: Cavedude
Date:   Mon Jan 23 09:03:15 2017 -0800

    QuestReward() will no longer give faction hits if the NPC is charmed.

Author: Cavedude
Date:   Sat Jan 21 09:50:08 2017 -0800

    Ranger archery bonus will now be applied to permarooted NPCs.

Author: Cavedude
Date:   Fri Jan 20 09:48:32 2017 -0800

    Corrected an error in some pet names causing spaces to be removed when damage is reported.
    
    Rogue poisons that are applied to piercing weapons will now only proc once on the first successful normal attack and then will fade.

Author: Robregen
Date:   Thu Jan 19 10:12:49 2017 -0800

    change comments to reflect specific combat range to velious dragons.

Author: Robregen
Date:   Wed Jan 18 21:39:26 2017 -0800

    Added an exception for increase client combat range for velious dragon race type in Temple of Veeshan.

Author: Cavedude
Date:   Tue Jan 17 10:53:04 2017 -0800

    NPCs will now assist if the attacker is a red con in NPC vs NPC combat. Players and player pets are not affected by this change.

Author: Cavedude
Date:   Tue Jan 17 10:27:37 2017 -0800

    TGB will no longer work on items with group spell click effects.

Author: Cavedude
Date:   Tue Jan 17 10:12:25 2017 -0800

    Players with 201 skill or higher in Bind Wound can now heal up to 70%.

Author: Cavedude
Date:   Tue Jan 17 10:10:59 2017 -0800

    LFG will now be cleared when a player accepts a raid invite, or for both players when a raid is created.
    
    Corrected an issue where a group leader could not use group chat until they zone.
    
    Invited players in a group will now receive a message when another player attempts to invite them to another group.

Author: Cavedude
Date:   Tue Jan 17 10:05:58 2017 -0800

    Discipline timers will no longer be cleared on death.
    
    Clarified an item desync log message.

Author: Torven
Date:   Fri Jan 13 20:08:32 2017 -0800

    Ignore distance and loiter timers
    
    * Ignore distance now has a timer that starts when the mob has outdistanced
      the NPC.  When the timer expires, the mob is removed from the hate list.
      Default time is set to 180 seconds, (in new Aggro rule ForgetRangeTimeOut)
      however the value Sony had it is unknown and this is a complete guess and
      may be changed in a future commit.
    * NPCs will now not ignore mobs that outdistance them and have damaged them
      until 24 seconds have passed.  Mobs that have done no damage will be
      ignored immediately after exceeding ignore distance.
    * NPCs that have nobody in range to chase will now loiter (if they are
      loitering NPCs) before returning home.  When they return home, they will
      remain at run speed so long as they hate somebody.
    * NPCs will now no longer forget non-feigned players once they reach their
      home points.
    * The Timer class has four new methods: SetDuration(), Reset(), Pause() and
      Resume().
    * The members previously used to keep track of NPC loitering have been
      replaced by the new AIloiter_timer;
    * New method Mob::AI_SetLoiterTimer() now contains all the code that sets the
      loiter timer and is called when mob AI begins and when NPCs return to home
      points.  The timer is paused and resumed when aggro is gained and lost so
      the remaining time is remembered.

Author: Robregen
Date:   Wed Jan 11 10:41:14 2017 -0800

    waypoint crash fix.

Author: Haynar
Date:   Sun Jan 8 15:44:45 2017 -0700

    NPC thrown items (i.e. spears) will now show the correct item flying through the air.

Author: Cavedude
Date:   Sat Jan 7 10:41:13 2017 -0800

    No drop quest rewards will now be forced to the cursor queue if the inventory is full. If the cursor queue is full, or the item already exists on the queue the new item will be deleted!

Author: Haynar
Date:   Fri Jan 6 09:16:41 2017 -0700

    NPCs will now respond and start moving immediately following execution of the quest::MoveTo command.

Author: Robregen
Date:   Thu Jan 5 21:48:17 2017 -0800

    add path file for Akanon.

Author: Haynar
Date:   Thu Jan 5 16:03:56 2017 -0700

    Fixed a broken pathing connection around Vindi.

Author: Haynar
Date:   Thu Jan 5 16:00:27 2017 -0700

    Added a pause parameter for lua move_to in seconds.  The format is move_to(x,y,z,h,save_guardpoint,pause) - The pause is in seconds, and how long they will pause when reaching their destination.  The default is to pause for 5 seconds.
    Fixed an issue where an aggro'd mob on a grid will not use pathing to return to their pathing.
    Fixed an issue where large mobs returning to guard locations, may not find nearby path nodes due to being too large.
    Mobs on a grid that have a move_to used, will now use path when available to return to their grid.
    When a mob is aggro'd on a grid, they will return to the waypoint they are on if aggro is lost, rather than moving on to the next waypoint.

Author: Cavedude
Date:   Wed Jan 4 10:24:17 2017 -0800

    Corrected a flaw in the raid XP split code.

Author: Cavedude
Date:   Wed Jan 4 10:24:17 2017 -0800

    Corrected a flaw in the raid XP split code.

Author: Torven
Date:   Sat Dec 31 20:19:04 2016 -0800

    added 30-39 dmg caps and corrected 20-29 caps

Author: Torven
Date:   Sat Dec 31 19:17:55 2016 -0800

    Precise Client Anti-Twink Weapon Dmg Caps
    
    * Precise weapon damage caps implemented.  Values+logic taken from a
      decompile done by Demonstar.
    * Rules HitCapPre10 and HitCapPre20 removed.
    * Level 20-29 players now have high caps.

Author: Haynar
Date:   Thu Dec 29 16:01:45 2016 -0700

    UCS Crash fix for a stream that was closed by the client.

Author: Cavedude
Date:   Fri Dec 30 21:33:42 2016 -0800

    Rewrote player and NPC item trade QueryServ logs to use the same table, qs_player_trade_items_log. Only pertinent information regarding the current item will be in this table. Coin and other information will be handled in other tables. The type column will also warn you if the item is possibly eaten.
    
    qs_player_trade_log will log coin and item counts for player trades, and qs_player_handin_log will log the same for NPC trades. The schema of these two tables have been changed quite a bit, so the required SQL will archive the old table before souring in the new.
    
    Dropping items to the ground due to being full will now be logged in qs_player_ground_spawns_log and will be marked, making these entries easier to identify.
    
    Client::CreateGroundObject() will now handle the message when an item is dropped due to being full.
    
    Corrected an issue where items within a bag may not be dropped correctly if a trade fails, is reset, and the player's inventory is full.
    
    Required SQL (already run on Dev, cannot be run on TAKP until patch day.):
    sql/git/required/2016_12_30_qs_updates.sql

Author: Mackal
Date:   Sun Dec 25 21:06:02 2016 -0500

    Add Random::Roll0
    
    This has the same interval ((0,N]) that the client function does
    The devs have referenced this in a few posts talking about
    mechanics.

Author: Haynar
Date:   Thu Dec 29 16:01:45 2016 -0700

    UCS Crash fix for a stream that was closed by the client.

Author: Cavedude
Date:   Wed Dec 28 12:31:05 2016 -0800

    Player trade QueryServ logging will now log items within a bag.
    
    Fixed an issue causing incorrect item counts and charges during trade logging.
    
    Required SQL (already run on dev and TAKP):
    sql/git/required/2016_12_28_qs_player_trade_update.sql

Author: Cavedude
Date:   Wed Dec 28 11:07:19 2016 -0800

    Ground Spawns (both dropped and picked up) are now logged by QueryServ including items within bags.
    
    Required SQL (already run on Dev and TAKP):
    sql/git/required/2016_12_28_qs_player_ground_spawns_log.sql

Author: Cavedude
Date:   Tue Dec 27 18:54:06 2016 -0800

    Non-pet NPCs will now use their weapon's attack delay if it is lower than their innate delay.

Author: Cavedude
Date:   Tue Dec 27 18:41:57 2016 -0800

    Added IsMobSpawnedByEntityID(entityid) Lua method.
    
    Example usage:
    if(eq.get_entity_list():IsMobSpawnedByEntityID(100)) then
         do stuff
    end

Author: Haynar
Date:   Tue Dec 27 18:07:07 2016 -0700

    Added fixes for rooted mobs ghosting under certain conditions.

Author: Cavedude
Date:   Tue Dec 27 12:29:33 2016 -0800

    Added QueryServ logging for coin deletion, coin moves to the trade bucket, /split, and optionally coin moves to and from the bank.
    
    Corrected an issue causing coin only trades to not be logged correctly.
    
    Corrected a potential crash in Group::SplitMoney().
    
    Required SQL(already run on dev and TAKP):
    sql/git/required/2016_12_27_qs_player_coin_move_log.sql

Author: Cavedude
Date:   Tue Dec 27 08:32:02 2016 -0800

    PVP maps regions will no longer cause spells to fail the region check.

Author: Torven
Date:   Sun Dec 25 17:20:25 2016 -0800

    Lower level spell PvP scaling

Author: Torven
Date:   Fri Dec 23 17:15:19 2016 -0800

    PvP Mitigation Changes
    
    * New server rules: PvPMeleeDmgPct, PvPSpellDmgPct, PvPArcheryDmgPct.
    * Default Melee and Archery PvP damage is now 100% (i.e. full damage)
    * Default Spell PvP Damage is now 62%.

Author: Torven
Date:   Thu Dec 22 21:20:34 2016 -0800

    PvP Spell Resists Change
    
    * The resist curve in PvP now duplicates the non-linear curve found in PvP
      resist parses for resists 1-200.
    * The resist cap in PvP is now 196.  This means that all-or-noting spells now
      have a 2% chance to land when the target has a resist value of 196 or
      greater.  DD spells will land for about 1/3rd damage on average, minimum,
      before the PvP reduction.

Author: Haynar
Date:   Thu Dec 22 09:54:56 2016 -0700

    Inviting someone already in a group should now provide the appropriate feedback to the inviter that they are already grouped.

Author: Haynar
Date:   Wed Dec 21 19:42:54 2016 -0700

    Fixed an issue with mobs charmed while in flee mode, so they will respond correctly to commands.

Author: Haynar
Date:   Wed Dec 21 19:29:44 2016 -0700

    Changed how groups are left in a raid, to help fix bugged groups when a player goes LD.

Author: Haynar
Date:   Tue Dec 20 11:51:52 2016 -0700

    Fixed an issue where mobs will try to face their target while fleeing.  They can still hit stuff in front of them while fleeing, but they will no longer try to face their target and will stay pointed towards their ultimate destination.

Author: Haynar
Date:   Sun Dec 18 15:45:39 2016 -0700

    Added another UCS fix.

Author: Haynar
Date:   Sun Dec 18 15:28:15 2016 -0700

    Added more sanity checks, to prevent UCS crashes from Stale client connections

Author: Robregen
Date:   Sat Dec 17 19:48:15 2016 -0800

    Fix potential infinite loop in loginserver's config file reader (SCMcLaughlin from eqemu)

Author: Haynar
Date:   Sat Dec 17 20:37:06 2016 -0700

    UCS Crash Fix for a stream closed by the client.

Author: Haynar
Date:   Sat Dec 17 18:19:43 2016 -0700

    Added some sanity checks and reordered deletion of timed out entities in HateList::GetTop() to help prevent crashes.

Author: Haynar
Date:   Thu Dec 15 22:07:48 2016 -0700

    Fixed issue with UCS allowing the stream to close before it is ready, causing the UCS to crash.
    Fixed a problem with UCS trying to close streams multiple times.
    Fixed a timeout issue with UCS timeout checks that results in trying to close the stream again in the closed state, when the connection timed out.  The issue was associated with not allowing the stream enough time to close and triggered the timeout check immediately leading to a race state in closing the connection.

Author: Haynar
Date:   Mon Dec 12 21:29:20 2016 -0700

    UCS Crash Fix

Author: Haynar
Date:   Mon Dec 12 21:02:35 2016 -0700

    Changed forced disconnect for desynced clients.
    Fixed an issue with going LD, bugging groups in raids.

Author: Cavedude
Date:   Wed Dec 7 14:30:34 2016 -0800

    Suspended Minion will now restore suspended pets properly.

Author: Torven
Date:   Tue Dec 6 20:55:36 2016 -0800

    Spell Partial Determination Logic Change
    
    * IsPartialCapableSpell() has been changed to return true if the spell's first
      effect is effect id 0 or 79 (damage), else it will return false.  It will no
      longer return false if the spell has a duration.  Dispel effects are no
      longer ignored.  Dragon AoEs will still partial as their first effect is
      damage.
    * The result of this change is that certain raid boss spells will now use the
      600 resist scale instead of the 200 scale, and will partial hit even if the
      spells have effects like stuns or AC debuffs.  This fixes it to function as
      Sony's spells do.
    * Some player spells will now also hit better.  Enchanter DDs will now partial
      hit.  Druid magic DoTs and necro fire DoTs will now hit much better.

Author: Haynar
Date:   Tue Dec 6 17:58:37 2016 -0700

    Netcode fixes - Changed how resend are flagged for packets.

Author: Haynar
Date:   Tue Dec 6 17:57:34 2016 -0700

    UCS fixes to use a consistent method of stream interface deletions.

Author: Cavedude
Date:   Mon Dec 5 10:33:22 2016 -0800

    The server and client should now remain in sync when Mend is used and the player zones.
    
    Changed the timer ability error to be a log, instead of a player message.

Author: Cavedude
Date:   Sat Dec 3 12:36:27 2016 -0800

    Implemented Spell Casting Reinforcement and Mastery AAs.

Author: Cavedude
Date:   Fri Dec 2 22:20:39 2016 -0800

    Harm Touch and Lay on Hands will now sync better between server and client.
    
    More player timers are now cleared on death.

Author: Haynar
Date:   Fri Dec 2 20:21:19 2016 -0700

    index on dev: 0e2e2db Some more tweaks to /consent.

Author: Cavedude
Date:   Fri Dec 2 08:56:28 2016 -0800

    Some more tweaks to /consent.

Author: Cavedude
Date:   Thu Dec 1 22:58:43 2016 -0800

    Fixed the issue causing /consent to only work for the last player consented.

Author: Torven
Date:   Thu Dec 1 03:46:24 2016 -0800

    workaround to prevent dangling pointer crash in GetTop()

Author: Cavedude
Date:   Mon Nov 28 08:08:52 2016 -0800

    Fixed a spell buff desync that occurred when a player's buff bar is full and a detrimental buff is cast on them.
    
    Corrected a spell buff desync that occurred due to incorrect stacking rules involving HP regen spells and DOTs.
    
    DOT damage is now combined with the HP tick packet, to keep the client and server in sync better.
    
    Fixed some logic that was causing DOTs to give an incorrect message and prevented the client from completing its death routine.
    
    Corrected an issue causing the server to not always fade buffs by client request.
    
    (GM only) cshome (and any zone where buffs are suspended) will no longer freeze the timer on detrimental buffs. This corrects a buff desync between client and server.

Author: Haynar
Date:   Sat Nov 26 18:22:04 2016 -0700

    Fixed an issue with the pathing node system, when a fleeing mob is snared to the stop, their heading changes.  They should continue to face the pathing node they are heading towards, rather than rotate towards their final destination.

Author: Cavedude
Date:   Thu Nov 24 09:17:34 2016 -0800

    NPCs that are fleeing will now set a 7 second timer, and once that timer expires any feigned players (or players that feign after that point) will not receive XP or a faction hit. This is not exactly how Live works but it approximates the functionality, without changing our flee pathing code.
    
    Players that feign before the NPC begins to flee are not affected by this, because they always avoid the faction hit anyway.
    
    Changed corpses to use the same light source code as NPCs.

Author: Cavedude
Date:   Tue Nov 22 23:39:54 2016 -0800

    NPCs will now use light source items from their general inventory.

Author: Haynar
Date:   Wed Nov 23 09:21:02 2016 -0700

    Reduced number of HP update packets sent when damaging mobs.

Author: Haynar
Date:   Tue Nov 22 20:13:11 2016 -0700

    Changed packet throttling to fix desync issues.

Author: Haynar
Date:   Tue Nov 22 20:12:04 2016 -0700

    UCS crash fix.

Author: Cavedude
Date:   Tue Nov 22 18:22:41 2016 -0800

    The GetFaction() lua method now will return 0 if the player is max ally (+2000) with the given faction or 10 if they are max scowling (-2000.)

Author: Cavedude
Date:   Mon Nov 21 12:45:07 2016 -0800

    Summoned pets will now use their owner's resists and level when checking if they will resist a spell if the caster is a NPC. They will continue to use their own immunities.

Author: Cavedude
Date:   Mon Nov 21 12:25:39 2016 -0800

    Simplified the logic in CheckWillAggro() even more.

Author: Cavedude
Date:   Sun Nov 20 21:59:31 2016 -0800

    Lay on Hands and Harm Touch are now excluded from the spell recovery timer.

Author: Cavedude
Date:   Sun Nov 20 20:26:02 2016 -0800

    /consent can now be used whenever a new corpse is created to grant permission to the new corpse (or any others that are not already consented.) Using the command a second time when all available corpses are consented will revoke consent.
    
    The consent list will no longer expire on a timer. Consent will now only be revoked using the command, looting a corpse, having a corpse poof, or on server resets.
    
    Required SQL:
    utils/sql/git/required/2016_11_20_character_consent.sql

Author: Cavedude
Date:   Sun Nov 20 10:51:35 2016 -0800

    Group members while in a raid are now sent in the player profile like normal groups which prevents an incorrect message and allows us to send a much smaller group packet.
    
    Raid group members will now receive the group leader update packet instead of the full group update packet when they enter a new zone.
    
    Changed or removed some packets sent when a raid group member is added or removed. This will prevent duplicated or incorrect messages.
    
    Added some messages when a raid group invite fails.

Author: Cavedude
Date:   Fri Nov 18 13:30:20 2016 -0800

    Charmed pets will now be aggroed by NPCs that are KOS to their owner.
    
    Simplified the logic in CheckWillAggro().
    
    Removed rules Aggro:SmartAggroList, Aggro:IntAggroThreshold, and Aggro:UseLevelAggro as they are either obsolete or produce unnecessary code.

Author: Cavedude
Date:   Fri Nov 18 09:21:05 2016 -0800

    Mobs can no longer proc while silenced.

Author: Cavedude
Date:   Thu Nov 17 17:41:11 2016 -0800

    Fixed the stacking issues between Visions of Grandeur (and like spells) and illusions.
    
    Bard AE songs will again check for LoS on the pulse.

Author: Cavedude
Date:   Thu Nov 17 11:44:05 2016 -0800

    Hopefully fixed the crash caused by feigning in very specific circumstances.

Author: Cavedude
Date:   Wed Nov 16 14:36:46 2016 -0800

    Fixed the issue causing players who aren't on the hatelist to fail to receive part of the group XP split.

Author: Cavedude
Date:   Wed Nov 16 10:49:42 2016 -0800

    Fixed the bug introduced causing non-ATK illusions to block ATK buffs.

Author: Cavedude
Date:   Wed Nov 16 09:45:54 2016 -0800

    Fixed the zone crash cause by an invalid pointer in the faction code. (Sorry about that!)

Author: Cavedude
Date:   Sun Nov 13 15:48:42 2016 -0800

    Expanded the see_illusion column under faction_list to affect normal non-base race illusions in addition to Treeform/Minor Illusion. This will cause any NPC on that faction to view the player as they have no illusion up at all. This column does not work on base race illusions!

Author: Cavedude
Date:   Sun Nov 13 11:55:59 2016 -0800

    Corrected the spell stacking desync that occurred when a upgraded beneficial ATK spell is cast over a beneficial illusion spell with an ATK component. (The ATK spell should be blocked by the illusion.)
    
    The output of /pet health is now AKurate.
    
    (GM only) Added gm_override option 2 to #castspell, which causes a buff to overwrite another buff without sending the buff fade packet. The client handles the icon change on its own, so this can be used to find desyncs. In the future (when we are sure we have all desyncs fixed), this packet should be removed completely as it did not appear to be sent in this case on AK.

Author: Cavedude
Date:   Sat Nov 12 20:33:08 2016 -0800

    Removed spells_new columns that were either unimplemented in our current code or that were all one value in our table. Columns that exist in our spells_en.txt file were all kept, even if they did not have valid values.
    
    Renamed all unknown columns using http://wiki.eqemulator.org/p?spell_effect_fields
    
    Changed pushup and pushback columns to be a float.
    
    Removed any code associated with the removed columns.
    
    Removed all unused spell target types and their implementations.
    
    Implemented ST_AEClientV1. (TargetType 2)
    
    Corrected the value of MAX_PP_SPELLBOOK to 256 and MAX_PP_MEMSPELL to 8.
    
    #scribespells will now skip scribing spells that return true for not_player_spell.
    
    #scribespells will now inform you how many spells were skipped due to the spellbook being full.
    
    Required SQL (already run on Dev, will be available in tomorrow's developer dump):
    utils/sql/git/required/2016_11_12_spells_part1.sql
    utils/sql/git/required/2016_11_12_spells_part2.sql

Author: Haynar
Date:   Sat Nov 12 18:58:36 2016 -0700

    Included Dual Wield chance in the secondary weapon proc rate calculation to make it more accurate.
    Increased Beastlord pet buff based proc rates to be correct.
    Spell buff based procs will now only be possible on primary attacks. Some special attacks and secondary attacks were causing spell based procs incorrectly.  This was happening for PC and NPC.

Author: Cavedude
Date:   Sat Nov 12 12:08:12 2016 -0800

    More clean up of the faction methods.
    
    Due to this, the syntax of the two Lua methods have changed to:
    
    SetFactionLevel(char_id, npc_id)
    
    and
    
    SetFactionLevel2(char_id, faction_id, value, temp)
    
    (Only one script was affected, I will be updating that as well.)

Author: Cavedude
Date:   Fri Nov 11 12:44:43 2016 -0800

    Factions now have an overall cap of -2000/+2000. Players will no longer be able to go past either cap, even if their personal faction has not reached the cap for a given faction.
    
    Corrected an issue causing illusions to not use a player's base mods when writing their faction to the database.
    
    Added #viewplayerfaction [faction_id] to view a player's overall and personal faction with the given ID.
    
    Added some more logging and condensed the faction updating code a bit.

Author: Haynar
Date:   Mon Nov 7 20:23:03 2016 -0700

    UCS Fixes

Author: Cavedude
Date:   Sun Nov 6 10:42:12 2016 -0800

    Fixed a problem that caused freezing to death to be counted as an client initiated death instead of environmental (Only really matters for bookkeeping.)
    
    (GM only):
    GMs that are invulnerable to environmental damage will now be told the type of damage they saved, instead of just the number. The HP update will also happen immediately, instead of on the next tick.
    
    #invul on/off will now set the gminvul variable immediately.

Author: Cavedude
Date:   Sat Nov 5 11:37:37 2016 -0700

    The Depop spawn_condition will no longer start spawn timers.
    
    Fixed a logging crash.

Author: Cavedude
Date:   Sat Nov 5 08:29:19 2016 -0700

    The blur component of feign death no longer needs to succeed in order to prevent a faction hit.
    
    Faction hits will occur if a player feigns while the NPC is already fleeing (not rooted.)
    
    Renamed dot_memory_list to faction_memory_list as that name makes more sense for the list's purpose.
    
    Players will no longer receive XP or count towards the split if they are feigned and in a group.
    
    Corrected an issue causing the damage report to display twice.

Author: Cavedude
Date:   Fri Nov 4 17:49:40 2016 -0700

    Cleaned up the invis code a bit more.

Author: Cavedude
Date:   Thu Nov 3 23:16:38 2016 -0700

    Hide is now treated like an invis and will use the see_invis column of npc_types. see_hide has been removed.
    
    Whenever a Rogue is hidden or made invisible, they will also get invisibility vs undead. This means that any invis spell, ability or hide on a Rogue is now dependent on both see_invis and see_invis_undead in npc_types. A NPC will need to see through both in order to see the Rogue.
    
    Added see_sneak, which allows NPCs to see through sneak if set.
    
    Required SQL: (Already run on dev)
    utils/sql/git/required/2016_11_03_see_sneak.sql

Author: Haynar
Date:   Tue Nov 1 20:24:22 2016 -0600

    UCS Crash fix.

Author: Cavedude
Date:   Tue Nov 1 12:55:37 2016 -0700

    Resurrection effects will no longer be faded when players zone with low health.
    
    Added a couple more greedy vendors.
    
    Cumulative greed is now set by rule Merchant:UseGreed which is disabled by default.

Author: Cavedude
Date:   Tue Nov 1 00:16:32 2016 -0700

    Rewrote most of NPC::Death(). Consolidated much of the logic, removed unused or unnecessary code, and improved the overall stability. Also added many comments for clarity.
    
    NPCs level 55 and over will now grant XP and faction hits if there is at least one player on their hatelist in most cases.
    
    Corrected a couple of cases where a pet could "steal" XP credit.
    
    DoT damage done while feigned will now be remembered by NPCs and will result in faction hits and XP. (This damage will only be remembered upon death, it won't count towards normal hate.)
    
    Added command #clearfeign to clear both the dot_memory and  feign_memory lists on the target NPC.
    
    Fixed an issue that could cause the total damage done by players to a NPC to go negative by mistake.
    
    GMs will no longer need to have their flag up to see damage report totals on death, they simply need to be on the hatelist. Also added a message to it telling you if faction hits should occur or not.
    
    Removed Combat:EXPFromDmgShield and NPC:EnableMeritBasedFaction rules.
    
    Eye of Zomm will now always grant 1 point of XP, ignoring the server multiplier rules.
    
    Client bonuses will no longer be calculated continuously when the caster has an Eye of Zomm up.
    
    Adding new logsys category "Death" and changed logging in both NPC::Death() and Client::Death() to use it. Added additional logging to NPC::Death().
    
    Corrected an issue that could cause environmental player deaths to be handled incorrectly and result in an incorrect message.
    
    ONDEATH NPC emote will now work if there is no deathblow Mob.
    
    Fixed an issue where a corpse is created, but no player is assigned loot rights.
    
    Removed an unnecessary loop that occurred when the data to log player_npc_kill_log was being gathered.
    
    Queryserv will now perform one query per group/raid when logging player_npc_kill_log, instead of one per player.
    
    Added the type of death to player_killed_by_log and corrected the output to the killer name field when there was no killer.
    
    Both of the above QueryServ categories will now take one less internal packet hop.
    
    SameFactions() will now return false if one or both of the given factionIDs are 0.
    
    Required SQL: (Already run on TAKP and dev)
    utils/sql/git/required/2016_11_01_qs_player_killed_by_log.sql

Author: Robregen
Date:   Sun Oct 30 22:31:18 2016 -0700

    fix potential plat creation exploit (zerosum from eqemu)

Author: Torven
Date:   Sat Oct 29 17:37:10 2016 -0700

    nullptr check in RemoveFromRampageList()

Author: Torven
Date:   Sat Oct 29 17:31:36 2016 -0700

    RemoveFromRampageList() called when entities drop from hate list via 10 minute timer

Author: Haynar
Date:   Fri Oct 28 20:46:30 2016 -0600

    UCS fixes.
    Moved some additional client stream deletes for UCS out of the main Process loop.

Author: Haynar
Date:   Fri Oct 28 20:44:45 2016 -0600

    Added a #randtest command to observe random number generation distributions.

Author: Cavedude
Date:   Tue Oct 25 16:21:53 2016 -0700

    Added a check to prevent a duplicate lore item from being removed from a world container.

Author: Cavedude
Date:   Tue Oct 25 15:44:33 2016 -0700

    A small number of merchants are now considered greedy and will sell items at a higher price and buy lower than other merchants.
    
    Other merchants will now become increasingly greedy as players buy and sell items from them.
    
    Removed rule Merchant:UsePriceMod as it wasn't needed.
    
    CalcPriceMod() will now only be called when needed once, instead of being called on every item.
    
    Added command #setgreed to set a NPC's greed. #showstats will now display the greed value and percentage.
    
    Added command #giveplayerfaction [factionid] [value] which gives the target player or self the specified number of faction points with the factionid. This acts exactly like a lua faction hit.
    
    Faction hits that originated from Lua or command will no longer skip GMs with their flag up.

Author: Robregen
Date:   Tue Oct 25 11:15:39 2016 -0700

    generate map file without door / bookcase objects from mischiefplane.map

Author: Cavedude
Date:   Mon Oct 24 16:35:12 2016 -0700

    Normal damage shields bonuses will no longer stack with reverse (healing) damage shields. When a reverse damage shield fades, any normal damage shield still on the mob will continue to work again as normal. Damage shields of the same type will continue to stack, provided they passed the spell stacking rules.

Author: Cavedude
Date:   Sun Oct 23 11:02:37 2016 -0700

    When runes are stacked, they will now use the effect slot to determine which one is used first, instead of buff slot. (Highest slot is used first.)
    
    Fixed a few issues with Monster Summoning that could cause a pet to spawn with invalid appearance values leading to problems shrinking and other issues.

Author: Cavedude
Date:   Sat Oct 22 18:04:11 2016 -0700

    The HP calculation when stamina is greater than 255 is now much closer to the client's values.

Author: Robregen
Date:   Sat Oct 22 15:59:26 2016 -0700

    generated sleeper map with objects.

Author: Cavedude
Date:   Sat Oct 22 15:51:28 2016 -0700

    Split UpdateItemHP() into two methods to prevent spaghetti code.

Author: Cavedude
Date:   Sat Oct 22 13:46:45 2016 -0700

    Corrected the issues causing food and drink items to be out of sync with the client.

Author: Cavedude
Date:   Fri Oct 21 16:39:11 2016 -0700

    Reduced the restrictions used to determine when a swimming skillup should occur.
    
    (GM only) The status message when logging in will now use levitation spells in additon to flymode to determine the "levitating" state.
    
    Recommened SQL (already run on Dev):
    UPDATE skill_difficulty SET difficulty = 18 WHERE skillid = 50;

Author: Cavedude
Date:   Fri Oct 21 13:04:37 2016 -0700

    Fixed the recently introduced issue causing NPCs to not immediately switch targets when a player leaves combat range.

Author: Haynar
Date:   Thu Oct 20 19:39:31 2016 -0600

    Added using Mutex to the UCS Stream.
    Changed how stale UCS connections are removed, to prevent crashes.
    The #zonestatus command will now shows the UCS connection status.
    When the UCS drops, a message will be sent to the clients, that connection to the chat service was dropped.
    The #los command will now check both ways, from client to target, and target to the client.

Author: Cavedude
Date:   Thu Oct 20 11:52:22 2016 -0700

    Added method SameFactions() which compares two npc_faction_ids to determine if they are the same faction or not. It compares primary faction, and all faction hits (excluding primary) ignoring the hit values.
    
    The invis assisting code has been changed to make use of this method to determine if the assisting NPC is the same faction as the NPC requesting help.

Author: Cavedude
Date:   Wed Oct 19 12:39:15 2016 -0700

    (GM only) #zonestatus will no longer cut off values greater than 99. Removed some unnecessary information. Cleaned up the logic, renamed variables to be more clear of their use. Zones will now list in reverse order, so the lowest zoneids are at the top, and the higher ones are at the bottom.

Author: Robregen
Date:   Tue Oct 18 22:47:49 2016 -0700

    Readjust client combat range and npc hitbox to match closely to live.

Author: Cavedude
Date:   Tue Oct 18 14:14:14 2016 -0700

    Another adjustment to make the logic a bit more simple when determining combat range while moving.

Author: Cavedude
Date:   Tue Oct 18 13:19:53 2016 -0700

    A minor change to my last commit to help prevent NPCs from warping when a player stops moving.

Author: Haynar
Date:   Tue Oct 18 13:13:33 2016 -0600

    Pets will no longer try to attack Trap triggers.

Author: Cavedude
Date:   Tue Oct 18 11:58:40 2016 -0700

    Under normal melee conditions, NPCs will now use their target's combat range in addition to their own to determine their position.
    
    If the NPC is rooted or moving, it will only use its own combat range, meaning its position may be in a spot where it can hit you, but you can't hit it.

Author: Robregen
Date:   Mon Oct 17 20:15:18 2016 -0700

    Adjust hitbox range for NPC based on live.

Author: Haynar
Date:   Mon Oct 17 18:44:12 2016 -0600

    Added keep alive packet sent to client in UCS netcode.
    Increased timeout for getting disconnected for UCS.
    Increased number of packets sent in client UDP netcode, before throttling occurs.

Author: Cavedude
Date:   Mon Oct 17 14:32:15 2016 -0700

    CombatRange() is now a virtual method. The definition for both NPC and Client are in roughly the same spot as the old Mob method was in aggro.cpp.

Author: Cavedude
Date:   Mon Oct 17 13:24:16 2016 -0700

    Added EscsapeString() to some queries to prevent annoying SQL errors.

Author: Cavedude
Date:   Mon Oct 17 13:06:47 2016 -0700

    /consent will no longer work on corpses created after consent was given.
    
    Required SQL (already run on dev):
    utils/sql/git/required/2016_10_17_character_consent.sql

Author: Robregen
Date:   Mon Oct 17 10:17:55 2016 -0700

    Revert "slightly increase hitbox on large races such as Giants."
    

Author: Cavedude
Date:   Sun Oct 16 15:07:49 2016 -0700

    Fixed a zone crash due to a nullptr in DepopPet()

Author: Cavedude
Date:   Sun Oct 16 09:41:07 2016 -0700

    Items within a bag will now show in the trade window.

Author: Torven
Date:   Sun Oct 16 05:27:11 2016 -0700

    Melee Push/Geometry Collision Algorithm Rewrite
    
    * The push code will now readjust the NPC's center point if the point is too
      close to walls, which should make corner tanking much more reliable.
    * The 'cushion' size reduced back down to 2.5.
    * The Archery nerf has been re-enabled.
    * New NPC method: SetCornerState().  Needed because most of the NPC code is
      outside the class.

Author: Cavedude
Date:   Fri Oct 14 12:58:39 2016 -0700

    Wizards can no longer Translocate themselves.

Author: Cavedude
Date:   Fri Oct 14 12:01:59 2016 -0700

    Bard songs will no longer use spell level restriction rules.

Author: Haynar
Date:   Fri Oct 14 12:52:59 2016 -0600

    Added LoS fixes for large mobs and AEs.

Author: Haynar
Date:   Thu Oct 13 17:44:43 2016 -0600

    Updated UCS mailkey to match captures from AK.

Author: Cavedude
Date:   Wed Oct 12 18:03:39 2016 -0700

    Trader accounts may now enter nexus and poknowledge in addition to bazaar.

Author: Cavedude
Date:   Wed Oct 12 14:10:36 2016 -0700

    Trader accounts are now locked in Bazaar. New characters will start in Bazaar and have bind set to the same. All zoning requests will be denied. If your character is currently not in Bazaar, they will automatically be moved when they log in.
    
    Bazaar is now the default zone in case of a server error for all characters. (Previously it was either qeynos or arena.)

Author: Cavedude
Date:   Wed Oct 12 12:53:33 2016 -0700

    NPCs that can't see the attacker due to invis will still assist if they are on the same faction (npc_faction_id) as the NPC requesting help. If the factionid is different, and they cannot see through the invis, they will not assist. This allows for situations were NPCs on the same primary faction may not assist each other due to invisibility if they are on different factionids. (Due to having different hits, or different assist behaviors.)
    
    *The above applies to all forms of invisibility, including VsUndead, VsAnimal, hide, and sneak.
    
    Sneak will no longer break when a player attacks, or uses a ranged weapon.
    
    (GM only) #repop force will now always repop the zone even if a NPC is targeted, since the force option has no affect on a single NPC. Using #repop will continue to take target into account.

Author: Torven
Date:   Tue Oct 11 18:58:08 2016 -0700

    Rogue Evade reworked
    
    * Rogue evade changed to the following logic:
       - hate amount = level * 10, capped at 500. (note the scaling is a guess
         and subject to change)
       - if Rogue is top hate and 3 or more haters on list then reduce hate to
         point between hater 2 and 3 if point would reduce by more than hate
             amount, else reduce by hate amount
       - rogue hate is not reduced below 1 point
    * Rogue evade was previously erroneously adding extra hate instead of
      subtracting hate on high hitpoint NPCs and has been corrected.
    * #hatelist is now sorted by entity hate in descending order, not including
      bonus hate.
    * HateList and Mob classes have new methods: GetHateN() and GetNumHaters()
    * GetHateN() returns the amount of hate for entity N on the list in
      descending order, bonuses excluded.
    * GetNumHaters returns the number of entities on the NPC's hate list.

Author: Cavedude
Date:   Tue Oct 11 17:13:57 2016 -0700

    Untargetable and Trap trigger NPCs will now be skipped when an AE is determining targets.
    
    Attempting to /tar an untargetable NPC will now display "I don't see anyone by that name around here..."
    
    Changed IsUnTargetable() to always return true for quest triggers.

Author: Robregen
Date:   Tue Oct 11 15:24:28 2016 -0700

    Added westwastes.path for WW caves, tunnels.

Author: Cavedude
Date:   Mon Oct 10 23:29:07 2016 -0700

    (GM only)
    Added rule World:DontBootDynamics. When set to true, dynamic zones will not boot when a player attempts to enter a zone that isn't already booted. This includes GMs, #zonebootup will need to be used instead. This rule defaults to false for the sanity of developers, however it should be set to true on dev and TAKP.
    
    #zonebootup now automatically boots zones as static, and provides a message telling you the zone is booting. Syntax is:
    
    #zonebootup zoneserverid shortname
    
    (Use #zonestatus to get an available zoneserverid.)
    
    Fixed #zonestatus so that zoneserverid always displays (it is the first number in the list.) Free dynamic zones will now display as AVAILABLE and zones still booting will say BOOTING instead of the zone short name.

Author: Cavedude
Date:   Mon Oct 10 22:11:41 2016 -0700

    Removed some unused code and database columns from doors and objects.
    
    Renamed some unknown object columns to match their usage in our code.
    
    Portal doors will now check if the player has died before transporting them.
    
    Required SQL:
    utils/sql/git/required/2016_10_10_door_object_cleanup.sql

Author: Robregen
Date:   Mon Oct 10 19:22:35 2016 -0700

    slightly increase hitbox on large races such as Giants.

Author: Cavedude
Date:   Sun Oct 9 10:18:59 2016 -0700

    See Invis will now use normal stacking rules if the spell being cast is the same as the one already on the player.

Author: Cavedude
Date:   Sun Oct 9 10:18:59 2016 -0700

    See Invis will now use normal stacking rules if the spell being cast is the same as the one already on the player.

Author: Torven
Date:   Sat Oct 8 22:32:41 2016 -0700

    Minor #hatelist and Rampage additions/fixes
    
    * #hatelist now displays entity classes and the rampage top 10 will also
      display entity distance to the NPC.
    * Rampage top 10 in #hatelist now correctly displays 10 instead of 11.
    * The NPC AI process method now also checks feign memory while in combat
      instead of only while not in combat.
    * Moved some conditionals into RemoveFromRampageList() so they don't need to
      be checked everywhere the method is called.
    * EntityList::ClearAggro() now calls RemoveFromeRampageList()

Author: Cavedude
Date:   Sat Oct 8 09:33:55 2016 -0700

    Remaining instance code removed.
    
    Removed the old NPC special attack code, since special abilities now completely replaces it.
    
    inCorner now defaults to false in the NPC constructor.
    
    Required SQL:
    utils/sql/git/required/2016_10_06_instance_removal.sql

Author: Cavedude
Date:   Wed Oct 5 16:17:27 2016 -0700

    Removed all references to instances in world. Removed many DB calls, #commands, and lua methods in zone.
    
    At present, you can get in-game and zone, but nothing spawns.

Author: Cavedude
Date:   Wed Oct 5 12:05:06 2016 -0700

    Removed zone instance from the player profile.
    
    Required SQL: (Will commit a sql file when all instance code is removed)
    
    alter table character_data drop column `zone_instance`;

Author: Cavedude
Date:   Wed Oct 5 11:53:45 2016 -0700

    Added some more race defines for clarity. Removed Froglok race from code.

Author: Cavedude
Date:   Wed Oct 5 08:32:21 2016 -0700

    Server and client should now agree on the range at which a player can loot a corpse. Also a removed an incorrect server message that occurred if you were out of range to loot.

Author: Cavedude
Date:   Tue Oct 4 23:25:21 2016 -0700

    NPCs will no longer assist if they cannot see the target due to invisibility.
    
    NPCs will no longer aggro a target they remember after being feigned if the target is invisible to them.
    
    (GM only) Deleveling a mob will only give the client warning if the target was a player.

Author: Cavedude
Date:   Tue Oct 4 21:57:19 2016 -0700

    Level 55+ NPCs will now always leave corpses by default.
    
    Corrected default rule for level 55+ corpse timer to be 30 minutes.

Author: Torven
Date:   Tue Oct 4 21:50:07 2016 -0700

    #hatelist displays Rampage top 10; rampage fix; triple attack hardcode
    
    * #hatelist will now display the top 10 rampage list entities.
    * Rampage should hopefully no longer bug out when rampage kills somebody.
    * Triple attack now ignores the database field and is hardcoded to be granted
      to level 60+ warriors and monks.

Author: Cavedude
Date:   Tue Oct 4 14:33:41 2016 -0700

    Spells and all Songs will now be grouped together in the buffs array for all mobs. This fixes three issues:
    
    1. Songs will no longer be faded prematurely on zoning.
    2. Zoning with songs will no longer cause spell buffs to change slots.
    3. Dispel spells will now loop through spells and songs in the order they appear in the buff window.
    
    Cleaned up the slot code, and removed a few completely unused defines.
    
    The client and server should now agree on See Invis stacking rules.

Author: Cavedude
Date:   Mon Oct 3 22:29:35 2016 -0700

    Unslowable special ability will no longer block haste spells.
    
    Added two new special abilites NO_HASTE for haste immunity, and REVERSE_SLOW for the few NPCs that have the ability to turn a slow into a haste.

Author: Cavedude
Date:   Mon Oct 3 22:26:25 2016 -0700

    (GM only) Added gm_override option to #castspell. This forces the spell to skip the stacking/resist/immunity checks. This only works if the command issuer is the caster, instead of specifying another casting entity.
    
    New syntax is: #castspell <spellid> <gm_override> <caster_entityid>

Author: Cavedude
Date:   Mon Oct 3 10:47:13 2016 -0700

    Removed an epic amount of unused AA code.

Author: Cavedude
Date:   Mon Oct 3 10:46:20 2016 -0700

    Implemented 2 Hand Bash, Warcry, and Purge Poison AAs.
    
    Held pets will now attack when told. (Pet Discipline AA.)
    
    Removed some unused pet code.
    
    Removed some unused AA actions.
    
    *Developers: As a result of this commit, the AA tables subject to a major cleanup and several AAs were changed or fixed. I recommend grabbing the newest database from the daily dev dump.

Author: Cavedude
Date:   Mon Oct 3 10:34:58 2016 -0700

    AA hotkeys will now be reset when an activated ability fails to finish its cast.
    
    AA timers are now sent when an AA is purchased. This should prevent newly purchased hotkeys from being disabled.
    
    Fixed an issue causing timers to not be sent for activated AAs with multiple ranks.
    
    #cleartimers will now reset AA hotkeys, if AA timers are cleared.
    
    Added some AA logging, and cleaned up some logging that was unnecessarily spamming the log.

Author: Cavedude
Date:   Mon Oct 3 10:17:06 2016 -0700

    Changed default rule to 70 for NPC:SayPauseTimeInSec. Moving NPCs that have a lua script will now pause for 70 seconds when they are hailed.
    
    Bind Wound will no longer heal above 50% HP, without bonuses.
    
    Moved the code that handles applying an illusion to a mob to its own method. It is called both when an illusion is cast on a mob, and when it is re-applied on zoning (Permanent Illusion AA.)

Author: Cavedude
Date:   Thu Sep 29 12:48:50 2016 -0700

    Changed Shadow Step so charmed pets will be affected if the last command they received was not guard.

Author: Cavedude
Date:   Thu Sep 29 12:03:37 2016 -0700

    Shadow Step type spells will no longer move pets.

Author: Cavedude
Date:   Thu Sep 29 11:40:15 2016 -0700

    Translocate will now properly move players when they are bound in the zone they are currently in.

Author: Cavedude
Date:   Wed Sep 28 14:06:24 2016 -0700

    Fixed an error with quest NPCs handing an item back while a player's inventory is full.

Author: Cavedude
Date:   Wed Sep 28 13:38:52 2016 -0700

    Fixed new crash in sirens uncovered by fixing the first ;)

Author: Cavedude
Date:   Tue Sep 27 19:33:44 2016 -0700

    Fixed the crash in sirens caused by underwater NPCs attempting to set a dead pet as top hate.
    
    Underwater NPCs will no longer flee.
    
    Fixed a possible crash caused by recent trap code.

Author: Cavedude
Date:   Mon Sep 26 19:29:51 2016 -0700

    Using /consent a second time will now revoke consent from the target player.

Author: Haynar
Date:   Mon Sep 26 20:03:25 2016 -0600

    Pathing improvements to help keep mobs on their path, when the destination changes.
    Fixed an issue where nodes were not culled from route end points when they should.

Author: Cavedude
Date:   Mon Sep 26 13:15:24 2016 -0700

    Form of the Great Bear will now turn Barbarians in polar bears, and Trolls in black bears.
    
    Cleaned up the SE_Illusion texture logic so it is easier to read.

Author: Cavedude
Date:   Mon Sep 26 11:47:33 2016 -0700

    Permarooted NPCs will now use normal aggro rules, instead of the rules used by rooted/blind NPCs.

Author: Torven
Date:   Sun Sep 25 17:17:50 2016 -0700

    NPC collision cushion size increase; Rampage holes and FD
    
    * The archery nerf has been temporarily disabled until I can get it working
      better.
    * Melee push/geometry collision NPC 'cushion' size increased to 5.
    * A full-wipe feign death will now remove the player from rampage lists.
    * NPC Rampage now facilitates filling 'holes' in the list.  Players who
      remove themselves from the list (dying, zoning, FD) will leave holes
      that will be filled by newly added players.

Author: Cavedude
Date:   Sun Sep 25 12:57:37 2016 -0700

    Fixed an issue that would cause traps to not function correctly if skill is 0 in the database.
    
    Added undetectable column, to allow content developers to make a trap undetectable and not able to be disarmed.
    
    Pets will no longer try to aggro traps its owner triggers.
    
    Traps will now use the radius column to determine disarm range, instead of using a hardcoded value which may not be appropriate in all cases.
    
    Decreased the scan range for traps to disarm.
    
    Fixed some typos, and removed some unused code.
    
    Required SQL: (already run on Dev)
    utils/sql/git/required/2016_09_25_traps.sql

Author: Cavedude
Date:   Sat Sep 24 20:38:24 2016 -0700

    Removed the code that was changing NPC corpse timers.

Author: Haynar
Date:   Sat Sep 24 08:56:30 2016 -0600

    Crash fix for previous pathing commit.

Author: Haynar
Date:   Fri Sep 23 18:36:59 2016 -0600

    quest::follow will now use pathing nodes when available.

Author: Haynar
Date:   Fri Sep 23 18:35:52 2016 -0600

    Netcode updates to help with desyncs.

Author: Cavedude
Date:   Wed Sep 21 15:23:17 2016 -0700

    Fixed players not using their weapon to damage magical NPCs.

Author: Torven
Date:   Wed Sep 21 13:28:34 2016 -0700

    rampage fix

Author: Cavedude
Date:   Tue Sep 20 19:53:08 2016 -0700

    NPCs level 10 and higher are now hardcoded to have magic attack.

Author: Cavedude
Date:   Tue Sep 20 18:42:01 2016 -0700

    Conflict resolution from merge.

Author: Akkadius
Date:   Sat Nov 7 13:20:24 2015 -0600

    Implemented #repopclose [distance in units] - Used for development purposes, defaults to 500 units
    - Real case use: Large zones with 700 NPC's and you are making fast quick tweaks to nearby NPC's you can refresh just the NPC's around you instead of all in the zone
    - This can be quite the time saver
    - This command will depop all NPC's and only respawn the NPC's that are 500 units around you or unless you specify otherwise
    
    # Conflicts:
    #       changelog.txt
    #       zone/command.cpp
    #       zone/command.h
    #       zone/zonedb.h

Author: Cavedude
Date:   Tue Sep 20 18:17:22 2016 -0700

    [GM only] Changed #weather to accept a value to send weather to all booted zones, and also to accept duration. New syntax is:
    
    #weather type (0/1/2) serverwide (0/1) duration (in minutes)
    
    If no duration is set, the zone will use its normal cycle (which is 1 minute for many zones.) After the duration expires, all zones will return to their normal weather. For zones without weather this means weather is turned off, and the timer is disabled. For other zones, weather will be stopped, and then rolled again the next time the timer is checked.

Author: Cavedude
Date:   Tue Sep 20 11:38:04 2016 -0700

    Added the ability to repop a single NPC. The functionality of #repop has been changed so that if a NPC is targeted, only they will be repopped. Otherwise, the whole zone will be as normal.
    
    Exported ForceRepop to lua, in the NPC class. It can be used to repop the current NPC (e.self:ForceRepop()) or another NPC.
    
    NPCs that control a proximity say will now be reloaded after the zone has finished loading everything else. Hopefully, this fixes the issue that sometimes causes proximity say to not work until a #repop is done.
    
    In addition to the above, a new command has been added #reloadproxsay that will reload any proximity say NPCs in the current zone. It has also been exported to lua, using eq.reloadproxsaynpcs().
    
    Please note: To avoid adding yet another column to the DB, the prox say NPCs have been hardcoded by NPCID. Also, any future NPCs will need to be added to the code.

Author: Cavedude
Date:   Mon Sep 19 14:16:27 2016 -0700

    Renamed BT_RaidGiant to BT_BaneGiant to match the editor.

Author: Cavedude
Date:   Mon Sep 19 13:59:50 2016 -0700

    Corrected Giant and Dragon Bane spells to use the correct target bodytype. Renamed both bodytype enums to match the editor to make it clearer for developers.

Author: Cavedude
Date:   Sun Sep 18 12:34:37 2016 -0700

    Teleport doors in veeshan will now work properly.

Author: Haynar
Date:   Fri Sep 16 19:51:29 2016 -0600

    Netcode fixes.
    Increased the max limit of arq resends, matching what the client will not discard.
    Ack's too far behind will now be automatically purged from the Send Queue.

Author: Torven
Date:   Fri Sep 16 10:52:49 2016 -0700

    15k HP flee cap

Author: Cavedude
Date:   Thu Sep 15 23:47:18 2016 -0700

    Added column never_idle to zone, to prevent a zone from idling when there are no players in it. We previous were hardcoding boat and nexus zones, but they are now handled by the database column.
    
    Required SQL (already run on dev):
    /utils/sql/git/required/2016_09_15_zone_never_idle.sql

Author: Cavedude
Date:   Thu Sep 15 12:44:37 2016 -0700

    Added a cap to non-Guide Alliance type spells.
    
    An error message will now display if Alliance can not land on a NPC due to not having faction in the database.
    
    Updated the string file in our repo to match the one in RC client.

Author: Cavedude
Date:   Sun Sep 11 10:45:08 2016 -0700

    Changed our faction values to match what Rob has observed on Live. The findings also match several reports on the internet closer then our previous values did.
    
    The caps have not changed, so the total amount of faction needed to go from max scowls to max ally has not changed. However, the ranges of most factions has changed. Players may see their faction changed due to the new ranges (up or down.)
    
    This also means the base faction of NPCs have changed. They will need to be fixed in the database, so please report those to Database Bugs.

Author: Cavedude
Date:   Sat Sep 10 22:48:49 2016 -0700


Author: Cavedude
Date:   Sat Sep 10 14:00:20 2016 -0700

    Implemented a banked AA points cap of 30. Once the cap is reached, any AAXP earned will go towards normal XP instead. Thank for Torven for the log of how it worked and the strings.

Author: Cavedude
Date:   Sat Sep 10 12:36:18 2016 -0700

    Corpse Camper special ability now supports a range for the pause time.
    
    Some example of usage. In the editor's corpse camper box using:
    
    49,1 will make the NPC wait permanently when they lose aggro.
    
    49,300 will make the NPC pause for 300 seconds, or 5 minutes before resuming pathing/returning home.
    
    49,300,100 will make the NPC pause for a random amount between 100 and 300 seconds before moving again.

Author: Haynar
Date:   Sat Sep 10 08:11:17 2016 -0600

    Pathing Fixes for getting stuck in loops.

Author: Cavedude
Date:   Fri Sep 9 11:52:31 2016 -0700

    NPC Corpse shouts will now be in default text instead of red.

Author: Torven
Date:   Fri Sep 9 08:22:45 2016 -0700

    Melee push code and NPC geometry collision modifications
    
    * Corrected an issue where glancing push vectors would have incorrect
      magnitudes.
    * The 'cushion' size around NPCs that prevents their centerpoints from hitting
      walls has been capped at 2.5.  This means that larger NPCs will go into
      walls more than they used to.  Shrink on medium to large races will
      generally be required to corner tank large NPCs now.
    * Archery will no longer hit cornered NPCs.

Author: Cavedude
Date:   Thu Sep 8 12:22:03 2016 -0700

    Poisons will now be treated as expendable and will be deleted once their charges reach 0.
    
    NPCs will now equip earrings, rings, and bracers again. (This was broken in my last loot commit.)

Author: Torven
Date:   Thu Sep 8 09:22:35 2016 -0700

    default wild ramp targets

Author: Torven
Date:   Thu Sep 8 09:10:09 2016 -0700

    NPC special attacks changes; ExtraAttackOptions struct removed
    
    * The ExtraAttackOptions struct that was passed to Attack() and used by
      special attacks (rampage, flurry, wild ramp) has been removed and replaced
      with a simple damage percent paramater.  The struct was merely a collection
      of redundant damage modifying variables that did not exist on AK.  (e.g.
      armor penetration, criticals for NPCs)
    * Attack() parameters 'FromRiposte' 'IsStrikethrough' 'IsFromSpell' removed
      as they were not used.
    * Rampage now has a maximum range, beyond which targets are not rampable.  The
      default range is 75.
    * Rampage paramters read in from the database have changed.  The new paramters
      are: chance per round, range, and damage percent.  E.g. if you wanted an NPC
      to rampage 35% of the time, with a limit of 150 range, at 50% damage:
      3,1,35,150,50
    * Rampage will now class attack (bash, backstab) the ramp target 50% of the
      time instead of 100%.  This was a sort of middle ground as Sony's logic to
      determine whether ramps should class attack is unknown.
    * Several special attack related rules removed as they did not apply to AK and
      frankly made little sense.

Author: Cavedude
Date:   Wed Sep 7 12:35:44 2016 -0700

    Corpse camper special ability now accepts a value to tell a NPC to pause after losing aggro. Value is in seconds. A value of 1 tells the NPC to permanently wait at the spot where it lost aggro, until it is aggroed again.

Author: Haynar
Date:   Wed Sep 7 09:37:33 2016 -0600

    Added pathing to Spectre area of feerott.

Author: Haynar
Date:   Wed Sep 7 08:28:30 2016 -0600

    The MoveTo command for quests should follow path nodes, when available.

Author: Haynar
Date:   Wed Sep 7 08:27:43 2016 -0600

    Added a pathing fix, so the route clears when the destination changes.

Author: Cavedude
Date:   Tue Sep 6 20:21:09 2016 -0700

    World:AdjustRespawnTimes now defaults to false.

Author: Cavedude
Date:   Tue Sep 6 18:21:40 2016 -0700

    Monk discs such as Thunderkick will no longer be faded on a missed attack.

Author: Cavedude
Date:   Tue Sep 6 17:26:04 2016 -0700

    Corrected some cases where a NPC will incorrectly equip a second item.

Author: Haynar
Date:   Mon Sep 5 12:41:31 2016 -0600

    Added Opcode for sending client to log out of the worldserver, OP_LogoutWorld.  This help /camp desktop be more consistent.  This requires patch_Mac.conf updated in working directory of server.

Author: Cavedude
Date:   Sun Sep 4 10:53:28 2016 -0700

    Implemented NPC corpse camping, set by special ability in the database.

Author: Torven
Date:   Fri Sep 2 12:06:14 2016 -0700

    TryProcs() crash fix

Author: Cavedude
Date:   Fri Sep 2 11:37:34 2016 -0700

    Group invites are now always cleared when a player accepts the invite. This should hopefully prevent players from getting bugged when they accept an invite, and the group is already full.
    
    Added some logging, messages, and did some minor cleanups on the associated group code.

Author: Cavedude
Date:   Fri Sep 2 11:07:48 2016 -0700

    Rewrote CalcPriceMod() to be easier to understand.

Author: Torven
Date:   Fri Sep 2 10:28:18 2016 -0700

    Flurry/Ramp made to bash/backstab the ramp target

Author: Robregen
Date:   Thu Sep 1 19:47:30 2016 -0700

    regenerate map without objects for Kael and Sleeper.

Author: Haynar
Date:   Thu Sep 1 07:17:41 2016 -0600

    Added UCS fixes for character list sent to client.  Deleted characters will no longer be send in the list.
    Added multiple session attempt code from EQEmu to netcode for UCS.

Author: Robregen
Date:   Thu Sep 1 00:12:31 2016 -0700

    replace modified new templeveeshan.map to exclude objects.

Author: Robregen
Date:   Wed Aug 31 14:24:24 2016 -0700

    regenerate temple of veeshan map without objects.

Author: Robregen
Date:   Sat Aug 27 15:43:06 2016 -0700

    switch logic for the previous commit.  (thanks Cavedude!)

Author: Robregen
Date:   Sat Aug 27 15:27:26 2016 -0700

    Fixed so mobs that depop at end of pathgrid still path and depop
    whiel zones are empty.  This makes these mobs no longer always appear
    at start locations for the 1st person in a zone after long idle. (Credit to Noudess)

Author: Cavedude
Date:   Sat Aug 27 12:46:27 2016 -0700

    Implemented force_z column in spawn2 which forces any NPC attached to that spawnpoint to use the Z coord specified in the database, instead of using BestZ.
    
    Removed some unused spawning code.
    
    Required SQL: (already run on Dev)
    utils/sql/git/required/2016_08_27_force_z.sql

Author: Cavedude
Date:   Sat Aug 27 01:47:41 2016 -0700

    Horses will no longer despawn when #repop is used. (Idea taken from EQEmu, but rewritten for our code.)

Author: Torven
Date:   Fri Aug 26 06:39:38 2016 -0700

    Proc code refactor and fixes
    
    * AddProcToWeapon() calls removed from AddLootDrop() as the spell proc array
      is used for spell buff procs and not weapon procs.  This was causing NPCs to
      roll weapon procs twice.
    * NPCs were calling TryWeaponProc() for every hit instead of every round,
      which was also causing a higher than intended proc rate.  Proc checks moved
      to DoMainHandRound() and DoOffHandRound() instead.  This also allows
      off-hand weapons to proc for NPCs.
    * Innate NPC procs were mostly decoupled from the general proc code as it has
      different functionality.  TryInnateProc() created.  New NPC member:
      innateProcChance.  This made for cleaner code.
    * PermaProc array was removed as the only procs that were using this array
      were innate NPC procs.
    * The TryWeaponProc() that was checking both weapon and spell procs was
      renamed to TryProcs(). (there were two TryWeaponProc())  TryProcs() now
      handles checking inventory for weapons so the methods calling it do not.
    * Spell procs will no longer trigger when auto attack is on while holding
      non-weapons.
    * The proc chain is now limited to only one proc per combat round.

Author: Cavedude
Date:   Wed Aug 24 23:17:51 2016 -0700

    Revert "Instrument modifiers will no longer apply for Cinda`s Charismatic Carillon."
    

Author: Cavedude
Date:   Wed Aug 24 13:07:55 2016 -0700

    Instrument modifiers will no longer apply for Cinda`s Charismatic Carillon.

Author: Torven
Date:   Tue Aug 23 22:39:23 2016 -0700

    Belly caster spell aggro fix

Author: Haynar
Date:   Tue Aug 23 18:29:16 2016 -0600

    #kick command made to be more consistent. If used in same zone or from a different zone, both cases will send the client to server select.

Author: Cavedude
Date:   Tue Aug 23 15:15:01 2016 -0700

    The server will now calculate the SeeInvis worn effect bonus properly.

Author: Cavedude
Date:   Tue Aug 23 13:12:31 2016 -0700

    Eye of Zomm will now be faded when an Succor type spell is cast on a player to avoid ending up at invalid coords.

Author: Torven
Date:   Tue Aug 23 04:09:59 2016 -0700

    Priority 0 spell variance fix
    
    * The 0-4 second variance on priority 0 spells was not being applied and has
      been corrected.  This will delay raid boss spells by an additional random
      0-4 seconds as was always intended.
    * Rule NPCUseRecastVariance has been removed.

Author: Cavedude
Date:   Mon Aug 22 11:34:57 2016 -0700

    Revert sneaking change.

Author: Haynar
Date:   Sun Aug 21 18:11:19 2016 -0600

    Set the max range to 350 for /pet attack command.

Author: Cavedude
Date:   Sun Aug 21 11:48:12 2016 -0700

    "See Sneak" is now tied with our See Hide variables.
    
    [GM only] #name can now be used to change the case of a player's name, without having to rename them something else first.

Author: Haynar
Date:   Sat Aug 20 22:14:53 2016 -0600

    The command /pet attack [mobname] will have similar restrictions comparted to /target [mobname].  The command will no longer have unlimited range, allowing it to function like a ghetto form of tracking.

Author: Cavedude
Date:   Fri Aug 19 12:48:58 2016 -0700

    Large races will now open doors as they walk through them.
    
    The range values when checking if a NPC should open a door or not are now rules, so they can be tweaked on the fly if needed.

Author: Cavedude
Date:   Fri Aug 19 12:46:17 2016 -0700

    Numerous fixes to keep linked doors in sync with each other when one is opened or closed.
    
    Added two new database columns to doors:
    
    close_time specifies how long a door will stay open for before it is closed server side. This allows us to control the time on each door, instead of hardcoding values in the code. Setting the column to 0 keeps the door open until is is closed by a player or NPC. (The PoK elevator uses this.) This column is also useful to keep a set of linked doors in sync when they have two different client side close timers. KELSEYDOOR and KELSEYDOOR2 in sleeper is an example of this.
    
    Added can_open to doors, which specifies if the door is usable or is just a zone object (crate, tent, torch, etc.) This prevents NPCs from trying to open these objects, and will also return on a player click instead of trying to work with the door. I've populated this column the best I could, however there may be errors and I am sure omissions. (There is no way to tell if a door is a real door or an object in many cases without going in-game and looking.) If players are unable to open a specific door after this patch, please post in database bugs.
    
    Required SQL: (already run on dev, and will be in tomorrow's dev dump):
    utils/sql/git/required/2016_08_19_doors.sql

Author: Cavedude
Date:   Fri Aug 19 11:26:02 2016 -0700

    Corrected a copy/paste error in the last commit.

Author: Cavedude
Date:   Fri Aug 19 11:18:14 2016 -0700

    Coin will now be properly updated when /split is used and the server is unable to successfully complete the split.

Author: Haynar
Date:   Thu Aug 18 18:35:16 2016 -0600

    Improved "/camp desktop" to more consistently allow the client to completely exit.

Author: Haynar
Date:   Thu Aug 18 18:31:57 2016 -0600

    Increased the max amount of nodes culled, when determining a path, to improve pathing route calculations.

Author: Haynar
Date:   Thu Aug 18 16:40:35 2016 -0600

    Added support for dragging corpses to cause aggro in certain Velious zones.

Author: Haynar
Date:   Thu Aug 18 16:38:35 2016 -0600

    Added SQL script to add Corpse drag aggro support in zone table.

Author: Cavedude
Date:   Tue Aug 16 11:07:52 2016 -0700

    Fixed the crash caused by casting Bind Sight on a corpse.

Author: Cavedude
Date:   Tue Aug 16 11:07:52 2016 -0700

    Fixed the crash caused by casting Bind Sight on a corpse.

Author: Robregen
Date:   Mon Aug 15 14:47:43 2016 -0700

    Fix memset in QuestReward
    use std::abs in Map::FindClosestZ
    Fix potential crash in zonelist

Author: Torven
Date:   Sat Aug 13 17:16:49 2016 -0700

    Slight changes to NPC Offense calcs and Taunt skill
    
    * NPC offense calculations now become much less steep after level 60.
      Algorithm refactored a bit to differentiate between base offense and offense
      estimated from strength.
    * The Taunt skill will now add +10 hate on success above the top hater if the
      taunter does not have the most hate before or after bonuses.

Author: Cavedude
Date:   Thu Aug 11 16:32:57 2016 -0700

    Bard clicky songs will no longer attempt to pulse.

Author: Cavedude
Date:   Thu Aug 11 12:40:34 2016 -0700

    Added boot_variance column to spawn2.
    
    Required SQL (or just use tomorrow's DB dump):
    alter table spawn2 add column `boot_variance` int(11) not null default 0;

Author: Mackal
Date:   Wed Aug 10 23:51:06 2016 -0400

    std::unordered_map::count is much slower than find

Author: Cavedude
Date:   Wed Aug 10 09:37:23 2016 -0700

    Fixed broken damage spells. Whoops.

Author: Cavedude
Date:   Wed Aug 10 09:37:23 2016 -0700

    Fixed broken damage spells. Whoops.

Author: Cavedude
Date:   Tue Aug 9 19:01:27 2016 -0700

    Correction to last commit. When a NPC is one level below light blue, its con message is slightly different than a normal green. This http://i.imgur.com/ED2YKYG.png screenshot provided by surron suggests that NPCs with a normal green con message could produce Offense skillups using a DS on AK. So, I increased the calculation to allow skillups from NPCs 2 levels away from light blue in this particular situation.

Author: Cavedude
Date:   Tue Aug 9 18:28:01 2016 -0700

    Bard beneficial songs will now always overwrite songs of the same type, regardless of level, modifiers, or spell. This includes Shauri`s Sonorous Clouding, which is the sole exception to invisibility stacking.
    
    Corrected an issue causing Bards to stop pulsing if another Bard is pulsing the same song nearby.
    
    Skills that skillup on green cons will now only skillup if the mob is 1 level away from light blue. (This needs more research to determine if it should be a global rule, and affect things like XP as well.)

Author: Cavedude
Date:   Tue Aug 9 11:03:03 2016 -0700

    Corrected a specific situation where temporary items were not being deleted from merchants properly.

Author: Cavedude
Date:   Sat Aug 6 13:03:31 2016 -0700

    Fixed healing spells that were broken in the spell cleanup commit.

Author: Cavedude
Date:   Sat Aug 6 11:15:24 2016 -0700

    Corrected some compiler warnings. zone should no longer have any warnings when compiled under Linux.

Author: Cavedude
Date:   Thu Aug 4 15:41:11 2016 -0700

    Removed Perl and associated files.

Author: Cavedude
Date:   Fri Aug 5 11:34:21 2016 -0700

    Changed logging a bit to try to track down the cause of the "did not take hold" bug.
    
    SQL handled by world automagically.

Author: Cavedude
Date:   Thu Aug 4 13:22:52 2016 -0700

    Bind Sight will now longer cause beneficial aggro.

Author: Cavedude
Date:   Thu Aug 4 13:13:55 2016 -0700

    Discipline timer groups are now set by a rule, which defaults to disabled. All discs will now share the same reuse timer.

Author: Cavedude
Date:   Wed Aug 3 10:21:53 2016 -0700

    Right clicking a charged item on a bazaar trader will now properly display the item's current number of charges.

Author: Cavedude
Date:   Tue Aug 2 17:01:02 2016 -0700

    Removed all spell effects and associated code (spell variables, spell bonus variables, timers, focus defines, etc) that we will never use and are not found anywhere in our database.
    
    Corrected a missing break that was causing the fade message to not always occur when an invisible spell faded early.
    
    Skin of the Shadow is now a fixed invisible spell.

Author: Cavedude
Date:   Sat Jul 30 21:15:28 2016 -0700

    [GM only] Hideme will now prevent the illusion packet from being sent when a GM has Minor Illusion or Treeform active.

Author: Cavedude
Date:   Sat Jul 30 21:12:59 2016 -0700

    Corrected some memory leaks and other issues Valgrind picked up.

Author: Cavedude
Date:   Tue Jul 26 22:46:30 2016 -0700

    Fixed a crash caused by Gravity Flux.

Author: Cavedude
Date:   Tue Jul 26 22:46:30 2016 -0700

    Fixed a crash caused by Gravity Flux.

Author: Speedz
Date:   Tue Jul 19 18:17:19 2016 -0700

    got rid of some annoying cmake warnings.

Author: Cavedude
Date:   Tue Jul 19 13:08:21 2016 -0700

    Revert "Charm should now break as soon as the owner zones, to prevent kill steals by the former pet and possibly faction wars."
    

Author: Cavedude
Date:   Tue Jul 19 13:08:21 2016 -0700

    Revert "Charm should now break as soon as the owner zones, to prevent kill steals by the former pet and possibly faction wars."
    

Author: Cavedude
Date:   Sun Jul 17 14:31:19 2016 -0700

    Fixed a crash sometimes seen locally in IsUnderwaterOnly() when a NPC is despawned.

Author: Cavedude
Date:   Sun Jul 17 13:38:26 2016 -0700

    Removed all references to NPCTypedata_ours as it was created, and never accessed. It was causing a zone crash when deleted in the NPC destructor, so hopefully that will be fixed.

Author: Cavedude
Date:   Sun Jul 17 13:38:26 2016 -0700

    Removed all references to NPCTypedata_ours as it was created, and never accessed. It was causing a zone crash when deleted in the NPC destructor, so hopefully that will be fixed.

Author: Cavedude
Date:   Sun Jul 17 12:23:29 2016 -0700

    Added HP regen while unconscious and hungry.
    
    Added alive/unconscious/dead state to #showstats for clients.

Author: Cavedude
Date:   Fri Jul 15 13:26:31 2016 -0700

    Flee will now be paused when a NPC is charmed, and it's also checked for in ProcessFlee()
    
    Added a check if flee is paused for an unknown reason to manually recalculate a new path, as the likely explanation is a node could not be found.
    
    Cleaned up the references to flee, fear, and blind to make things more clear.

Author: Cavedude
Date:   Fri Jul 15 11:09:29 2016 -0700

    Going unconscious should work better.

Author: Cavedude
Date:   Fri Jul 15 10:41:10 2016 -0700

    Changed some size related columns to be the same as what Al'Kabor sent in the ZoneEntry and PlayerProfile packets.

Author: Cavedude
Date:   Fri Jul 15 08:51:40 2016 -0700

    Revert to AI_Process() to prevent NPC rubber-banding.

Author: Torven
Date:   Wed Jul 13 23:40:52 2016 -0700

    AItarget_check_timer removed; imp taunt+adv pet discipline removed
    
    * SE_ImprovedTaunt related code removed. (out of era spell effect)
    * Advanced Pet Discipline AA related code removed. (Omens AA)
    * AItarget_check_timer removed from mob_ai.cpp.  This timer prevented calls to
      hate_list.GetTop() in AI_Process() which was causing issues with NPCs being
      less responsive and 'sticking' to targets longer than desired.  The reduction
      of spent cycles from avoided calls to GetTop() were negligible.

Author: Cavedude
Date:   Tue Jul 12 21:53:27 2016 -0700

    Changed the logic regarding death to a DOT to accomodate NPCs.

Author: Cavedude
Date:   Tue Jul 12 15:58:14 2016 -0700

    Players that die during a trade who do not leave a corpse will now cancel the trade before the death packet creation. This ensures the trade queue items are returned to the player, or dropped to the ground properly if the player has become "full" due to shifting items around. (This is mainly an issue with bags, since normal items will just go to your first open slot.)
    
    The client will now handle death due to a DOT tic, this will prevent double messages.
    
    The client will now also handle deaths caused by damaging yourself.

Author: Cavedude
Date:   Tue Jul 12 11:47:34 2016 -0700

    When a player death occurs during a trade, any items in that player's trade queue will now directly go to the corpse to prevent item loss.
    
    Increased the default decay time for items dropped to the ground due to being full to 6 hours.
    
    Client initiated deaths will no longer generate duplicated messages.
    
    Removing an item that has more HP than your base max will no longer kill you, assuming the difference between your current HP and your max HP with the item wasn't more than your total HP without it. (Eg: You have 32 HP, you equip an item with 50 HP, making your total 82 HP. If you get hit for 35 HP and remove the item, you will die/go unconscious because 35 is greater than 32. However, if you are only hit for 31 and you take it off, you will survive with 1 HP left.)
    
    Fixed some potential zone crashes and altered some logging for trading.

Author: Cavedude
Date:   Mon Jul 11 12:13:59 2016 -0700

    Bind Sight will now be faded when an illusion fades.
    
    Defined some more races.

Author: Cavedude
Date:   Sun Jul 10 17:19:31 2016 -0700

    Invisible spells will no longer flash when they fade early.

Author: Uleat
Date:   Sat Jul 9 03:10:54 2016 -0400

    Important fix for mob pathing (see changelog.txt)
    
    # Conflicts:
    #       changelog.txt

Author: Torven
Date:   Sun Jul 10 04:08:53 2016 -0700

    Tradeskill combine and skill-up code redone
    
    * TradeskillExecute() and CheckIncreaseTradeskill() cleaned up for accuracy and
      readability.
    * Mastery AAs for tradeskills other than Jewelcrafting and Alchemy removed.
      (Poison Mastery not yet implemented)
    * The tradeskill combine fail chance reduction beyond the last 5% has been
      removed, as it was a July 2003 addition.  All combines now have a 5%
      minimum chance to fail regardless of crafter skill.
    * The 5% minimum chance to fail is now applied after mastery AAs are
      considered.
    * Added the increased chance of a skillup for tradeskills when skill <= 15.

Author: Haynar
Date:   Sat Jul 9 13:49:09 2016 -0600

    Updated z_offset calcs for fixed size races.

Author: Cavedude
Date:   Fri Jul 8 10:53:07 2016 -0700

    Fixed a zone crash in AE spell logging.

Author: Mackal
Date:   Thu Jul 7 16:17:13 2016 -0400

    Fix illusions on zone
    
    # Conflicts:
    #       zone/client_packet.cpp

Author: Mackal
Date:   Sat May 23 17:45:51 2015 -0400

    SE_IllusionPersistence affects self only
    
    # Conflicts:
    #       zone/spell_effects.cpp

Author: Paul Coene
Date:   Fri May 1 20:40:46 2015 -0400

    Mobs that were blinded were being included in every use of IsFeared() which
    was bad.  Blinded mobs can still cast spells when in melee range.  The
    original fear code had no blind rolled into it, I added that.  This was an
    overright.  I changed the macro to use bonues and fleemode instead of
    looking at curfp.  Testing looks good to me.
    
    # Conflicts:
    #       zone/mob.h

Author: Cavedude
Date:   Fri Jul 8 07:43:53 2016 -0700

    Fixed an issue causing an old group member to rejoin the group after zoning.
    
    Accepting a group invite after the group is already full will no longer prevent the client from joining another group.
    
    Speaking in a language will now be sent to group members in other zones.

Author: Cavedude
Date:   Thu Jul 7 19:31:31 2016 -0700

    Fixed aggro which was broken by the mod removal.

Author: Cavedude
Date:   Thu Jul 7 08:33:13 2016 -0700

    Corrected the chance of Feign Death spells with a base value of 1 in the database.

Author: Cavedude
Date:   Wed Jul 6 15:36:26 2016 -0700

    Corrected an issue causing Minor Illusion and Treeform to not show up correct for new players in the zone.
    
    Defined some race values for clarity.

Author: Cavedude
Date:   Wed Jul 6 13:28:22 2016 -0700

    Removed mod_functions.cpp and the associated calls.

Author: Cavedude
Date:   Wed Jul 6 11:04:54 2016 -0700

    Fixed a zone crash caused by Begging without a valid target.

Author: Cavedude
Date:   Wed Jul 6 11:04:54 2016 -0700

    Fixed a zone crash caused by Begging without a valid target.

Author: Cavedude
Date:   Tue Jul 5 22:57:41 2016 -0700

    NPCs on roamboxes or grids with no delay on the first waypoint will no longer pause before starting to path.

Author: Cavedude
Date:   Tue Jul 5 17:30:05 2016 -0700

    Shrink will now require the correct number of casts to get to minimum size.
    
    Shrink will no longer affect entities size 20 or higher.
    
    Changed the level of some logging to prevent spam.

Author: Cavedude
Date:   Mon Jul 4 09:59:42 2016 -0700

    Shrink spells will now be capped at Gnome height. Growth spells will be capped at Ogre height.

Author: Cavedude
Date:   Sun Jul 3 22:31:14 2016 -0700

    Fixed an issue causing expendable items to have 0 cast time.

Author: Cavedude
Date:   Sun Jul 3 12:07:23 2016 -0700

    Gravity Flux type spells will now work properly.
    
    Gravity Flux will no longer send an extra action packet.
    
    Added some logging at various key points in the spell casting process.

Author: Cavedude
Date:   Sun Jul 3 10:38:45 2016 -0700

    /guildstatus will now work on yourself.
    
    Cleaned up the /split handle some, and added the correct messages.

Author: Cavedude
Date:   Sat Jul 2 20:55:21 2016 -0700

    Fixed a few more issues with sneak/hide.

Author: Cavedude
Date:   Sat Jul 2 14:35:44 2016 -0700

    Implemented OP_CancelSneakHide. Remember to copy utils/patches/patch_Mac.conf to your server's folder!
    
    More cleanup and fixes of sneak/hide.

Author: Cavedude
Date:   Fri Jul 1 11:27:19 2016 -0700

    Groups spells with TGB on will now target the caster if the original target is out of range, or is not a client.

Author: Cavedude
Date:   Fri Jul 1 09:51:16 2016 -0700

    Added islift column to doors, so lifts aren't hardcoded.
    
    Cleaned up the lift logging some, and corrected some minor issues/annoyances.
    
    Required SQL (already run against Dev):
    utils/utils/sql/git/required/2016_07_01_door_lifts.sql

Author: Cavedude
Date:   Thu Jun 30 15:14:03 2016 -0700

    Beneficial spells will no longer break sneak and hide.
    
    Damage Shields will activate on hits where the damage is completely absorbed by a rune.
    
    Gating within the same zone will no longer cause you to lose your pet.

Author: Cavedude
Date:   Thu Jun 30 14:26:35 2016 -0700

    Elevator/Lift type doors will now function without requiring multiple clicks.
    
    Moved door key checks to its own method, DoorKeyCheck().

Author: Cavedude
Date:   Thu Jun 30 08:02:52 2016 -0700

    Support code to prevent charmed NPCs from eating multiquest items.

Author: Cavedude
Date:   Wed Jun 29 13:30:48 2016 -0700

    Treeform will no longer be faded immediately after casting.

Author: Cavedude
Date:   Thu Jun 30 08:02:52 2016 -0700

    Support code to prevent charmed NPCs from eating multiquest items.

Author: Cavedude
Date:   Wed Jun 29 13:57:31 2016 -0700

    Expendable and potion items will no longer have a level restriction to use.

Author: Cavedude
Date:   Wed Jun 29 13:30:48 2016 -0700

    Treeform will no longer be faded immediately after casting.

Author: Cavedude
Date:   Tue Jun 28 21:16:35 2016 -0700

    Skills that allow skillups from green cons (offense on damage shields) will no longer allow skillups if the NPC is green and level 18 or under.

Author: Cavedude
Date:   Tue Jun 28 15:32:09 2016 -0700

    Bard pulses will no longer check for line of sight.

Author: Cavedude
Date:   Tue Jun 28 12:56:11 2016 -0700

    Tradeskill skillups will now use the difficulty value from the database instead of the hardcoded values. (No values have been changed!)
    
    At skill 190, the chance to succeed on a tradeskill skillup will correctly be 5%, instead of 5.99%.
    
    Removed rule Skills:TradeskillSkillUpModifier. Difficulty can be changed per skill in the DB now.
    
    Increased the difficulty cap for normal skillups to accommodate begging.
    
    Required SQL (already run against dev):
    utils/sql/git/required/2016_06_28_skill_difficulty.sql

Author: Cavedude
Date:   Tue Jun 28 12:25:05 2016 -0700

    Removed the cooldown timer that occurs when clickies are used.
    
    Removed support of the RecastDelay item database column since no clicky item in the DB uses it. Also removed pTimerItemStart which is the associated timer.

Author: Cavedude
Date:   Tue Jun 28 11:01:05 2016 -0700

    Consolidated breaking sneak and hide to a single method. Replaced most of the raw packet creation for both with SendApperancePacket().
    
    Sneak/Hide will now break properly when casting a spell, when a spell lands on a player, when a player resists a spell, when attacking, when attacked, and when an old world trap is clicked and the player either lacks the disarm skill, or the disarm attempt fails. (Many of these were already working, I just confirmed them.)
    
    Resting a spell or being missed by a combat swing will cause the sneak button to "bug" if the player is not also hidden. The player will need to click the button to reset it. This quirk occurred on AK.
    
    Fixed an issue causing the hide packet to not be sent out correctly for racial hide on failures.
    
    Corrected an issue causing Sneak to sometimes incorrectly cancel hide, and to send out an invisible appearance packet instead of a sneak packet (copy/paste error?)
    
    Rewrote Sense Traps to support old world traps (swinging axe, falling ceiling, etc) and to provide accurate messages.
    
    Old world traps can now be disarmed by clicking on them, if you have the trap disarm skill.
    
    Added more logging for sneak, hide, and traps.

Author: Cavedude
Date:   Sun Jun 26 14:43:42 2016 -0700

    NPCs will now use the correct damage messages after being disarmed.

Author: Cavedude
Date:   Sat Jun 25 19:17:28 2016 -0700

    Added support code required for charmed NPCs with lua scripts to accept and equip items they do not require in their trade event.

Author: Cavedude
Date:   Sat Jun 25 12:35:33 2016 -0700

    Added NPC Special Ability to always leave a corpse if the deathblow was dealt by a client or a client's pet.

Author: Cavedude
Date:   Sat Jun 25 11:17:59 2016 -0700

    Casting on a target who is standing on "ice" or "slime" and the caster is in a normal region or vice versa will now work properly.

Author: Cavedude
Date:   Fri Jun 24 23:10:38 2016 -0700

    Rez will now fade charm on your pet. The hatelist is cleared after the charm is faded, so the former pet will not have aggro.
    
    Beneficial and Detrimental single target spells no longer use the Z coord in the server's range check.

Author: Haynar
Date:   Fri Jun 24 16:16:01 2016 -0600

    Very high snares will no longer make running mobs stop.  Walking or fleeing (feared) mobs can still be stopped by high snares.

Author: Cavedude
Date:   Fri Jun 24 12:35:12 2016 -0700

    Charm should now break as soon as the owner zones, to prevent kill steals by the former pet and possibly faction wars.

Author: Cavedude
Date:   Fri Jun 24 10:53:33 2016 -0700

    Added combat messages for Thunderkick, Silentfist, and Ashenhand disciplines.
    
    Fixed an overflow found in the Monk disc reuse timers. Monks who were affected by this will see their discipline reuse timers drop considerably, so be sure to check.
    
    Lowered the chance that spin stuns can break early. (This excludes Whirl till you hurl and Dyn`s Dizzying Draught - they remain broken.)

Author: Cavedude
Date:   Thu Jun 23 22:23:32 2016 -0700

    Bind Wound will no longer force the target to stand.
    
    Corrected the Bind Wound messages.
    
    Corrected an issue causing the max heal percentage of Bind Wound to not be calculated correctly.
    
    General cleanup and improvements of the Bind Wound method.

Author: Cavedude
Date:   Thu Jun 23 17:48:17 2016 -0700

    Forgot to add required SQL file to last commit. It was already run against TAK-dev, so it will automagically be in the next DB dump.

Author: Cavedude
Date:   Thu Jun 23 17:37:37 2016 -0700

    Implemented basic factions for Minor Illusion and Treeform spells. To reduce the amount of work needed in the database, by default both sets of spells will ignore base faction modifiers. To overcome this, content developers have two options:
    
    1. Add a modifier to the Minor Illusion (142) and Treeform (143) races in the DB editor under the affected faction.
    2. A new See Illusion option has been added to the faction section of the editor which forces the faction to use the base mod AND the character's base race. (This effectively causes the faction to ignore the MI and Treeform illusions.)
    
    A "See Illusion" option is planned on the NPC, but will require a good amount of work to implement, so it was held off for now.

Author: Cavedude
Date:   Thu Jun 23 17:28:06 2016 -0700

    Corrected the spell stacking rules regarding illusion spells.
    
    Wolf Form spells will now use the correct texture.

Author: Cavedude
Date:   Thu Jun 23 17:25:00 2016 -0700

    Treeform will now be faded server side when a player movement update is recieved. This is a workaround for the issue allowing Treeform to stick anywhere server side due to a lack of tree data in our map files.

Author: Cavedude
Date:   Thu Jun 23 17:18:36 2016 -0700

    Fixed a spell slot desync issue that happened with specific buffs.

Author: Haynar
Date:   Thu Jun 23 17:44:54 2016 -0600

    Added code support for zoning out of airplane, to replace the zoner script.
    Fixed an issue with zoning that drops you to server select, under certain conditions.

Author: Cavedude
Date:   Wed Jun 22 15:00:35 2016 -0700

    All players in a zone will now receive door open packets by NPCs for the benefit of Eye of Zomm.

Author: Cavedude
Date:   Wed Jun 22 13:32:50 2016 -0700

    When any Alliance type spell is cast, any faction bonuses caused by a previous cast will be removed.

Author: Cavedude
Date:   Wed Jun 22 12:46:26 2016 -0700

    Spells will now set a recovery timer upon successful completion of a cast. This timer will be checked after a spell completes the casting phase. If the timer is not yet expired, the new spell will be interrupted.
    
    Removed the 400 millisecond delay when using clickies with a cast time. Clickies are also exempt from the recovery timer.
    
    Added a rule Spells:SpellRecoveryTimer to control how long the recovery timer is. It defaults to 2500 milliseconds.

Author: Cavedude
Date:   Tue Jun 21 22:19:36 2016 -0700

    The Stun, Charm, Pacify, and Mez family of spells will now only enforce the spell level limit when the caster is a player and the target is a NPC. Every other combination will not use a level limit.
    
    Removed the rule Spells:NPCIgnoreBaseImmunity as it only served to create confusing logic.
    
    Corrected an issue where Mez spells would sometimes be considered beneficial.
    
    Prevented an unlikely situation where Harmony spells could use the wrong target to perform its casting checks.
    
    Added a caster check to prevent a redundant spell resist message.

Author: Haynar
Date:   Tue Jun 21 20:14:07 2016 -0600

    Bard instrument modifiers associated with buffs will now carry when zoning (SQL changes required).

Author: Cavedude
Date:   Tue Jun 21 12:19:23 2016 -0700

    Changed AE spells with a target limit to default to 5 targets allowed. Damage spells are limited to 4, with the exception of the Al'Kabor line of spells.
    
    AE Mez spells will now have a target limit.
    
    Corrected an issue where the target would not count towards the limit for certain AE spells.
    
    Casting a Mez spell on yourself will bypass the level cap check. You still have a chance to resist the spell.
    
    Bard pulses will now be cancelled while on a boat.

Author: Cavedude
Date:   Mon Jun 20 15:06:51 2016 -0700

    Bard pulses will now always do a resist check.
    
    Renamed ResistSpell() to CheckResistSpell() to make its function more clear.
    
    Consolidated the code that handles successful resists to ResistSpell().

Author: Cavedude
Date:   Sat Jun 18 14:13:34 2016 -0700

    Fixed an issue causing controllable row boats to not update their position properly.

Author: Cavedude
Date:   Sat Jun 18 12:47:47 2016 -0700

    Rewrote Beg to no longer cause a client desync.
    
    Changed the chance for a NPC to attack while begging and the coin type and amount on success to be based on the player's beg skill.
    
    Coin on beg successes will now be removed from the NPC's loot, instead of being summoned.
    
    Added some logging, and performed a general cleanup of the Handle_OP_Begging method.

Author: Cavedude
Date:   Fri Jun 17 16:30:35 2016 -0700

    Sacrifice and DOTs will now produce the proper messages on death.

Author: Cavedude
Date:   Fri Jun 17 13:43:19 2016 -0700

    Changed the random location adjustment that happens when a port or spell is used to get its value from the random_loc column of the zone table. This allows us to disable it per zone (set to 0) or make the value bigger smaller as needed (default is -/+ 3)
    
    Player location will no longer be adjusted for intrazone moves.
    
    Fixed an issue that caused doors to save the adjusted coordinates the last player used, instead of rolling with the door's default coordinates.
    
    Required SQL (or grab newest DB):
    alter table zone add column `random_loc` tinyint(3) not null default 3;

Author: Cavedude
Date:   Fri Jun 17 13:43:19 2016 -0700

    Changed the random location adjustment that happens when a port or spell is used to get its value from the random_loc column of the zone table. This allows us to disable it per zone (set to 0) or make the value bigger smaller as needed (default is -/+ 3)
    
    Player location will no longer be adjusted for intrazone moves.
    
    Fixed an issue that caused doors to save the adjusted coordinates the last player used, instead of rolling with the door's default coordinates.
    
    Required SQL (or grab newest DB):
    alter table zone add column `random_loc` tinyint(3) not null default 3;

Author: Cavedude
Date:   Fri Jun 17 10:36:46 2016 -0700

    Updated the Bard stacking rules to correctly handle movement speed buffs and debuffs.
    
    "You cannot see your target." when casting a spell will no longer generate interrupted messages for players around the caster.

Author: Cavedude
Date:   Wed Jun 15 11:29:53 2016 -0700

    Fixed a zone crash that happens when a player is damaged and there is no attacker.

Author: Cavedude
Date:   Wed Jun 15 11:29:53 2016 -0700

    Fixed a zone crash that happens when a player is damaged and there is no attacker.

Author: Cavedude
Date:   Wed Jun 15 11:29:10 2016 -0700

    Added message for disarm success.

Author: Cavedude
Date:   Tue Jun 14 22:33:03 2016 -0700

    Spin stuns on NPCs will now have a random chance to break early. Whirl till you Hurl and Dyn`s Dizzying Draught have a higher chance to break.
    
    Corrected an issue causing the stun component of a spin stun to drop without fading the debuff.

Author: Haynar
Date:   Tue Jun 14 22:49:20 2016 -0600

    Snared pets will follow their owners a little better, rather than being snared to a stop, when they hit the distance they would switch to walking.

Author: Haynar
Date:   Tue Jun 14 21:21:04 2016 -0600

    Fixed an issue when a client's charm on an NPC breaks, causing their target to get corrupted.

Author: Cavedude
Date:   Tue Jun 14 13:56:26 2016 -0700

    SBard song server filters should now match the client's filters.
    
    Bards will no longer see the "Your spell did not take hold" message when detrimental AE songs are cast and there are nearby players. Instead, the player target will receive a protected message.

Author: Cavedude
Date:   Tue Jun 14 12:22:35 2016 -0700

    Minimum faction value cap is now -2000.
    
    Required SQL (run after server is down.):
    UPDATE character_faction_values SET current_value = -2000 WHERE current_value < -2000;

Author: Cavedude
Date:   Sun Jun 12 12:27:45 2016 -0700

    Healing a charmed pet will no longer create beneficial aggro.

Author: Robregen
Date:   Sat Jun 11 12:05:42 2016 -0700

    Add support for sub folder style lua modules
    Ex. lua_modules/?/init.lua will work (which some lua modules do use)
    *credit by mackal (demonstar)

Author: Haynar
Date:   Fri Jun 10 19:47:45 2016 -0600

    For NPCs, the delay in moving following loss of engagement, should no longer reset for other loss of aggro methods, such as coh, mez/memblur.  The total delay is maintained so that even for FD, it does not reset after one attempt unless it has all been used up.

Author: Cavedude
Date:   Fri Jun 10 18:09:29 2016 -0700

    NPCs that are immune or are too high in level for a charm or mez spell will now properly resist it.

Author: Cavedude
Date:   Fri Jun 10 18:03:21 2016 -0700

    Spells that use a stack blocker are now properly handled in the Bard stacking rules.

Author: Haynar
Date:   Fri Jun 10 16:39:17 2016 -0600

    Improved the loiter logic when a mob resumes moving, associated with feign death.  Mobs should not linger every single time and will resume movement after they start facing their desired direction.
    Fixed an issue with rotations when mobs return to their guard position.  They should rotate smoother until they are facing their guard heading.

Author: Cavedude
Date:   Fri Jun 10 13:56:13 2016 -0700

    Mez spells with a Mem Blur component will have the Mem Blur effect skipped if the target is already debuffed with the same Mez spell. If a different Mez is cast, any Mem Blur component will be rolled as normal.

Author: Cavedude
Date:   Fri Jun 10 13:54:05 2016 -0700

    Mobs buffed with Divine Aura will now be picked last when a NPC chooses who it will attack each swing.

Author: Cavedude
Date:   Fri Jun 10 11:17:24 2016 -0700

    Bard pulses will no longer stick on targets who are invulnerable.
    
    Corrected the Bard stacking rules regarding spells and songs that are different types (Beneficial vs Detrimental.) This allows as an example Guardian Rhythms and Tashania to stack.

Author: Cavedude
Date:   Fri Jun 10 09:18:30 2016 -0700

    AE Mem Blur spells will no longer cause beneficial aggro.
    
    Added some logic I overlooked in the Divine Intervention rewrite.

Author: Cavedude
Date:   Thu Jun 9 16:49:54 2016 -0700

    Randomized the zone-in locs of ports slightly to help prevent players from incorrectly falling to death. Please note: This does not prevent falling to your death while encumbered. The more weight you have, the more likely you are to fall while zoning.

Author: Cavedude
Date:   Thu Jun 9 14:27:39 2016 -0700

    Call of the Hero will now despawn the target's summoned pet and fade charm on their charmed pets.
    
    If the target of CoH is not within 100 coords of the caster, aggro will not be cleared and the caster may draw beneficial aggro.

Author: Cavedude
Date:   Wed Jun 8 21:46:20 2016 -0700

    Removed the hardcoded zone_controller NPC as it was creating issues with encounter. The NPC is now found in the DB with ID 10. It will need to be given a spawnpoint in whichever zones it is to be used in.

Author: Akkadius
Date:   Sat Oct 31 20:19:57 2015 -0500

    - Add Zone Process ID (OS PID) as information passed back to world, ultimately with the ability to display it in the telnet console under 'zonestatus'
    - Refactored some zoneserver/worldserver code for readability
    
    # Conflicts:
    #       zone/guild_mgr.cpp
    #       zone/worldserver.cpp
    #       zone/worldserver.h
    #       zone/zone.cpp

Author: Cavedude
Date:   Wed Jun 8 10:01:28 2016 -0700

    When zoning, players will now receive the message "soandso is now the leader of your group." instead of "You have joined the group."
    
    The out of range spell check that happens at the end of a cast will no longer generate interrupted messages. Instead, only the caster will see "Your target is out of range, get closer!" using the spell failure text category.
    
    Changed healing messages to use the spell chat category.
    
    Corrected some NPC spell messages to use default white text instead of spell.
    
    Players will no longer see what spell has been cured, and instead will see "Your target has been cured."
    
    Fixed multiple messages that were not correctly displaying for corpse summon spells.
    
    Addressed a rare zone crash I see locally. (Not clue if it's fixed or not, I'm not exactly sure what's causing it.)
    
    [GM only] Damage done with hideme up will now properly display on death blows.

Author: Haynar
Date:   Tue Jun 7 20:57:08 2016 -0600

    Added pathing file for runnyeye.

Author: Haynar
Date:   Tue Jun 7 20:55:46 2016 -0600

    Pathing improvements.

Author: Cavedude
Date:   Tue Jun 7 10:52:55 2016 -0700

    Divine Intervention/Death Pact will no longer fade on a failed rolled. The buff will remain until you either roll a success or die.
    
    Changed the success chance of DI/DP to be closer to the client's formula.
    
    DI will now heal NPCs for 100,000 HP.
    
    Cleaned up the TryDeathSave() method, removing some redundant code, out of era logic, and incorrect messages.

Author: Cavedude
Date:   Mon Jun 6 14:47:30 2016 -0700

    Damage and death packets will now be sent in the correct order. This corrects some invalid messages included most pain and suffering messages.
    
    When death occurs on a combat swing, the final damage packet will no longer be sent. The death packet will handle the final damage message(s).
    
    Consolidated the damage packet creation code to a single method.
    
    Environmental deaths (falling, drowning, etc.) will no longer produce the pain and suffering message and will now generate the proper message for the type of death endured.
    
    Added comments, logging, and performed a general cleanup of the damage code, particularly when a death is involved.
    
    Damage shields should now bypass runes.
    
    Non-melee damage messages will no longer filter under Damage Shields.

Author: Cavedude
Date:   Sat Jun 4 11:05:49 2016 -0700

    Changed success in CheckIncreaseSkill() to use uint8, and added an enum for SKILLUP_SUCCESS and SKILLUP_FAILURE to make it less confusing and easier to read.

Author: Cavedude
Date:   Sat Jun 4 08:14:40 2016 -0700

    Added accountid column to group_id. This is for the benefit of world so it can remove a member of a group after the client's variables are cleared.
    
    *Implementation of the above column will be done in a seperate commit once I thoroughly test it.
    
    Required SQL handled by world automagically.

Author: Cavedude
Date:   Sat Jun 4 08:02:40 2016 -0700

    Rewrote /camp to fix an issue causing the player to leave their group when the camp is abandonded.
    
    Removed the "soandso has left the zone" message players recieved when a group member zoned.
    
    Moved a log message when a players leaves the group to a better spot to avoid spam and confusion.

Author: Haynar
Date:   Fri Jun 3 21:32:32 2016 -0600

    Improved movement of mobs/pets over short distances, so they no longer look choppy sometimes while moving.
    Fixed an error with the delta position translations from the client, which was not accounting for the (+/-) correctly.

Author: Cavedude
Date:   Fri Jun 3 20:10:17 2016 -0700

    Fixed a couple of compiler warnings.

Author: Cavedude
Date:   Thu Jun 2 13:06:01 2016 -0700

    Eye of Zomm will now swim at a painfully slow rate.
    
    Corpses will now sink to the bottom in water.
    
    Fixed an issue that sometimes caused corpses to end up in the wrong location when they fell off a boat.

Author: Cavedude
Date:   Wed Jun 1 12:40:40 2016 -0700

    Removed some newlines in the world log to make it a bit neater.

Author: Cavedude
Date:   Wed Jun 1 12:34:36 2016 -0700

    Eye of Zomm will now longer force the caster to stand after it has faded.
    
    Changed the default value of Range:Door to be 700, for the benefit of Eye of Zomm.

Author: Cavedude
Date:   Mon May 30 09:39:19 2016 -0700

    Rewrote /pet who leader logic as it was completely broken.
    
    /pet feign now requires the Feigned Minion AA and uses rank to determine the chance of success (25/50/75.) Pet feign likely needs to be implemented in the code at a later time.

Author: Cavedude
Date:   Sun May 29 22:25:24 2016 -0700

    Merchants will now be capped at 767 items per slot. If you sell items that exceed that limit, you will still recieve coin for them but they will be immediately deleted and not able to be purchased back.
    
    Added a check to cancel a merchant transaction if the merchant tries to send a 0 quantity stacked item to the client.

Author: Cavedude
Date:   Sun May 29 11:44:47 2016 -0700

    Changed many instances of ServerPacket to use auto.

Author: Cavedude
Date:   Sat May 28 17:26:38 2016 -0700

    The target of /makeleader no longer needs to be in the same zone.
    
    Fixed an issue that sometimes caused the group leader to not be set or updated in zones they are not in.
    
    Removed unnecessary group code for roles and aaleadership.
    
    Required SQL is handled by world automagically.

Author: Cavedude
Date:   Fri May 27 09:20:46 2016 -0700

    NPCs will no longer enrage while fleeing, unless they are also rooted.
    
    Call of the Hero can now be cast on players in a different map region (water vs land.)

Author: Cavedude
Date:   Thu May 26 16:03:29 2016 -0700

    Changed more references to use auto.

Author: Robregen
Date:   Thu May 26 09:46:26 2016 -0700

    fixed a bad merge in pathing.cpp from the previous commit (Change emptiness checks to empty() from size())

Author: Mackal
Date:   Wed May 25 16:10:28 2016 -0400

    clang-tidy modernize-use-auto

Author: Mackal
Date:   Wed May 25 14:57:47 2016 -0400

    Change emptiness checks to empty() from size() [clang-tidy]
    
    This has two benefits, it's clear what we are checking and
    size() isn't always constant time, where empty is (performance!)

Author: Cavedude
Date:   Wed May 25 20:39:53 2016 -0700

    Sentinel will no longer create a string error.

Author: Cavedude
Date:   Wed May 25 13:15:31 2016 -0700

    Multiple key groups will now display properly when /key is used.

Author: Cavedude
Date:   Tue May 24 21:57:26 2016 -0700

    NPCs will now only block KOS handins if the BAD_FACTION_BLOCK_HANDIN special ability is set.

Author: Cavedude
Date:   Tue May 24 19:55:34 2016 -0700

    Rewrote keyring to no longer depend on zone flags. Keyring information will now be loaded from the new keyring_data database table.
    
    Quick description of the new table (which can be edited under the Server tab of the editor):
    
    key_item: The ItemID of the key.
    
    key_name: How the key will display when the /key command is used. Most use the item name, some like frozenshadow do not.
    
    zoneid: The zone the key is used in, NOT the destination zone.
    
    stage: Used to determine what step you have in tiered zones like frozenshadow. Most keys will just use 0 for this.
    
    After the new key is inserted in the new table and the keyitem column is set in doors, you can complete the keyring setup by either:
    
    1. Toggling the nokeyring option under the specific door to "no" in the editor and let the server handle it.
    OR
    2. You can use the keyring methods in lua (with nokeyring left as yes) to manually unlock/port/whatever else you want to do.
    
    I have converted all existing keys to the new system. Player keyring data is unaffected, and their zone_flags can be deleted.
    
    Required SQL: (content data will be in the next dev DB dump.)
    utils/sql/git/required/2016_05_24_keyring.sql

Author: Cavedude
Date:   Mon May 23 18:24:11 2016 -0700

    Shrine Key is for cobaltscar.

Author: Cavedude
Date:   Mon May 23 17:47:23 2016 -0700

    Added Skyshrine key name to ZoneFlagList.

Author: Cavedude
Date:   Sun May 22 21:26:33 2016 -0700

    Moved the defensive avoidance skillup checks while invul to the correct class :I

Author: Cavedude
Date:   Sun May 22 20:44:25 2016 -0700

    Fixed an issue causing AE pacify spells to not check level or immunity of the targets.
    
    Mule character limit is not configurable by rule World:MuleToonLimit. It defaults to 8.

Author: Haynar
Date:   Sun May 22 20:28:26 2016 -0600

    Added pathing to the rockhopper caves in Dawnshroud Peaks.

Author: Haynar
Date:   Sun May 22 19:12:02 2016 -0600

    Added pathing to caves and tunnels in Dreadlands.

Author: Haynar
Date:   Sun May 22 18:46:17 2016 -0600

    Updated some pathing areas in The Temple of Droga.
    
    Changed pathing logic to improve switching from nodes to direct LOS.

Author: Cavedude
Date:   Sun May 22 11:26:30 2016 -0700

    Implemented DO_NOT_EQUIP NPC special attack. If set, the NPC will  never equip any items, including from their loottable or ones handed to them. The items will be placed in the general slot of their loot inventory.

Author: Cavedude
Date:   Sun May 22 10:48:23 2016 -0700

    Renamed special attacks SPECATK_QUAD to INNATE_DUAL_WIELD and INNATE_DUAL_WIELD to DO_NOT_EQUIP based on the content developers usage.
    
    DO_NOT_EQUIP will be implemented in a future commit.

Author: Haynar
Date:   Sun May 22 11:39:05 2016 -0600

    Added pathing for Acrylia Caverns.

Author: Haynar
Date:   Sun May 22 10:26:19 2016 -0600

    Added pathing for Plane of Mischief.

Author: Haynar
Date:   Sun May 22 10:09:02 2016 -0600

    Updated pathing for Dragon Necropolis.

Author: Haynar
Date:   Sun May 22 09:40:14 2016 -0600

    Added Pathing file for Siren's Grotto.

Author: Haynar
Date:   Sun May 22 09:28:37 2016 -0600

    Updating pathing in Skyshrine.

Author: Haynar
Date:   Sun May 22 08:44:46 2016 -0600

    Updated pathing for The Crystal Caverns.

Author: Haynar
Date:   Sun May 22 08:33:40 2016 -0600

    Updated pathing for The Warrens.

Author: Cavedude
Date:   Sat May 21 13:24:06 2016 -0700

    Quest NPCs will now decline hand-ins if their faction with the player is threateningly or scowling.

Author: Cavedude
Date:   Sat May 21 11:52:13 2016 -0700

    Eye of Zomm will now spawn in front of the caster.

Author: Torven
Date:   Fri May 20 18:40:03 2016 -0700

    Defense skillups moved; NPC AC use change
    
    * Defense skill raises moved to AvoidanceCheck()
    * The divisor in Mob:GetMitigation has been removed as the database has been
      mass edited to have more compatible AC values.

Author: Cavedude
Date:   Fri May 20 14:11:14 2016 -0700

    Excluded generic factions from counting towards flee ally count. (Indifferent, animal, KOS, noob monster) These NPCs can still be counted if their race matches the NPC about to flee.

Author: Cavedude
Date:   Fri May 20 11:55:54 2016 -0700

    If the attacker is no longer valid (dead, LD) when the damage packet is being constructed, we will now have the defender attack themself, instead of letting the client use pain and suffering. This will produce more predictable damage output.

Author: Cavedude
Date:   Fri May 20 11:06:40 2016 -0700

    Spells will now finish casting when they could not take hold on the target. (Consuming mana, triggering cooldown, etc.)

Author: Torven
Date:   Thu May 19 21:20:10 2016 -0700

    Defense skillups only on misses; 0 hate on OOR belly casters
    
    * The Defense skill made to only have a chance to skill up when the defender
      successfully rolls a miss.
    * Spells cast on 'belly caster' NPCs will now do 0 hate if casted from out of
      melee range if the spell is not unresistable.

Author: Cavedude
Date:   Wed May 18 11:46:54 2016 -0700

    Eye of Zomm/Tallon can now open doors again.

Author: Cavedude
Date:   Wed May 18 11:14:02 2016 -0700

    (GM only) We will no longer receive double damage with #hideme on.

Author: Cavedude
Date:   Tue May 17 22:23:57 2016 -0700

    Clicky items with 0 casttime and 0 recast delay will no longer suffer a 400 millisecond cooldown.

Author: Cavedude
Date:   Tue May 17 19:27:30 2016 -0700

    Removed the extra message casters receive when they heal another character.
    
    Fixed the issue causing the healed message to not show up for the target on Heals and Life Taps. HoT spells have been excluded from this.
    
    When a caster casts an exceptional heal, they will now see two exceptional messages. One for them, and one everybody else sees.

Author: Cavedude
Date:   Tue May 17 17:48:54 2016 -0700

    wercker/Linux compile fix from the merges.

Author: Cavedude
Date:   Tue May 17 17:41:21 2016 -0700

    Eye of Zomm changes and fixes:
    
    Players can now chat, and cast spells/songs with the eye up.
    
    The eye is now attackable and killable by all players, and will leave a corpse and grant 1 point of XP.
    
    The eye will no longer assist the caster after the buff has been clicked off.
    
    The server is now properly keeping track of the eye's current location.

Author: Mackal
Date:   Mon May 9 21:46:05 2016 -0400

    Need to account for null byte

Author: Mackal
Date:   Mon May 9 14:23:27 2016 -0400

    Rewrite VarCache_Struct
    
    Basically just remove manual memory management

Author: Mackal
Date:   Tue May 17 17:47:26 2016 -0400

    Remove unused header

Author: Mackal
Date:   Tue May 17 17:42:34 2016 -0400

    Refactor Clientlist::Voiced to std::vector

Author: Mackal
Date:   Tue May 17 17:38:08 2016 -0400

    Refactor ChatChannel::Invitees to std::vector

Author: Mackal
Date:   Tue May 17 16:52:04 2016 -0400

    More UCS refactoring

Author: Mackal
Date:   Tue May 17 15:11:23 2016 -0400

    Rename CL to g_Clientlist

Author: Mackal
Date:   Fri May 6 22:58:45 2016 -0400

    Fix potential memory leaks (clang-tidy)

Author: Mackal
Date:   Fri May 6 22:04:21 2016 -0400

    Make Client::TradeskillSearchResults take a reference

Author: Mackal
Date:   Fri May 6 21:31:46 2016 -0400

    Fix some undefined behavior issues?
    
    MakeAnyLenString results in UB (I think?) and is aggressively optimized out with clang
    GrantAlternateAdvancementAbility were missing return statements and clang had fun times with those functions too

Author: Mackal
Date:   Wed May 4 03:00:56 2016 -0400

    Fix luabind::adl::object forward declare for clang
    
    clang didn't like this, and GCC likes both :P

Author: Mackal
Date:   Mon May 16 23:47:01 2016 -0400

    Fix mismatch new/delete

Author: Mackal
Date:   Mon May 16 23:25:27 2016 -0400

    Add missing continue to Clientlist::Process

Author: Mackal
Date:   Mon May 16 23:22:42 2016 -0400

    Rework Clientlist::Process to not skip clients ...

Author: Mackal
Date:   Mon May 16 23:22:23 2016 -0400

    Fix mismatched new/delete

Author: Cavedude
Date:   Mon May 16 14:30:09 2016 -0700

    Added NO_LOITERING special attack, which forces an NPC to immediately begin pathing/return home after losing aggro.

Author: Cavedude
Date:   Mon May 16 13:56:33 2016 -0700

    More changes based on feedback from Torven:
    
    Removed FLEE_PERCENT_CON rule. Mobs that are level 18 or lower and green to top hate will now always run at 50%.
    
    Removed special logic regarding yellow cons, they will now use the normal percentage calculation. Reds will now always run at a lower percent.
    
    The FLEE_PERCENT special attack will now ignore any special rules. The NPC will always run at whatever that is set at.
    
    Removed IsDeepGreen() as it is no longer necessary.
    
    Please note: We know this still isn't perfect, and that there are many exceptions on Live (and presumably AK.) But hopefully, this should get us closer to where we need to be.

Author: Cavedude
Date:   Mon May 16 13:27:11 2016 -0700

    Attempting to open a door with the wrong key will now give the proper message.

Author: Haynar
Date:   Sun May 15 21:47:23 2016 -0600

    Updated some pathing areas with issues in Veeshan's Peak.

Author: Haynar
Date:   Sun May 15 21:41:33 2016 -0600

    Added support for different invis types (invis vs animals, invis vs undead) to be sent with spawn packets.
    Improved some z calculations when npcs move towards other players or npcs in open areas.  This should help prevent falling below world when short races are involved.

Author: Haynar
Date:   Sun May 15 21:38:22 2016 -0600

    Made adjustments to fizzle rates.  Everyone should fizzle less, especially hybrids.

Author: Cavedude
Date:   Sat May 14 14:17:32 2016 -0700

    Added mule exception for IP limit.

Author: Cavedude
Date:   Sat May 14 07:56:14 2016 -0700

    If all the damage was done to a NPC using a damage shield, faction hits will no longer occur.
    
    Changed the race/bodytype of zone_controller to match Haynar's findings and to match the triggers in the DB.
    
    Removed IsQuestTrigger() as it's no longer necessary.

Author: Cavedude
Date:   Fri May 13 14:28:43 2016 -0700

    Added sort_order to npc_faction_entries, so the order faction hits appear in game can be changed.
    
    Fixed a zone crash in the emote code.
    
    Required SQL (I recommend grabbing the next DB from dev, as this will have the new colum populated.)
    
    alter table npc_faction_entries add column `sort_order` tinyint(3) not null default 0;

Author: Haynar
Date:   Thu May 12 19:29:37 2016 -0600

    Updated pathing for Kael, Velketor's Labyrinth and Solusek's Eye.

Author: Haynar
Date:   Thu May 12 19:26:56 2016 -0600

    Updated hazard navigation in pathing to be more accurate.  Mobs should be a bit smarter and not fall off bridges or down holes, like on the bridges in Sebilis.

Author: Cavedude
Date:   Thu May 12 17:18:50 2016 -0700

    Damage Shields will no longer have reduced damage in PVP.

Author: Cavedude
Date:   Thu May 12 16:43:26 2016 -0700

    Flee changes
    --------------
    
    Added two new NPC special attacks for flee:
    
    ALWAYS_FLEE_LOW_CON: Causes a NPC to always flee once they reach the HP threshold if they are green to top hate.
    
    FLEE_PERCENT_CON: Causes NPCs to flee at 50% when they are deep green to top hate. Note: NPCs over level 18 will essentially ignore this special attack as IsDeepGreen() was changed to max out at level 18 when compared to a entity that is level 65.
    
    Removed Combat:UseConForFleeRatio as it is now handled by the special attack above.
    
    Corrected the issue causing a NPC to flee at the percent below the one desired. Changed the default value of Combat:FleeHPRatio to 20 (from 21) as a result.
    
    Changed #fleeinfo to handle the new variables. Altered GetFleeRatio() to optionally accept a Mob object instead of using top hate in order to allow #fleeinfo to print out the percentage the NPC target will run at. GetFleeRatio() in normal flee situations will continue to use top hate.
    -------------------
    
    Added KILLED emote type, which causes the NPC that gets the final hit on any other entity to emote. KILLEDNPC for NPC slays and KILLEDPC for PC slays are unaffected by this and will continue to work. However, using either combined with KILLED will result in a double message.
    
    Removed #itemsearch alias "search" since it was ambiguous. #itemsearch, #finditem, or #fi all still work.
    
    Added HPRatio to #showstats.
    
    Added the remaining boat NPCID defines in preparation of a future commit.
    
    Added IsQuestTrigger() to determine if a NPC is an invisible quest trigger. Unused at present, reserved for future use.

Author: Cavedude
Date:   Wed May 11 13:57:14 2016 -0700

    Single target buffs will now overwrite the group version of the buff and vice versa provided the caster's level is equal or greater than the original caster's level. If it is not, it will be blocked in both cases.

Author: Cavedude
Date:   Wed May 11 10:52:50 2016 -0700

    Dispels can now be cast on other players in PVP situations.

Author: Cavedude
Date:   Wed May 11 10:36:13 2016 -0700

    Stuns will no longer take affect when a NPC is mezzed. Pre-existing stuns will fade when the Mez wears off.

Author: Cavedude
Date:   Wed May 11 10:08:11 2016 -0700

    Procs will no longer occur while Divine Aura is active.

Author: Torven
Date:   Wed May 11 05:38:42 2016 -0700

    PC stuns on NPCs capped at 7.5 seconds

Author: Haynar
Date:   Tue May 10 21:25:31 2016 -0600

    Mobs interrupted while casting spells, will no longer forget they have spells which they can cast.

Author: Cavedude
Date:   Sun May 8 17:58:03 2016 -0700

    Corrected Mez overwriting rules.
    
    Stacking rules regarding detrimental songs and detrimental spells will now work better.

Author: Cavedude
Date:   Sat May 7 08:31:56 2016 -0700

    Fixed wercker/Linux builds from merge.

Author: Cavedude
Date:   Sat May 7 08:27:50 2016 -0700

    Conflict resolution from previous merge.

Author: Akkadius
Date:   Tue Dec 29 05:21:27 2015 -0600

    Change how rules are loaded and inherit values
    - When a custom ruleset is loaded, it will always first look for a value present in the ruleset id for that zone, when it is not present, it will load from the default ruleset instead of immediately falling back to the source value. This is to eliminate the excessive amount of duplicate entries in the rule_values tables

Author: Cavedude
Date:   Sat May 7 07:56:29 2016 -0700

    Added the ability to add an item to the cursor queue without sending a packet to the client. This should help prevent desyncs caused by items being in a different order on the server and client's respective queues. This also allows us to control the cursor queue "rules" server side, and have GMs bypass them if need be.
    
    This change fixes the desync that happens when multiple items are handed back as a result of a tradeskill, and should help to bullet proof other cases where the cursor queue is used (forage, spell summons, #si for GMs)
    
    Pushing items to the cursor during trades and when no other slot is available in general was not changed in this commit.
    
    Added Lua export for PushItemOnCursorWithoutQueue

Author: Cavedude
Date:   Sat May 7 06:05:43 2016 -0700

    Finished Lua implementation of zone controller.

Author: Cavedude
Date:   Fri May 6 15:34:31 2016 -0700

    Missing file from previous commit.

Author: Cavedude
Date:   Fri May 6 12:02:13 2016 -0700

    The client will no longer apply more damage than it should on melee hits.
    
    (GM only) #gmdamage now accepts a spell bool, to force the damage to be from a spell. (ID is hardcoded as it only affects the message. The spell will use whatever damage you specify, bypassing all checks.)
    Usage: #gmdamage [dmg] [skipaggro] [spell]

Author: Cavedude
Date:   Fri May 6 10:31:22 2016 -0700

    Corrected the success formula for Memory Blur spells. (Thanks Ravenwing and Darchon for the formulas!)

Author: Cavedude
Date:   Thu May 5 21:31:35 2016 -0700

    Charmed vendors can no longer be browsed.
    
    NPCs will no longer be affected by Levitate or See Invisible spells. (The spell will take hold but have no effect.)

Author: Cavedude
Date:   Thu May 5 21:20:34 2016 -0700

    PushItemOnCursorWithoutQueue

Author: Cavedude
Date:   Thu May 5 21:18:06 2016 -0700

    Charmed vendors can no longer be browsed.
    
    NPCs will no longer be affected by Levitate or See Invisible spells. (The spell will take hold but have no effect.)

Author: Robregen
Date:   Wed May 4 18:01:38 2016 -0700

    added zonecontroller ported over from eqemu.

Author: Cavedude
Date:   Wed May 4 11:47:15 2016 -0700

    Changed /who all count loop to match how it was written before. (No functionality additions were lost in this commit.)

Author: Cavedude
Date:   Wed May 4 11:47:15 2016 -0700

    Changed /who all count loop to match how it was written before. (No functionality additions were lost in this commit.)

Author: Cavedude
Date:   Tue May 3 22:15:44 2016 -0700

    More changes to spell messages to correct Earthcall.

Author: Cavedude
Date:   Mon May 2 16:40:28 2016 -0700

    Stackable items will now be combined into a single slot on Bazaar merchants.

Author: Cavedude
Date:   Sun May 1 10:45:25 2016 -0700

    Food/drink consumption will no longer halt in Bazaar.

Author: Cavedude
Date:   Sat Apr 30 23:06:50 2016 -0700

    Desyncs should be greatly reduced when two or more items are handed back as a result of a tradeskill combine (but this is not completely fixed.)
    
    Removed the salvage code.

Author: Cavedude
Date:   Fri Apr 29 13:13:46 2016 -0700

    Enrage will now be checked when damage is done on NPCs who enrage, instead of on the AI timer for all NPCs. This should improve the accuracy of the enrage percentage.

Author: Cavedude
Date:   Fri Apr 29 12:54:54 2016 -0700

    Forgot to include exp.cpp in last commit.

Author: Cavedude
Date:   Fri Apr 29 12:00:30 2016 -0700

    Dying due to Pain in Suffering while in a duel or in PVP will now set the proper killedby value.

Author: Cavedude
Date:   Fri Apr 29 10:04:55 2016 -0700

    Moved FadeBuffs() to after corpse/XP generation of NPCs to prevent issues with corpse creation.

Author: Haynar
Date:   Fri Apr 29 10:08:39 2016 -0600

    Updated pathing for Droga.

Author: Haynar
Date:   Fri Apr 29 09:25:38 2016 -0600

    Added some pathing improvements to help prevent mobs getting stuck in loops.
    Mobs fleeing or feared in zones like frozenshadow, with distinct pathing areas, will now find fear points within their pathing area.  This prevents them from running through walls running for a random node that is not connected.

Author: Haynar
Date:   Fri Apr 29 09:23:34 2016 -0600

    Fixed an issue where mobs won't always rotate back to their guard heading correctly.

Author: Haynar
Date:   Fri Apr 29 09:21:59 2016 -0600

    Updated pathing to prevent mobs from bouncing in roamboxes.

Author: Haynar
Date:   Fri Apr 29 09:03:26 2016 -0600

    Updated pathing for frozenshadow.path

Author: Cavedude
Date:   Thu Apr 28 21:27:06 2016 -0700

    Moved the method to fade buffs when entering airplane out of Lua and into the server code.

Author: Cavedude
Date:   Thu Apr 28 16:18:02 2016 -0700

    PVP will no longer be hardcoded in the entire arena zone.

Author: Cavedude
Date:   Thu Apr 28 14:04:55 2016 -0700

    Stuns will now interrupt Bard pulses.

Author: Cavedude
Date:   Thu Apr 28 09:20:48 2016 -0700

    Items will now display in the last slot on merchants.
    
    When full, merchants are now capped at 10 "hidden" items that will show in their inventory list as other player sold items are bought.
    
    Added a check to prevent an item's quantity from going negative when purchased by a player on the server.
    
    When a permanent merchant inventory item is sold out (Crow's Brew for example) the remaining items will move up a slot the next time the merchant window is opened.
    
    Changed the order of merchant inventory logging to reflect these changes and to make more sense.
    
    Stackable items in Bazaar merchant lists will now display with 1 charge.

Author: Torven
Date:   Thu Apr 28 04:02:08 2016 -0700

    Unresponsive NPC fix; Client stun fixes
    
    * Hardcoded interrupt immune spell range moved to Mob::Stun() which corrects a
      bug causing NPCs to become unresponsive.
    * New stuns on already stunned clients are now ignored.
    * Stuns casted on clients now ignore any stun level cap, which now only apply
      to NPCs.

Author: Torven
Date:   Tue Apr 26 20:58:34 2016 -0700

    Newly spawned aggro NPCs made to add all in range to hate list
    
    * EntityList::AICheckCloseAggro() has been replaced with
      EntityList::AICheckNPCAggro() which adds all appropriate NPCs in range to the
      hate list simultaneously instead of returning a single NPC pointer.
      Mob::AI_Process() now just calls this instead of adding the sole returned NPC
      to the hate list.
    * EntityList::AICheckClientAggro() created.  This will check for all clients in
      range of the NPC and add them simultaneously.  This was necessary because
      when NPCs spawn on players, all the players in range and with appropriate
      faction should get on the hate list, even if the NPC does not have the
      proximity aggro flag.
    * EntityList::CheckClientAggro() will now call EntityList::AICheckClientAggro()
      when a player aggros an NPC instead of only adding a single client to the
      NPC's hate list.
    * PROX_AGGRO logic moved to AICheckClientAggro and AICheckNPCAggro.

Author: Cavedude
Date:   Mon Apr 25 21:20:00 2016 -0700

    Greatly reduced the hate caused by mana drain spells.cpp
    
    Mana drains will now check if the target has mana in the beginning of the cast instead of the end.
    
    Damage Shields can now cause offense skillups.
    
    (GM only) Some more changes to #damage. It will now act like a melee hit essentially, and can be avoided. If damage needs to be done overriding all checks, use #gmdamage.
    
    NPC pets will now leave corpses with items if they have them.
    
    Removed pets_equipmentset code as traditional loottables handle this functionality completely.
    
    Optional SQL:
    drop table pets_equipmentset;
    drop table pets_equipmentset_entries;

Author: Cavedude
Date:   Sat Apr 23 21:05:25 2016 -0700

    Fixed a few issues dealing with pet aggro from DOTs and damage shields.
    
    Pets will now aggro when most detrimental spells are cast on their master.
    
    Buffs and debuffs should now choose a slot that syncs with the client's internal rules when overwriting existing spells.
    
    When overwriting, the yellow spell fade message will now only display when a detrimental spell overwrites a different detrimental spell.
    
    Corrected the stacking rule when the same detrimental spell is cast on a NPC by two players.

Author: Cavedude
Date:   Fri Apr 22 11:34:59 2016 -0700

    /who all will now iterate the client list in reverse order, so newer players will appear on the top of the list.
    
    Added rules RuleI(World, WhoListLimit) and RuleB(AlKabor, NoMaxWhoGuild) to /who all. WhoListLimit allows us to change the list limit (defaults to 20.) NoMaxWhoGuild allows players to see a non-truncated /who all guild# list. (It's possible the limit is in place to prevent a client crash - this should be tested on Dev.)
    
    Cleaned up the code for /who all so it it is easier to read. Added some comments, and some strings as defines as well.

Author: Cavedude
Date:   Wed Apr 20 22:03:18 2016 -0700

    Corrected an issue causing /consent to not work until the consented player zones.
    
    /consent will no longer send a message to the consented player if the consenter has no corpses.
    
    DOT spells like Engulfing Darkness will now display a spell message.
    
    Prevented an extra loop from running when a player dies.

Author: Cavedude
Date:   Thu Apr 21 14:06:43 2016 -0700

    Added ignore_despawn column to npc_types to have NPCs ignore the despawn column in spawngroup.
    
    Required SQL (already run on TAKDev):
    alter table npc_types add column `ignore_despawn` tinyint(2) not null default 0;

Author: Cavedude
Date:   Wed Apr 20 22:03:18 2016 -0700

    Corrected an issue causing /consent to not work until the consented player zones.
    
    /consent will no longer send a message to the consented player if the consenter has no corpses.
    
    DOT spells like Engulfing Darkness will now display a spell message.
    
    Prevented an extra loop from running when a player dies.

Author: Cavedude
Date:   Wed Apr 20 12:56:53 2016 -0700

    Minor correction to last commit.

Author: Cavedude
Date:   Wed Apr 20 12:28:38 2016 -0700

    Added ChangeDespawn() to lua_spawn.cpp This allows content developers to change the despawn type (and if used) the despawn_timer. Syntax is simply:
    
    spawn2object:ChangeDespawn(new_despawn_type, [new_despawn_timer]);
    
    new_despawn_timer is optional, and if omitted the spawn will continue to use what is in the DB. Please remember, only despawn types 2 and 4 make use of the despawn_timer. 1 and 3 use respawntime and will ignore new_despawn_timer completely if set. (There already is a method to change respawntime from Lua if needed.)
    
    The method is called from spawn2 because it involves despawning NPCs. So, you will need a valid spawn2 pointer to use it (NPC must be spawned, spawn2 should be a valid entry, etc. See example below.) It also means you will need to run this against every spawn within the spawngroup to update their timers. NPCs that are not spawned do not need to be changed, as they will use the updated despawn value the next time they spawn if it was successfully set on another spawned NPC.
    
    Changes made using the Lua method will stay until the zone resets. At that point, the NPCs will be reloaded from their database values.
    
    Example of use:
    
    function event_say(e)
        local sp = e.self:GetSpawnPointID();
        local spawn = eq.get_entity_list():GetSpawnByID(sp);
            if(e.message:findi("depop"))then
            e.self:Say("My sp2 is " .. sp .. " and I am setting despawn to 3.");
            spawn:ChangeDespawn(3);
        elseif(e.message:findi("repop"))then
            e.self:Say("My sp2 is " .. sp .. " and I am setting despawn to 2 and the timer to 1 minute.");
            spawn:ChangeDespawn(2, 60);
        elseif(e.message:findi("reset"))then
            e.self:Say("My sp2 is " .. sp .. " and I am resetting despawn.");
            spawn:ChangeDespawn(0);
        end
    end

Author: Haynar
Date:   Tue Apr 19 21:41:59 2016 -0600

    Updated some position rounding for mob movements.

Author: Cavedude
Date:   Tue Apr 19 15:34:42 2016 -0700

    /consent will now work on any offline character, even if they don't yet exist.
    
    Rewrote the consent packet logic and added some comments.
    
    SQL changes are handled by world.

Author: Cavedude
Date:   Sun Apr 17 15:20:25 2016 -0700

    Removed the engaged and hate checks from the flee ally count.
    
    NPCs that are deep green to top hate will now flee if able. (We can tweak this one if it doesn't seem right.)
    
    Added rule Combat:UseConForFleeRatio to toggle the code that changes the ratio when a NPC flees based on con, since there is some debate over this one.
    
    Added #fleeinfo and some more variables to #showstats to help further troubleshoot flee.

Author: Haynar
Date:   Sun Apr 17 14:14:00 2016 -0600

    Missed in last commit for fixing hate list clearing.  Found another way it could bug out.

Author: Haynar
Date:   Sun Apr 17 14:06:55 2016 -0600

    Fixed a hate list issue with scripts, that was inadvertently clearing the hate list when it was not desired.

Author: Haynar
Date:   Sun Apr 17 14:06:00 2016 -0600

    Fixed a pathing bug where mobs/pets could get stuck, when they can't find a node route to their destination.

Author: Cavedude
Date:   Fri Apr 15 21:22:44 2016 -0700

    Added message when Summon Companion fails due to the pet having aggro.

Author: Cavedude
Date:   Fri Apr 15 11:02:58 2016 -0700

    Summon Companion will no longer summon pets that appear on another NPC's hatelist. (No error will appear, the spell effect will just not work.)
    
    Pets that are engaged will now add entities that attack their master to their hatelist. (Previously, they were not adding anything to their hatelist while engaged unless they were directly attacked.)

Author: Cavedude
Date:   Fri Apr 15 10:05:36 2016 -0700

    NPC shouts will now display in white text.
    
    Changed some spell failure messges incorrectly using MT_Shout to use CC_User_SpellFailure instead.
    
    Changed several messges using MT_SpellFailure to use CC_User_SpellFailure to be more uniform.

Author: Robregen
Date:   Fri Apr 15 09:58:18 2016 -0700

    change the variable parameter for IsMobSpawnBySpawnID function header to match source.

Author: Cavedude
Date:   Thu Apr 14 13:58:03 2016 -0700

    Fixed a no drop exploit with world containers.

Author: Cavedude
Date:   Thu Apr 14 13:58:03 2016 -0700

    Fixed a no drop exploit with world containers.

Author: Cavedude
Date:   Thu Apr 14 12:12:28 2016 -0700

    (GM only commit)
    
    Added skippagro option to #damage to prevent a NPC from aggroing when used.

Author: Cavedude
Date:   Wed Apr 13 18:06:29 2016 -0700

    Defensive skills can now skillup while invulernable.
    
    Added enums for damage types so we know what we're looking at.
    
    Moved OP_Damage from encode to native code.
    
    (GM only) Using #damage on yourself will no longer result in a double message.

Author: Robregen
Date:   Wed Apr 13 14:11:17 2016 -0700

    added IsMobSpawnBySpawnID for lua script.

Author: Cavedude
Date:   Wed Apr 13 09:12:01 2016 -0700

    Feign Death will now block PC to PC trade requests.

Author: Cavedude
Date:   Tue Apr 12 08:38:13 2016 -0700

    Further changes to OP_Damage packet generation to prevent double messages for debuffs with a direct damage component.
    
    Moved OP_Damage packet generation from CommonDamage to its own method, Mob::GenerateDamagePackets()
    
    Some small tweaks to the filters and how the caster receives damage messages in GenerateDamagePackets.

Author: Cavedude
Date:   Mon Apr 11 18:44:01 2016 -0700

    Regen rewrite
    -------------
    
    Rewrote HP regen formula to match the client.
    
    Rewrote mana regen formula (Thanks to Ravenwing and guildmate)
    
    As a result of the above, Bard mana regen is now a fixed value (with level bonuses) instead of being based on meditate skill.
    
    HP and mana regen will now take level, item, spell, and AA bonuses into account even when hungry/thirsty.
    
    Classes that do not get mana will no longer calculate mana regen (this includes low level hybrids.)
    
    Change endurance regeneration to send fewer packets. It now works closer to the behavior seen in packet collects from Al'Kabor.
    
    Being either hungry or thirsty will now lower/stop mana and hp regen and stop endurance regen. This is how the client works, and due to the other changes in this commit the server must now match to prevent falling out of sync.
    
    Rewrote code that causes endurance to drop when hungry/thristy to cause smoother updates.
    
    Endurance updates will no longer occur when endurance has not changed.
    
    Implemented STR/AGI/DEX penalties when endurance is low.
    
    Added rule AlKabor:NPCsSendHPUpdatesPerTic. When true, NPCs will send HP updates to players per tick or when targeted instead of real time. This is correct behavior for Al'Kabor, but probably not desired. This rule is more for preservation. Defaults to false.
    
    Added Regen logsys category, SQL handled by world automagically.
    
    Added #showregen command to provide details about a player's regeneration.

Author: Torven
Date:   Thu Apr 7 04:38:17 2016 -0700

    Str and agi on NPCs; Minor NPC combat stat adjustments; Uninterruptable spell IDs
    
    * Strength modifiers will now adjust NPC offense.
    * Agility modifiers will now adjust NPC avoidance.
    * NPC offense, mitigation, avoidance, and to-hit calcs have been slightly adjusted to be
      more accurate.
    * Spells with IDs 859 to 1023 have been hardcoded to be uninterruptable.  This was
      discovered in a client decompile by Demonstar55. (these spells are stuff like drake
      breath and raid boss AoEs)

Author: Cavedude
Date:   Wed Apr 6 12:54:15 2016 -0700

    Fixed an issue causing phantom waypoints to be added to the end of patrol and circle type grids.

Author: Cavedude
Date:   Wed Apr 6 10:08:10 2016 -0700

    Corrected the issue causing charmed NPCs to despawn when their player master leaves the zone.

Author: Cavedude
Date:   Wed Apr 6 10:08:10 2016 -0700

    Corrected the issue causing charmed NPCs to despawn when their player master leaves the zone.

Author: Cavedude
Date:   Tue Apr 5 22:11:03 2016 -0700

    Mezzed NPCs will no longer seek out new clients to add to their hatelist and will no longer call for help.

Author: Haynar
Date:   Tue Apr 5 21:19:23 2016 -0600

    Updated some pathing that would cause mobs to get stuck sometimes.
    Added size compensation to hazard checks, so very large mobs like giants, are not stuck trying to step over a pebble.
    Fixed a group bug, where if you do not accept an invite to a group (or decline) and zone, then you are unable to be invited to other groups.
    Changed where packets are caught up on zoning.  This should help not bug out groups.
    Changed how its determined which mobs/clients get spawn packets sent to clients, to help prevent some clients not appearing when zoning together.

Author: Haynar
Date:   Tue Apr 5 21:15:24 2016 -0600

    Updated pathing in soldunga.path.  There were some nodes missing that causes some really funky pathing.

Author: Cavedude
Date:   Mon Apr 4 19:46:06 2016 -0700

    Removed RestRegen code as our client does not support it.
    
    Fixed a zone crash in #resetaa
    
    Added EntityID to #showstats 1 for NPCs or #npcstats for quick reference.

Author: Cavedude
Date:   Mon Apr 4 19:38:54 2016 -0700

    NPCs will no longer flee if they have allies nearby that are mezzed or feared.

Author: Haynar
Date:   Sun Apr 3 10:40:02 2016 -0600

    Adding raid members will no longer clear the list of looters on everyone in the raid.

Author: Cavedude
Date:   Sat Apr 2 22:18:19 2016 -0700

    *GM only commit*
    
    Being on the hatelist with your GM flag up of a NPC when it dies will result in a damage total message displaying to show you how the NPC was damaged. It will also tell you if a corpse should be created and if xp is assigned. If no message displays, that means no corpse and no xp will be assigned.
    
    Added #damagetotals command which will give the same info as above. (Except the corpse/xp message, since that can only occur on death.)
    
    Changed some GM debug message prefixes to make everything uniform.
    
    When using #level to delevel you will now receive a message reminding you to zone before the client sees the change in level.

Author: Cavedude
Date:   Fri Apr 1 15:10:18 2016 -0700

    A minor adjustment to how damage shield damage is counted to avoid overlap.

Author: Cavedude
Date:   Fri Apr 1 14:40:03 2016 -0700

    If a damage shield deals all of the damage to a NPC, the player will no longer receive XP and the NPC won't leave a corpse (unless the level 55+ rule is enabled.)

Author: Cavedude
Date:   Fri Apr 1 11:13:25 2016 -0700

    Added DepopPet() to the client deconstructor to hopefully prevent pets from staying up forever in a couple different cases.
    
    Added some additional checks when charm wears off of a player's summoned pet to make sure the player is still in a valid state to relcaim ownership of the pet. If the checks fail, the pet will depop.

Author: Cavedude
Date:   Thu Mar 31 12:53:31 2016 -0700

    Fixed merge error in the last commit.

Author: Cavedude
Date:   Thu Mar 31 12:47:37 2016 -0700

    #castspell now accepts entityid as a parameter to force a NPC to cast the spell on your target.
    
    Example: #castspell 300 32 will have the NPC with entityid 32 cast charm on your target (or you if you have no target.)
    Use #showstats to grab the entityid of the NPC caster.
    
    Fixed a couple of zone crashes in the charm code.

Author: Cavedude
Date:   Thu Mar 31 09:40:52 2016 -0700

    Spell casts will no longer be interrupted when a duel is accepted.
    
    Players can no longer charm player pets in PVP situations.

Author: Cavedude
Date:   Tue Mar 29 14:03:56 2016 -0700

    /tgb should now always hit the caster as well as the target group.
    
    If a player changes targets during the casting of a group spell, the spell will no longer land on the new target and instead will use the original target.

Author: Cavedude
Date:   Mon Mar 28 17:50:42 2016 -0700

    Some minor code support for the recent corrections made to items.lua.

Author: Cavedude
Date:   Mon Mar 28 12:33:59 2016 -0700

    Added rule Character:SacrificeCorpseDepop if true, new empty sacrificed corpses will have their decay timer set to 3 minutes and rez timer disabled in pok, nexus, and bazaar. (Defaults to false)

Author: Cavedude
Date:   Mon Mar 28 10:31:05 2016 -0700

    NPC pets will now stay spawned and continue to attack until their hatelist is empty when their master dies or is charmed.
    
    Moved where hate is added to the pet when its master is attacked to after the master has checked to see if it is dead. This will cause pets to poof if their master dies in a single hit and nothing else is on the hate list.
    
    Added Pets logsys category and changed some log entries to use that. SQL is handled by world.

Author: Cavedude
Date:   Sun Mar 27 12:30:55 2016 -0700

    Charmed NPCs and their NPC spell targets will now have debuffs faded when the charm wears off to further prevent faction wars. Players and their spells are unaffected by this.

Author: Cavedude
Date:   Sun Mar 27 11:19:40 2016 -0700

    Clicking on a NPC will now force an HP update. This "fixes" NPCs that are in a bugged (-HP) state immediately which is what happened on Al'Kabor in this situation.

Author: Cavedude
Date:   Sat Mar 26 12:36:50 2016 -0700

    Added rule AlKabor:HighLvlCorpsesAlwaysSpawn to force NPCs 55 and over to always leave a corpse. Default is disabled until we can work out the remaining faction wars issues.
    
    Added command #attackentity which has a NPC attack another Mob by entityid, since #attack doesn't appear to be reliable.

Author: Cavedude
Date:   Sat Mar 26 09:43:02 2016 -0700

    Debuffs will no longer fade on players when they charm the NPC that cast the debuffs.

Author: Haynar
Date:   Sat Mar 26 09:32:08 2016 -0600

    Pathing fixes for pets following

Author: Haynar
Date:   Sat Mar 26 08:27:22 2016 -0600

    Fixed pathing for pets and mobs getting stuck.

Author: Haynar
Date:   Sat Mar 26 08:26:29 2016 -0600

    Compile fixes for 32 bit in VS 2015

Author: Cavedude
Date:   Fri Mar 25 16:38:32 2016 -0700

    Added and replaced IsCharmed() with IsCharmedPet(). IsCharmed() by itself will return true for all NPCs, because the default typeofpet is 3. IsCharmedPet() does the IsPet() for us to avoid this issue.

Author: Cavedude
Date:   Fri Mar 25 13:51:09 2016 -0700

    Damage spells will no longer produce double messages.
    
    Player casters and targets of spells will now always see the spell message regardless of filter or range.

Author: Cavedude
Date:   Fri Mar 25 11:44:38 2016 -0700

    Charmed NPCs will no longer flurry or rampage.

Author: Cavedude
Date:   Fri Mar 25 11:43:56 2016 -0700

    Item desync log will now log zoneid. SQL is handled by world.
    
    Added a command template for temporary commands used in testing.

Author: Cavedude
Date:   Thu Mar 24 15:36:42 2016 -0700

    Fixed the error message when an item is sold to a full merchant caused by the recent bazaar changes.
    
    GMs will always pass the HasZoneFlag check.

Author: Robregen
Date:   Thu Mar 24 15:22:26 2016 -0700

    added VB2015 support.

Author: Cavedude
Date:   Wed Mar 23 17:57:23 2016 -0700

    Charmed NPCs can no longer summon.
    
    Removed some door debug spam.

Author: Cavedude
Date:   Wed Mar 23 08:21:33 2016 -0700

    +mana items will no longer update current mana when equipped or removed.

Author: Haynar
Date:   Tue Mar 22 21:38:51 2016 -0600

    Fixed pathing in HHK and Unrest basement.

Author: Cavedude
Date:   Sun Mar 20 12:22:18 2016 -0700

    Bazaar search for All Effects, Haste, and Flowing Thought will now work properly.

Author: Cavedude
Date:   Sun Mar 20 11:40:48 2016 -0700

    Revert "Initial work on an item serial number system, to better track items."
    
    Moving work to serialnumber branch for now.
    

Author: Cavedude
Date:   Sat Mar 19 21:14:59 2016 -0700

    NPCs will now try to flee at regular intervals once they are below the HP threshold.

Author: Cavedude
Date:   Sat Mar 19 17:11:00 2016 -0700

    Initial work on an item serial number system, to better track items.
    
    Currently, every item created on the server will be assigned a serial. If the item instance was loaded from the database, or it was part of a transaction, the old serial will be sent to the item. If it is a brand new item, it will be assigned the next available serial by the server.
    
    Item serials will survive zoning, camping, server resets, dying, bazaar trading, and basic tests show player to player trading works as well.
    
    Areas that won't work are dropping items to the ground, selling to a merchant, and player to NPC trades needs work, certainly when the handin hits lua. These functions will be added in later commits.
    
    All database changes are handled by world automatically. The first time this change is run on a server, it will assign every inventory item in the database a serial number. It will also set initialserial to 1 for those items, which will indicate that the item's original origin is unknown. That column will no longer be used by the server after that point, and is meant for informational purposes.
    
    Added serialnumber logging to the Bazaar queryserv entry, as an example of how future logging should be handled.
    
    Each item's serialnumber will now also be sent to the client, which is required for Apply Poison to work and possibly other skills. (Previously, we were just sending the slot number as a temporary workaround.)

Author: Haynar
Date:   Sat Mar 19 12:12:22 2016 -0600

    Netcode updates to limit burst packet data rate sent.

Author: Cavedude
Date:   Sat Mar 19 10:15:37 2016 -0700

    Fixed a bug with moving items to a corpse that created issues with soulbound bags.
    
    Changed the error handling of the above situation to attempt to correct the problem on the fly, instead of giving up.
    
    *Since the only soulbound bag we have is GM only, this bug only affected GMs.

Author: Haynar
Date:   Fri Mar 18 23:36:54 2016 -0600

    Netcode updates

Author: Haynar
Date:   Fri Mar 18 20:51:03 2016 -0600

    Netcode updates.
    Added special handling to prevent going into packet loss.
    Rewrote how resend of dropped packets are handled.
    Changed arq responses to use a moving window for deleting ack'd packets.

Author: Haynar
Date:   Fri Mar 18 19:04:52 2016 -0600

    Fixed the range check for bard group spells in raids.

Author: Cavedude
Date:   Fri Mar 18 11:31:19 2016 -0700

    Forgot database update for Bazaar in last commit. Handled by world automagically.

Author: Cavedude
Date:   Thu Mar 17 21:44:44 2016 -0700

    Rewrote how trader items are loaded. Changed the logic performed in the initial loop and added some additional sanity checks. This should help to prevent bogus or no drop items from being added to a trader's item list erroneously especially in the last couple of slots. This will also help to keep better track of items when they are moved around in the satchel while the trader window is up.
    
    Traders will no longer need to price all their items or remove no drop items from their satchels before starting trader mode. The server will simply skip over those items, if the client sends them.
    
    Fixed an issue that would sometimes cause the item in the last slot to not show to buyers, or to display as a bogus item.
    
    Rewrote the logic for adding a item while trader mode is running. This was required since we no longer require all items to have a price beforehand. This also fixed a bug that would allow a trader to put a no drop or bogus item up for sale.
    
    Replaced references of SerialNumber which our client doesn't use with inventory SlotID. This will help to ensure the proper item is being worked with across the board in the bazaar system, particularly stackable items.
    
    Changed the item number variable to int16 in bazaar searches, in case a buyer has more than 255 of a given stackable item.
    
    Fixed an issue where the bazaaar search would occasional "split" a stackable item into several items.
    
    Lots of general cleanup and adding/changes to bazaar logging.
    
    *Plesse test this on dev, this is a major change to bazaar and while I spent several hours testing I am sure there are things I overlooked!

Author: Cavedude
Date:   Wed Mar 16 13:46:01 2016 -0700

    Fix for raid zone crash (from secrets, haynar)

Author: Cavedude
Date:   Wed Mar 16 13:27:22 2016 -0700

    Fixed an issue with traps that I introduced in the last patch.

Author: Cavedude
Date:   Wed Mar 16 11:24:21 2016 -0700

    Fixed the message sent when a player buys an item from a bazaar trader. (This message was completely cosmetic, I have confirmed that the actual plat transaction was NOT affected!)
    
    Added nro to the boat zone list.

Author: Haynar
Date:   Tue Mar 15 23:26:20 2016 -0600

    Pathing fix for mobs cutting corners.

Author: Cavedude
Date:   Mon Mar 14 22:53:35 2016 -0700

    DATABASE CHANGE REQUIRED (already run on Dev):
    alter table npc_types add column `encounter` tinyint(2) not null default 0;
    
    Added encounter column to npc_types. This forces the NPC to skip the internal check done when an item is handed to them and either eats the item, or lets lua handle it. This column should be set to 1 for any NPC that accepts a hand-in as part of an encounter script. It is not needed for normal quest NPCs.
    
    Alternately, this column can be used to force a non-quest NPC to eat items handed to it.
    
    There is no need to set this column for any encounter NPC that does not have a hand-in... unless you need the NPC to eat items.

Author: Haynar
Date:   Mon Mar 14 20:37:30 2016 -0600

    Summon spells will no longer say you are distracted if you have an item on the cursor.   The client cursor will not allow summoning multiple items that are the same, so mana and any needed reagents will be consumed.  You have been warned.
    Bard Group songs in a raid, will now have a range check to group members.

Author: Cavedude
Date:   Mon Mar 14 11:13:00 2016 -0700

    Fixed a copy/paste error with my last commit.

Author: Cavedude
Date:   Mon Mar 14 09:42:42 2016 -0700

    Made the character creation process a bit cleaner and cleaned up the world logs a bit.

Author: Cavedude
Date:   Sun Mar 13 22:05:12 2016 -0700

    Fixed a world crash.

Author: Cavedude
Date:   Sun Mar 13 11:43:54 2016 -0700

    Loginserver now supports PC clients connecting using /ticket. (Secrets client is required, EQW won't work.)
    
    Added a method to dump packets to std::string, without the hex.

Author: Robregen
Date:   Sat Mar 12 22:33:30 2016 -0800

    more ucs clean up

Author: Cavedude
Date:   Sat Mar 12 19:51:40 2016 -0800

    Fixed an issue with damage shield stacking between a spell and a song.

Author: Cavedude
Date:   Sat Mar 12 12:42:25 2016 -0800

    Players will now be stripped of levitation spells when entering trader mode. Levitation spells will now also be blocked when cast on a Trader.
    
    Fixed an erroneous double packet sent when a player buys an item from a trader.

Author: Cavedude
Date:   Sat Mar 12 12:35:46 2016 -0800

    Fixed the issue causing NPCs to sometimes flee when they shouldn't.

Author: Robregen
Date:   Sat Mar 12 09:37:25 2016 -0800

    removed prefix function that is associate with mail.

Author: Cavedude
Date:   Sat Mar 12 00:09:24 2016 -0800

    Changes to the Nexus transport system to be more accurate visually.

Author: Cavedude
Date:   Fri Mar 11 22:32:01 2016 -0800

    Added range rules for several packet types.

Author: Haynar
Date:   Fri Mar 11 16:01:39 2016 -0700

    Fixed an issue with raids, where if a person leaves a group, the raid is not updated correctly.
    Fixed an issue with re-assigning raid group leaders, if they leave the raid.
    Removed some extra messages (not all) when changes are made to raids.
    Fixed an issue with someone leaving a group, that required in sending extra packets to the client, to allow them to be invited to other groups.
    Added support for /makeleader in raids, so group leaders can be changed.
    Raid group leaders can no longer ungroup people from different groups within their raid.

Author: Robregen
Date:   Fri Mar 11 14:05:17 2016 -0800

    more mail clean ups.

Author: Cavedude
Date:   Fri Mar 11 12:39:47 2016 -0800

    Added IsUnTargetable() method to Mob, and changed several places to use that.

Author: Robregen
Date:   Fri Mar 11 12:37:22 2016 -0800

    removed mail related opcode list from conf file.

Author: Robregen
Date:   Fri Mar 11 12:30:40 2016 -0800

    removed all mail related code and rename a file to reflect chat rather than mail.
    *need to re-run cmake*

Author: Robregen
Date:   Fri Mar 11 11:52:19 2016 -0800

    Changed OP_MailLogin -> OP_ChatLogin
    Changed Mailbox -> Chatlist

Author: Robregen
Date:   Fri Mar 11 11:05:57 2016 -0800

    Changed OP_Mail to OP_Chat

Author: Robregen
Date:   Fri Mar 11 10:01:57 2016 -0800

    remove the mail configuration settings for xml and change mail_opcodes.conf to chat_opcodes.conf

Author: Cavedude
Date:   Thu Mar 10 20:08:07 2016 -0800

    Greatly increased the hail range. This should help with hailing scions and other NPCs in general.
    
    Lowered the say and emote range slightly to reduce spam.

Author: Cavedude
Date:   Thu Mar 10 14:19:39 2016 -0800

    Revert "Memory leak fixes."
    

Author: Cavedude
Date:   Wed Mar 9 16:13:04 2016 -0800

    The item count will now display on Bazaar searches.
    
    Made a minor change to BazaarReturnDone_Struct to match the packet collects from AK.

Author: Cavedude
Date:   Wed Mar 9 14:04:20 2016 -0800

    Rewrote trader item deletion to be safer and less bug free. (An item desync, Application Move Failed error, and item dupe were all fixed by this.)
    
    Stacked items bought from a trader will now try to stack in your inventory.
    
    Traders inventory window will now properly update when a stackable item is purchased, but the stack was not depleted.

Author: Cavedude
Date:   Wed Mar 9 10:10:54 2016 -0800

    OSX will no longer crash when a player browses their wares in trader mode.

Author: Haynar
Date:   Tue Mar 8 17:36:23 2016 -0700

    Fixed an issue where moving mobs would pause and warp forward.
    Improved some of the mob movement code by removing some redundanct code pieces and sending through a common function.
    Reduced the bulk packets sent when zoning in for npc movements.

Author: Cavedude
Date:   Tue Mar 8 11:42:53 2016 -0800

    Shadowknight and Paladin epics will now do bash damage.

Author: Cavedude
Date:   Tue Mar 8 08:28:32 2016 -0800

    Fixed an issue where some skills could incorrectly appear on a trainer's list.
    
    Changed default value for NPC:MinorNPCCorpseDecayTimeMS to 8 minutes.

Author: Cavedude
Date:   Sun Mar 6 21:33:06 2016 -0800

    Fixed an issue with clicky items using the wrong level for their formulas.
    
    Added some cleanup for paused lua timers.

Author: Cavedude
Date:   Sun Mar 6 13:02:22 2016 -0800

    Added lua method eq.is_paused_timer("timername") to check to see if you have a paused timer or not. Example usage:
    
    if(eq.is_paused_timer("test"))then
         e.self:Say("You have a paused timer.");
    else
         e.self:Say("You do not have a paused timer.");
    end

Author: Cavedude
Date:   Sun Mar 6 12:38:43 2016 -0800

    Implemented lua methods eq.pause_timer("timername") and eq.resume_timer("timername"). This allows developers to pause and resume the given timer on the current NPC.

Author: Haynar
Date:   Sat Mar 5 21:19:39 2016 -0700

    Fixed a minor pathing issue, used for culling end of route, when target moves closer.  The end node to be culled, was not being trimmed correctly.

Author: Haynar
Date:   Sat Mar 5 21:18:13 2016 -0700

    Changed how zoneinpacket_timer is handled.  Changes are to prevent skipping spawn packets, between sending of bulk spawns and completion of client connecting process.  This will help ensure spawn packets are all sent, before mob position updates start.

Author: Cavedude
Date:   Sat Mar 5 14:11:52 2016 -0800

    Updated special bind area rules to use coords found in the client. Thanks demonstar55 for the decompile!

Author: Cavedude
Date:   Sat Mar 5 10:49:26 2016 -0800

    Implemented raid XP.
    
    Changed rule Character:RaidExpMultiplier to default to 1.
    
    Changed rule NPC:CorpseUnlockTimer to default to 2 minutes.

Author: Haynar
Date:   Sat Mar 5 08:33:21 2016 -0700

    Fixed raids so they require a minimum of 2 members.

Author: Haynar
Date:   Fri Mar 4 19:44:14 2016 -0700

    Added support for raids.
    Using guildmotd by itself will return the current guild motd.
    The guild motd will only be sent when intially logging in, not every time you zone.
    Fixed an issue where players will move slightly on logging in, when their x or y coordinates are negative.

Author: Cavedude
Date:   Fri Mar 4 09:08:52 2016 -0800

    Player corpses will now retain any illusion the player had on them at the time of death.
    
    Added corpse appearance data to #showstats

Author: Cavedude
Date:   Thu Mar 3 10:50:55 2016 -0800

    Bazaar traders can now be used by multiple players simultaneously.
    
    Trader mode will now end if the trader goes LD.
    
    Added some trader/merchant variables to #showstats.

Author: Robregen
Date:   Wed Mar 2 21:46:29 2016 -0800

    moved safe_delete up in worldserver.cpp

Author: Robregen
Date:   Wed Mar 2 21:33:02 2016 -0800

    removed an extra safe_delete in worldserver.cpp

Author: Cavedude
Date:   Wed Mar 2 13:34:55 2016 -0800

    Bazaar Trader rewrite
    =====================
    
    Rewrote much of the trader code to work more efficiently and clear up some minor bugs I found.
    
    Moved all functionality from encode/decode to native code.
    
    Fixed a few structs that were a bit off.
    
    Traders will now receive a message in their window when a player browses their wares. (Thanks Haynar for figuring out the struct!)
    
    The buyer's client will now correctly update when a seller changes the price or adds an item.
    
    Added a new rule AlKabor:AllowPriceIncWhileBrowsing. When false, a trader cannot increase the price of an item while another player is browsing their wares. (Defaults to true.)
    
    Updated the bazaar.map. PVP will now work in the arena area (DB change also made for this fix.)
    
    Removed bazaar.path as it is meant for the newer version of the zone.

Author: Robregen
Date:   Tue Mar 1 11:28:46 2016 -0800

    Fix for shared_memory and clearing out hotfix_ when ran (Akkadius)

Author: Cavedude
Date:   Tue Feb 23 18:38:23 2016 -0800

    Moved Nexus portal functionality from lua to server code. This has proven to be faster and more reliable.
    
    The NPCIDs of the various Nexus NPCs (A_Mystic_Voice, The_Norrath_Spires, the Scions, etc.) are all hardcoded in the code, so that we can access them to cast spells or send signals. They cannot be changed in the DB, or the system will break!
    
    Rule Zone:EnableNexusPortals can be used to disable the Nexus portals (defaults to true.)
    
    Zones that use the Nexus portal system will not idle when empty when the rule is enabled.
    
    Added Nexus logging category.
    
    Added iceclad to IsBoatZone()
    
    Cleaned up some logging.

Author: Haynar
Date:   Wed Feb 24 17:06:48 2016 -0700

    Fixed an undersized buffer issue that could cause player inventories to appear empty.

Author: Cavedude
Date:   Sun Feb 21 13:09:43 2016 -0800

    /who all will now require status 80 or higher to see account names.

Author: Torven
Date:   Sat Feb 20 16:25:26 2016 -0800

    Another mitigation algorithm update; melee avoid/mit AAs
    
    * Corrected an error in the melee mitigation algorithm related to code from the
      previous commit.
    * Melee avoidance and mitigation AAs are now implemented and verified to be
      correct.

Author: Haynar
Date:   Sat Feb 20 15:24:58 2016 -0700

    Changed some pet checks to be less CPU intensive.

Author: Haynar
Date:   Sat Feb 20 14:51:01 2016 -0700

    Fixed some potential memory leaks.

Author: Cavedude
Date:   Fri Feb 19 09:30:28 2016 -0800

    Bazaar audit is now handled by QueryServ.

Author: Haynar
Date:   Thu Feb 18 07:07:23 2016 -0700

    Updated pathing for The Hole

Author: Haynar
Date:   Wed Feb 17 13:43:32 2016 -0700

    More fixes for groups getting bugged when someone gets disconnected while zoning.

Author: Haynar
Date:   Wed Feb 17 13:41:08 2016 -0700

    Test fix for bugged spawns.

Author: Cavedude
Date:   Wed Feb 17 12:10:31 2016 -0800

    /who all lfg will now function.
    
    /who all will now use a player's base race instead of their illusion race.
    
    /who is unaffected by both changes.
    
    Some minor logging changes.

Author: Cavedude
Date:   Tue Feb 16 17:11:42 2016 -0800

    Commented some unused code in libwebsockets that was breaking OSX compiles.

Author: Torven
Date:   Tue Feb 16 12:50:09 2016 -0800

    avoidance bonus from agility capped at 200 agi

Author: Haynar
Date:   Mon Feb 15 21:26:02 2016 -0700

    Clients will no longer get group bugged, when they accept joining a group, but the group is already full.

Author: Haynar
Date:   Sun Feb 14 20:36:30 2016 -0700

    Added some checks to improve the reliability of trading and prevent item loss.

Author: Torven
Date:   Sun Feb 14 18:29:45 2016 -0800

    Mitigation algorithm update; PC dam mult update; ripostes
    
    * The melee mitigation algorithm has been updated for more accuracy.  Very low
      level player and NPC mitigation in particular will be noticably more accurate.
    * The player character damage multiplier is now precise.  GetDamageTable() has
      been removed.
    * Weapon elemental damage now uses a simple function taken from a decompile
      instead of using the spell resist function. (decompile credit: Demonstar)
    * Ripostes may now trigger from other ripostes, however client attacks while
      under a riposte discipline remain unripostable.
    * AC buffs on NPCs fixed to not increase AC more than desired.

Author: Haynar
Date:   Sat Feb 13 14:47:28 2016 -0700

    Fixed a legacy netcode issue that makes it look like client is lagging, when they really aren't.

Author: Cavedude
Date:   Sat Feb 13 09:20:20 2016 -0800

    Players with See Invisible will now properly see other players who are hidden/invisible server side.
    
    Added a spot where Voice Graft should be faded when a pet leaves.

Author: Cavedude
Date:   Fri Feb 12 10:27:58 2016 -0800

    Bind Sight will now be castable on targets in a different region.

Author: Cavedude
Date:   Fri Feb 12 09:23:52 2016 -0800

    Fixed the long time spawn_conditions crash.

Author: Haynar
Date:   Thu Feb 11 16:45:20 2016 -0700

    Returned position update frequency to original setting.

Author: Haynar
Date:   Thu Feb 11 14:32:30 2016 -0700

    Updated how character inventory is sent when zoning.  This should improve zone times.
    Added checks for items in no rent bags, so their deletion can be logged better, if the no rent bag expires.

Author: Cavedude
Date:   Thu Feb 11 11:50:37 2016 -0800

    Fixed SE_CurrentHPOnce not updating the client properly.

Author: Haynar
Date:   Wed Feb 10 21:00:46 2016 -0700

    Fixed an issues with groups sometimes getting bugged, when group members go linkdead.
    Changed how client positions updates are sent to nearby clients.  This will smooth out the big data spikes that happen when there are several players nearby.
    Reverted the far distance mob update changes, that were causing mobs to warp a lot when you try to chase them down in big zones like skyfire.

Author: Cavedude
Date:   Wed Feb 10 14:21:49 2016 -0800

    wercker builds are now working.

Author: Cavedude
Date:   Wed Feb 10 09:03:35 2016 -0800

    Removed a tab.

Author: Cavedude
Date:   Wed Feb 10 08:51:31 2016 -0800

    Attempting to get wercker to work,this may take several commits. Please ignore them.

Author: Cavedude
Date:   Tue Feb 9 15:13:59 2016 -0800

    Equipping or equipping HP items will now add or remove the proper amount of HP.
    
    The server and client should now be more in-sync with HP updates.

Author: Torven
Date:   Tue Feb 9 11:45:41 2016 -0800

    another NPC AC calc adjustment

Author: Torven
Date:   Mon Feb 8 23:59:46 2016 -0800

    NPC AC calculation adjustment

Author: Cavedude
Date:   Mon Feb 8 23:19:11 2016 -0800

    Corpses will first check the zone they're in for characters on the same account before sending the world packet. (Missed in last commit.)

Author: Torven
Date:   Mon Feb 8 23:12:28 2016 -0800

    Pet hate fixes; combat function adjustments
    
    * Fixed error from my last commit that caused client AC calculations to end up
      higher than intended.
    * Pet melee misses will now generate hate.
    * Pet spell damage (just the damage portion) hate is no longer reduced by the
      'PetSpellAggroMod' rule.
    * Magician air pet stun formulas (60 and 70) were erroneous and commented out
      so that those spells use the default 1-99 formula, which works better, but
      may not be accurate.  Previously pet stuns were so brief as to not be
      noticable.
    * Damage hate from procs now stacks with SE_InstantHate, so effects like the
      warrior epic will now apply the correct amount of hate.
    * The melee hit chance algoithm is now more precise.  Also, the to-hit and
      avoidance numbers should now more closely match Sony's.
    * NPC Offense and mitigation values have been adjusted to more closely match
      new data, and client + NPC values should now more closely match Sony's.
    * NPC avoidance AC calculations have been slightly adjusted to match new data.
    * Client avoidance and mitigation AC bonuses from agility are now precise.
      Previous calcs were in error and were incorrectly applying larger than
      desired bonuses for low level characters.  AC calcs for the server should now
      be absolutely precise at any level or agility value and #showstats AC will
      match the client.  Thanks to Secrets for the decompile.
    * Monk weight penalty now matches the EQMac client instead of modern clients.
      Thanks to Demonstar for the decompile.
    * Warrior berserker frenzy to-hit bonus implemented.
    * Ranger level 55+ atk bonus implemented.
    
    # Please enter the commit message for your changes. Lines starting
    # with '#' will be ignored, and an empty message aborts the commit.
    # On branch dev
    # Your branch is behind 'origin/dev' by 65 commits, and can be fast-forwarded.
    #   (use "git pull" to update your local branch)
    #
    # Changes to be committed:
    #       modified:   zone/aggro.cpp
    #       modified:   zone/attack.cpp
    #       modified:   zone/mob.h
    #       modified:   zone/spell_effects.cpp
    #

Author: Cavedude
Date:   Mon Feb 8 20:12:02 2016 -0800

    Th corpse rez timer will now continue to tick if another character on the same account is online.

Author: Haynar
Date:   Mon Feb 8 21:00:57 2016 -0700

    Reduced keep alive interval for tcp connections.

Author: Cavedude
Date:   Mon Feb 8 17:11:22 2016 -0800

    Voice Graft fixes:
    
    The buff will now be applied to the client instead of the pet (This also fixes the double message.)
    
    Pets will now only be allowed to speak in /say.
    
    Voice Graft buffs will fade when the current pet no longer is spawned (getlost, death, zoning.)

Author: Haynar
Date:   Mon Feb 8 16:25:29 2016 -0700

    Made adjustments to rate at which ack packets are sent to client.  This should help with LDs for some people.

Author: Cavedude
Date:   Mon Feb 8 14:06:44 2016 -0800

    #movechar now accepts bind instead of the zone short name to move the character to their bind point. (eg #movechar deiffin bind) The success message will now display the character's name and the zone they were moved to.

Author: Haynar
Date:   Mon Feb 8 14:35:09 2016 -0700

    Updated kael.path

Author: Haynar
Date:   Mon Feb 8 12:59:20 2016 -0700

    Changed path file name to lower case.

Author: Haynar
Date:   Mon Feb 8 12:58:16 2016 -0700

    Changed path name to lowercase.

Author: Haynar
Date:   Mon Feb 8 10:03:33 2016 -0700

    Added initial greatdivide.path for caves.
    Added initial wakening.path for caves.
    Added initial Sleeper.path
    Added initial Thurgadinb.path
    Updated pathing for thurgadina.path

Author: Haynar
Date:   Sun Feb 7 14:15:27 2016 -0700

    Fixed an item loss issue when you die with items on your cursor.

Author: Cavedude
Date:   Sat Feb 6 15:42:56 2016 -0800

    Added multiple reuse timers for disciplines.
    
    Added a sanity check to hopefully prevent overflowed discipline timers.
    
    Corrected an issue where the spell effect reuse timer wasn't being cleared when a /disc fades.

Author: Cavedude
Date:   Sat Feb 6 15:38:44 2016 -0800

    Added #cleartimers command.
    
    Organized the ptimers defines a bit.
    
    Using #save without a target will now save yourself.

Author: Cavedude
Date:   Fri Feb 5 22:59:53 2016 -0800

    #movechar will now send the player to the zone's safe coords.

Author: Cavedude
Date:   Fri Feb 5 17:29:32 2016 -0800

    Harmony and AE Mem Blurs will now have unlimited targets.
    
    The Wizard Al'Kabor spell line can now hit 5 targets instead of 4
    
    Changed some spell logging levels to make it easier to debug without excess spam.

Author: Robregen
Date:   Fri Feb 5 12:49:24 2016 -0800

    added more packages to install for wercker.yml

Author: Robregen
Date:   Fri Feb 5 12:29:49 2016 -0800

    correct file name.

Author: Robregen
Date:   Fri Feb 5 11:40:23 2016 -0800

    include wercher file.

Author: Haynar
Date:   Fri Feb 5 08:34:02 2016 -0700

    You can now get conjuration skillups using the Eye of Zomm spell.

Author: Haynar
Date:   Thu Feb 4 17:52:00 2016 -0700

    Added netcode fixes for arq response resends, and rolling over when reaching max value.

Author: Cavedude
Date:   Wed Feb 3 22:30:07 2016 -0800

    Mem Blur spells can now be cast on NPCs, PCs, and pets.
    
    Corrected the Monk disc fade message.

Author: Haynar
Date:   Wed Feb 3 20:14:47 2016 -0700

    Netcode updates.

Author: Haynar
Date:   Sat Jan 30 22:16:33 2016 -0700

    Netcode update.

Author: Robregen
Date:   Tue Feb 2 17:07:05 2016 -0800

    removed wercher.yml since it's doesn't support c/c++ language.

Author: Cavedude
Date:   Tue Feb 2 16:36:48 2016 -0800

    Merchants will no longer bug the client if selling an item to the player fails for whatever reason. The player will receive a bogus message for now, until a better opcode or way of handling it is found.
    
    Fixed a minor problem with my last commit.

Author: Robregen
Date:   Tue Feb 2 16:12:23 2016 -0800

    include wercher.yml file

Author: Cavedude
Date:   Tue Feb 2 14:51:27 2016 -0800

    Fixed the issue causing merchant wares to not show up while sneaking. Also fixed a later problem with buying the items caused by the same bug.
    
    Added some merchant strings and logging.

Author: Robregen
Date:   Tue Feb 2 08:57:19 2016 -0800

    GetFreeGrid should no longer crash when trying to #wpadd in a zone that has no grids (Credit to Natedog2012 @ EQEmu)

Author: Cavedude
Date:   Mon Feb 1 16:21:37 2016 -0800

    Controllable boats will no longer attack and should function properly now.

Author: Haynar
Date:   Sat Jan 30 22:16:33 2016 -0700

    Netcode update.

Author: Cavedude
Date:   Sat Jan 30 19:43:48 2016 -0800

    PVP areas within a zone will now work properly.

Author: Haynar
Date:   Sat Jan 30 18:02:18 2016 -0700

    Changed how client z is saved from the OP_ClientUpdate packet.  This is to help with some slight bouncing.
    Reduced frequency at which client position updates are sent, when not moving.
    Reverted some z_offset changes that are contributing to large dragons falling into the world.

Author: Cavedude
Date:   Sat Jan 30 09:17:56 2016 -0800

    Removed hotzone code.

Author: Haynar
Date:   Fri Jan 29 23:57:50 2016 -0700

    Netcode update

Author: Haynar
Date:   Fri Jan 29 21:42:26 2016 -0700

    Fixed some spell interrupts which were incorrectly triggering spell gem cooldowns.

Author: Haynar
Date:   Fri Jan 29 20:36:31 2016 -0700

    Made Z adjustments for fixed size dragons.  This will help prevent them from hopping while moving or falling below the world.

Author: Haynar
Date:   Fri Jan 29 17:50:34 2016 -0700

    Teleport door fix.

Author: Cavedude
Date:   Tue Jan 26 20:46:34 2016 -0800

    Corrected an issue with looting 2H items.

Author: Haynar
Date:   Tue Jan 26 18:13:17 2016 -0700

    The Greenmist Recourse from Greenmist should now work correctly.

Author: Haynar
Date:   Tue Jan 26 16:31:30 2016 -0700

    Fixed an issue where NPCs might not equip a multislot item as a weapon, even though the NPC has no weapon and should.  This allows mobs like a Sarnak Berserker, in the Overthere to equip their whips properly.

Author: Haynar
Date:   Tue Jan 26 15:39:36 2016 -0700

    Moved LoS checks server side before the fizzle checks.
    Fixed an issue with checks for items cast from inventory slots, to be treated the same as procs for applying hate.  The check was being performed too early, causing unexpected results.

Author: Haynar
Date:   Tue Jan 26 15:35:43 2016 -0700

    Fixed an interrupt message I did wrong.

Author: Robregen
Date:   Mon Jan 25 11:53:03 2016 -0800

    removed quests stuff from server code.

Author: Robregen
Date:   Sun Jan 24 19:34:00 2016 -0800

    added gm status to #Lord_Rak-Ashir script to not aggro below status 80.

Author: Haynar
Date:   Sun Jan 24 20:10:30 2016 -0700

    Fixed a possible item loss associated with spells that summon items.  This prevents items being consumed, such as during gem imbues, or enchanting ore, but not giving you the end result item.

Author: Haynar
Date:   Sun Jan 24 20:06:42 2016 -0700

    Added additional commands to allow better management of doors associated with pathing node neighbors.

Author: Haynar
Date:   Sun Jan 24 20:04:47 2016 -0700

    Fixed an issue where spell gems would flicker after a spell is finished, causing spells to sometimes be interrupted or certain spell gems to end up getting locked out for longer durations.

Author: Robregen
Date:   Sun Jan 24 18:26:47 2016 -0800

    added quests and maps to the utils/defaults/ directory.

Author: Haynar
Date:   Sat Jan 23 16:37:23 2016 -0700

    Updated ZoneID 64 to kedge.

Author: Haynar
Date:   Sat Jan 23 16:16:23 2016 -0700

    Updated pathing code to work better for kedge.

Author: Haynar
Date:   Sat Jan 23 15:44:14 2016 -0700

    Updated Z calculations for mobs while pathing, and when they reach nodes, using their z-offsets.
    Changed some logic in pathing, where sometimes a node could be reached, but it would not update position to that node.
    Updated min z range for mob updates, to use a minimum value of 200.

Author: Robregen
Date:   Fri Jan 22 18:15:10 2016 -0800

    change the color message to be same so to not be exploitable.

Author: Surron
Date:   Fri Jan 22 17:59:15 2016 -0800

    doors with opentype 58 were not being closed, now they are... no longer have to specify name = 'HOWLER' like previous commit

Author: Cavedude
Date:   Fri Jan 22 15:15:25 2016 -0800

    Weaponshield will now correctly last 20 seconds (Thanks Torven for confirming with logs!) instead of 15.

Author: Surron
Date:   Wed Jan 20 21:18:18 2016 -0800

    fixed bug where HOWLERS (seb/HS portals) would not allow subsequent clients to click using keyring

Author: Surron
Date:   Tue Jan 19 17:44:18 2016 -0800

    str spells wont stack with rez if the str modifier is in slot 1

Author: Surron
Date:   Sun Jan 17 14:33:56 2016 -0800

    Beneficial str buffs will now say 'your spell did not hold' instead of landing without a buff icon on targets affected by rez effects

Author: Haynar
Date:   Sun Jan 17 14:07:55 2016 -0700

    Updated mob position updates at a distance to help with data spikes and LDs.  Sorry this messes up tracking distance sorts, but will have to do until I put something better in place.
    Added more adjustments to ranged attacks.

Author: Haynar
Date:   Fri Jan 15 21:15:18 2016 -0700

    Added message handling to give the proper trade request reply, when someone has their client set to accept trades from nobody, or only accepting trades from their group.

Author: Haynar
Date:   Fri Jan 15 17:06:15 2016 -0700

    Reduced fizzle chance for hybrids.

Author: Haynar
Date:   Fri Jan 15 17:05:01 2016 -0700

    Fixed a potential item desync, associated with summoning items utilizing spells.

Author: Haynar
Date:   Fri Jan 15 16:32:46 2016 -0700

    Adjusted fizzle rate to lower fizzle chances.

Author: Haynar
Date:   Fri Jan 15 16:12:39 2016 -0700

    Fixed an item desync issue associated with forage.

Author: Haynar
Date:   Fri Jan 15 09:52:28 2016 -0700

    Updated Z_Offsets.
    Shaman pets and Barbarian Beastlord pets, will no longer jump while guarding.
    Updated bestz when a pet is set to guard, so it will not bounce.  This happened if pet was set to guard, right where it was spawned.

Author: Haynar
Date:   Thu Jan 14 21:24:00 2016 -0700

    Fixed an issue with Race 63 (Vah Shir beastlord pets) z_offset, which is calculated different than other mobs.  This will fix the problem with them bouncing.
    Pets guarding will only send position updates now, when their heading changes.  They were sending some unneeded updates.
    Vah Shir Beastlord pets, will no longer bounce rapidly when guarding.

Author: Haynar
Date:   Thu Jan 14 16:59:12 2016 -0700

    Changed attempting to pick up duplicate lore items, to totally block the client from picking it up.  Added prevention of picking up bags which contain lore items you already possess.

Author: Haynar
Date:   Tue Jan 12 17:49:35 2016 -0700

    NPCs should buff and heal other NPCs less, which are too far above or below them.

Author: Cavedude
Date:   Tue Jan 12 16:31:42 2016 -0800

    Added QueryServ logging for item desyncs. The log messages are the same as the inventory logsys entries for now. The new table is added by world automagically.
    
    Players will now be kicked when they desync to prevent item loss.

Author: Haynar
Date:   Tue Jan 12 17:10:47 2016 -0700

    Improved hatelist management for rooted mobs.  Rooted mobs will now prefer the closest PC in melee range, over NPCs (pets) in melee range.  If they summon, they will only do so if nobody is in melee range.
    Added an adjustment to client position updates, so other clients should no longer bounce when you see them.

Author: Haynar
Date:   Tue Jan 12 17:06:56 2016 -0700

    Pets will no longer be transported with their owners during succor/evacuate/translocate.  Closed a loophole where they could sometimes.

Author: Haynar
Date:   Tue Jan 12 17:04:46 2016 -0700

    Memory blur line of spells should not function properly.

Author: Haynar
Date:   Sun Jan 10 18:02:23 2016 -0700

    Fixed an issue where the client thinks a spell target is in range and allows to begin casting.  But server thinks the target is out of range, and interrupts the spell and shows out of range, at finish of spell.  Their range calculation methods for spells should be better in sync now.

Author: Haynar
Date:   Sat Jan 9 18:15:42 2016 -0700

    Added Support for Unswervering Hammer of Faith and Flaming Sword of Xuzl.

Author: Cavedude
Date:   Sat Jan 9 14:20:12 2016 -0800

    Fixed an item desync issue with dropped lore items.

Author: Cavedude
Date:   Sat Jan 9 13:39:28 2016 -0800

    Spell restrictions for group spells/MGB will now work properly.

Author: Haynar
Date:   Sat Jan 9 14:15:47 2016 -0700

    Haynar & Torven - Updated how summoned stackable item quantities are calculated.

Author: Haynar
Date:   Fri Jan 8 19:08:36 2016 -0700

    Spell: Summon Companion, will no longer work on charmed pets.

Author: Haynar
Date:   Fri Jan 8 17:43:36 2016 -0700

    Distance sorting for tracking should now be more accurate.

Author: Haynar
Date:   Fri Jan 8 15:47:30 2016 -0700

    Pets will now face the correct direction while guarding.

Author: Haynar
Date:   Fri Jan 8 10:06:59 2016 -0700

    Improved NPC target management during attack rounds.
    Updated pet hate management to be more accurate with how they behaved on AK.
    Changed fixes for targets becoming invalid after charm breaks, to not be so hackish.  Updated to also include additional spells that would have also caused client targets to break.

Author: Stairs
Date:   Sun Dec 13 11:57:50 2015 -0500

    added rule for max spell difficulty

Author: Stairs
Date:   Thu Dec 10 15:45:48 2015 -0600

    Rebase squish changes for upstream
    * make loginserver log message better
    * fix compiler warning
    * dont push npc's if perma rooted

Author: Robregen
Date:   Tue Jan 5 20:56:43 2016 -0800

    removed altered wolf size since they will be adjusted in the database.

Author: Haynar
Date:   Tue Jan 5 19:29:04 2016 -0700

    Changed how initial mob position updates are sent when zoning.  This reduces the burst traffic right after zoning is completed up to 80%.
    Updated how mob position updates are triggered for mobs that are stunned.  This should reduce warping/ghosting in some situations.

Author: Haynar
Date:   Tue Jan 5 19:26:27 2016 -0700

    Updated some logging values for packet debugging.
    Reverted some previous changes for login server CLE counts.

Author: regneq <{regneq}>
Date:   Tue Jan 5 18:24:52 2016 -0800

    removed altered wolf size since they will be adjusted in the database.

Author: Haynar
Date:   Tue Jan 5 19:23:42 2016 -0700

    Updated buffer sizes for mac packets which undergo Deflate.

Author: Haynar
Date:   Tue Jan 5 19:20:08 2016 -0700

    Netcode update.

Author: Haynar
Date:   Sun Jan 3 20:28:15 2016 -0700

    Added size adjustments to client ranged attack distance calculations.  This makes client and server range distance calculations to be more in agreement.  This will minimize out of range messages from the server, when the client thinks you are in range.

Author: regneq <{regneq}>
Date:   Sat Jan 2 21:06:57 2016 -0800

    add an exception to wolf size 3 to adjust size.

Author: Haynar
Date:   Wed Dec 30 22:48:07 2015 -0700

    The real fix for flickering spell gems on mana updates.  This fixes bards too.  Sorry bards.

Author: Haynar
Date:   Tue Dec 29 21:18:12 2015 -0700

    Netcode updates

Author: Haynar
Date:   Tue Dec 29 21:17:40 2015 -0700

    Removed some position update rounding that was causing mobs to jump.

Author: Haynar
Date:   Tue Dec 29 20:03:02 2015 -0700

    Netcode changes again.

Author: Haynar
Date:   Tue Dec 29 18:42:45 2015 -0700

    Netcode improvements

Author: Haynar
Date:   Mon Dec 28 10:57:45 2015 -0700

    The client spell gems will no longer flicker all the time on regular OP_ManaUpdate's.

Author: Haynar
Date:   Sat Dec 26 16:46:25 2015 -0700

    Alliance spells will no longer cause aggro.

Author: Haynar
Date:   Thu Dec 24 21:28:45 2015 -0700

    D

Author: Haynar
Date:   Wed Dec 23 22:04:26 2015 -0700

    Updated mobs appearance (sitting, standing, crouch, etc.) in bulk spawn packets, to reflect their position accurately.  Removed sending appearance updates, for non-standing mobs, during zoning process, since it goes out in spawn packet.

Author: Haynar
Date:   Wed Dec 23 21:25:19 2015 -0700

    Charm fading target corruption fixes ... again.

Author: Robregen
Date:   Wed Dec 9 10:15:09 2015 -0700

    Merge branch 'master' of https://github.com/EQMacEmu/Server
    
    Updated Fizzle Calculations.
    
    Merge branch 'master' into dev

Author: Kinglykrab
Date:   Mon Dec 14 14:57:03 2015 -0500

    Adds IsBlind() and IsFeared() functionality to Perl and Lua.

Author: Mackal
Date:   Thu Aug 13 22:30:49 2015 -0400

    Add EVENT_TICK for NPCs
    
    This event fires at the start of the tick processing so we can
    script on the actual tick.

Author: Robregen
Date:   Tue Dec 15 13:58:26 2015 -0800

    change default value to .005 for succor failed chance.
    change modify wolf size to 3.0f.

Author: Torven
Date:   Sun Dec 13 20:10:03 2015 -0800

    jolt fix

Author: Robregen
Date:   Sun Dec 13 19:44:40 2015 -0800

    change dev name to lower case for travis.

Author: Torven
Date:   Sun Dec 13 17:33:52 2015 -0800

    AC and Atk refinements
    
    * Being drunk will now reduce to-hit and avoidance by the appropriate values.
      (credit to Demonstar for the client decompiles and pseudocode)
    * Worn item atk is now factored into offense calculations.
    * Worn item atk is now capped at the rule value.  (default 250)
    * AC from buffs is now calculated correctly.  They will be much more effective
      now.
    * Avatar from primal weapons is now hardcoded to add to item atk instead of
      spell atk as per Demonstar's client decompile, making atk from primal weapons
      subject to the item atk cap.
    * Bonus mitigation from agility is now calculated using the eqmac client
      formula instead of the modern EQ formula. (credit to Secrets for the
      decompile)
    * Bonus avoidance from agility is now estimated to match the eqmac client
      formula instead of the Live formula.
    * MaxStat() will now add 5 points per level above level 60.
    * Some inherited unused atk and AC methods removed.
    * Showstats methods now show atk more accurately.

Author: Haynar
Date:   Wed Dec 9 09:16:10 2015 -0700

    Fixed issue with GM flag being set in ServerZoneEntry.
    Fixed issue with anon flag in ServerZoneEntry.

Author: Robregen
Date:   Mon Dec 7 17:21:25 2015 -0800

    change datatype to Real for succorfailchance and set it to 0.5 by default.

Author: Haynar
Date:   Sun Dec 6 20:50:26 2015 -0700

    Fixed some rounding issues with clients vs server locs.
    Client and Server will round their positions the same way now, when converting x and y coordinates from float to int.
    Changed encoding for ServerZoneEntry_Struct to be direct, so as to not round positions and heading.  This helps prevent client loc and heading changing when logging in.
    Fixed an issue with the z adjustment for clients, using zone geometry when logging in.  It was not updating correctly based on the real value for bestz.

Author: Torven
Date:   Sun Dec 6 05:02:50 2015 -0800

    conning pets crash fix

Author: Torven
Date:   Sat Dec 5 10:32:24 2015 -0800

    summoned pets poof after master death/zone fix

Author: Robregen
Date:   Wed Dec 2 11:24:35 2015 -0800

    revert the altered "haynar's charm fix"

Author: Robregen
Date:   Wed Dec 2 10:58:27 2015 -0800

    Revert "Charm fixes - again."
    
    
    Conflicts:
            zone/spell_effects.cpp

Author: Robregen
Date:   Tue Dec 1 20:43:28 2015 -0800

    Update eq_stream.cpp

Author: Torven
Date:   Sun Nov 29 05:25:21 2015 -0800

    Fizzle code redone; Charm gate fix; Rez hate wipe
    
    * Mana reduction from specialization now applies to every spell cast.
    * Frenzied Devastation AA code removed. (GoD AA)
    * Gift of Mana code removed.
    * 'Advanced Spell Casting Mastery' AA code removed.  (could not find evidence
      that this AA even existed?)
    * Charmed pets no longer cast the gate spell at low health.
    * Intellectual Superiority and similar buffs will now reduce fizzle rates.
    * Fizzle code reworked:
      Minimum fizzle chance is now 2%.
      Fizzle reduction from prime stat is now 1% per 10 above 75, capped at 12.5%.
      Bard fizzle prime stat is now either char or dex, whichever is higher.
      Fizzle reduction from specialization is now specialize skill / 10.
      Note that some spells are intended to still have a high fizzle rate.
      These changes are not precise.  They are estimates based on limited data.
    * Accepting a resurrection spell now removes the player from hate lists.

Author: Robregen
Date:   Fri Nov 27 17:48:54 2015 -0800

    Revert "Update eq_stream.cpp"
    

Author: Robregen
Date:   Fri Nov 27 10:00:44 2015 -0800

    Update eq_stream.cpp

Author: Robregen
Date:   Tue Nov 24 18:13:57 2015 -0800

     Fix issue with mobs no depopping (due to spawn_events) while zone is idle. (credit to noudess from eqemu)

Author: Torven
Date:   Fri Nov 20 03:12:14 2015 -0800

    Variance default now == -1; Pet backstab damage adjusted
    
    * Important: Since most raid boss AoEs have the variance, I've made that the
      default and 0 recast will add no variance.
    * Summoned pet max backstabs will now do max hit * 3 damage.

Author: Robregen
Date:   Thu Nov 19 16:43:36 2015 -0800

    change the default setting for TradeskillSkillUpModifier to 0

Author: Haynar
Date:   Thu Nov 19 15:22:55 2015 -0700

    Packet Logging improvements.
    Moved some logic for some extra checks associated with logging.
    Server to Client packet logging, will now show the actual opcode along with the translated name.  The emu opcode was shown before, which provided no value added.

Author: Haynar
Date:   Thu Nov 19 15:16:40 2015 -0700

    Charm fixes - again.

Author: Robregen
Date:   Wed Nov 18 11:18:42 2015 -0800

    Revert "Charm Fixes."
    

Author: Torven
Date:   Mon Nov 16 11:57:46 2015 -0800

    Zero Priority Spells; Charm target fixes; NPC multi-charm; Spell AI
    
    This commit introduces a significant change to NPC spellcast AI that is
    important to be aware of.  Spells in spell sets with a priority of zero will
    now behave differently.  Zero priority is to be used by raid boss spells, such
    as dragon AoEs.  The new behavior for priority zero spells is that they will
    ignore both the AI_EngagedDetrimentalChance rule random roll and the spell type
    random rolls and attempt to cast almost immediately after the recast timer
    expires.  Prior to this, raid boss AoEs were being delayed more than desired.
    
    You can still add a small random delay (0-4 seconds) after the recast by
    setting the spell's recast time to 0 in the spell set.  It's important (if you
    at all care about accuracy) to parse the spell's recast time from old logs to
    determine if the spell needs this delay or not.  Most dragon AoEs need it, but
    spells like Cazic Touch should not have it.  Nagafen for example, if you
    examine old logs, would AoE every 12-16 seconds or so.
    
    * SpellType_Nuke spells in the mob AI will now roll a 40% chance to cast
      instead of guaranteed.  This will prevent the AI from casting the same spell
      repeatedly.  This was previously removed because raid boss AoEs were being
      delayed far too long by the random roll.  Note that if you have raid boss
      spells set as nukes with non-zero priorities, you will need to change them to
      zero else they will not be cast nearly as often as they should.
    * SpellType_Slow spells will now only be cast on melee classes.  Note that this
      spell type was also just added to the editor.
    * Targeted AoE spells that hit entities other than the caster's target will now
      check LoS with the target instead of the caster again.
    * HateList::Add() will now refuse to add the hatelist's owner to the hate list.
    * Low health aggro now tapers with distance after 100 distance.
    * NPCs may now charm pets.
    * Summoned pets that get charmed will now return to their owners when charm
      fades.  This was accomplished by adding a new member that saves the summoning
      caster's entity ID.
    * NPCs that get charmed by other NPCs will no longer hate the casting NPC after
      charm fades.
    * NPCs may now have multiple charmed pets. The NPC will only control one pet at
      a time however, so AggroPet() will only work on the pet indicated by the
      petid member.  Ideally this would be replaced by an vector or some other
      means to allow the control of multiple pets but I'm time constrained right
      now.
    * Pets charmed by NPCs will now get that NPC's top hated entity and a random
      hated entity in their hate lists, with a very slight preference for the
      random entity.
    * Summoning a pet will now add a very small amount of hate, subject to witness
      checks.
    * Attempting to charm an NPC while having a pet will now result in the proper
      'only one pet at a time' message instead of 'this NPC cannot be charmed.'
    * Client targets will no longer desync with the server when targets are charmed
      or break charm.  This was accomplished by adding a new parameter to
      EntityList::RemoveFromTargets.  The new second parameter is a bool that will
      skip non-AI controlled clients in the loop.
    * NPCs with heal spells will now start healing at 50%, up from 35%.
    * The NPC spellcast AI will now check distance when attempting to cast spells
      on entities that are not the NPC's current target before the spell is cast.

Author: Haynar
Date:   Sat Nov 14 15:25:44 2015 -0700

    Fixed SE_Tossup on clients
    Fixed some angles associated with spell pushback and pushup.
    Fixed a couple of potential memory leaks.

Author: Haynar
Date:   Fri Nov 13 13:27:54 2015 -0700

    Charm Fixes.
    Players that have charmed mobs targeted, will no longer have their target go invalid after charm breaks.  No more re-targeting required.
    Moved some log support code inside the logic if that logging is on for packets.  That way the check is only performed during logging, not every single packet.

Author: Secrets
Date:   Thu Nov 12 21:21:30 2015 -0500

    Stream now supports rule-based data rates.

Author: Robregen
Date:   Tue Nov 10 13:21:53 2015 -0800

    Update .travis.yml

Author: Torven
Date:   Mon Nov 9 22:03:35 2015 -0800

    Use Warrior Skills; FD timer; Lulls; NPC No LoS; AggroPet()
    
    * Forget chance of static NPCs returning to their spawn points after a feign
      death is now back to 100%.
    * Two minute forget timer for feign death has been increased to 10 minutes.
    * Lull critical fail chance is now 93% - Charisma * 100 / 375, 15% minimum.
    * Lull fade early chance is now 1% * (targetLevel - casterLevel + 2) per tick.
    * Critical damage AA multiplier (SPA 330) code removed.
    * Archery was doing twice the damage it should have and has been corrected.
    * Critical hits and crippling blows will now do more accurate (but not precise)
      damage.
    * NPC special ability 'Use Warrior Skills' has been implemented.  Toggling this
      on will grant the NPC the skills of dodge, parry, riposte, bash and kick
      regardless of the NPC's class. (rogues and monks will not bash however)
    * 'NPC No Los' spell field implemented.  Spells with this set to a non-zero
      value will not be blocked by geometry LoS.
    * AllowCharmPetRaidTanks rule is now true by default.
    * AggroPet() will now check for a client's Feign Death status.
    * CommonDamage() will no longer call AggroPet() on buff/debuff ticks.
    * DoBuffTic() will no longer call AddToHateList() for DoT ticks casted by
      clients on pets owned by clients.
    * DoBuffTic() will no longer call AddToHateList() for DoT ticks casted by NPCs
      on pets.
    * Unconscious, stunned, sitting, crouched, or feigned clients will no longer
      riposte.

Author: Cavedude
Date:   Sun Nov 8 10:04:23 2015 -0800

    Added NPC special attack to allow any NPC to use Warrior combat skills.

Author: Torven
Date:   Sun Nov 8 02:10:42 2015 -0800

    Hotfix for AoE LoS checks in outdoor zones

Author: Speedz
Date:   Wed Nov 4 14:30:42 2015 -0800

    Adjusted rule sql.
    
    reordered query so the needed tables don't get skipped if the delete fails.
    added 2 rule queries.

Author: Torven
Date:   Tue Nov 3 05:46:09 2015 -0800

    Spinstun duration revert
    
    The previous spinstun duration change was put in because the spell data
    had 1s in the effect value field, which I took to mean duration in ticks,
    and the code wanted miliseconds.  However after examining logs, it's clear
    spinstuns (at least on PCs) were lasting 7500 miliseconds.  Checking spell
    data histories on allakhazam indicate that Sony changed the spell data to
    7500 at one point.  AK seems to have also been 7500.
    
    You will need to edit your databases and put in 7500 for the effect value
    for spinstuns to work correctly.

Author: Torven
Date:   Mon Nov 2 10:53:11 2015 -0800

    Lull nerfs; Spinstun fixes; Targeted AoE LoS
    
    * Casters of Lull and Harmony spells no longer receive worn off messages.
    * The chance to aggro from a lull resist no longer factors in target's magic
      resist.  The chance to aggro is now 75% - (Charisma / 5) capped at 250 Cha.
    * Lull spells now have a small chance to fade early.  This chance is 2% per
      tick on white cons, and declines down to zero on targets -5 levels below
      the caster.  Higher cons have an increased chance.  These calculations are
      subject to change as more data becomes available.
    * Harmony and Wake of Tranquility will now require LoS to the target to cast.
      Single target lulls remain castable without LoS.
    * The line-of-sight check for targeted AoE spells now checks sight from the
      caster to the mobs nearby the targeted mob, instead of from the targeted
      mob to his neighbors.
    * Monks no longer dodge from behind.  This was a Dec 2003 addition.
    * Spinstuns will now stun for a random length of time from 1 to X seconds,
      determined by the spell data.  Prior to this fix, they would all only stun
      for a split second.
    * Mob::GMMove() will no longer change an NPC's guard position, as the method
      is used in several places that shouldn't change the NPC's 'home point'. This
      was causing NPCs to stay in place after being spinstunned.
    * Some code for twinprocs and spell triggers was removed.
    * Dispel chance reduced in NPC spellcast AI code.

Author: Speedz
Date:   Mon Nov 2 05:06:38 2015 -0800

    Added loot logging coin/items to queryserv
     This should cover both pvp and pve
    Updated rule sql to reflect this option.

Author: Speedz
Date:   Sat Oct 31 18:36:19 2015 -0700

    Fixed NPC name output.
    For some reason the if on a single line was not working in grabbing npc name and sending it off.

Author: Speedz
Date:   Sat Oct 31 17:40:30 2015 -0700

    Forgot to add the changed merchant log rule.

Author: Torven
Date:   Sat Oct 31 11:30:05 2015 -0700

    Charm pet entity limit; FD fixes; NPC proc fixes; more
    
    * Teleport spells will no longer work on NPCs.
    * Roamers/patrollers not in a roambox will now gate at low health.  VP dragons
      could gate, which is proof that some roamers could in fact gate.
    * Added two new rules: AllowCharmPetRaidTanks, and MaxEntitiesCharmTanks.
      These will allow server administrators to set a limit as to how many entities
      may be on an NPC's hate list before it will start ignoring charmed pets.
      Defaults are false and 8.  If AllowCharmPetRaidTanks is true,
      MaxEntitiesCharmTanks is ignored, otherwise that will be the maximum number
      of entities that may be on an NPC's hate list before it will ignore charmed
      pets.
    * Rangers no longer triple attack at level 60. (was given to them in 2005)
    * Removed some rune-like SPA effects code from future eras.  (i.e. Vie spells)
    * NPC innate procs will no longer proc off hits that are fully absorbed by rune
      buffs.
    * NPC innate procs will now proc on ripostes.
    * HateList::GetClosest() now defaults to the hatelist's owner if no argument
      is passed.
    * Roaming/patrolling NPCs will no longer forget feigned players before the two
      minute timer if the initial feign failed to make them forget.
    * Non-roaming NPCs will now have a 5% chance to not forget feigned players
      when returning to their spawn points.
    * The chance for NPCs to instantly forget players who feign is now 35%, down
      from 40%.  (the 35% number was mentioned in Sony patch notes)
    * Stuns will no longer hit through DA.  That error was introduced when the stun
      code was redone.
    * The level difference resist modifier has been removed in the charisma aggro
      calculation for lull spells.  (it was being applied for both the initial
      resist check and the charimsa check)

Author: Cavedude
Date:   Sat Oct 31 10:32:09 2015 -0700

    Players in the area of a merchant will no longer receive a delete packet when an item is sold, unless they are currently using the same merchant.
    
    Lockpicks with a skillmod will now work properly.
    
    Changed a couple more messages to use a color enum.

Author: Cavedude
Date:   Fri Oct 30 14:59:18 2015 -0700

    NPCs can no longer be traded with if they are currently enagaged.
    
    Fixed an issue causing NPCs to recharge items they hand back due to not needed them.
    
    [GM only]
    #summonitem and #giveitem will now summon an item with 0 charges if 0 is specified for quantity and the item uses charges.

Author: Cavedude
Date:   Fri Oct 30 14:59:18 2015 -0700

    NPCs can no longer be traded with if they are currently enagaged.
    
    Fixed an issue causing NPCs to recharge items they hand back due to not needed them.
    
    [GM only]
    #summonitem and #giveitem will now summon an item with 0 charges if 0 is specified for quantity and the item uses charges.

Author: Speedz
Date:   Fri Oct 30 05:57:58 2015 -0700

    Helps to include the files for last commit....

Author: Speedz
Date:   Fri Oct 30 05:49:08 2015 -0700

    legacy table backup query added.
    
    IF your queryserv crashes it is due to previous code not entering values in one or more of the tables that match it's companion table.
    This will dump what you currently have to a textfile onto the system that the server is on with the name of the table and a .txt extension.
    
    Redated the QS rule update sql to match the build date submitted to dev.

Author: Speedz
Date:   Fri Oct 30 02:18:40 2015 -0700

    Corrected zone spellings

Author: Robregen
Date:   Thu Oct 29 22:15:54 2015 -0700

    remove tab space

Author: Robregen
Date:   Thu Oct 29 22:09:56 2015 -0700

    forgot to add uuid-dev to travis.yml

Author: Robregen
Date:   Thu Oct 29 22:05:12 2015 -0700

    Update .travis.yml

Author: Robregen
Date:   Wed Oct 28 18:18:48 2015 -0700

    Update .travis.yml

Author: Robregen
Date:   Wed Oct 28 18:18:05 2015 -0700

    Update .travis.yml

Author: Torven
Date:   Wed Oct 28 05:13:22 2015 -0700

    Taunt skill overhaul; Proc fixes
    
    Changes have been made to the Taunt skill based on parsed logs and Sony
    developer comments found in this thread:
    http://www.elitegamerslounge.com/home/soearchive/viewtopic.php?t=81156
    
    * Taunt no longer has a greater than 50% success rate.
    * Level 60+ players will no longer be able to taunt NPCs 6 or more levels above
      them, and the chance to taunt NPCs above their level will decline by 10% per
      level above the player. (targets +5 levels will do 10% instead of 0%)
    * The taunt success chance is now based on absolute taunt skill vs the target's
      level instead of how close the skill is to the player's skill cap.  This
      makes taunt a bit less effective on NPCs near your level once your taunt
      skill stops going up with level, however a bonus to taunt chance is granted
      for level difference above the target.  A negative bonus is applied to
      targets above the player.
    * The minimum taunt chance has been reduced to 10%.  This does not apply to
      level 60+ players taunting level 60+ NPCs.
    * Taunt will no longer add any hate at all (it was adding a very small amount)
      if you are already at the top of the hate list.
    * Summoned pets may no longer taunt NPCs level 50 or higher.
    * Pet taunts are now 6 seconds apart instead of 5.
    * Pet taunts are now no longer guaranteed to fire when the timer is up.
      Enchanter and shaman pets have a lower chance to taunt than other pet
      classes.
    * Charmed pets no longer taunt.
    * Removed several taunt related Spell Effects/SPAs that are out of our era.
    
    * Procs and item clicked spells will now cap at 400 hate on targets immune to
      the spell.
    * The damage component of procs is now added after the 400 capped hate.  This
      means procs like Anarchy will do more than 400.
    * HateList::Set() will now add the mob to the hate list if it is not already
      on it.
    * Reduced the interrupt chance on NPCs level 51+ and NPCs above the level of
      players who bash.  50 and under NPCs will always be interrupted.  NPC bash
      chance increased to 90% on targets above the level of the NPC.

Author: Speedz
Date:   Mon Oct 26 00:40:45 2015 -0700

    Redid all work done prior.
    Moved packet functions to queryserv.cpp
    Added globals logger.
    Fixed some errors.
    Updated sql file.

Author: Torven
Date:   Sun Oct 25 04:27:29 2015 -0700

    Bash/kick stun overhaul; NPC cast time fix; NPC summon fix
    
    * The Bash/slam/kick stun code was moved to DoSpecialAttackDamage() from
      CommonDamage() to allow for stuns and interrupts on runed targets.
    * NPC warrior kick will now stun starting at level 55 like warrior PCs.
    * Bash/kick stun made to always stun for 2 seconds.
    * Bash/kick stun chance is now precise. (or near it)  At least for NPCs.
    * Bash/kicks that fail the stun roll will now still have a chance to
      interrupt casts.
    * Stun avoidance message added to Stalwart Endurance AA.
    * NPC Bash/Kick chance changed to 66% and 33% respectively.
    * SE_StunBashChance code removed. (GoD AA)
    * Persistant Casting code removed. (GoD AA)
    * NPC spell casts will now use the correct spell cast times.
    * A player's heading will no longer change when summoned by an NPC.
    * Mob spellcast AI for 'nuke' spells will no longer check to see if 0
      duration spells can stack on the target.  This was preventing NPCs from
      casting direct damage spells on PCs with the GM health regen buffs on.
    * Charmed NPCs will now regenerate health out of combat at the in-combat rate.

Author: Speedz
Date:   Sat Oct 24 03:24:56 2015 -0700

    Converted TS Events.
    Added success logging, as QS was not set to log those.
    Removed QS command logging as it was since we already have a robust command logger.
    I plan to move that logger to QS tho.

Author: Speedz
Date:   Sat Oct 24 02:11:40 2015 -0700

    Converted Player death logging.
    Renamed QS rule sql to cover all changes in one file.

Author: Speedz
Date:   Sat Oct 24 00:33:48 2015 -0700

    Converted AA purchase logging.
    Added rule for this as required,
    but it can be skipped if you don't care about this logging.

Author: Speedz
Date:   Fri Oct 23 14:21:40 2015 -0700

    Forgot to save a file on last commit.

Author: Speedz
Date:   Fri Oct 23 02:59:47 2015 -0700

    Finished legacy existing tables migration.

Author: Speedz
Date:   Thu Oct 22 22:35:57 2015 -0700

    Trade log squished into 1 table.
    Added trade changes to migration tool.

Author: Cavedude
Date:   Thu Oct 22 09:58:50 2015 -0700

    Fizzles will no longer lock the spellbar.

Author: Speedz
Date:   Thu Oct 22 01:40:02 2015 -0700

    More code trim.
    Added QS halt on failure to pass dbupdate.

Author: Cavedude
Date:   Wed Oct 21 10:00:20 2015 -0700

    Compile fix.

Author: Speedz
Date:   Wed Oct 21 02:08:55 2015 -0700

    Fixed aa rate logging and others.
    Standardized packet handling var names for sending to QS.
    Fixed some syntax that drove me nuts showing as issues in my IDE. (nothing spectacular)
    Adjusted some code structure.
    Added a db update and migration tool for legacy compatibility that sets up QS tables in bootstrap.
    Added file for cmake for updater.
    Adjusted file name to correct date on aa cleanup sql.
    added required sql for merchantlog rule.

Author: Cavedude
Date:   Tue Oct 20 20:50:28 2015 -0700

    Shrink and Growth spells will now use the same caps for all races.
    
    Fixed an issue where certain spells would have their spell gem incorrectly made usable again following an interrupt.

Author: Haynar
Date:   Tue Oct 20 21:03:21 2015 -0600

    Fixed /assist on Eye of Zomm to work again.

Author: Torven
Date:   Tue Oct 20 03:20:40 2015 -0700

    Worn item effect fix (haste, regen)

Author: Torven
Date:   Mon Oct 19 23:45:57 2015 -0700

    Proc fixes, PC damage adjusted, focii fixes
    
    * Hate generated from melee swings will now increase or decrease when under the
      effects of a damage modifying discipline.
    * Extra hate from the weapon damage bonus is now applied to misses.
    * The player character damage multiplier algorithm has been made more accurate.
      Players below level 60 will now roll the multiplier less often, and the roll
      chance increases at levels 51, 56, and 60.
    * Improved damage, healing, and mana preservation focii will now do a random
      value from 1 to X instead of always X.
    * Weapon proc rates were previously far too high and have been adjusted to
      the precise scale.  Dexterity now influences proc rate to a greater degree.
    * Weapon proc and clicked item spell resists were erroneously not capping at
      400 hate and have been corrected.
    * Skill Proc related code removed.
    * SPA 200 and 250 related code removed. (GoD AA weapon affinity and the like)
    * Pet critical hit code removed. (GoD AA)
    * Defensive proc related code removed.
    * Ranged proc related code removed.

Author: Speedz
Date:   Mon Oct 19 22:57:08 2015 -0700

    Fixed a query.
    Reformatted the database.cpp for better reading.
    Added in some things to finish off aa rate tracking.
     The aa function in exp.cpp doesn't even seem to enter?
     So this doesn't work yet.

Author: Cavedude
Date:   Sat Oct 17 21:37:45 2015 -0700

    PickPocket will now stack items.
    
    Fixed an issue where PickPocket would erroneously display an inventory full message.
    
    Pickpocket will now check for a lore item conflict before the item is chosen.
    
    Corrected an issue with poison charges.
    
    Merchants will now properly handle items with 0 charges.
    
    Corrected an issue causing merchants to treat some charged items as normal items.
    
    Corrected an issue causing a specific group of lore items to be marked stackable by the server.
    
    Added support for artifact items in the code. (Allowing one artifact per character.)
    
    Fixed a bug causing some items to be erroneously equipped in a NPC's secondary equipment slot.
    
    NPCs will now favor weapons over shields or other items in their secondary slot if they have any available and meet the requirements necessary for dual wield.
    
    Items with a ranged slot will now appear equipped in-game on NPCs (Maestro's Evensong)
    
    NPCs will now unequip items that get replaced by a better item (eg. swapping out a sword for a shield.) The unequipped items will still remain in their inventory to be looted/stolen but do not count towards any bonuses.
    
    Added quantity type to #iteminfo

Author: Speedz
Date:   Sat Oct 17 17:47:54 2015 -0700

    Fixed git branch and hash reporting.
    Added a subdir under world for admin page files to sort that better.

Author: Cavedude
Date:   Sat Oct 17 09:32:58 2015 -0700

    Fix Linux build.

Author: Torven
Date:   Sat Oct 17 04:07:23 2015 -0700

    readded FaceTarget() for rooted NPCs

Author: Torven
Date:   Sat Oct 17 03:30:45 2015 -0700

    NPC gate, target facing, client max stat, green fleeing fix
    
    * New Methods: Mob::GetHeadingRadians(), Mob::IsFacingTarget().
    * NPC gate has been decoupled from the flee routines and is now casted by NPCs
      using the AI code if the NPC is 10% or lower health and the NPC is more than
      200 units away from its spawn point.  NOTE: NPCs will need the gate spell in
      their spell sets and set at a low priority for them to cast the spell.
    * NPCs will now face their target in melee range nearly instantly if the target
      moves instead of only facing targets when their melee round swings.
    * Client::GetMaxStat() and Client::GetMaxResist() have been fixed to return the
      correct values.
    * Atk debuffs will now work on NPCs again.
    * SE_NegateSpellEffect related code removed.
    * Logic error in GetFleeRatio() that made shallow green cons flee early has
      been fixed.
    * Deep green con flee threshold changed to 50%.
    * Minor correction in Client::GetOffense().

Author: Cavedude
Date:   Fri Oct 16 10:33:57 2015 -0700

    Added Mule account functionality. Setting mule to 1 in the account table will limit that account to only 3 characters, and each of those characters will not be allowed to gain xp.
    
    SQL is updated automagically.

Author: Haynar
Date:   Fri Oct 16 09:14:45 2015 -0600

    Client AI improvements so they will not warp all over while feared, in zones without pathing nodes.

Author: Cavedude
Date:   Thu Oct 15 21:42:29 2015 -0700

    Fixed an issue with the stamina timer.

Author: Cavedude
Date:   Thu Oct 15 09:55:28 2015 -0700

    Skills will now default to a success when checking a skillup.
    
    Changed skillup rules to reflect new defaults.
    
    Adjusted Swimming to account for the new success default.

Author: Haynar
Date:   Wed Oct 14 22:29:27 2015 -0600

    Pathing Fixes ... again.

Author: Cavedude
Date:   Wed Oct 14 08:09:13 2015 -0700

    Your horse's head will now properly display.

Author: Cavedude
Date:   Tue Oct 13 22:06:36 2015 -0700

    Added a second rule so we can better tweak skillups based on stat.

Author: Haynar
Date:   Tue Oct 13 16:38:33 2015 -0600

    Ground Item Fixes
    Ground items that are picked up, will no longer automagically reappear just by zoning out and back in.

Author: Cavedude
Date:   Tue Oct 13 14:30:00 2015 -0700

    Changing your resolution will no longer try to end trader mode if you are not in Bazaar.

Author: Cavedude
Date:   Tue Oct 13 12:53:12 2015 -0700

    Finished adding bind areas listed here: http://web.archive.org/web/20030210093227/http://www.eqatlas.com/bindguide.html
    
    Added bind info to #loc
    
    Optional SQL:
    update zone set canbind = 3 where short_name in ("northkarana", "fieldofbone", "firiona", "frontiermtns", "overthere", "kael", "iceclad");

Author: Haynar
Date:   Tue Oct 13 12:06:31 2015 -0600

    Pathing improvements

Author: Cavedude
Date:   Tue Oct 13 09:33:16 2015 -0700

    Lich type spells will no longer break invis.

Author: Haynar
Date:   Mon Oct 12 20:55:33 2015 -0600

    Fix for roaming mobs clearing hatelist when outside pursuit range.

Author: Torven
Date:   Mon Oct 12 17:01:16 2015 -0700

    added expansion check to NPC gate

Author: Torven
Date:   Mon Oct 12 16:28:41 2015 -0700

    NPC gate, flee fix, charm hate
    
    * Caster NPCs above level 30 will now try to cast the Gate spell when their
    HP rechages the flee threshold.
    * The NPC flee threshold code was incorrectly scaling the ratio based on the
    attacker's level relative to the NPC and has been fixed.  NPCs will now flee
    at the correct flee HP threhold (RuleI FleeHPRatio, currently 20%).  Yellow
    and Red con NPCs will flee later.  Deep green con NPCs will flee earlier.
    * Damaged summoning NPCs will no longer ignore entities on its hate list
    beyond the forget distance.
    * Charmed NPCs will now hate the charmer much more after the spell breaks.

Author: Cavedude
Date:   Mon Oct 12 16:25:16 2015 -0700

    The expansion column of zone is now loaded and zone->GetZoneExpansion() can be used to get the expansion value for the current zone.
    
    Players can no longer zone into an expansion they do not own. (The expansions column in account handles this, set to 15 to allow access to all content.)
    
    No SQL should be required, as zone already has a populated expansion column that we were not using from PEQ.

Author: Torven
Date:   Sun Oct 11 21:34:29 2015 -0700

    hotfix for percentile hit chance modifiers

Author: Torven
Date:   Sun Oct 11 19:37:54 2015 -0700

    flee fix and NPC gate code half done

Author: Haynar
Date:   Sun Oct 11 20:33:20 2015 -0600

    Corpse position updates to fix corpses being at wrong location.

Author: Haynar
Date:   Sun Oct 11 18:38:57 2015 -0600

    SpawnPacket fixes.  Missed a couple of paths that needed flag set for sent.

Author: Haynar
Date:   Sun Oct 11 15:35:36 2015 -0600

    Spawn Packet timing changes.
    Added delays to performing SPAWN events, until after the spawn packet is sent for NPCs.
    SPAWN emotes will now be sent after spawn packets are sent.
    Fixed random delay in starting spell casting for NPCs on spawn (this was added before, but didn't actually work).

Author: Cavedude
Date:   Sun Oct 11 13:06:16 2015 -0700

    We are now sending the various size fields in PlayerProfile and ZoneEntry.
    
    Cleaned up the #size command.
    
    Changed OP_ManaChange to use native code instead of being an encode. The spellbar should no longer flicker on stamina updates. It will continue to do so on mana updates, however.
    
    Fixed a constant redefine warning I missed. Thanks stairs for the heads up.

Author: Torven
Date:   Sun Oct 11 11:11:53 2015 -0700

    Made ranged attacking NPCs bow animate and shoot arrows

Author: Torven
Date:   Sun Oct 11 00:07:28 2015 -0700

    More discipline stuff; archery and throwing redone
    
    * The implementation for Fellstrike, Duelist, Innerflame, and Bestial Rage is
    now precise.  (assuming the spell data is correct)  Duelest backstab has been
    un-hardcoded.
    
    Attention: If you are not using the TAKP database and sourced
    2015_08_26_disc_spells.sql to get the discipline spells into your database, you
    will need to edit the following spells to get the correct behavior:
    
    Fellstrike, Duelist, Innerflame, and Bestial Rage need Spell Effect 185 value
    100 added as their second spell effect.
    Trueshot needs spell effect 185 changed to spell effect 301 and the value needs
    to be 100.
    
    * The Archery and Throwing routines have been edited to use the new damage and
    mitigation code and the avoidance order has been set correctly.
    
    * The old melee mitigation and avoidance code has been removed.

Author: Cavedude
Date:   Sat Oct 10 16:30:11 2015 -0700

    Merchants will now remember the number of charges an item has when it is first sold to them. Each item of the same type sold afterward will use the number of charges the first item had.
    
    Items will no longer change slots when additional items are sold to the merchant.
    
    All players using the merchant will now receive a merchant update when another player sells or buys temporary items.
    
    Items on a merchant will now display the proper number of charges when right clicked.
    
    Fixed a couple of issues that could lead to phantom items or desyncs while using a merchant.
    
    Required SQL is handled by world automagically.

Author: Torven
Date:   Fri Oct 9 23:30:41 2015 -0700

    Discipline fixes
    
    * Attackers swinging at sitting clients will now always hit.
    * Shielding and strikethrough code removed; AK apparently did not have them.
    * Hit chance disciplines fixed in my new avoidance method. (oops)
    * Defensive disc and Duelist backstab damage hardcoded for accuracy and are now precise.

Author: Cavedude
Date:   Fri Oct 9 20:23:23 2015 -0700

    Large races can now shrink twice.

Author: Cavedude
Date:   Fri Oct 9 12:05:08 2015 -0700

    Improved how weight is calculated server side. Implemented coin purses (server side - the client end was already working.)
    
    Weight will now be recalculated when coin is moved to and from the bank.
    
    Added IsEncumbered() to tell us when the server thinks the client is emcumbered.
    
    The bestz adjustment at zone-in will be skipped when a player is encumbered.
    
    Added some pet info and IsEncumbered to #showstats.
    
    Fixed a couple of minor issues with code in previous commits of mine.

Author: Torven
Date:   Thu Oct 8 21:37:17 2015 -0700

    DS fix.  Omens AA shielding resistance code partially removed

Author: Cavedude
Date:   Thu Oct 8 10:34:09 2015 -0700

    Added exceptions for hole and airplane when setting bestz on zone-in.

Author: Torven
Date:   Thu Oct 8 09:03:30 2015 -0700

    increased mitigation for NPCs 50+

Author: Haynar
Date:   Thu Oct 8 09:04:15 2015 -0600

    Removed clearing hate from roamer.  Misunderstood fix needed.

Author: Haynar
Date:   Thu Oct 8 08:57:52 2015 -0600

    FD fixes.

Author: Cavedude
Date:   Thu Oct 8 07:25:45 2015 -0700

    [GM commit only]
    /toogle on/off, #godemode on/off, and #hideme on/off will now save your ignore tell status to the database.

Author: Torven
Date:   Wed Oct 7 20:54:22 2015 -0700

    increased to-hit for NPCs 51 and above

Author: Torven
Date:   Wed Oct 7 20:39:12 2015 -0700

    disc duelist and defensive hardcoded for accuracy

Author: Cavedude
Date:   Wed Oct 7 19:51:25 2015 -0700

    Faction bonus spells will no longer create aggro.

Author: Haynar
Date:   Wed Oct 7 20:47:50 2015 -0600

    Fix for corpses not sending position updates.
    Fix for launches not moving right away after dropping grid.

Author: Cavedude
Date:   Wed Oct 7 13:40:11 2015 -0700

    [Hotfix] Commented out message board opcodes until the database zone crash it causes is worked out.

Author: Cavedude
Date:   Tue Oct 6 10:40:20 2015 -0700

    [GM only commit]
    
    /becomenpc will now disable tells to the target player. It will also automatically disable GM states that interfere with its functionality.
    
    GM command /toggle will now properly turn tells on or off.
    
    GMs will now be notified if they are ignoring tells when they first zone-in, provided their GM flag is up.
    
    Fixed an issue with #showstats showing bogus values for size and weight. Added TellsOff variable to the output.

Author: Cavedude
Date:   Sun Oct 4 18:32:29 2015 -0700

    Resolved conflict in command.cpp

Author: Torven
Date:   Sun Oct 4 17:32:14 2015 -0700

    fixed bug in mitigation function

Author: Torven
Date:   Sun Oct 4 14:33:43 2015 -0700

    removed tune.cpp from cmake file

Author: Torven
Date:   Sun Oct 4 13:47:55 2015 -0700

    Melee overhaul continued
    
    Special attack code altered so that avoidance checks are checked in DoSpecialAttackDamage() instead of outside of it.
    Rogue backstab code rewritten.  Client damage will be much more accurate.  Hate reduced.
    Rogue Assassinate proc chance reduced to dex/100. This is a complete guess.  Feedback on this appreciated.
    Ripostes now require a weapon or empty fist.
    tune.cpp and related code removed.
    Spell effect 193 and related code removed. (this was a phsyical attack spell effect implemented after PoP)
    Monk skill tiger claw attack message fixed.
    Rogue GoD AA Seized Opportunity AA code removed.
    Rogue GoD AA Triple Backstab AA code removed.
    ApplyMeleeDamageBonus() removed. (doesn't do what you think it does)
    Dex added to offense calculations for archery and throwing.
    AC for NPCs under level 45 are temporarily ignoring the database entries and using a crude algorithm to determine mitigation until the database gets updated.
    Fixed monk AC weight bonus/penalty calcs from previous commit.
    Several things fixed from previous commit.  Thanks to demonstar for pointing out a few.

Author: Cavedude
Date:   Sun Oct 4 11:50:12 2015 -0700

    Removed AA columns that we aren't using.
    
    Required SQL:
    utils/sql/git/required/2105_10_04_aa_cleanup.sql

Author: Haynar
Date:   Sun Oct 4 10:57:27 2015 -0600

    Pathing fixes.  Sabrina works now, but still rotates.

Author: Cavedude
Date:   Sat Oct 3 09:49:25 2015 -0700

    Added AIhail_timer->Start() back to DoQuestPause() for the benefit of stationary NPCs.

Author: Cavedude
Date:   Sat Oct 3 09:24:12 2015 -0700

    Moved AIhail_timer->Start() to NPC::PauseWandering which catches more cases.
    
    Defensive skills now are penalized when the stat is obtained for skillups.

Author: Haynar
Date:   Sat Oct 3 07:52:37 2015 -0600

    Improved turning response after hailing NPCs.

Author: Torven
Date:   Fri Oct 2 19:46:32 2015 -0700

    special attack damage calc fix

Author: Cavedude
Date:   Fri Oct 2 12:09:18 2015 -0700

    Changed Skills::SkillUpModifier rule to default at 0.5 as that gives us a lower bottom cap without affecting the upper cap.

Author: Cavedude
Date:   Fri Oct 2 11:41:15 2015 -0700

    Removed the rest of the tracking code, since the client handles it all for us.
    
    Discs will now give you a message when they fade.

Author: Torven
Date:   Fri Oct 2 08:06:04 2015 -0700

    Melee combat system overhaul - first draft
    
    * Precise formulae for player character offense, to-hit, mitigation and avoidance implemented.
    * Melee damage mitigation is now done with a new routine using a guassian bell curve returning a DI value of 1-20, imitating Live.
    * The player character damage multipler (i.e. 'melee tables') now use much more accurate calculations and caps.
    * The melee avoidance function has been completely rewritten to use curves that match Live data.
    * Avoidance AC checks are now after avoidance skill checks.  Riposte is now the first check.
    * Melee damage calculations are now only done if the hit lands on the target.
    * The minimum player character weapon hit is now round(weapon damage / 10) + DB instead of 1 + DB.
    * Low level NPCs and pets wielding weapons will now hit harder if the weapon damage * 2 is greater than the NPC's max hit.
    * The class and racial AC bonuses are now applied in mitigation calculations.
    * Agility bonuses are now applied in mitigation and avoidance calculations.
    * Riposte, Parry, Dodge, and Block rates are now precise. (at least precise relative to Live)
    * NPCs will now proc innate procs on special attacks. (kick bash etc)
    * NPCs above level 52 will now always resist fear spells.
    * Zero damage melee swings due to invulnerability now generate hate.
    * The shielding stat on equipment now reduces (minHit - di) damage instead of minHit damage.
    * Hitting a sitting client now rolls a guaranteed DI 20 instead of the absolute maximum hit. (in the case of a client attacker)
    * Sinister Strikes AA code removed. (GoD AA)
    * Slippery Attacks AA code removed. (Omens AA)
    * Pet avoidance bonus code removed.  (seems to be from a GoD AA; correct me if I'm wrong)
    * Finishing blows are now processed only on hits.
    
    As a result of these changes, NPCs will hit harder but miss more often.  Player melee damage has been reduced, but strength
    and atk will result in more noticable gains.  The very low level game SHOULD be easier-- cloth armor and skill gains should
    result in a noticale survivability improvement.
    
    This is a first draft of the melee code revamp and will be refined over time.  Feedback is appreciated.
    
    Note for developers: the ATK and AC values in the database are now more potent.  For the time being, database NPC AC values are
    divided by two before used in the calculations as the current values are far too high to use in Sony's formulae.

Author: Cavedude
Date:   Thu Oct 1 18:57:17 2015 -0700

    Somehow this file was missed in the last commit.

Author: Cavedude
Date:   Thu Oct 1 18:53:53 2015 -0700

    Re-worked skillups to reflect formulas posted by Shendare here: http://www.eqemulator.org/forums/showpost.php?p=243531&postcount=20
    
    This formula matches up with other sources, and is close to what we are currently using for tradeskills which came from eqtraders.
    
    All skills now have a difficulty rating between 1 and 15 (15 being the hardest) that determines how difficult they are to skillup.
    
    The above mentioned difficulty values are now stored in the skills_difficulty database table. This has the benefit of not only being able to change these skills on the fly, but we can now also set skills individually that in the old code were clumped together. (Weapon skills, Monk skills, spell skills, numchuku skills, bow hunting skills, computer hacking skills)
    
    Skills that can succeed or fail and can skillup on failure will now take their success into account for the calculation.
    
    Added command #skills. This can be used to view a player's current skill, their cap, and all the skills difficulties. It can also reload or change skill difficulties.
    
    Important note: The old values EQEmu used were pulled from thin air. So, we are basically starting over. Feedback will be necessary to get all the skills leveling at the proper rate.
    
    It is also important to note that tradeskill and language skillups are NOT affected by this change.
    
    Corrected the name of the TradeskillSkillUpModifier rule. (Not sure how this was even compiling.) Moved LangSkillUpModifier and SkillUpModifier to the Skills category so all are uniform.
    
    ------------
    
    Fixed the recourse on Greenmist and Soul Well.
    
    Required SQL: (Already run against TAK)
    utils/sql/git/required/2015_10_01_skill_difficulty.sql

Author: Speedz
Date:   Thu Oct 1 17:36:12 2015 -0700

    removed orphan code,
    apply poison fix didn't seem to merge right last go around....

Author: Cavedude
Date:   Thu Oct 1 10:26:39 2015 -0700

    Fixed faction being reset while using an illusion. (Thank you wharhogg for pointing out what was happening!)

Author: Speedz
Date:   Wed Sep 30 20:30:48 2015 -0700

    Adjusted fix in poison.
    A few more fixes in command.cpp

Author: Speedz
Date:   Wed Sep 30 19:17:10 2015 -0700

    mem fixes.

Author: Haynar
Date:   Wed Sep 30 20:11:07 2015 -0600

    Rotating updates

Author: Haynar
Date:   Wed Sep 30 19:49:48 2015 -0600

    Rotating updates.
    Mobs that rotate to flee, when snared to a stop, will face first node in their path, if the zone has pathing.

Author: Robregen
Date:   Wed Sep 30 09:01:07 2015 -0700

    Revert "add an equal sign to fixed loop for stats in bonuses.cpp"
    

Author: Speedz
Date:   Wed Sep 30 02:35:02 2015 -0700

    previous fix of app nullptr ineffective.
    Adjusted it to cover it correctly.

Author: Speedz
Date:   Tue Sep 29 22:30:14 2015 -0700

    nullptr checks and char conversions to std::string

Author: Robregen
Date:   Tue Sep 29 22:14:23 2015 -0700

    add an equal sign to fixed loop for stats in bonuses.cpp

Author: Speedz
Date:   Tue Sep 29 19:16:20 2015 -0700

    Fix array delete, window title handling.

Author: Speedz
Date:   Tue Sep 29 15:39:59 2015 -0700

    Forgot to remove unused pointer.

Author: Speedz
Date:   Tue Sep 29 14:57:18 2015 -0700

    Buffer over-run fix in loginserver banner.
    This should correct the huge slowdown in the client if you sit at server select for hours.

Author: Robregen
Date:   Tue Sep 29 14:50:59 2015 -0700

    removed some UNK fields in item_fields.h and include an optional item clean up query.

Author: Robregen
Date:   Tue Sep 29 12:34:19 2015 -0700

    forgot a missing query from last commit.

Author: Robregen
Date:   Tue Sep 29 12:31:30 2015 -0700

    moved drop / create table for launcher to optional folder.
    added a file to add colum to existing launcher_zones to required folder.

Author: Robregen
Date:   Tue Sep 29 12:13:44 2015 -0700

    removed the rest of corruption related code.

Author: Robregen
Date:   Tue Sep 29 11:54:34 2015 -0700

    removed the rest of the combat / regen item bonus.

Author: Robregen
Date:   Mon Sep 28 22:58:11 2015 -0700

    remove some extra combat item bonus stats.

Author: Robregen
Date:   Mon Sep 28 20:51:31 2015 -0700

    Remove favor, guildfavor, and elitematerial item bonus.

Author: Robregen
Date:   Mon Sep 28 20:10:40 2015 -0700

    remove LDoN / Aug related item bonus from code.

Author: Robregen
Date:   Mon Sep 28 18:19:12 2015 -0700

    removed loregroup related code.

Author: Speedz
Date:   Mon Sep 28 16:42:43 2015 -0700

    A few mem fixes
    Ones I didn't know how to handle I made comments detailing output of the scan.

Author: Robregen
Date:   Mon Sep 28 16:06:48 2015 -0700

    add an exception to lore item with asterick symbol being in the 2nd character.

Author: Robregen
Date:   Mon Sep 28 14:11:55 2015 -0700

    removed LoreFlag, PendingLoreFlag, ArtifactFlag, and SummonedFlag from code.

Author: Robregen
Date:   Mon Sep 28 11:32:07 2015 -0700

    remove DS item bonus stats.

Author: Haynar
Date:   Sun Sep 27 22:08:59 2015 -0600

    Added some mob rotations.
    Mobs that lose aggro, after reaching their guard point, will now rotate to their guard heading.
    Mobs fleeing, snared to a stop, will rotate to the their flee heading.
    Mobs rooted or snared to a stop, without aggro, will rotate to their desired heading.

Author: Haynar
Date:   Sun Sep 27 22:05:46 2015 -0600

    Memory leak fixes.

Author: Robregen
Date:   Sun Sep 27 20:31:30 2015 -0700

    removed AugDistiller, Attuneable, Potionbelt, and PotionbeltSlots Item bonus from code.

Author: Speedz
Date:   Sun Sep 27 17:20:05 2015 -0700

    Orphan code removal

Author: Speedz
Date:   Sun Sep 27 16:49:32 2015 -0700

    Tweaks on previous fixes per cavedude.

Author: Speedz
Date:   Sun Sep 27 15:58:01 2015 -0700

    A few mem fixes.

Author: Cavedude
Date:   Sun Sep 27 14:33:46 2015 -0700

    Lowered the timer world uses to save eqtime from an hour to 10 minutes.

Author: Cavedude
Date:   Sun Sep 27 13:31:49 2015 -0700

    web_interface will no longer build by default until it has been completed. Remember to update your start/stop scripts.

Author: Cavedude
Date:   Sun Sep 27 13:04:40 2015 -0700

    The Bind Sight line of spells can now be cast on all targets. (NPC, PC, and corpse)
    
    Fixed a crash caused by casting Bind Sight on a corpse.
    
    Summoned Pets will now despawn when its owner accepts a resurrection request.
    
    Lowered the #setapts cap to 170, as we were still getting an overflow.

Author: Cavedude
Date:   Sat Sep 26 17:03:29 2015 -0700

    Removed some remaining shared bank code.

Author: Cavedude
Date:   Sat Sep 26 15:17:45 2015 -0700

    Improved GetSkillStat() with data found online.

Author: Robregen
Date:   Sat Sep 26 14:52:54 2015 -0700

    remove HealAmt, DSMitigation, BackstabDmg, and Evolving Item bonus from code.

Author: Robregen
Date:   Sat Sep 26 13:42:10 2015 -0700

    removed spelldmg and ScriptFileID from code.

Author: Cavedude
Date:   Fri Sep 25 18:55:12 2015 -0700

    Jolt will now cap at 0 hate. (Thanks Torven for the heads up and data!)
    
    This reverts much of a263858eda3e5be2f87b4d851eaee040c0d79986

Author: Cavedude
Date:   Fri Sep 25 18:48:42 2015 -0700

    Loginserver console font now matches the other servers under Windows.

Author: Haynar
Date:   Fri Sep 25 17:50:53 2015 -0600

    Fleeing mobs snared to a stop will now face their flee direction.

Author: Haynar
Date:   Fri Sep 25 16:44:03 2015 -0600

    Position update fixes

Author: Cavedude
Date:   Fri Sep 25 11:53:10 2015 -0700

    Fixed a typo in Perl.

Author: Speedz
Date:   Fri Sep 25 11:14:01 2015 -0700

    Fixed variable error in script

Author: Robregen
Date:   Fri Sep 25 10:28:03 2015 -0700

    remove more item stats stuff that is not supported by the client.

Author: Cavedude
Date:   Fri Sep 25 10:00:58 2015 -0700

    NPCs that are not a playable race will now return to their proper texture after an illusion wears off.
    
    All entities will now return to their proper size after an illusion wears off.
    
    Corrected the issue causing Halflings and Half Elves to sometimes be the wrong size.
    
    Cleaned up the size code and condensed base heights to a single method, GetPlayerHeight()
    
    Shrink will now work while an illusion is active, and it should be less buggy in general.
    
    Fixed the Disintegrate message sent when the spell is cast on a NPC that is too high in level.

Author: Speedz
Date:   Fri Sep 25 03:15:22 2015 -0700

    Automated zone launching:
    
    Added a bool check to launch specific zones.
    Required sql files for this is included with all eqmac supported zones listed.
    By default it is set to enable the state TAKP was on beta launch, minus dynamics.
    
    Additional field added for informational use only zone era descriptor to ease server era setups.
    Also included the public linux server setup/launch script.
    Used with this script launching by era/zone name is pretty easy now.
    
    To use the script, you need to edit the top section only to match your system setup.

Author: Speedz
Date:   Thu Sep 24 18:15:57 2015 -0700

    Added more security options to salt.
    
    This would have been great to have been brought to the attention of the person who developed it in the proper channels instead of a public forum not related to this project.
    Security holes discussed by devs of any portion of this code outside the scope of private channels is pretty unethical.
    
    That being said, This defaults to creating a salt.ini based off of your initial login.ini.
    If you choose to use any other means, you can adjust precoded options by commenting and uncommenting defines in salt.cpp
    As well as create your own. This should be pretty straight forward, as long as
    std::string Saltme::Salt(std::string password)
    returns something, it will use it.
    
    Commenting all should return a usable "null" for those with dev machines.
    If not, make the adjustment and commit it.
    Cmake WILL need to be ran.

Author: Cavedude
Date:   Thu Sep 24 08:43:14 2015 -0700

    World will no longer try to save eqtime on shutdown or when it crashes.

Author: Cavedude
Date:   Thu Sep 24 07:58:08 2015 -0700

    Replaced BreakInvis() with CommonBreakInvis() as the first did not send the debuff packet.
    
    This fixes invis not wearing off when a trade is intiated.

Author: Secrets <Secrets>
Date:   Thu Sep 24 02:03:52 2015 -0400

    switch around cur target and new target in hp packet update on new target via tab

Author: Secrets <Secrets>
Date:   Thu Sep 24 01:51:43 2015 -0400

    fix for roamboxes being halted by runspeed changes

Author: Secrets <Secrets>
Date:   Thu Sep 24 01:12:44 2015 -0400

    hp update crash fix (observed on dev)

Author: Robregen
Date:   Wed Sep 23 17:55:38 2015 -0700

    fixed linux compile error.

Author: Haynar
Date:   Wed Sep 23 18:16:46 2015 -0600

    Mob position update fixes.

Author: Cavedude
Date:   Wed Sep 23 16:02:26 2015 -0700

    (Secrets) netcode fixes, SendEnterWorld is now sent correctly, chat server fixes.

Author: Cavedude
Date:   Wed Sep 23 13:45:48 2015 -0700

    Fixed the world server crash on character deletion that I caused.

Author: Cavedude
Date:   Wed Sep 23 08:40:54 2015 -0700

    Changed experience so the order at which multipliers are applied make more sense.
    
    All pets will now take most of the XP if a player does not damage the NPC at all. If a player does deal damage, then they will receive 100% of the XP (Assuming they aren't using a dire charm pet.)
    
    Dire Charm Pets will now take a percentage of XP if they do the majority of the damage.
    
    Added a group experience split weighted by player level.
    
    Green NPCs will now give XP to lower level players in a group assuming they meet the qualifications. (Make sure rule AlKabor:GreensGiveXPToGroup is true.)
    
    Commented much of the group exp split method. This will help to make sense of things later on when raids are rewritten.
    
    This commit will affect group XP gain. Solo gain will be the same.

Author: Haynar
Date:   Tue Sep 22 23:19:39 2015 -0600

    Position update fixes for stationary mobs.

Author: Cavedude
Date:   Tue Sep 22 21:02:23 2015 -0700

    Corrected an issue where NPCs were not handing lore items back they didn't need.

Author: Haynar
Date:   Tue Sep 22 21:37:00 2015 -0600

    Client position updates.
    Reduced ghosting and packet updates outside of zone clip plane.
    Targeting updates to help prevent clients target going bad.

Author: Cavedude
Date:   Tue Sep 22 07:41:34 2015 -0700

    All skills will now use stats to determine how quickly (or slowly, if they have low stats) a skill will skillup.
    
    I couldn't find a decent formula, so this is completely pulled from thin air. However, I did try to keep the reuslting chances to be in the realm of what they are now. Skills that are using the minimium variable (tracking, swimming) will not see any change from this commit.
    
    Added a second rule, Character:MasterSkillUpModifier which works the same as Character:SkillUpModifier but only works when the player's skill value is 100 or higher.

Author: Robregen
Date:   Sat Sep 19 20:32:32 2015 -0700

    removed SVCorruption item stats from code.

Author: Robregen
Date:   Sat Sep 19 19:45:31 2015 -0700

    remove Herioc and a few other item stats that isn't supported by the client.

Author: Cavedude
Date:   Sat Sep 19 13:14:24 2015 -0700

    Pick Pockets will no longer cause item desyncs. The item struct is sent as a part of the PickPocket packet, and there doesn't appear to be a limit as to which slot the item can go in.
    
    Pick Pockets will now automatically fail if you have an item on your cursor.
    
    Cleaned up the Pick Pockets logic a bit more.
    
    Hopefully corrected a crash caused by target going null.

Author: Robregen
Date:   Wed Sep 16 18:54:12 2015 -0700

    Re-adjust max personal faction based on live findings.
    correct a few spellings in features.h comments.

Author: Robregen
Date:   Wed Sep 16 13:01:33 2015 -0700

    increase the wolf size a bit and include the wolf elemental race to fix size.

Author: Cavedude
Date:   Wed Sep 16 11:46:26 2015 -0700

    Charm will now break as soon as the master dies.
    
    The charmed NPC will now be removed from the hatelist of all other NPCs when charm fades.
    
    NPCs that have faction and are on the same faction will no longer attack each other.
    
    Fixed the protected message for GMInvul to go to the spell target instead of the caster.

Author: Cavedude
Date:   Tue Sep 15 20:04:08 2015 -0700

    Increased the max faction cap to 2100, per findings from Rob.

Author: Cavedude
Date:   Tue Sep 15 19:58:14 2015 -0700

    GMs can now always be buffed with GMInvul up. They will now also receive the "you are protected" message when a spell is blocked due to GMInvul.

Author: Robregen
Date:   Tue Sep 15 14:51:31 2015 -0700

    remove swg conf from login_util directory.

Author: Speedz
Date:   Tue Sep 15 13:39:06 2015 -0700

    Removed swg code.

Author: Speedz
Date:   Mon Sep 14 10:49:58 2015 -0700

    Server list fix and Linux crash fix.

Author: Speedz
Date:   Mon Sep 14 08:45:29 2015 -0700

    Adjusted server registration read.
    Changed preferred default setting.
    Potential fix for servers dropping of server select.
    I left the old code in and commented incase it is not right.

Author: Speedz
Date:   Sun Sep 13 23:30:59 2015 -0700

    We can now display preferred servers.
    This is live or hot set able.

Author: Speedz
Date:   Sun Sep 13 10:59:57 2015 -0700

    Adjustments for Linux build.
    Server compiles and works fine under Windows.
    Under Linux it refuses to enter world server registration.

Author: Cavedude
Date:   Sun Sep 13 10:23:53 2015 -0700

    Invisible spells will now be broken on misses and resisted spells.
    
    Corrected the color and type of invisible messages when it begins to fade. Invis spells that do not last their full duration will no longer have a blinking icon.
    
    Disarm will no longer skillup when the NPC doesn't have a weapon that can be disarmed. Corrected the success message to only occur when the weapon actually drops.
    
    Feign Death will now fail if auto attack is on, and will be broken when a spell is resisted.

Author: Speedz
Date:   Sun Sep 13 07:58:37 2015 -0700

    Reverted a few warning fixes.
    Had issues pop up with Linux build.
    Will deal with warnings later on.

Author: Speedz
Date:   Sat Sep 12 13:08:31 2015 -0700

    More fixes to salt application.
    If you choose to use no salt, you need to empty the data field for in settings database after server does initial setup.
    Do not remove the salt entry. This can be done "hot" server does not need to reboot.
    
    Also fixed some warnings in compile and brought IP address reporting up to current standard.

Author: Speedz
Date:   Sat Sep 12 11:18:22 2015 -0700

    Changed salt to allow null per Rob's request.

Author: Cavedude
Date:   Fri Sep 11 10:11:53 2015 -0700

    Renamed zone_flags, inventory, faction_values, and timers to use the character prefix, to make them easier to identify.
    
    Changed the above tables plus character_buffs, and character_keyring to use the id column for character id so they are uniform with the rest of the tables.
    
    Removed some unnecessary columns from character_data and character_currency.
    
    Removed sharedbank, and dropped some additional tables that were not being used.
    
    Changed #setaapts to no longer require a category, the command will now properly give the amount of points specified, and lowered the max to 188 points to avoid an overflow.
    
    Required SQL: /utils/sql/git/required/2015_09_11_character_cleanup.sql

Author: Cavedude
Date:   Fri Sep 11 17:13:21 2015 -0700

    Fix for multiplier_min.

Author: Speedz
Date:   Fri Sep 11 02:14:00 2015 -0700

    Adjusted client error reporting to make more sense to user.
    Changed console color on some messages to yellow instead of blue for easier reading.
    
    Tested all account scenarios against Windows server and OSX client.
    I had no issues at all. Could use verification.
    Copy opcodes file from loginserver dir and reset any previous settings database table.

Author: Haynar
Date:   Wed Sep 9 21:17:47 2015 -0600

    Bug fixes.
    Fixed issues with zoning and checking account active.  This caused getting dumped to server select when zoning.

Author: Cavedude
Date:   Tue Sep 8 19:20:23 2015 -0700

    Fixed an issue I caused where the #logs help menu was always displaying.
    
    Changed more messages to use CC enum.

Author: Haynar
Date:   Tue Sep 8 09:01:58 2015 -0600

    Corrected SpawnPositionUpdate_Struct for position deltas (removed padding).
    Added calculations for converting incoming and outgoing delta's.
    IP Exemption checks changed to be against chars in zone or zoning.  This will make it friendlier if you crash getting to the character select screen.

Author: Haynar
Date:   Mon Sep 7 19:57:17 2015 -0600

    Updated numeric messages for world request response returns.

Author: Haynar
Date:   Mon Sep 7 19:11:14 2015 -0600

    Fixed an issue which would cause 3 position update packets in a row, when leaving a grid waypoint.

Author: Cavedude
Date:   Mon Sep 7 16:55:07 2015 -0700

    Added PTimers logsys category, and removed the DEBUG_PTIMERS define. SQL is handled by world.
    
    Heading will now be properly adjusted when using the portal in Paineel near the Shadowknight guild most of the time.
    
    Consolidated Harm Touch and Lay on Hands to both use one ptimer, instead of both having two. This should eliminate client/server syncing problems and also fix the Fervent Blessing and Touch of the Wicked AAs.
    
    Harm Touch and Lay in Hands will both have their timers reset on death.

Author: Cavedude
Date:   Sat Sep 5 17:17:15 2015 -0700

    NPCs on a roambox will now pause when hailed.
    
    Added a quest item limit when adding items to a NPC's lootable.

Author: Cavedude
Date:   Sat Sep 5 15:29:10 2015 -0700

    NPCs that do not have a quest, or don't have a trade event within their quest will now have their handins completely handled by the server code.
    
    The NPC:ReturnNonQuestItems rule will determine if those NPCs will return items, or add them to their inventory. The default setting of true hands these items back to the player.
    
    No drop items or any item that the NPC already has will be destroyed upon handing it in, if the handin is handled by the server code. If it is handled by Lua, then those items will be destroyed on the death of the NPC, before the item packets are created. Summoned pets are an exception to this, and can be given duplicate items. GM handins are completely exempt.
    
    We are now marking items handed to a pet in their inventory.
    
    Added #logs quiet which disables all gmsay logging until either the zone resets, or a log is manually enabled/all are reloaded.
    
    Exported CanTalk() to Lua, which allows Lua scripts to check if the NPC is a race that should be able to speak a language.

Author: Cavedude
Date:   Fri Sep 4 13:10:15 2015 -0700

    GM only commit:
    
    flymode and invulnerable will now persist over zoning.
    
    Appended gmspeed, flymode, and invulnerable to the hideme message GMs see when they first login.
    
    Added #godmode [on/off] command to turn on or off hideme, flymode, gmspeed, and invulnerable all in one shot.
    
    Database changes handled by world automagically.

Author: Speedz
Date:   Thu Sep 3 17:16:59 2015 -0700

    Added a few defaults for safety and compatibility.
    Added a bootstrap database update section.
    Fixed a confusing trace reporting.
    Fixed misleading syntax in a log entry.

Author: Torven
Date:   Thu Sep 3 15:52:19 2015 -0700

    removed recent Dragon Roar commit

Author: Cavedude
Date:   Thu Sep 3 12:59:18 2015 -0700

    Texture will now be counted towards faction while using an elemental illusion spell, and gender will be counted when using a wolf illusion spell.
    
    A quick example: Under the faction_list_mod table in the mod_name column, for elementals you would have an entry r75. If you want only earth elemental to be affected, you would change that entry to be r75m0. Fire would be r75m1, water would be r75m2, air r75m3, and all would be r75. For wolves, it would be r42m0 for normal wolves, r42m1 for scaled wolves, or r42 for all.
    
    No database change needed, this uses an existing column.

Author: Speedz
Date:   Thu Sep 3 04:45:55 2015 -0700

    Finished the refactor of the log system, database handling, and ini/settings handling.
    Tested on Windows build with PC login only so far.
    Needs to be tested on Windows server/OSX client,
    Linux server and both clients before it is ready for inclusion to dev branch.

Author: Cavedude
Date:   Wed Sep 2 07:52:53 2015 -0700

    Forgot to include changes to client_packet in previous commit.

Author: Cavedude
Date:   Wed Sep 2 07:26:14 2015 -0700

    Fixed an arrow item desync where the client and server disagree on the range check, and one allows the arrow to shoot while the other does not.
    
    Increased the archery range a bit, to better sync up with the client's range.

Author: Cavedude
Date:   Wed Sep 2 06:42:20 2015 -0700

    AE spells and songs will no longer generate the "did not take hold" messages when a non-attackable player is in range. The affected player will continue to receive the protected message, however.

Author: Cavedude
Date:   Tue Sep 1 17:48:05 2015 -0700

    Fixed a copy/paste error in the previous commit.

Author: Cavedude
Date:   Tue Sep 1 17:46:21 2015 -0700

    Added multiplier_min to loottable_entries which allows developers to force the multiplier to 100% for the specified number of rolls.

Author: Cavedude
Date:   Tue Sep 1 14:48:06 2015 -0700

    Players will now always receive a message when /consent fails or succeeds. (Both players will see the message on success.)
    
    /consent can be now be done on other characters on the same account.
    
    /consent now persists over zoning.
    
    /consent will remain active for 20-30 minutes after the consenting player logs off. This timer can be adjusted as needed. If the consented players are still in-game, they will receive a message when the consent is denied.
    
    New SQL table is automagically added by world.
    
    Made some minor tweaks to Pick Pocket that will help

Author: Cavedude
Date:   Sun Aug 30 22:52:35 2015 -0700

    Updated more messages to use CC enum.

Author: Cavedude
Date:   Sun Aug 30 20:04:57 2015 -0700

    MerchantCloseShop() will now send OP_ShopEndConfirm which closes the vendor window and prevents the clients from desyncing. This affects the lua method and command.
    
    Merchants will now also send OP_ShopEndConfirm to players they were interacting with when they begin to path. This also prevents a desync. (When a player moves, the window closes properly and it does not desync - the client must handle that case internally.)
    
    Pets will no longer send the non-melee message from damage shields to their masters.

Author: Torven
Date:   Sun Aug 30 09:34:50 2015 -0700

    Hardcoded spell Dragon Roar to have a 25% chance to always land

Author: Cavedude
Date:   Sun Aug 30 09:14:01 2015 -0700

    NPCs will no longer turn and face the player while trading or opening a vendor window. This fixes quest sneaking, and hopefully vendor sneaking as well.

Author: Cavedude
Date:   Sat Aug 29 17:22:23 2015 -0700

    Fixed many issues with Pick Pockets. Corrected the packet struct, so coin updates, success messages display properly, and there is no chance of desyncs.
    
    Changed the chance roll to be more uniform as pick pockets is leveled.
    
    Critical failures now use player skill as part of its roll.
    
    Improved the logic of how items and coin are chosen to steal. Many miscellaneous bugs were fixed.
    
    Reduced the Pick Pockets skillup rate a small amount.
    
    Adding some missing messages.
    
    ----------------------
    
    Looting your own corpse will no longer create "You have looted" messages.
    
    Increased the swimming skillup rate a good amount.

Author: Speedz
Date:   Sat Aug 29 05:27:30 2015 -0700

    Fixed the issue of not being able to log in after refactoring the database access.
    Commented out all SWG related code except I added in a opcode in common, will remove it as I migrate the LS out.
    Added a Login opcode that seems to match, and credited where I got the other codes from. Tho they seem to be meaningless so far.
    
    Current issue is still a query issue on a query exist check.
    Commented code that this relates to so initial builds will run.

Author: Cavedude
Date:   Fri Aug 28 21:42:30 2015 -0700

    Fixed the begging struct, which corrects desyncs, an always present fail message, and lack of coin updates. Also added some critical message and success messages as well as the possibility of getting more coin.
    
    Bind Wound will no longer have a chance to skillup on failure. The message telling yourself to stand still has also been removed.
    
    Changed some innate language skill levels to match data found on the forums.
    
    Corrected an item desync caused by the server and client disagreeing on which slot to delete small throwing items from.
    
    Speed buff spells (Sow) will no longer overwrite speed buff songs (Selo's) server side.

Author: Haynar
Date:   Fri Aug 28 17:29:37 2015 -0600

    Mob position update fix.

Author: Cavedude
Date:   Fri Aug 28 11:00:08 2015 -0700

    Jolt type spells will now cause aggro. This is accomplished by using a second hate variable that holds our actual hate value, while the normal hate value remains 1. Once the second hate value reaches 0, hate will again be added directly to the normal hate variable. This new variable is only active when a Jolt spell has been used. All other attacks will use the normal hate variable as always.
    
    Temporary bonuses to hate (due to proximity, health, sitting, etc) are still applied as normal.

Author: Haynar
Date:   Fri Aug 28 09:37:40 2015 -0600

    Mob Position update fixes.

Author: Cavedude
Date:   Thu Aug 27 20:52:15 2015 -0700

    Added rule Character:DisableAAs to disable AAs at the AAAction handle.

Author: Cavedude
Date:   Wed Aug 26 21:06:08 2015 -0700

    Finished the implementation of Disciplines I started in 0171eb93f261503cda350f73a1f8465b0e515231
    
    Discs are now treated as spells by the server code, but not the client. The server will use the effects in the spell data for each discipline. The animation, damage, and action packets are not sent when a discipline is cast, so the client is not aware that a spell has even been cast. It will use the normal discipline packet for the client side effects.
    
    This commit includes a required SQL that contains all of the discipline spell data. The data was pulled from the PEQ database, but most of the spells have been heavily altered so their functionality matches our era instead of how Live exists currently. Despite this, exact percentages and magic numbers from our time were really hard to come by, so in many cases they were guessed at. The data may need to be tweaked as it is play tested. With this new system, these tweaks and changes can be done in the database. There shouldn't be a need to change the server code.
    
    A new effect formula (150) was added to support the resitant discipline.
    
    The discbonuses code was removed, as it is no longer needed. Disciplines now use spellbonuses like normal spells do.
    
    Finished adding the discipline cast strings, and altered the framework to support the spell system as well as fix some bugs found along the way.
    
    The following changes came about while testing discs:
    
    Added missing resist bonuses for Beastlord and Monk.
    
    While adding the new formula, the existing spell formula handles were cleaned up. Ones our spells don't use were removed, and a few missing ones were added.
    
    Changed the order of the resists and stats in #showstats, so they match the order they appear in the client. Removed the heroic stats from there as well.
    
    If #showstats 1 is typed, a shorter version of stats will now display with only core stats listed. Using this on a NPC has the same output as #npcstats.
    
    Important note: Only the server uses the spell data in this commit. A new spells_us.txt file does NOT need to be generated and distributed to the players. The client is not aware of any of this data and does not need to be.
    
    Required SQL (already ran against TAK):
    utils/sql/git/required/2015_08_26_disc_spells.sql

Author: Speedz
Date:   Wed Aug 26 12:24:13 2015 -0700

    More garbage collection.
    Simplified trace and dumping packets.
    Commented out a few many includes that seemed to be not needed.

Author: Speedz
Date:   Tue Aug 25 20:35:17 2015 -0700

    Forgot the opcode file.

Author: Speedz
Date:   Tue Aug 25 19:55:08 2015 -0700

    More troubleshooting that went no where.
    Added in some swg junk for a distraction.
    None of that effects function of EQ.

Author: Speedz
Date:   Tue Aug 25 01:37:34 2015 -0700

    Fixed database connection.
    (have not tested changing connection params yet)
    
    Have issues with GetKey()
    Disabled UpdateSettings() until I can get in world and it runs fine with base setup.

Author: Robregen
Date:   Mon Aug 24 10:04:46 2015 -0700

    Fixed the ip limit check that was preventing players from logging in.

Author: Speedz
Date:   Sun Aug 23 21:52:16 2015 -0700

    Since the LS sql was being an ass. I am mirroring the way the core server handles sql.
    Much of the code is commented out for troubleshooting.
    Trying to set a db connection.
    It is important to be able to "change" db connections within the config for how this is handling old ini vs new ini and db setting storage.
    Currently stumped on the db connection setting.

Author: Cavedude
Date:   Sun Aug 23 09:30:19 2015 -0700

    We are now enforcing the 8 character per account limit when sending and creating characters.
    
    Added a handle for OP_TargetMouse while connecting, so we won't see an unhandled opcode error if the player tabs out of the windows while zoning.
    
    Fixed a typo in a method name.

Author: Speedz
Date:   Sat Aug 22 21:58:20 2015 -0700

    Now it pulls all settings that may exist on a login.ini file if exists.
    Then creates a db.ini as the only needed ini file and puts the found settings into a database table.
    The server then only reads from there for operational settings.
    Most if not all settings here can be changed while the server is live. No need for a reboot.
    
    Also added a setting for server select ticker, and population count display.
    These 2 do not exist on previous login.ini so I am trying to add a separate section to auto add.
    This is giving hassles (see comments in code)

Author: Haynar
Date:   Sat Aug 22 19:05:21 2015 -0600

    IP limits and Account limits integrated into loginserver/worldserver communication.
    Added messages to indicate when you have exceeded the IP limit, or you currently have a character in world, which would prevent logging in.
    Fixed some issues with ghosting mob positions associated with stun/unstun and fleeing slowly.

Author: Speedz
Date:   Thu Aug 20 19:09:34 2015 -0700

    no changes to parser, but it is now complaining....

Author: Speedz
Date:   Thu Aug 20 16:34:01 2015 -0700

    More sql bitching.
    Restructured the logic and such otherwise.

Author: Cavedude
Date:   Tue Aug 18 16:30:42 2015 -0700

    Changed trap flavor text to be white instead of red.

Author: Cavedude
Date:   Tue Aug 18 09:41:13 2015 -0700

    Traps overhaul. New functionality has been added, while preserving the old functionality. Numerous bug fixes occurred as well.
    
    Added column triggered_number. If this is set, then the trap will despawn after it has been triggered this number of times. If 0, the trap will never despawn on its own.
    
    Added group column. This allows developers to group traps together in a similar way as spawngroups for NPCs. When a trap that is grouped is despawned in anyway, a random trap in the group will take its place. Grouped traps do not have to be at the same coords or have the same type. This can allow for some spawning diversity if so required. If set to 0, the trap is not grouped and will always respawn.
    
    Added column despawn_when_triggered. If set to 1, then a trap will despawn when a player triggers it. If 0, then there will be a 5 second reset time and then the same trap will again be active. (Assuming triggered_number has not been reached.) The player that triggered the trap will not re-trigger it until they have left and re-enetered the trap's radius.
    
    Traps will no longer trigger on players that are currently zoning. This fixes some weirdness and at least one crash. The trap can trigger however after the connection is been completed. If a player camped out in a trap radius they can potentially still be hit.
    
    Alarm type traps were not using effectvalue2 to determine who should be aggroed. This is now fixed.
    
    Traps will no longer be broken by #repop, #depopzone, or #reloadworld. All 3 commands will now have the same effect on traps as they do for NPCs.
    
    Added command #reloadtraps. This reloads all of the traps in the zone.
    
    Added command #trapinfo. This gives some information about the traps currently spawned in the zone.
    
    Added Traps logsys category, the SQL for that is handled by world.
    
    Required SQL: (already ran against TAK database)
    utils/sql/git/required/2015_08_18_traps.sql

Author: Torven
Date:   Tue Aug 18 02:04:29 2015 -0700

    Fixed spell stacking issue that allowed some shaman spells to erroneously stack

Author: Speedz
Date:   Mon Aug 17 16:36:48 2015 -0700

    taking a break....unresolved externals

Author: Torven
Date:   Sun Aug 16 20:49:28 2015 -0700

    NPCs made to face new targets in melee range immediately

Author: Haynar
Date:   Sun Aug 16 12:30:35 2015 -0600

    Removed some extra parenthesis

Author: Haynar
Date:   Sun Aug 16 10:20:42 2015 -0600

    Updated initial loading of schema to db from ini file.

Author: Torven
Date:   Sun Aug 16 04:24:26 2015 -0700

    Fix for NPCs attacking after hate list wipes

Author: Robregen
Date:   Sat Aug 15 11:46:19 2015 -0700

    Revert "Revert "Added exemption check to max client per IP.""

Author: Haynar
Date:   Sat Aug 15 12:23:52 2015 -0600

    Fixed issue where stale ClientListEntry was clearing active accounts, allowing multiple characters logged in from same account.

Author: Robregen
Date:   Fri Aug 14 19:52:45 2015 -0700

    Revert "Added exemption check to max client per IP."
    

Author: Speedz
Date:   Wed Aug 12 23:38:35 2015 -0700

    Added exemption check to max client per IP.
    Added auto database update to facilitate this without the need to manually source sql.

Author: Cavedude
Date:   Wed Aug 12 14:58:37 2015 -0700

    Fixed an issue that caused DeleteQuestLoot to incorrectly delete all the quest items on a NPC's loottable.

Author: Haynar
Date:   Tue Aug 11 21:14:35 2015 -0600

    Pathing Improvements.
    Increased range of client and npc updates.
    Filtered some redundant client updates.

Author: Haynar
Date:   Sat Aug 8 22:21:34 2015 -0600

    Pathing fixes and improvements.
    When #path meshtest simple is run.  First disconnected node will be auto targeted.
    Running #path nearest all, first mob not finding a nearby node will be auto targeted.

Author: Cavedude
Date:   Sat Aug 8 11:35:23 2015 -0700

    Implemented quantity column on merchantlist. This allows developers to have limited quantity, but permanent items on a merchant's list. The merchant NPC will "restock" these items on a respawn (after being killed, #repop, spawn_condition, etc) or on a server/zone reset. Due to this, any zone that has a merchant that uses quantity must be static to work correctly.
    
    The new column is added by world automagically. The default setting of 0 effectively disables this and allows an unlimted supply for that particular item.
    
    Added #reloadmerchants command which reloads the merchant list of every NPC in the zone you're currently in.
    
    #reloadworld will now also reload merchant lists and NPC emotes server wide.
    
    Removed some unnecessary debug code.

Author: Cavedude
Date:   Fri Aug 7 08:52:21 2015 -0700

    Guild rank is now set in the player profile properly, allowing officers and leaders to use privileged commands.
    
    Just for developer reference, the appearance packets removed in this commit and 869b4a2552f66cd97dbb7436e099fdbb7e775ced should only be used when a player's status has changed. They are update packets.

Author: Cavedude
Date:   Thu Aug 6 09:09:04 2015 -0700

    Added logging type Boats. SQL is added automagically.
    
    Added code to help place you on the boat while zoning to firiona and timorous. Having the boat name in your player profile sends you to incorrect coords in these zones. This is a workaround until it can be figured out why this happens. Interestingly enough, overthere does not have this issue and the client will find the boat and place you on it like in all other boat zones.
    
    Moved a lot of the boat code to a single method, SendToBoat().
    
    Uncommented a log that will hopefully gives us more information when the server recieves an opcode it was not expecting during the connecting phase.
    
    Removed AA_NO_TARGET string as our client does not have it in its string file.

Author: Haynar
Date:   Wed Aug 5 22:14:31 2015 -0600

    Travis build fix

Author: Haynar
Date:   Wed Aug 5 21:33:39 2015 -0600

    Merged Dev Branch

Author: Haynar
Date:   Wed Aug 5 21:01:50 2015 -0600

    Added checks on loading paths to try and salvage bad paths.
    New path head version is 4.  P99 has a v3 path file, and this will allow converting theirs to the new v4 file too.
    Added #path optimize which converts loaded path file to v4.  This will cause pathing to use new system, without needing to save or restart the zone.
    Making changes to a path file, adding, moving, deleting nodes, will revert it back to v2, to not break the file.
    Using #path dump <filename> will automatically convert to v4.
    Added #path nearest [all] - the all is  new, and will allow checking all mobs in zone have a searchable path node nearby.
    Added #path shownodes [number] - this allows spawning path nodes, starting at the number.
    Spawned path nodes will now show their numbers in their name, when the node number has 4 digits (i.e. 1000 or greater).

Author: Torven
Date:   Tue Aug 4 15:50:50 2015 -0700

    fix for all-outside-melee-range hate bonus being applied incorrectly

Author: Speedz
Date:   Mon Aug 3 23:23:41 2015 -0700

    Split the set values out to a new function. Still same issue.
    mysql is complaining about:
    
    Mysql Error: Commands out of sync; you can't run this command now.

Author: Speedz
Date:   Mon Aug 3 19:40:35 2015 -0700

    Removed commented code as tests passed on their replacement.
    Added in function to set settings in database.
    This is causing some headache, query works in navicat, not in code....

Author: Speedz
Date:   Sun Aug 2 01:39:09 2015 -0700

    Finally got past the SQL hurdle.

Author: Cavedude
Date:   Sat Aug 1 19:29:18 2015 -0700

    Got saylinks working, but we are using the 0-1000 itemid range since beyond int16 the client overflows. The system works the same as on EQEmu. The code added in client_packet.cpp was just copied and pasted from EQEmu and adjusted for our needs.

Author: Cavedude
Date:   Sat Aug 1 10:34:52 2015 -0700

    Added ignore_distance column to npc_types, so the distance at which a mob will ignore aggro can be set per NPC.
    
    Altered #aggrozone so it can now be told to enforce the ignore_distance column.
    Running just #aggrozone by itself will work as it does now (aggro the whole zone.) But typing #aggrozone 1 1 for example (first 1 is hate, second is the new parameter) will only aggro NPCs that are within their ignore distance. NPCs can be changed on the fly, #repopped, and then #aggrozone run again to help tweak their ignore range if need be. Using MySEQ helps a lot with this.
    
    Added ignore_distance to #showstats.
    
    Required SQL (already run against TAK database):
    utils/sql/git/required/2015_08_01_npc_ignore_dist.sql

Author: Cavedude
Date:   Sat Aug 1 10:02:26 2015 -0700

    Corrected an issue where AA timer code was duplicated during the logsys merge.

Author: Cavedude
Date:   Sat Aug 1 10:01:19 2015 -0700

    Changed the status of some logging messages to make debugging a bit easier.

Author: Cavedude
Date:   Fri Jul 31 08:39:52 2015 -0700

    Partially reverted my change in 29d225b13b098e9dcd56f344b3206fd6be74925b that incorrectly affected other focus effects. Instead, made the correction in spells_new.
    
    SQL (Already ran against TAK database): update spells_new set effect_base_value3 = 5 where effect_base_value3 = 6 and id in (2360, 2361, 2362, 3534);
    
    Lucy has this change made by Sony on 12/18/2003. However, our client seems to be hardcoded to already be using the lower min duration value. Changing spells_new is required so the server data matches what the client is doing.

Author: Torven
Date:   Wed Jul 29 13:28:11 2015 -0700

    possible hate system crash fix

Author: Cavedude
Date:   Tue Jul 28 16:26:30 2015 -0700

    Added strike through message back.

Author: Cavedude
Date:   Tue Jul 28 12:57:12 2015 -0700

    Rain spells will now hit a maxiumium of 4 targets over the course of the spell, not including the client caster.
    
    Cleaned up rain spell code a bit, renamed some variables.
    
    Changed NPC resists to rain spells to match info provided by Torven on the forums.
    
    Removed some strings our client doesn't have.

Author: Speedz
Date:   Mon Jul 27 22:42:34 2015 -0700

    Changed back to the old parsing but kept it stripped down.
    This is so it can have the old clean way of reading values.
    While also allowing commented lines.
    
    Side effect, all values in the ini are now changeable live.
    Also need to figure out why mysql is being oblivious to a table existing.

Author: Cavedude
Date:   Mon Jul 27 15:47:08 2015 -0700

    Added exceptions in CalcFocusEffect to allow the Affliction Haste line to work based on the client's internal checks.
    
    Cleaned up spell logging a bit so it's easier to read.

Author: Cavedude
Date:   Mon Jul 27 11:24:32 2015 -0700

    Re-added server side keyring code to work with /key command. Made some tweaks to /key as well.
    
    Required SQL:
    utils/sql/git/required/2015_07_27_keyring.sql

Author: Cavedude
Date:   Sun Jul 26 18:10:06 2015 -0700

    Some more faction tweaks.

Author: Cavedude
Date:   Sun Jul 26 14:27:40 2015 -0700

    Leaders and officers of guilds will no longer be notified of their status when logging in/zoning.

Author: Cavedude
Date:   Sun Jul 26 13:31:57 2015 -0700

    Final faction merge fixes.

Author: Paul Coene
Date:   Sun Feb 1 16:14:05 2015 -0500

    Remove incorrect use of before_hit

Author: Paul Coene
Date:   Sun Feb 1 15:02:14 2015 -0500

    Faction update
    
    Conflicts:
            zone/client.cpp
            zone/client.h

Author: Cavedude
Date:   Sun Jul 26 11:59:06 2015 -0700

    Merge cleanup.

Author: Paul Coene
Date:   Sun Feb 1 09:31:07 2015 -0500

    Fix issues with faction where chars were not allowed to earn faction to
    offset starting faction values.
    
    Conflicts:
            zone/client.cpp
            zone/client.h

Author: Paul Coene
Date:   Sun Jan 25 09:55:41 2015 -0500

    Report repair as well as change from Update Personal Faction.

Author: Cavedude
Date:   Sun Jul 26 11:52:00 2015 -0700

    Merge cleanup.

Author: Paul Coene
Date:   Sun Jan 25 09:46:00 2015 -0500

    Repair faction messaging code.
    
    The messages were being based on total faction rather than personal faction.
    The personal faction range is all that is needed to detremine which message.
    
    There were several bugs as well.  Fixed several edge conditions
    
    Conflicts:
            zone/client.cpp
            zone/client.h

Author: Cavedude
Date:   Sun Jul 26 10:44:40 2015 -0700

    Cleaned up the end of CompleteConnect() by moving some code to their own methods.

Author: Cavedude
Date:   Sat Jul 25 23:11:30 2015 -0700

    Players will no longer receive worn off spell messages for spells their pets' cast.
    
    Worn off spell messages will no longer occur when refreshing spells.
    
    Bard speed movement song buffs will no longer overwrite speed movement spell buffs server side.
    
    Detrimental spells will now properly block beneficial spells of the same effect server side.

Author: Speedz
Date:   Sat Jul 25 13:59:40 2015 -0700

    Removed primary key in new table since that would break compatibility for any additional client support.

Author: Cavedude
Date:   Sat Jul 25 13:05:57 2015 -0700

    Move LogServer to native code.

Author: KLS
Date:   Wed Jul 22 17:42:57 2015 -0700

    Fix for localaddress overwriting address

Author: KLS
Date:   Thu Jul 16 15:07:59 2015 -0700

    More NAT fixes, please work

Author: KLS
Date:   Thu Jul 16 14:35:20 2015 -0700

    Fix for not having address/localaddress set from not localhost

Author: KLS
Date:   Thu Jul 16 01:51:10 2015 -0700

    Added two other commands to let you do shared reloading on your own without the hotfix command.  Also changed how world determines a zone's address

Author: Speedz
Date:   Sat Jul 25 11:52:52 2015 -0700

    Got further with the sql fails.
    Still an issue with entering the insert even when data exists.

Author: KLS
Date:   Tue Jun 23 22:04:48 2015 -0700

    Polishing shared memory hotfix code

Author: KLS
Date:   Tue Jun 23 17:39:06 2015 -0700

    Initial work on shared memory hotfixes

Author: Cavedude
Date:   Fri Jul 24 23:16:07 2015 -0700

    Bumped MAX_PERSONAL_FACTION up to 2200, so players can get to ally when starting at -1000.

Author: Cavedude
Date:   Fri Jul 24 21:34:28 2015 -0700

    We are now filling out the item fields in the player profile struct before sending it.

Author: Cavedude
Date:   Fri Jul 24 21:28:22 2015 -0700

    Cleaned up StripBuffsOnLowHP logic.

Author: Cavedude
Date:   Fri Jul 24 09:12:26 2015 -0700

    Pets will no longer seek out things to aggro, unless the target is a NPC and npc_aggro is set in npc_types for the pet.

Author: Torven
Date:   Thu Jul 23 06:31:37 2015 -0700

    clickables hate capped; bard cap applied to all spells

Author: Torven
Date:   Wed Jul 22 09:22:13 2015 -0700

    minor logic error in bard song hate

Author: Torven
Date:   Wed Jul 22 08:13:53 2015 -0700

    Ever more hate system modifications
    
    Atk debuffs now do 10 hate instead of scaling hate.
    Scaling hate effects now stack hate with each other.
    Bard song hate capped at 40 only on NPCs level 20 or higher.
    Buffs now do 9 hate; bard song buffs 2 hate.
    Beneficial bard song pulses (not to be confused with ticks) will now aggro NPCs.
    Hatelist::GetHateBonus() reworked a bit.
    Hatelist::GetEntHate() fixed to apply first-in-range +35 hate bonus correctly.
    Mob::GetHateMost() now has bool argument includeBonus.
    NPC::GetNPCHate() now has bool argument includeBonus.
    Static guarding NPCs will now forget very distant players after returning to their spawn points.
    Taunt will now work on NPCs attacking low health targets.
    Taunt no longer adds +1 hate.
    Taunt now ignores temporary hate bonuses.

Author: Torven
Date:   Mon Jul 20 21:40:54 2015 -0700

    More hate system additions
    
    The rule 'MaxStunProcAggro' has been removed, and instead all procs with a non-damaging detrimental spell effect now have the hate from that effect capped at 400.
    AIYellForHelp() will now work on engaged NPCs.
    Hate mods from items, spells and AAs will now work on detrimental spells.
    The heal hate cap is now based on the target instead of the caster.
    AddHealAggro() cleaned up and the aggro reduction from mez and stun fixed.
    Witness hate fails are now 50%, up from 15%.
    Animal NPCs will now only hate a player by 1 point for the first act done to them.
    The 10 minute aggro timer implemented.
    A new hate bonus was added in the event no hate list entity is in melee range of the NPC, which scales by distance.
    The maximum chase distance of 600 has been implemented.  NPCs will ignore players outside this range, but not forget them.
    NPCs aggroed via #aggrozone made to ignore the chase distance limit.
    GetMostHate() and GetEntHate() now have the option of including hate bonuses. (true by default)

Author: Cavedude
Date:   Sun Jul 19 11:39:12 2015 -0700

    Characters level 30 or over will now be hidden to the player on their character select list instead of actually being deleted when a player chooses to delete the character. Required SQL is handled by world automagically.
    
    The is_deleted column in character_data is what hides the toon. Apps such as Magelo will need to be updated to handle this column, otherwise players will see their "hidden" characters.
    
    Added #undeletechar command so GMs can restore these toons in-game.

Author: Haynar
Date:   Sat Jul 18 20:03:42 2015 -0600

    Fixed crashes in DetermineSpellTargets

Author: Cavedude
Date:   Sat Jul 18 12:29:05 2015 -0700

    Travis again.

Author: Cavedude
Date:   Sat Jul 18 12:25:36 2015 -0700

    Changes to Travis config.

Author: Cavedude
Date:   Sat Jul 18 12:17:02 2015 -0700

    Fixed an issue where a NPC pet was aggroing while its owner has a reduced aggro range.

Author: Cavedude
Date:   Sat Jul 18 09:09:41 2015 -0700

    Perl will no longer build by default in cmake. If you still need Perl, just change the option when cmake is run.

Author: Haynar
Date:   Wed Jul 15 21:04:54 2015 -0600

    Fixed an error in last pathing commit

Author: Cavedude
Date:   Wed Jul 15 16:04:06 2015 -0700

    Corrected a memory leak in SendGuildList().
    
    Removed an orphaned EQEmu method.

Author: Haynar
Date:   Wed Jul 15 17:01:06 2015 -0600

    Pathing Optimizations
    Added option to #path shownodes [around].  This will only show nodes around you at a range of 200.  Useful when there are very large numbers of nodes in a zone.
    When loading paths, the distances between neighbors will be recalculated.  Previous path code did not update distances, when nodes were moved.  So these could be off.
    Distances between nodes will be pre-calculated when paths are loaded.  These distances will be used to weight the nodes when calculating pathing.
    Improved update path logic, to first try and cull a node on the tail, if target has moved closer, rather than recalculate entire path by default.

Author: Cavedude
Date:   Wed Jul 15 10:46:38 2015 -0700

    Re-worked yell for help changes.

Author: Torven
Date:   Mon Jul 13 03:18:59 2015 -0700

    to make travis happy

Author: Torven
Date:   Mon Jul 13 02:44:12 2015 -0700

    Greater hate mechanics precision
    
    The standard spell hate generated from spells is now precise.
    The hate bonuses applied for being in melee range, being the first in
    melee range, sitting, and being low health are now either precise or
    extremely accurate.
    Getting on a proximity aggro NPC's hate list by being in melee range will
    now add 20 hate.

Author: Cavedude
Date:   Sun Jul 12 12:20:46 2015 -0700

    Invalid focus components in the spell data will now be ignored. This fixes spells like Emissary of Thule which has a focus item that nobody seems to have a record of.

Author: Cavedude
Date:   Sun Jul 12 09:16:10 2015 -0700

    Implemented an assist aggro cap to prevent a single NPC from calling too many NPCs to assist at once. Added rule Combat:NPCAssistCap to change that cap.
    
    A NPC's assist cap limit is on a timer, and will decrease every time the timer hits.
    
    Added rule AlKabor:AllowTickSplit. When disabled it causes the assist cap limit to be cleared when a NPC loses aggro. (defaults to false, but should be set to true for era correct behavior.)
    
    NPCs that are answering another NPC's call for help will no longer ask for help until they have been attacked.
    
    Added a new NPC specialattack 43 that allows the NPC to always yell for help if able, ignoring the cap and combat rules.
    
    Pets will now only answer calls for help from their master.
    
    Added an "attacked" option to #listnpcs to display a list of NPCs currently in combat (have been attacked and have a hate list).
    
    Changed the default NPC loot equip_slot to 22, which is general inventory.

Author: Haynar
Date:   Sat Jul 11 23:43:08 2015 -0600

    Added some checks in packet decoding for bad packets.
    Culling of path nodes at back of route, will no longer force a path update every time the destination changes.
    During AI yell for help, NPCs that already have the target on their hate list will be skipped during checks.

Author: KLS
Date:   Sat Jul 11 13:28:09 2015 -0700

    Fix for launcher not actually sending static ports when set in the db

Author: Haynar
Date:   Sat Jul 11 15:43:40 2015 -0600

    The server select screen will now show LOCKED servers.
    The server select screen will show servers with no zones up as DOWN.

Author: Haynar
Date:   Fri Jul 10 21:51:48 2015 -0600

    Fix for potential crashes in Mob::AvoidDamage due to uninitialized variable being used.
    This was also preventing NPCs from getting their skill for block, parry, and dodge applied their chance to perform.

Author: Haynar
Date:   Fri Jul 10 18:53:59 2015 -0600

    #aggrozone command can now be used on a target
    Fixed a crash in Mob::AvoidDamage with block skill

Author: Haynar
Date:   Fri Jul 10 14:38:42 2015 -0600

    Bags on a corpse containing lore items you already possess, will no longer be lootable.

Author: Haynar
Date:   Fri Jul 10 13:48:11 2015 -0600

    Mob position update improvements to reduce lag/disconnects.
    When a mob starts to flee, they will no show that they are fleeing immediately, rather than warping to first update.
    When a mob is snared, they will immediately show their speed change.

Author: Cavedude
Date:   Fri Jul 10 10:13:21 2015 -0700

    NPCs will now assign an equip_slot to pieces of armor that do not have a visual texture.

Author: Cavedude
Date:   Tue Jul 7 21:52:09 2015 -0700

    Crash prevention in the spell fade message code.

Author: Cavedude
Date:   Tue Jul 7 21:46:43 2015 -0700

    Summoned pets will now always send their owner a message when a spell on them fades.

Author: Robregen
Date:   Sun Jul 5 16:03:28 2015 -0700

    Update README.md

Author: Robregen
Date:   Sun Jul 5 15:58:10 2015 -0700

    Update README.md

Author: Speedz
Date:   Sun Jul 5 01:00:20 2015 -0700

    Moved things around a bit as thing in main.cpp
    No idea why create query is failing, committed to get more eyes on it again.

Author: Speedz
Date:   Sat Jul 4 19:40:46 2015 -0700

    Working on the sql parts of the settings.
    ** This build will build, but does not work. **
    Only committed to get a hand on figuring it out.

Author: Torven
Date:   Sat Jul 4 14:25:03 2015 -0700

    More Hate List Stuff
    
    Pet melee hate is now equal to one half the maximum damage hit per swing, changed from the maximum damage per hit.
    Level 90+ monk damage table removed.
    HateList::SetOwner() now calculates hate bonuses and stores them in private member variables.
    New protected method: HateList::GetHateBonus() - Calculates the hate bonus for the passed tHateEntry.
    HateList::PrintToClient() now displays hate bonuses.
    The doubling of the melee range hate bonus for proximity aggro flagged NPCs has been removed.

Author: Speedz
Date:   Fri Jul 3 05:24:10 2015 -0700

    * Fix for linux compile error on last commit.
    * Added ini file backing up, db.ini creation, and login.ini auto conversion to what this code wants.

Author: Speedz
Date:   Thu Jul 2 22:16:00 2015 -0700

    * Added more trace debugging and better descriptions on a couple in LS.
    * Fixed bug from last commit.

Author: Torven
Date:   Thu Jul 2 20:55:20 2015 -0700

    Spell knockback made to use my push function

Author: Speedz
Date:   Thu Jul 2 19:15:46 2015 -0700

    * Renamed Login OPCodes to be more understandable.

Author: Speedz
Date:   Thu Jul 2 18:51:19 2015 -0700

    * Combined PC and OSX login functions to condense code a bit,
     maybe make it easier to understand.

Author: Robregen
Date:   Thu Jul 2 14:29:39 2015 -0700

    Revert "Revert "* Removed the old style of option loading in favor of a more simplified method.""
    

Author: Robregen
Date:   Thu Jul 2 12:56:40 2015 -0700

    Revert "Revert "NPCs will start updating positions quicker when they start moving from a pause.  This will help prevent ghost mobs being in false locations due to previous movement.""
    

Author: Cavedude
Date:   Thu Jul 2 12:00:25 2015 -0700

    Fixed the crash on corpse saving.

Author: Torven
Date:   Wed Jul 1 23:52:55 2015 -0700

    witness hate aggroing pets fix

Author: Robregen
Date:   Wed Jul 1 13:50:25 2015 -0700

    Revert "NPCs will start updating positions quicker when they start moving from a pause.  This will help prevent ghost mobs being in false locations due to previous movement."
    

Author: Cavedude
Date:   Wed Jul 1 12:05:38 2015 -0700

    Player pets should no longer give XP to players in a duel.
    
    Possibly fixed a spell related crash seen this week.

Author: Torven
Date:   Tue Jun 30 19:00:11 2015 -0700

    beneficial spells on pets no longer aggro; hate system fixes

Author: Torven
Date:   Tue Jun 30 14:48:06 2015 -0700

    fixed bug where witness hate wasn't applied if not aggro

Author: Torven
Date:   Tue Jun 30 13:15:34 2015 -0700

    Hate System Revamp part 2
    
    The following rules were removed: SittingAggroMod, MeleeRangeAggroMod,
    CurrentTargetAggroMod, CriticallyWoundedAggroMod, SongAggroMod
    Reasons why: Multipliers (i.e. percentiles) added to hate values make no sense.
    Multipliers will either increase the hate value a trivial amount if the value
    is small, or a far too large amount if the value is large.  Adding a bonus
    makes more sense and his how Sony does it.  Furthermore, this commit rewrote
    the method to behave much like Sony's code.
    
    HateList::GetTop() has been heavily modified.  Hate Bonuses for melee range
    aggro, low heath aggro, and sit aggro were added to approximate EQLive.  The
    code was also cleaned up a bit.
    
    Mob::CheckAggroAmount() has a new argument: target.  Non-damaging offensive
    hate now scales with target level.  Most offensive spells now do the same
    amount of hate relative to each other.  Spells with multiple aggroing effects
    (such as bard Largo songs, or Flash of Light) will now only add the hate for
    one effect to prevent these spells from aggroing far too much. (it will still
    add with stat debuffs and dmg) Roots and stat debuffs now do 10 hate per debuff
    effect.  Offensive non-damaging bard song hate now capped at 40.  All of this
    based on EQLive data.
    
    Mob::CheckHealAggroAmount() was altered in the following ways: Heal aggro is
    now 2/3rds the amount healed, not counting healing from focii, AAs, or crits.
    Heal aggro is capped at 800 for 1-50 level players, and 1500 for 51+ level
    players.  Heal over time spells now do 10 hate.
    
    EntityList::AddHealAggro() was altered in the following ways: Witnessed hate
    is no longer divided up bewteen all the NPCs that see the cast.
    First-to-aggro witness hate is no longer multiplied by 0.33.  Mezzed NPCs will
    now witness hate, but at 1/4th the value.  Stunned mobs will now witness hate.
    NPCs now have a 15% chance to fail a witness hate check. (15% is a wild
    guess/estimate for now)
    
    Ripostes will now add hate.

Author: Robregen
Date:   Mon Jun 29 22:44:51 2015 -0700

    Revert "Finished removal of postgresql"

Author: Robregen
Date:   Mon Jun 29 22:18:30 2015 -0700

    Revert "* Removed the old style of option loading in favor of a more simplified method."
    
    This particular commit was put in loginserver in case someone want to work on it.  It currently broken for OSX login.

Author: Speedz
Date:   Mon Jun 29 18:41:30 2015 -0700

    nothing special, just a fix to last commit per Travis.

Author: Speedz
Date:   Mon Jun 29 18:08:35 2015 -0700

    * Removed the old style of option loading in favor of a more simplified method.
     - Now to add a ini option you just need to add it with a strict layout of space = space in between.
     - Also this method is safe to have a commented option and not have it read just as before.
     - You can't have an option with a similar start of the name but shorter higher in the ini.
     Example: can't have an option named foo and then later down the file one named foobar, foobar won't get read.
    Please adjust this if you have the knowhow.
    
    Special note:
    you MUST rename this option,
    [Old]
    port = 6000
    to
    [Old]
    clientport = 6000
    
    * Spelling, syntax adjustments throughout, as well as renaming a function to better pinpoint it's usage.
    * This is step 3 of the revamp to moving ini to the database.
     - It isn't moved there yet as of this commit, but these adjustments make it far easier to accomplish.

Author: Speedz
Date:   Sat Jun 27 17:56:27 2015 -0700

    * Redid how we write and handle sql in the loginserver.
     - This is step two of the overhaul of sql and options.
    * Discovered a debug assertion that existed prior to this overhaul.
     - Included some notes and commented debug items for this issue to be worked on later.

Author: Cavedude
Date:   Sat Jun 27 14:21:09 2015 -0700

    Added lua methods to support multiquest. The bulk of the implementation is done in lua.
    
    Updated #npcstats/#npcloot show to display if the item in the NPC's loottable is a quest item or not. Also cleaned up the appearance some.
    
    Updated #npcloot add to allow a GM/admin to add an item to the loottable with a quest flag.
    
    Added a new rule NPC:IgnoreQuestLoot. When true, NPCs will not drop quest items handed to them. Defaults to false.
    
    Just a note to clarify: This commit does not break any existing quests. The use of this code in Lua is optional.

Author: Haynar
Date:   Sat Jun 27 14:05:08 2015 -0600

    Fixed a bug where the server list sometimes doesn't show.
    Server option of showusercount will now work, when set to a value other than zero.  They number of users was being sent in wrong location of struct before.
    Server user count now updates based in being in zone, rather than just at char select screen.
    Sending a tell to a corpse with /ttell will now relay it to their owner.

Author: Cavedude
Date:   Fri Jun 26 13:55:04 2015 -0700

    Items queued on the cursor will now appear properly after zoning.

Author: Speedz
Date:   Thu Jun 25 14:52:56 2015 -0700

    Finished removal of postgresql
    Consolidated mysql into database header and source.

Author: Cavedude
Date:   Thu Jun 25 11:56:11 2015 -0700

    Added support for soulbound items (items that are not stripped off the player on death.)
    
    Fixed #peekinv cursor
    
    Reverted the change to cursor queue as our client is hardcoded to handle those items for us, and we cannot override.
    
    Required SQL:
    utils/sql/git/required/2015_06_25_soulbound.sql
    
    This will add the column, and set GM flagged items and the Kunark keys to be soulbound. The rest can be handled by content developers.

Author: Cavedude
Date:   Wed Jun 24 13:08:18 2015 -0700

    Changed cursor queue to use a constant instead of meaningless numbers.
    
    SwapItem will now send item packets for queued cursor items, so the client is aware of them. This should hopefully correct some deysncs we've seen when dealing with queued items.

Author: Haynar
Date:   Tue Jun 23 21:24:53 2015 -0600

    NPCs will start updating positions quicker when they start moving from a pause.  This will help prevent ghost mobs being in false locations due to previous movement.

Author: Torven
Date:   Tue Jun 23 19:30:30 2015 -0700

    heal aggro changes

Author: Torven
Date:   Tue Jun 23 10:45:32 2015 -0700

    Some spell effect aggro changes
    
     - Hate from spells with AC and Atk debuffs will now scale with caster level. (flame lick will aggro now)
     - Root and snare aggro increased.
     - All spells with disease and poison counters will now aggro more. (i.e. disease cloud, slows)
     - Dispels now do 1 hate.
     - Malo* spell aggro reduced.

Author: Speedz
Date:   Tue Jun 23 01:29:55 2015 -0700

    * Removed unused and unmaintained Postgresql from loginserver.
    * Fixed formatting on a few files.
    * Added in various ignore warnings to clean up the building and build a touch faster.

Author: Cavedude
Date:   Mon Jun 22 23:15:11 2015 -0700

    Reverted both HP/Mana/Endurance commits. Added a cap to the client max calculation for all three to prevent overflows.
    
    Revert "Forgot a missing mana variable in 9d29d8fac7372f01a9ef59ff158c14a8bf2adc44"
    

Author: Cavedude
Date:   Sat Jun 20 19:30:28 2015 -0700

    Boats will no longer be effected by z coord adjustments at any time.

Author: Cavedude
Date:   Sat Jun 20 13:58:34 2015 -0700

    BuffFadeAll Lua method no longer requires an argument.
    
    Added an argument to BuffFadeAll that skips rez effects. If set to true, rez effects will not be stripped.
    
    Fixed #boatinfo to display the proper waypoint number.

Author: Cavedude
Date:   Sat Jun 20 12:46:40 2015 -0700

    Forgot a missing mana variable in 9d29d8fac7372f01a9ef59ff158c14a8bf2adc44

Author: Cavedude
Date:   Sat Jun 20 12:44:47 2015 -0700

    Expanded #wpinfo to display roambox info and waypoint numbers will now match the DB/lua methods.
    
    BestZ check when a player first zones will no longer occur in boat zones. (It caused issues with the Kunark boat)

Author: Cavedude
Date:   Sat Jun 20 11:49:01 2015 -0700

    Fishing will no longer be considered a tradeskill in terms of GM training and can now be trained up to the client level cap.

Author: Cavedude
Date:   Sat Jun 20 11:47:59 2015 -0700

    Changed boat to be 32 characters long, and BoatNPCID to an int32 to support Kunark boats.

Author: Cavedude
Date:   Sat Jun 20 11:46:20 2015 -0700

    Finsished the implementation of fatigue, which our client uses in its PP.
    
    Cleaned up the stamina code some, remvoing redundant or useless code.

Author: Cavedude
Date:   Sat Jun 20 11:39:39 2015 -0700

    Changed HP, Mana, and Endurance to use int16 instead of int32 to prevent clients crashing or incorrectly dying.

Author: Cavedude
Date:   Sat Jun 20 11:24:48 2015 -0700

    More Message enum changes that I forgot to include in the previous commit.

Author: Cavedude
Date:   Sat Jun 20 11:19:02 2015 -0700

    Added #boatinfo command to give some details about the boats currently spawned in the zone.
    
    #wpinfo will now display a message and return if the NPC is not on a grid, instead of attempting to iterate through the (nonexistent) waypoints.
    
    Cleaned up many Message calls to use CC_Default enum instead of 0 for chat type.

Author: Haynar
Date:   Wed Jun 17 20:09:17 2015 -0600

    Using /q while FD, will now always clear aggro.

Author: Haynar
Date:   Fri Jun 12 15:23:05 2015 -0600

    Changed disconnect process for camping, so it no longer shows a message that you were disconnected.

Author: Cavedude
Date:   Fri Jun 12 12:05:35 2015 -0700

    Fixed a typo in database_updates. In logsys_categories "Disc" should be "Discs." You may have to manually update your database.
    
    Some code support for Kunark boats.

Author: Cavedude
Date:   Thu Jun 11 14:13:41 2015 -0700

    Disciplines:
    
    Removed most of the old code, as it was spell based for EQEmu.
    
    Implemented the basic framework, including packet communication, and reuse/ability timers for all discs.
    
    Implemented the effects for sanctification, resistant, and fearless discs. The rest will need to be done one at a time. However, most are already implemented by EQEmu. They just need to be converted from the spell data to hardcoded data.
    
    Added disc logsys category (SQL handled by world)
    
    -----
    
    Added CR and DR bonuses to Barbarian that the client is already handling for us. The calculation does not match the client exactly at all levels, but it is closer than what it was with no server side bonus.
    
    Added new column to npc_types, chesttexture. It and the columns Robregen loaded recently will now be sent in the spawn struct. This fixes a few NPCs that I've seen with incorrect armor appearance.
    
    Added a few stats to #showstats
    
    Required SQL (Already run against TAK database):
    utils\sql\git\required\2015_06_11_npc_texture.sql

Author: Robregen
Date:   Wed Jun 10 14:41:21 2015 -0700

    Added in NPC texture code (arm, leg, wrist, feet, hand)

Author: Haynar
Date:   Tue Jun 9 22:06:21 2015 -0600

    Fixed a bug where the universal chat server address would not be updated when logging in.
    Reduced timeout for when client crashes, after which the LD timer starts.
    Going LD without aggro will not be as severe.
    Camping normally will take you to the server select screen again.

Author: Robregen
Date:   Sun Jun 7 22:20:17 2015 -0700

    fixed some compiling errors.

Author: Mackal
Date:   Fri Jun 5 19:07:01 2015 -0400

    Add 64-bit ntoh/hton functions for Linux
    
    BSD macros aren't tested, but should work. These should already
    be defined on Windows.

Author: Russel Kinasz
Date:   Fri Jun 5 12:57:53 2015 -0700

    Lua_Encounter doesn't need to expose constructor

Author: Russel Kinasz
Date:   Fri Jun 5 12:32:58 2015 -0700

    Update to encounter timers so they can actually work from hooked events

Author: Russel Kinasz
Date:   Fri Jun 5 12:23:42 2015 -0700

    Update to encounter timers so they can actually work from hooked events

Author: Russel Kinasz
Date:   Tue Jun 2 17:17:40 2015 -0700

    Updated zone cmakelists.txt

Author: Russel Kinasz
Date:   Tue Jun 2 16:32:42 2015 -0700

    Add encounters header to lua_general.cpp

Author: Russel Kinasz
Date:   Tue Jun 2 15:27:57 2015 -0700

    Removed unnecessary commented code.

Author: Russel Kinasz
Date:   Tue Jun 2 15:21:27 2015 -0700

    Fix for extra_pointers in Encounter methods

Author: Russel Kinasz
Date:   Tue Jun 2 12:25:09 2015 -0700

    Implemented encounter timers - no spawn required

Author: Kinglykrab
Date:   Mon Jun 1 22:20:41 2015 -0400

    Added GetGlobal() support for all Mobs.
    - Uses memory (no database hits)
    - Allows entity-based quest global checks

Author: Cavedude
Date:   Sun Jun 7 11:31:10 2015 -0700

    We're now sending inv_refnum to the client, which allows Apply Poison to work. Todo: Create an item serial system instead of using the slot.
    
    Having any item in your primary slot will now prevent an instrument from being looted. Previously, we were only checking for weapons.
    
    Fixed a zone crash I added in a recent commit :I

Author: Cavedude
Date:   Sat Jun 6 12:07:42 2015 -0700

    Iron Bound Tome will now proc Cancel Magic on the wearer, instead of the target.

Author: Cavedude
Date:   Sat Jun 6 10:56:08 2015 -0700

    Updated flagging system to handle the /key command.

Author: Cavedude
Date:   Fri Jun 5 16:10:33 2015 -0700

    Added a focus item check to RequiresComponents, fixing Flame Lick and pet focus spells.

Author: Robregen
Date:   Fri Jun 5 15:20:15 2015 -0700

    exclude the spell haste message code since that is already generated by the client.
    change the message for reagent cost in spell.cpp

Author: Robregen
Date:   Fri Jun 5 11:29:42 2015 -0700

    Added focus messages (credit to Demonstar from eqemu)

Author: Cavedude
Date:   Tue Jun 2 09:15:46 2015 -0700

    Forgot SQL for zone change.

Author: Cavedude
Date:   Tue Jun 2 08:59:33 2015 -0700

    Added some missing newzone columns related to music. (SQL already added to TAK database and populated using AK newzone packets.)
    
    Added inventory logging when Bards loot any combination of primary weapons and secondary instruments.
    
    Fixed an issue where small ranged items were not auto looting into the ammo slot if available.

Author: Robregen
Date:   Sun May 31 20:45:58 2015 -0700

    Added a column to NPC_Type for an exemption on certain NPC to aggro under level 18 such as bixie drone.
    
    Required SQL (already sourced on TAK):
    ALTER TABLE `npc_types` ADD `aggro_pc` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0' AFTER `combat_mana_regen`;

Author: Robregen
Date:   Sun May 31 11:34:01 2015 -0700

    Add a rule to aggro if level 18+ and undead. Setting this to true will disable Rule:IntAggroThreshold.

Author: Robregen
Date:   Sun May 24 15:49:54 2015 -0700

    removed leadership exp toggle from PP.   removed some extra unneeded semicolons.

Author: Cavedude
Date:   Sun May 24 14:57:46 2015 -0700

    Possible spell crash fix.

Author: Cavedude
Date:   Sat May 23 10:16:45 2015 -0700

    Removed some barter code.
    
    Changed the DeleteItemInInventory method to be less redundant.

Author: Cavedude
Date:   Thu May 21 10:51:15 2015 -0700

    More Bazaar cleanup and comments.
    
    Added auto-query for bazaar logsys category.
    
    Implemented OP_TradeRefused. Remember to copy the new conf over.

Author: Haynar
Date:   Wed May 20 22:08:30 2015 -0600

    Fixed wild buff behavior when zoning.

Author: Cavedude
Date:   Wed May 20 10:18:19 2015 -0700

    Compile fix.

Author: Cavedude
Date:   Tue May 19 18:54:09 2015 -0700

    Fixed a problem with the Bazaar search packet that was causing some prices to not show up properly.
    
    Identified a case where the server side item list and client side item list can go out of sync for Bazaar. (Moving items around in the trade satchel without closing the trader window.) If no duplicate items are affected, the server will resync. If they are, closing the trader window and re-opening will fix it.
    
    Added a Bazaar logsys category.
    
    Cleaned up the Bazaar code some.

Author: Haynar
Date:   Sun May 17 14:10:12 2015 -0600

    Bard songs will now store the instrument mod when a song begins or is pulsed.  The stored instrument mod will persist when the song is stopped.

Author: Cavedude
Date:   Sun May 17 11:28:07 2015 -0700

    Clicky items with a cast time will now require and use regeants if the spell calls for them. Clicky items with an instant cast time will not.
    
    The spell code now treats clicky items with a -1 casttime as instant. (Thanks Robregen for confirming this is correct based on our data.)

Author: Haynar
Date:   Sun May 17 11:44:49 2015 -0600

    Moved simple push on clients from spells, like Force of Ykesha to the action packet.  This prevents clients from warping backwards when they land.

Author: Cavedude
Date:   Sat May 16 22:16:06 2015 -0700

    Items dropped to the ground will no longer recharge when picked back up.

Author: Cavedude
Date:   Sat May 16 20:18:57 2015 -0700

    Removed unknowns from internal player profile to lower memory footprint per toon.

Author: Cavedude
Date:   Sat May 16 17:50:44 2015 -0700

    Linux compile fix.

Author: Cavedude
Date:   Sat May 16 17:45:11 2015 -0700

    /played will now show the correct amount of time played. (Unfortunately, there is no way to retroactively correct characters. I suggest setting the field to 0 for everybody and starting over.)
    
    Corpses are now aware if their owner is online or not.
    
    Rez timer will now only tick while the corpse's owner is online.
    
    Cleaned up the Resurrection process some.
    
    Added a new corpse logsys category (world should handle the query automagically.)
    
    Removed show_helm as our client does not support it.
    
    Added a new rule World:BootHour. This allows server admins to specify the EQ hour the server will boot to. Valid options are 1-24. Setting this rule to 0 (default) disables it and world will use whatever time is specified in the DB.
    
    EQTime will now save to the DB once every real world hour.
    
    Fixed an issue where logging a command or hacker entry that has an apostrophe in either the player or target name would cause the query to fail.
    
    Cleaned up the #weather command.
    
    Implemented zone change count.
    
    Corrected an issue where the git version query was failing on Windows. (Default directory is now C:\EQEmu\Source - future todo add that as an option to our ini.)
    
    Required SQL:
    alter table character_corpses add column `rez_time` int(11) not null default 0 AFTER `time_of_death`;
    alter table character_corpses_backup add column `rez_time` int(11) not null default 0 AFTER `time_of_death`;
    
    Suggested SQL:
    UPDATE character_data set time_played = 0;

Author: Robregen
Date:   Wed May 13 14:51:54 2015 -0700

    Reverts 2HPiercing since the Client don't seem to support it.

Author: Robregen
Date:   Wed May 13 14:01:00 2015 -0700

    more updated for 2hPiercing.

Author: Robregen
Date:   Wed May 13 13:54:03 2015 -0700

    forgot to add a missing case for 2HPiercing.

Author: Robregen
Date:   Wed May 13 13:48:50 2015 -0700

    Added a missing 2HPiercing to skill.h and attack.cpp

Author: Robregen
Date:   Tue May 12 14:34:23 2015 -0700

    Unrevert the reverts.

Author: Cavedude
Date:   Mon May 11 10:13:24 2015 -0700

    Added missing SQL updates file. This contains all of my recent content updates. (If you use the TAK DB, these updates are already a part of that.)

Author: Cavedude
Date:   Sun May 10 08:56:44 2015 -0700

    Fixed Group logging (thanks for spotting that, Haynar)

Author: Robregen
Date:   Thu May 7 19:37:26 2015 -0700

    fixed compiling error.

Author: Robregen
Date:   Thu May 7 19:24:34 2015 -0700

    Revert "Removed SoF+ rest timer feature from code."

Author: Robregen
Date:   Thu May 7 13:42:58 2015 -0700

    Revert PP related and Loginserver commits.

Author: Cavedude
Date:   Thu May 7 09:56:24 2015 -0700

    Removed the remains of the rest_timer.
    
    Added rest regen rates to the regen calc in #showstats.
    
    Removed the camerashake command.

Author: Cavedude
Date:   Thu May 7 09:56:24 2015 -0700

    Removed the remains of the rest_timer.
    
    Added rest regen rates to the regen calc in #showstats.
    
    Removed the camerashake command.

Author: Cavedude
Date:   Wed May 6 09:48:19 2015 -0700

    Removed some debug code for mBitFlags.

Author: Cavedude
Date:   Wed May 6 08:53:17 2015 -0700

    Moved the gmsay limit to the proper place (Thanks Akkadius for the heads up)

Author: Cavedude
Date:   Tue May 5 13:17:45 2015 -0700

    Added two new columns to spawn2 to facilitate manipulating spawn timers when world boots.
    
    If clear_timer_onboot is 1, world will delete the spawn timer for that spawnpoint, forcing the NPC to spawn when the zone boots.
    
    boot_respawntime sets the spawnpoint's timer to the specified time + variance at boot time, replacing any existing timer. The NPC will also use this timer even if it has no active timer and is supposed to spawn.
    
    World:AdjustRespawnTimes rule added to allow admins to skip the above behavior in certain cases - for example an emergency restart.
    
    Fixed an issue with weather not stopping caused by my last cleanup.
    
    Required SQL (already sourced on TAK):
    alter table spawn2 add column `boot_respawntime` int(11) not null default 0;
    alter table spawn2 add column `clear_timer_onboot` tinyint(3) not null default 0;

Author: Torven
Date:   Tue May 5 09:27:34 2015 -0700

    changed unknown11 to force in melee push additions

Author: Torven
Date:   Tue May 5 08:29:30 2015 -0700

    Melee Push Complete

Author: Robregen
Date:   Mon May 4 21:19:16 2015 -0700

    Vendors should no longer assist regardless of faction.

Author: Cavedude
Date:   Sun May 3 21:35:36 2015 -0700

    Setting the follow distance to 0 in the follow quest method will now force the NPC to always follow at a walking pace. (They will run when they gain aggro, but will return to a walk once they lose aggro.)

Author: Robregen
Date:   Sun May 3 18:05:00 2015 -0700

    Monk wearing magical gloves can hit creatures that need a magical weapon when fighting hand to hand. (credit to noudess)

Author: Robregen
Date:   Sat May 2 21:23:34 2015 -0700

    Remove PvP extras from Player Profile that the client doesn't support.  more unneeded loginserver code remove.

Author: Haynar
Date:   Sat May 2 21:05:02 2015 -0600

    Added a buffer outside range of max clip for targeting.  The client allows targeting just outside of the clip plane, if a mob was right where you clicked.  This will prevent the target from becoming invalid, and causing you to have to re-target the mob to attack.
    Removed the delta for pet following that was in last patch.  It did not work very well anyways.
    If you FD while on the rampage list, you will no longer get hit.  The rampage will go on to the next person in rampage order.  The FD person will not be removed from the list, so if they get back up, stand by to continue to take rampage.
    If a mob is casting a spell, they will not process a flee check until finished casting.  This prevents some abnormal behavior, if that spell was a heal on them, and would have put them above the point to flee.  Now they will stand and fight, so interrupt that healing spell.

Author: Cavedude
Date:   Sat May 2 12:44:45 2015 -0700

    Fixed /makeleader from previous group cleanup.

Author: Robregen
Date:   Sat May 2 11:47:54 2015 -0700

    fixed linux compile

Author: Robregen
Date:   Sat May 2 11:24:25 2015 -0700

    combined similar group structs and changed the name in group.cpp, raid.cpp, and zonedb.cpp.

Author: Robregen
Date:   Sat May 2 11:00:28 2015 -0700

    removed some unneeded loginserver codes.

Author: Cavedude
Date:   Sat May 2 09:49:10 2015 -0700

    Alliance line of spells will act more like a beneficial spell now.

Author: Cavedude
Date:   Fri May 1 10:30:25 2015 -0700

    Cleaned up a ton of structs, opcodes, and code we weren't using.
    
    Reduced CharCreate struct a bit, since most of the fields are void. Tested and confirmed it was working.

Author: Cavedude
Date:   Thu Apr 30 10:44:17 2015 -0700

    Removed keyring support.
    
    Handled packet /key sends, this functionality does not yet work. Remember to copy the new .conf over.
    
    Recommended SQL (already run against TAK DB):
    DROP TABLE `keyring`;
    ALTER TABLE `doors` DROP COLUMN `nokeyring`;
    ALTER TABLE `doors` DROP COLUMN `is_ldon_door`;
    ALTER TABLE `doors` DROP COLUMN `buffer`;

Author: Robregen
Date:   Thu Apr 30 09:17:34 2015 -0700

    remove some missed auto-consent codes.

Author: Robregen
Date:   Thu Apr 30 08:42:44 2015 -0700

    remove group auto-consent feature

Author: Robregen
Date:   Thu Apr 30 08:34:13 2015 -0700

    remove guild and raid autoconsent feature not supported for our client.

Author: Robregen
Date:   Wed Apr 29 18:34:40 2015 -0700

    Removed SoF+ rest timer feature from code.

Author: Haynar
Date:   Wed Apr 29 14:56:02 2015 -0600

    Pets will now walk faster, while following players.

Author: Robregen
Date:   Wed Apr 29 09:02:47 2015 -0700

    remove the extra semi-colon from previous commit.

Author: Haynar
Date:   Tue Apr 28 20:58:20 2015 -0600

    Stationary ground spawns will now visibly spawn for client is in the zone.  You will no longer have to rezone, for them to appear.

Author: Cavedude
Date:   Tue Apr 28 11:08:53 2015 -0700

    Added altkeyitem column to doors, to allow for a second key.
    
    Required SQL: (Already run on TAK DB)
    alter table `doors` add column `altkeyitem` int(11) not null default 0 AFTER `keyitem`;

Author: Cavedude
Date:   Tue Apr 28 08:10:30 2015 -0700

    Added mintime and maxtime to spawnentry. This will prevent a NPC from spawning outside of the times specified. NPCs spawned in this way will then behave like normal NPCs. They will not despawn on their own, unlike spawn_events/spawn_conditions. NPCs using this that are alone in their spawngroup will attempt to spawn after their respawn timer has expired if the time of day is outside their range. Otherwise, another NPC in the spawngroup will be chosen to spawn. The normal rules (chance, spawn_limit) still apply to these NPCs, this is just another rule added to the system.
    
    mintime and maxtime both represent the in-game EQ Hour. Valid values are 1-24. If either or both of the values are 0, then the NPC will not have any time restriction.
    
    Required SQL (already run against TAK DB):
    alter table spawnentry add column `mintime` smallint(4) not null default 0;
    alter table spawnentry add column `maxtime` smallint(4) not null default 0;

Author: Robregen
Date:   Mon Apr 27 13:38:55 2015 -0700

    Allow /pet attack by mob name to work (credit by demonstar at eqemu)
    
    ex. /pet attack a_snake

Author: Robregen
Date:   Sun Apr 26 21:23:19 2015 -0700

    fixed for item with charges in QuestReward function.

Author: Robregen
Date:   Sun Apr 26 13:41:38 2015 -0700

    clean-up code from leftovers.

Author: Robregen
Date:   Sun Apr 26 11:57:09 2015 -0700

    removed LeadershipAA and roles from code.

Author: Robregen
Date:   Sun Apr 26 10:29:38 2015 -0700

    removed RaidLeadershipAA

Author: Robregen
Date:   Sun Apr 26 10:20:26 2015 -0700

    removed group/raid AA exp/points from code.

Author: Haynar
Date:   Sat Apr 25 22:16:28 2015 -0600

    Moved z_offset to be precalculated when size is set/changed.
    Added z_offset to diff z checks for when z needs adjusted during pathing/moving.  Mobs that are larger size, can be off more, and need adjusted.
    Moved pets to walk at their owners walk speed, to make their movement while following smoother.
    Pets will now have slightly different distances to when they start to follow their owners and when they catch up.  That way pets are not starting/stopping so much and sending more position update packets.
    Pets at a distance will now send their position updates out to everyone less frequently.
    When x and y are calculated in a roam box, the z will use the bestz at that location, rather than GetZ().  This helps prevent mobs on the move from bouncing up and down as often.

Author: Cavedude
Date:   Sat Apr 25 14:19:07 2015 -0700

    Added new Group logsys category. SQL will be run by world automagically.
    
    Cleaned up some invalid log calls (they were using two detail levels, instead of a a detail level and a category.)
    
    Corrected some typos in comments.

Author: JJ
Date:   Thu Apr 23 18:42:17 2015 -0400

    Blocked spell negation fix.

Author: JJ
Date:   Sat Apr 25 11:46:43 2015 -0400

    Don't garble # commands.

Author: Uleat
Date:   Wed Apr 22 12:29:35 2015 -0400

    Probable fix for 'Debug Assertion Failure' in Client::GarbleMessage()

Author: JJ
Date:   Mon Apr 20 19:48:52 2015 -0400

    Don't delete packet when it is still referenced. Create a new packet instead for deconfliction.

Author: JJ
Date:   Tue Apr 7 19:57:36 2015 -0400

    Adjust to safe_delete packets.

Author: JJ
Date:   Tue Apr 7 10:22:47 2015 -0400

    Attempt to catch rare crash in zoneserver process. See http://www.eqemulator.org/forums/showthread.php?t=39549

Author: Cavedude
Date:   Fri Apr 24 19:13:25 2015 -0700

    The group level range should be a bit more sane now.
    
    Players will no longer see the "Godzilla" debug message, as that bug is confirmed to be long fixed.

Author: Torven
Date:   Tue Apr 21 21:40:41 2015 -0700

    allow 0 mana 'nuke' AI spells with debuff/dot to always cast

Author: Torven
Date:   Tue Apr 21 21:37:48 2015 -0700

    melee push part 1

Author: Robregen
Date:   Tue Apr 21 17:15:29 2015 -0700

    forgot to remove the common food list.

Author: Robregen
Date:   Tue Apr 21 17:13:48 2015 -0700

    for RuleB(Character, ForageNeedFoodorDrink).  only Roots will be foraged instead of any of the common foods.

Author: Robregen
Date:   Tue Apr 21 10:23:40 2015 -0700

    add a conditional check in case need food/drink rule was enabled.

Author: Robregen
Date:   Mon Apr 20 10:04:47 2015 -0700

    change logging from error to general when forage from db since it's not an error but rather informational.

Author: Robregen
Date:   Sun Apr 19 14:16:51 2015 -0700

    change the logic to forage if succussful.

Author: Robregen
Date:   Sun Apr 19 12:44:58 2015 -0700

    add boolean rule for forage need water/food and common food/water.  Both are set to false as default.

Author: Torven
Date:   Fri Apr 17 03:27:37 2015 -0700

    NPC special attack modifications, dual wield chance calculations, no magic weapon disarms
    
    - NPC monks will no longer be granted innate dual wield without being specifically flagged.
    - Flurries now do a main hand and offhand attack round instead of just two mainhand swings, and trigger the special ability timer.
    - Rampage now does a full main hand and offhand attack round, instead of merely one attack swing, and trigger the special ability timer.
    - Rampage now hits the rampage tank from any distance instead of being limited by combat range.
    - Area (Wild) Rampage now does a full main hand and offhand attack round, instead of merely one attack swing.
    - Area Rampage string changed to 'Rampage' as old clients do not have 'Wild Rampage' strings.
    - Area Rampage now defaults to hitting unlmited (well, 250) targets instead of 1.
    - NPCs may now only do one special attack (flurry, ramp, wild ramp) per combat round.
    - NPC and pet dual wield chance changed to conform to my parse data.  Chance has been increased by roughly 33%.
    - Pet double attack chance chnaged to conform to my parse data.  Lower level pets will double a bit more often and PoP era pets will double a
    bit less often.
    - NPC special ability 'quad attack' has been changed work just like 'dual wield' to do a main hand attack + off hand attack (with double attack checks)
    instead of a random chance to perform four main hand attacks independant of the offhand which could lead to rounds larger than 4 swings.  The 'dual
    wield' flag actually forces the offhand to attack without a weapon, not merely enables an NPC to wield a weapon in the offhand as the name suggests,
    resulting in behavior one would expect 'quad attack' to do.  Since all NPCs are granted the ability to wield a weapon in the offhand if they possess
    two one-handers, a true dual wield flag would be redundant. Ideally one of these two flags would be removed and the remaining one renamed to 'innate
    dual wield'.
    - NPC triple attack chance changed to be a 10% chance on a successful main hand double attack.  NPCs flagged with this and who also dual wield can
    now possibly do 5 attack rounds, which would be rare due to needing successful dual wield, two double attack, and triple attack rolls.  (this is how
    AK/old eq worked)
    - Disarm will now fail to work on NPCs wielding magic weapons.
    - #showstats now includes double attack chance and dual wield chance

Author: Haynar
Date:   Thu Apr 16 19:41:14 2015 -0600

    Fixed some duplicate packets being sent to clients for position updates.
    Added some more optimizations in mob position updates, reducing number of unnecessary packets being sent to clients.
    Fixed some minor memory leaks, where some function return paths missed deletes.

Author: Robregen
Date:   Thu Apr 16 14:42:00 2015 -0700

    fixed the fixed_memory_hash_set error seen when starting up the server.

Author: Uleat
Date:   Fri Jan 16 18:07:19 2015 -0500

    Removed iter_inst and iter_contents typedefs

Author: Uleat
Date:   Thu Jan 15 21:24:26 2015 -0500

    Patchwork of changes..mostly related tracing a cursor queue bug

Author: Robregen
Date:   Thu Apr 16 11:02:46 2015 -0700

    fixed compiling error.

Author: Uleat
Date:   Tue Dec 23 10:14:45 2014 -0500

    Added some nullptr checks for ItemInst* in a few places (tradeskills.cpp - needs a better review)

Author: Haynar
Date:   Tue Apr 14 21:27:10 2015 -0600

    Client AC mitigation adjustments.
    Adjusted AC bonus from spells (lower) and defense skills (higher for cloth classes), based on SOE dev post on AC mitigation calculations.
    Softcap calculation adjusted to value that scales better with level and skill.
    Overall, increased mitigation effects at the lower levels.

Author: Torven
Date:   Tue Apr 14 03:46:11 2015 -0700

    NPC bash damage fix

Author: Robregen
Date:   Mon Apr 13 14:43:41 2015 -0700

    fixed for items with more than 1 charges when looting from a corpse.

Author: Haynar
Date:   Sat Apr 11 19:37:36 2015 -0600

    Simplified AC Softcap calculation.
    Simplified softcap calculation so it scales better with level.  Previous calculation blew up very large at higher levels, so it was not capping anything.

Author: Haynar
Date:   Sat Apr 11 15:44:23 2015 -0600

    Pathing Tools Improvements.
    #path meshtest, will now required a 2nd parameter, simple or complex.  Using #path meshtest simple will now feedback information directly to the client.
    #path dump <filename> will resort connections and nodes, prior to saving.  This will help prevent saving unsorted pathnodes, which will cause the path to be unusable.
    #path move, will move the selected node visibly to your location.  This will also update distances from this node to the neighbors.  And neighbors to this node.  Without the distance update, this would almost always break paths at finding shortest distance paths, if a node was ever moved.
    #path remove will, remove the selected node visible in the zone.  You must use #path resort nodes, prior to using the pathing, or the zone will likely crash.  Following removal of the node, a simple check of the nodes will be performed, in order to warn of potential errors.

Author: Cavedude
Date:   Sat Apr 11 10:22:13 2015 -0700

    Removed code supporting new stats window, since our client doesn't support popups.

Author: Haynar
Date:   Fri Apr 10 09:38:49 2015 -0600

    Bug fix where charmed mobs can cause faction wars.
    Any NPCs casting a spell on a charmed NPC, when charm breaks, will now have their spells interrupted.

Author: Haynar
Date:   Thu Apr 9 19:39:08 2015 -0600

    Added a fix for client freezing while scribing a spell and the spell was swapped in inventory for another spell.
    Dropping an item into your inventory during casting a spell, will no longer cause an immediate disconnect from the server.  You have been warned.  Stand there and die like the rest of us.

Author: Haynar
Date:   Wed Apr 8 15:16:27 2015 -0600

    Crash fix

Author: Haynar
Date:   Wed Apr 8 15:10:17 2015 -0600

    crash fix for zones not having watermaps, on checks when zoning

Author: Haynar
Date:   Wed Apr 8 14:55:58 2015 -0600

    Mob warping fixes when snare is enough to stop their movement.

Author: Haynar
Date:   Tue Apr 7 19:49:26 2015 -0600

    Removed warrior innate 5% mitigation bonus.

Author: Haynar
Date:   Tue Apr 7 18:40:54 2015 -0600

    Zoning in liquid, will no longer correct z for bestz.  This fixes qcat zoning issues.

Author: KLS
Date:   Mon Apr 6 17:42:15 2015 -0700

    Fix for lower than intended drop rates for drop limit loot tables after the min drop changes

Author: Haynar
Date:   Sun Apr 5 18:26:09 2015 -0600

    Added rule RULE_BOOL (Combat, NewACCurves, true) for new AC mitigation curves, that are more responsive for client changes in AC.  The shape of the curves is more like, as seen on EQLive. This is only applied to damage taken by clients.

Author: Robregen
Date:   Sat Apr 4 22:35:47 2015 -0700

    Add a boolean rule to check for SoW buff on NPC to turn runspeed on.  default is false.

Author: KLS
Date:   Sat Apr 4 17:03:28 2015 -0700

    Fix for mindrop on drop tables sometimes not being fully respected

Author: Haynar
Date:   Sat Apr 4 19:17:24 2015 -0600

    Mob position updates.
    Fix for assisting mobs in the zone, which allows targeting mob at a large range.
    Fix for mobs who start to flee, being confused as feared, by NPCs/Pets.

Author: Haynar
Date:   Fri Apr 3 22:38:47 2015 -0600

    Cazic Touch Shout fixes

Author: Haynar
Date:   Fri Apr 3 21:43:09 2015 -0600

    Fixes for maintaining bind heading and heading when camping.

Author: Haynar
Date:   Fri Apr 3 10:43:19 2015 -0600

    Mob position updates

Author: Haynar
Date:   Thu Apr 2 23:33:00 2015 -0600

    Z fixes for bouncing ... again

Author: Haynar
Date:   Thu Apr 2 19:22:14 2015 -0600

    Updated mob speed calculations.
    Merged z offset corrections.
    Fixed small races falling through the world so much.

Author: Torven
Date:   Thu Apr 2 10:49:17 2015 -0700

    Mob::DoubleAttackChance() rewritten to more closely conform to my data

Author: Torven
Date:   Thu Apr 2 09:50:11 2015 -0700

    NPC innate procs of beneficial spells made to not aggro other NPCs

Author: Robregen
Date:   Thu Apr 2 09:30:20 2015 -0700

    revert attack and max_hit change and removed some comment out code in pathing.cpp

Author: Torven
Date:   Wed Apr 1 22:29:15 2015 -0700

    MobAISpellRange reduced to 80

Author: Speedz
Date:   Tue Mar 31 23:18:54 2015 -0700

    * Adjusted the hard coded location for reading lua_modules and plugins.
     - This is to minimize the new server setup steps needed to get started.
     - It seems globals was already relocated prior.

Author: Robregen
Date:   Tue Mar 31 19:36:56 2015 -0700

    code fixes submitted by Wharhogg (P2002)

Author: Robregen
Date:   Fri Mar 27 23:40:07 2015 -0700

    fixed add nodes for path tool.  fixed for iksar pet size.

Author: Torven
Date:   Fri Mar 27 08:14:10 2015 -0700

    NPCs made to proc only on swings that hit

Author: Robregen
Date:   Thu Mar 26 11:37:29 2015 -0700

    Update README.md

Author: Torven
Date:   Thu Mar 26 09:22:55 2015 -0700

    fix for logic error in previous commit

Author: Torven
Date:   Thu Mar 26 08:43:20 2015 -0700

    Innate NPC procs made to always hit target of melee hit

Author: Robregen
Date:   Wed Mar 25 19:43:22 2015 -0700

    skip the size increase for wolf race with gender of 0 or 1 so scaled wolves and chokidais would be of proper size.

Author: Torven
Date:   Wed Mar 25 07:59:54 2015 -0700

    skip_los zone NPC yells for help made to ignore LoS

Author: Torven
Date:   Wed Mar 25 07:14:33 2015 -0700

    skip_los zone NPCs made to see through walls
    
    NPCs in zones with skip_los==true will now aggro and cast on players through walls.
    NPCs in zones with skip_los==true will now buff friendly NPCs through
    walls.
    NPCs in every zone will now cast heals on injured friendly NPCs through walls.

Author: Robregen
Date:   Tue Mar 24 23:52:11 2015 -0700

    readded a commit that was removed from previous commit.

Author: Robregen
Date:   Tue Mar 24 22:37:50 2015 -0700

    clean up pathing file and fixed a crash when repopping while nodes is up.

Author: Robregen
Date:   Fri Mar 20 13:58:56 2015 -0700

    Update README.md

Author: Robregen
Date:   Thu Mar 19 15:20:45 2015 -0700

    client should now display elemental instead of human dung when switching to use old models.

Author: JJ
Date:   Wed Mar 18 02:49:00 2015 -0400

    Exported ReloadZoneStaticData to perl and lua.
    Usage:
    (perl) quest::reloadzonestaticdata();
    (lua) eq.reloadzonestaticdata();

Author: Uleat
Date:   Fri Mar 6 04:26:26 2015 -0500

    Added ';' to safe_delete_array(data) in ~BulkZoneSpawnPacket()

Author: Haynar
Date:   Tue Mar 17 22:53:54 2015 -0600

    Fear on clients should work better.

Author: Haynar
Date:   Sat Mar 14 20:48:12 2015 -0600

    Pets following owners will now use pathing nodes if they are available.
    Pets will follow pathing (when available) while returning to their guard location following combat.

Author: Haynar
Date:   Sat Mar 14 14:55:13 2015 -0600

    z_offset adjustments
    
    Added corrections for clients z positions.  This should make clients
    bounce less and improve line of sight checks between clients and mobs.

Author: Haynar
Date:   Sat Mar 14 14:46:59 2015 -0600

    Added some z adjustments so clients will not appear to bounce so much.
    Improved z compensation for clients offset in LoS checks.  Line of sight should work better for casting spells.

Author: Haynar
Date:   Fri Mar 13 09:13:12 2015 -0600

    Structure changes to support client push.

Author: Haynar
Date:   Thu Mar 12 22:49:19 2015 -0600

    Client Push Support for CombatDamage_Struct
    
    Added client push components to the damage packets in
    CombatDamage_Struct.  Magnitudes for push pulled from decompile of the
    client.  Changed sequence to float, since it represents the float of
    direction when associated with push.  Removed manual push from Mob::Stun
    since it will be handled in the damage packets for the client and it
    caused too much jumping backward of clients due to latency between
    server and client.

Author: Haynar
Date:   Thu Mar 12 22:42:22 2015 -0600

    Revert "Client Push"
    

Author: Haynar
Date:   Thu Mar 12 22:22:42 2015 -0600

    Client Push
    
    Added client push magnitudes to CombatDamage_Struct packets.  Magnitudes
    taking from decompile of executable.  Changed sequence to a float, to
    handle the heading properly associated with push.

Author: Uleat
Date:   Fri Feb 27 19:28:28 2015 -0500

    Final tweak for light sources

Author: Uleat
Date:   Thu Feb 26 21:05:06 2015 -0500

    Change for 'general' slot range light source behavior

Author: Uleat
Date:   Thu Feb 26 18:46:12 2015 -0500

    Changes to how valid light sources are critiqued

Author: Cavedude
Date:   Thu Feb 26 09:56:46 2015 -0800

    NPCs will now always run when SoWed.

Author: Cavedude
Date:   Tue Feb 24 19:03:23 2015 -0800

    Fixed an issue with fishing on boats.

Author: Cavedude
Date:   Tue Feb 24 17:49:16 2015 -0800

    Moved BestZ calculation to a centralized method SetBestZ(), with rules to change things on the fly if need be.
    
    Eye of Zomm should no longer hop/warp and pets will no longer follow it.

Author: Cavedude
Date:   Fri Feb 20 10:07:40 2015 -0800

    Summoned and foraged items will now queue properly on the cursor. (Up to 5 items, with no duplicates - that is the client's limitation.) Traded items will now put one item on the cursor when full, and drop the rest to the ground. Quest rewards/returns and tradeskills already seemed to be queuing properly.
    
    Applied correct z coord formula to NPCs using bestz. (Thank you Haynar!)
    
    Fixed incorrect messages when a movement spell fades.

Author: Cavedude
Date:   Thu Feb 19 15:28:48 2015 -0800

    Fixed broken Lua SummonItem method.

Author: Cavedude
Date:   Wed Feb 18 22:04:08 2015 -0800

    Fixed a cause of players not being able to see each other, NPCs, or corpses.
    
    Reverted change to NPC z coord until I can properly implement it.
    
    More tweaks to Eye of Zomm. It should no longer create aggro, you can no longer attack as the eye, and it should path a bit smoother now.
    
    Correction to active code to prevent being marked as inactive during zoning.

Author: Cavedude
Date:   Wed Feb 18 13:16:59 2015 -0800

    Corrected some crashes.
    
    Reverted some of the BestZ changes to hopefully correct Z issues seen on TAK today.
    
    Fishing will now stop if you move.

Author: Cavedude
Date:   Tue Feb 17 15:00:44 2015 -0800

    Removed Travis

Author: Cavedude
Date:   Tue Feb 17 13:54:45 2015 -0800

    Rewrote much of /who all to be less fragile and work better.
    
    Anon will now properly effect /who all
    
    Moved the /who all decode to native code.

Author: Cavedude
Date:   Mon Feb 16 22:41:09 2015 -0800

    More fishing and forage fixes.
    
    Re-added a timer to log client position updates sanely.

Author: Cavedude
Date:   Sun Feb 15 16:24:57 2015 -0800

    GMs will now always be able to see other hidden GMs of equal or lesser status.
    
    Fixed a crash in GM item code.

Author: Cavedude
Date:   Sun Feb 15 09:07:05 2015 -0800

    Fishing and foraging are no longer allowed when an item is on the cursor.

Author: Cavedude
Date:   Sat Feb 14 14:12:27 2015 -0800

    Added gmflag field to items, to prevent players from acquiring or using GM only items.

Author: Cavedude
Date:   Sat Feb 14 11:13:43 2015 -0800

    Updated readme.

Author: Cavedude
Date:   Sat Feb 14 09:41:29 2015 -0800

    Revert "Removed OpenSSL requirement."
    
    I lied, we are still using OpenSSL :I
    

Author: Cavedude
Date:   Sat Feb 14 09:41:29 2015 -0800

    Revert "Removed OpenSSL requirement."
    
    I lied, we are still using OpenSSL :I
    

Author: Cavedude
Date:   Fri Feb 13 19:59:02 2015 -0800

    Removed OpenSSL requirement.

Author: Cavedude
Date:   Fri Feb 13 19:59:02 2015 -0800

    Removed OpenSSL requirement.

Author: Cavedude
Date:   Fri Feb 13 13:24:55 2015 -0800

    Some tweaks to NPC Z coord, bestz, and push/knockback.
    
    Tweaks to fishing to handle the bridges in the Karanas.
    
    If you're both hungry and thirsty, forage will pick an item based on which one you are more of.
    
    Removed the out of era item and bag types.
    
    Added/changed some default rules.

Author: Cavedude
Date:   Fri Feb 13 08:57:10 2015 -0800

    Fixed Travis (I hope)

Author: Cavedude
Date:   Fri Feb 13 08:32:59 2015 -0800

    Updated TravisCI

Author: Cavedude
Date:   Fri Feb 13 08:31:28 2015 -0800

    Updated Travis CI

Author: Robregen
Date:   Thu Feb 12 17:01:35 2015 -0800

    cleaned up more augs code.

Author: Cavedude
Date:   Thu Feb 12 08:51:23 2015 -0800

    Re-worked logging in after linkdeath. Expected disconnects (/ex, quitting at character select) should usually allow you back on instantly. Unexpected disconnects will have a timeout period of 2:15 before letting you back on. There may be times when it is a longer wait than that, but you should never wait more than 3ish minutes now (which is the LD timer.) If you are, please let me know as there is a condition I missed.
    
    Corrected food so that only extreme thirst stops mana regen, and only extreme hunger stops hp and endurance regen. Previously, being either hungry or thirsty would stop all three. Also corrected the time at which regen stops, so we are now in-sync with the client.

Author: Cavedude
Date:   Wed Feb 11 11:51:54 2015 -0800

    Corpse Summons will no longer eat the coffin on failures.

Author: Cavedude
Date:   Wed Feb 11 09:55:10 2015 -0800

    More Eye of Zomm tweaks.

Author: Torven
Date:   Wed Feb 11 07:22:36 2015 -0800

    NPCs using Cazic Touch made to use spell on pet owners instead of pets

Author: Torven
Date:   Wed Feb 11 06:48:50 2015 -0800

    Cazic Touch #defined, made to ignore invulnerability, and shout on use

Author: Robregen
Date:   Tue Feb 10 22:53:37 2015 -0800

    fixed a crash due to augs in loot struct.

Author: Robregen
Date:   Tue Feb 10 22:00:26 2015 -0800

    removed most augs related code.

Author: Speedz
Date:   Tue Feb 10 17:15:47 2015 -0800

    Oops, needed a const char* not a string in variable passing.

Author: Robregen
Date:   Tue Feb 10 17:09:39 2015 -0800

    committed the rest of KSL loot changed.

Author: Cavedude
Date:   Tue Feb 10 15:58:49 2015 -0800

    Mob position overhaul completed.
    
    All Player updates now correctly use OP_MobUpdate, instead of OP_ClientUpdate. ClientUpdate was an inbound packet only on AK. This will enable us to implement bulk update packets in the future.
    
    Removed the decodes and encodes for the above packets, everything is now done in native code.
    
    All Players and moving NPCs now use the centralized method Mob::SendPosUpdate to create and send their spawn updates.
    
    Fixed most of the player Z issues I came across, /loc and #loc are now much closer in that regard.
    
    Hopefully corrected the last of the "hopping" players would experience caused by our code. Some hopping during normal play is possible due to network traffic, but that happened on AK from time to time as well.
    
    Players will see others turn properly now. This creates more position updates packets so it should be tested before being put on a play server.
    
    Added position info to #showstats for players.
    
    Zomm line of spells now works properly. Other players will see the eye move around, and doors it touches will open for you.
    
    Re-applied the fix to the rule that was causing boats to go underwater (my fix was reverted in an EQEmu merge.)
    
    Bazaar trading mode will now end when you zone.
    
    Cleaned up debug code leftover from the last commit.
    
    *This commit needs to be tested on Dev before being pushed to a play server using groups of players.*

Author: KLS
Date:   Tue Feb 10 11:53:16 2015 -0800

    Fix for no factions in database crashing the server and shared memory

Author: KLS
Date:   Mon Feb 9 17:48:07 2015 -0800

    Adjustments to OP_SpawnAppearance, as well as updating import client files to handle newer spell files
    
    Conflicts:
            zone/client.h

Author: Torven
Date:   Tue Feb 10 05:53:29 2015 -0800

    forgot to add IsPureDispelSpell() to spdat.h

Author: Akkadius
Date:   Sun Feb 8 05:01:58 2015 -0600

    Reduced #repop time dramatically by taking down hundreds of individual SELECT/DELETE/INSERT queries in routines and bringing it down to very few
            See: https://www.youtube.com/watch?v=9kSFbyTBuAk

Author: KLS
Date:   Sat Feb 7 15:54:42 2015 -0800

    Added throttling to some appearance packets, also removed responding to client light packets.  With the new light code we'll tell the client when the light has changed not the other way around.

Author: Uleat
Date:   Tue Feb 3 22:43:03 2015 -0500

    Light source exclusion tweak (helps with strobing effects)

Author: Torven
Date:   Mon Feb 9 05:28:54 2015 -0800

    break; in wrong spot.  oops

Author: Torven
Date:   Mon Feb 9 04:33:14 2015 -0800

    Resist check removed for pure dispel spells

Author: Torven
Date:   Mon Feb 9 03:25:35 2015 -0800

    Bolt spell code reworked a bit
    
    Bolts will now behave as follows:
    
    Bolts that fail to hit a target will now complete the spell and use mana instead of interrupt.
    
    Bolts cast while having no target will hit nothing instead of the caster.

Author: Cavedude
Date:   Sun Feb 8 12:21:35 2015 -0800

    Position overhaul:
    
    Fixed hopping when a player first zones in and doesn't move.
    
    Fixed turning.
    
    Initial work on Z coord (not finished)
    
    Cleaned up encode/decode.
    
    Added loc logging.

Author: Speedz
Date:   Sun Feb 8 10:19:10 2015 -0800

    Forgot to save last comment removal.

Author: Speedz
Date:   Sun Feb 8 10:07:25 2015 -0800

    Commands restructure and
    Adjusted hard code statuses to match the database as defaults.
    Alpha'd a few commands that were out of place,
    adjustments to descriptions,
    Added self only versions of a number of commands with a dual status check
    and auto create of db entries for high range check of status.
    - Invul
    - Heal
    - Mana
    - Level
    - GMSpeed
    The old status values still are valid, they just turn into the low range (self only).
    The values added are suffixed with a 2 automagically and set the high range to 250 by default.
    The high values can be changed on the fly without a server reboot.

Author: Torven
Date:   Sat Feb 7 21:03:10 2015 -0800

    Negative push fix

Author: Torven
Date:   Sat Feb 7 03:12:46 2015 -0800

    BestZ replaced with z+2 in push routines to prevent Z sinking

Author: Torven
Date:   Fri Feb 6 21:40:53 2015 -0800

    New GetPushHeadingMod() for more precise push angles

Author: Cavedude
Date:   Fri Feb 6 14:44:10 2015 -0800

    LOS checks now again use BestZ, except if either target is in water.
    
    CheckRegion() is now more accurate.
    
    Added CheckRegion to the #los command
    
    Fishing now works off docks and on boats. It worked in every body of water I tested.
    
    Sorted many logs into their proper logsys category.
    

Author: Torven
Date:   Fri Feb 6 04:13:25 2015 -0800

    NPC procs of AoE spells made to single target only

Author: Cavedude
Date:   Thu Feb 5 22:19:12 2015 -0800

    Non base racial illusions will no longer be effected by deity, class, or character faction mods.
    
    Added faction logsys category (updated the existing SQL from today)

Author: Torven
Date:   Thu Feb 5 19:54:01 2015 -0800

    Disabled invisibility stacking

Author: Cavedude
Date:   Thu Feb 5 15:13:40 2015 -0800

    Overhauled guilds, zone crash is fixed, and most cases of Unknown Guild issues should be corrected as well.
    
    Added two new logsys categories, Maps and Character.

Author: Torven
Date:   Thu Feb 5 02:16:56 2015 -0800

    LOS and angle check added to bolt spells

Author: Cavedude
Date:   Wed Feb 4 15:45:19 2015 -0800

    Disable guild deletion until I can work out the deeper issue - ID holes in the guilds table causes a zone crash in Client::SendPlayerGuild()

Author: Cavedude
Date:   Wed Feb 4 15:27:15 2015 -0800

    Fixed guild names not showing up properly when joining/removed from a guild. The client requires both the guildid and offset to be the same, and the client starts its offset at 0. So, guildid 0 needs to be added to the DB.

Author: Cavedude
Date:   Wed Feb 4 15:23:02 2015 -0800

    Re-added missing _EQDEBUG

Author: Cavedude
Date:   Wed Feb 4 11:15:57 2015 -0800

    Revert "Experimental Z coord change to CheckLosFN to hopefully correct the Dragon AE issue."
    

Author: Cavedude
Date:   Wed Feb 4 11:14:14 2015 -0800

    Fixed a crash in the faction code.
    
    Small correction to IsRacialIllusion to prevent a compile warning.

Author: Cavedude
Date:   Wed Feb 4 08:21:48 2015 -0800

    Fixed compile errors on private. Private exclusive code was not updated with the new logging code.

Author: Torven
Date:   Tue Feb 3 19:06:42 2015 -0800

    Dragon AoE partials, lifetap partials, skill type 52 fix

Author: Cavedude
Date:   Tue Feb 3 18:40:13 2015 -0800

    Added BestZ calculation to combat push.

Author: Cavedude
Date:   Tue Feb 3 11:52:19 2015 -0800

    SQL fix.

Author: Cavedude
Date:   Tue Feb 3 11:42:31 2015 -0800

    Experimental Z coord change to CheckLosFN to hopefully correct the Dragon AE issue.

Author: Cavedude
Date:   Tue Feb 3 11:32:11 2015 -0800

    Cleaned up food consumption, forage, and IsDesertZone a bit.

Author: Torven
Date:   Sun Feb 1 22:01:23 2015 -0800

    ResistSpell() cleanup, pac fix, deep red con bonus
    
    Conflicts:
            zone/spells.cpp

Author: Cavedude
Date:   Mon Feb 2 21:05:33 2015 -0800

    Altered server to client packet logging to use our netcode.
    
    Added a rule to prevent minor spammy packets from being logged.
    
    gmsay debug messages that are over 2600 characters (roughly a 500 byte packet) are dropped, and instead logged to file. Our client doesn't like larger message packets being sent, and it seems to be most stable to outright block larger messages. (I tried splitting the message up, and wasn't happy with the stability.)
    
    Warning: DO NOT enable gmsay for either client or server packet dump in the DB. It will prevent you from logging in on your GM toon. It's best to log in first, then enable it.
    
    Server and client packet dumps to gmsay will automatically be disabled when the last player leaves the zone, to help prevent GMs from being unable to get back into that zone.
    
    Cleaned up the zone idling logic some, where I was there.

Author: Akkadius
Date:   Mon Feb 2 00:10:22 2015 -0600

    Implement Packet logs with dumps
            - Category: 41: Packet: Server -> Client With Dump
            - Category: 42: Packet: Server -> Client With Dump
            See: http://wiki.eqemulator.org/p?Logging_System_Overhaul#packet-logging-levels
    
    Conflicts:
            common/eq_packet.cpp

Author: Akkadius
Date:   Sun Feb 1 22:40:56 2015 -0600

    find_replace fix for real

Author: Akkadius
Date:   Sun Feb 1 22:29:04 2015 -0600

    find_replace fix

Author: Akkadius
Date:   Sun Feb 1 22:00:21 2015 -0600

    Changelog
    
    Conflicts:
            changelog.txt

Author: Akkadius
Date:   Sun Feb 1 21:56:45 2015 -0600

    Packet Logging database version update
    
    Conflicts:
            common/version.h
            utils/sql/db_update_manifest.txt

Author: Akkadius
Date:   Sun Feb 1 21:47:41 2015 -0600

    Add some 'is_category_enabled' before some more core logging function calls

Author: Akkadius
Date:   Sun Feb 1 21:43:50 2015 -0600

    Add File 2015_02_01_logsys_packet_logs.sql

Author: Akkadius
Date:   Sun Feb 1 21:42:43 2015 -0600

    Add category prefix in file based log messages

Author: Akkadius
Date:   Sun Feb 1 19:57:02 2015 -0600

    Have is_category_enabled update appropriately when settings are set via #logs

Author: Akkadius
Date:   Sun Feb 1 19:56:32 2015 -0600

    Get Logs::Client_Server_Packet_Unhandled to show raw opcodes

Author: Akkadius
Date:   Sun Feb 1 04:05:32 2015 -0600

    Some changes

Author: Akkadius
Date:   Sun Feb 1 03:25:16 2015 -0600

    Implement stable Server -> Client packet logging

Author: Akkadius
Date:   Sun Feb 1 02:13:47 2015 -0600

    Add Packet :: Server -> Client logging

Author: Akkadius
Date:   Sun Feb 1 02:11:58 2015 -0600

    Add Packet :: Server -> Client category

Author: Akkadius
Date:   Sun Feb 1 02:10:18 2015 -0600

    Chnage netcode logging check to use is_category_enabled instead of just checking for console

Author: Akkadius
Date:   Sun Feb 1 02:09:24 2015 -0600

    Add a category check pre Logs::Client_Server_Packet trigger

Author: Akkadius
Date:   Sun Feb 1 02:08:46 2015 -0600

    Fix the 'is_category_enabled' in each of the database loaders

Author: Akkadius
Date:   Sun Feb 1 01:58:10 2015 -0600

    Add struct member LogSettings::is_category_enabled so that it can be used for fast checking in intense portions of code

Author: Akkadius
Date:   Sun Feb 1 01:06:19 2015 -0600

    Modify category descriptor Packet :: Client -> Server

Author: Akkadius
Date:   Sun Feb 1 01:05:39 2015 -0600

    Add sanity checks to GMSayHookCallBackProcess

Author: Akkadius
Date:   Sun Feb 1 01:03:30 2015 -0600

    Re-Order string_util.h

Author: Akkadius
Date:   Sun Feb 1 01:00:05 2015 -0600

    Add to string_util.h void find_replace(std::string& string_subject, std::string& search_string, std::string& replace_string) {

Author: Akkadius
Date:   Sat Jan 31 02:23:58 2015 -0600

    At point in which Client -> Server packet logging is working, will do more prechecking to declare that anything actually is subscribed to this category before outputting
    
    Conflicts:
            common/eq_packet.cpp
            zone/zone.h

Author: Torven
Date:   Sun Feb 1 22:01:23 2015 -0800

    ResistSpell() cleanup, pac fix, deep red con bonus

Author: Mackal
Date:   Sun Feb 1 15:11:27 2015 -0500

    Fix lua events

Author: Robregen
Date:   Sun Feb 1 11:17:46 2015 -0800

    Item loot rewrites from KLS loot rewrite branch.

Author: Cavedude
Date:   Sat Jan 31 20:36:40 2015 -0800

    Merge correction

Author: KLS
Date:   Fri Jan 30 15:03:02 2015 -0800

    Spelling errors and revised my cle change to put it much lower so it shouldn't have any side effects other than avoiding the crash
    
    Conflicts:
            common/database.h
            world/client.cpp

Author: Mackal
Date:   Fri Jan 30 02:34:33 2015 -0500

    unique_ptr is a better fit here

Author: KayenEQ
Date:   Fri Jan 30 19:28:16 2015 -0500

    remove debug

Author: KayenEQ
Date:   Fri Jan 30 19:21:24 2015 -0500

    removed debug msg

Author: KayenEQ
Date:   Fri Jan 30 18:47:27 2015 -0500

    Fix for minimum charm and root resist chances (was always returning 0).
    Fix for pacification not doing a proper second resist check upon resisting intial pacification.
    
    Conflicts:
            zone/aggro.cpp
            zone/spells.cpp

Author: Trevius
Date:   Sat Jan 31 11:44:25 2015 -0600

    Fixed FindGroundZ() and GetGroundZ() to once again utilize the X and Y arguments that are passed to them.

Author: Akkadius
Date:   Fri Jan 30 23:17:11 2015 -0600

    WOOPS! (That's what he said)

Author: Akkadius
Date:   Fri Jan 30 23:15:48 2015 -0600

    Implemented LUA counterpart of EVENT_ENVIRONMENTAL_DAMAGE
    
    Conflicts:
            zone/lua_general.cpp

Author: Akkadius
Date:   Fri Jan 30 23:01:31 2015 -0600

    Implemented event type "EVENT_ENVIRONMENTAL_DAMAGE"
            - This event triggers when taking any sort of environmental damage. Example use:
            sub EVENT_ENVIRONMENTAL_DAMAGE{
                    quest::debug("EVENT_ENVIRONMENTAL_DAMAGE");
                    quest::debug("env_damage is " . $env_damage);
                    quest::debug("env_damage_type is " . $env_damage_type);
                    quest::debug("env_final_damage is " . $env_final_damage);
            }
            Result: (Test falling in Velks): http://i.imgur.com/tPRL7yL.png
    
    Conflicts:
            changelog.txt
            zone/client_packet.cpp
            zone/embparser.cpp
            zone/event_codes.h

Author: Akkadius
Date:   Fri Jan 30 18:12:00 2015 -0600

    Implement Rule Based Environment damage multiplier
    
    Conflicts:
            common/ruletypes.h
            zone/client_packet.cpp

Author: Mackal
Date:   Fri Jan 30 22:00:39 2015 -0500

    Another tell_queue leak fix

Author: Mackal
Date:   Fri Jan 30 20:22:55 2015 -0500

    Tell queue memleak fix

Author: Cavedude
Date:   Sat Jan 31 18:42:31 2015 -0800

    Corpses will no longer be rezzable after their rez timer expires. Required SQL: utils\sql\git\required\2015_01_31_rezzable.sql
    
    Corrected rez timer message and failure message based on AK logs.

Author: Cavedude
Date:   Sat Jan 31 10:50:52 2015 -0800

    Fixed eq.signal(npcid)

Author: Cavedude
Date:   Sat Jan 31 10:11:38 2015 -0800

    Forgot CMakeLists for new file.

Author: Cavedude
Date:   Sat Jan 31 10:08:31 2015 -0800

    Moved DB updates to common/database_updates.cpp. Declarations are still made in database.h to reduce redundant code.

Author: Speedz
Date:   Sat Jan 31 03:25:33 2015 -0800

    Added a char creation rule toggle.

Author: Cavedude
Date:   Fri Jan 30 15:32:32 2015 -0800

    Fixed triple linked doors not opening for NPCs.
    
    Added an exception for doorid 2 in neriakb as it seems to have range issues.

Author: Cavedude
Date:   Fri Jan 30 15:32:32 2015 -0800

    Fixed triple linked doors not opening for NPCs.
    
    Added an exception for doorid 2 in neriakb as it seems to have range issues.

Author: Cavedude
Date:   Fri Jan 30 13:34:35 2015 -0800

    Changed 0 to false in ResistSpell call, since it's a bool.

Author: Torven
Date:   Thu Jan 29 20:13:12 2015 -0800

    charm ticks, root ticks, and pac crit resist fixes

Author: Cavedude
Date:   Fri Jan 30 13:34:35 2015 -0800

    Changed 0 to false in ResistSpell call, since it's a bool.

Author: Cavedude
Date:   Fri Jan 30 13:20:08 2015 -0800

    LD will no longer break FD.

Author: Cavedude
Date:   Fri Jan 30 13:20:26 2015 -0800

    Merged corpse change from EQEmu.

Author: Cavedude
Date:   Fri Jan 30 13:20:08 2015 -0800

    LD will no longer break FD.

Author: Cavedude
Date:   Fri Jan 30 12:34:59 2015 -0800

    Post-merge cleanup

Author: Cavedude
Date:   Fri Jan 30 11:58:16 2015 -0800

    NPCs that are engaged with PROX_AGGRO set will now only add clients that are within combat range to their hate list.
    
    Fixed the crash when /guildremove is used and the player is not online or in the same zone.
    
    Increased column sizes of commands_log when it is first created.

Author: Cavedude
Date:   Fri Jan 30 11:29:23 2015 -0800

    Fixed eq.attack, eq.attack_npc, eq.attack_npc_type

Author: Cavedude
Date:   Thu Jan 29 08:37:45 2015 -0800

    LD characters are no longer counted towards the total character count when checking the session limit. This should allow players to get back on right away in most cases after going LD in-game.

Author: Cavedude
Date:   Fri Jan 30 11:58:16 2015 -0800

    NPCs that are engaged with PROX_AGGRO set will now only add clients that are within combat range to their hate list.
    
    Fixed the crash when /guildremove is used and the player is not online or in the same zone.
    
    Increased column sizes of commands_log when it is first created.

Author: Cavedude
Date:   Fri Jan 30 11:29:23 2015 -0800

    Fixed eq.attack, eq.attack_npc, eq.attack_npc_type

Author: Cavedude
Date:   Thu Jan 29 20:34:00 2015 -0800

    Linux compile fix.

Author: Torven
Date:   Thu Jan 29 20:13:12 2015 -0800

    charm ticks, root ticks, and pac crit resist fixes

Author: Cavedude
Date:   Thu Jan 29 16:56:38 2015 -0800

    Added log debug for lua.
    
    Usage is:
    eq.Debug("Message.", log_level);
    
    Where log_level is 1, 2, or 3.

Author: Robregen
Date:   Thu Jan 29 14:17:36 2015 -0800

    fixed missing passed by ref to glm::vec4 position in headers.

Author: Akkadius
Date:   Sat Jan 24 23:52:48 2015 -0600

    DeleteCharacter formatting changes

Author: Akkadius
Date:   Sat Jan 24 23:49:29 2015 -0600

    Misc formatting changes

Author: Akkadius
Date:   Sat Jan 24 22:58:14 2015 -0600

    Cleanup Database::GlobalInstance

Author: Akkadius
Date:   Sat Jan 24 22:56:18 2015 -0600

    Cleanup Database::AssignRaidToInstance

Author: Akkadius
Date:   Sat Jan 24 22:55:51 2015 -0600

    Cleanup Database::AssignGroupToInstance

Author: Akkadius
Date:   Sat Jan 24 22:55:15 2015 -0600

    Cleanup Database::GetCharactersInInstance

Author: Akkadius
Date:   Sat Jan 24 22:54:16 2015 -0600

    Cleanup Database::GetInstanceID, the 2nd version

Author: Akkadius
Date:   Sat Jan 24 22:51:49 2015 -0600

    Cleanup Database::GetInstanceID

Author: Akkadius
Date:   Wed Jan 28 22:47:43 2015 -0600

    UCS Crash Fix

Author: Akkadius
Date:   Wed Jan 28 20:00:03 2015 -0600

    Added Logs::DebugQuest category per request from Trevius (Great idea)
            - Exported quest::debug(log_message, [debug_level = 1)
            - Example:
                    quest::debug("This is a test debug message, level 1 (default)");
                    quest::debug("This is a test debug message, level 1", 1);
                    quest::debug("This is a test debug message, level 2", 2);
                    quest::debug("This is a test debug message, level 3", 3);
    
                    Result: http://i.imgur.com/6VoafGE.png
            - Uses traditional logging system to output this category
            - Required MySQL Source in Database version 9070

Author: Mackal
Date:   Tue Jan 27 21:48:11 2015 -0500

    Remove const

Author: Mackal
Date:   Tue Jan 27 21:28:38 2015 -0500

    Switch AI timers to smart pointers

Author: Arthur Ice
Date:   Sat Jan 24 14:03:31 2015 -0800

    removed unused code win_getopt.cpp/h

Author: Arthur Ice
Date:   Sat Jan 24 14:00:30 2015 -0800

    removed unused code seperator-2.h

Author: Arthur Ice
Date:   Sat Jan 24 13:58:03 2015 -0800

    removed unused code queues.h

Author: Arthur Ice
Date:   Sat Jan 24 13:53:13 2015 -0800

    removed unused code dbmemshare.cpp

Author: Arthur Ice
Date:   Sat Jan 24 13:48:57 2015 -0800

    removed unused code breakdowns.h

Author: Speedz
Date:   Thu Jan 29 10:08:32 2015 -0800

    Additions to #testcopy

Author: Cavedude
Date:   Thu Jan 29 09:15:09 2015 -0800

    Added EQMac logsys category. New SQL is in utils\sql\git\required\2015_01_29_logsys_eqmac.sql
    
    Fixed a crash that occurs on zone shutdown.

Author: Cavedude
Date:   Thu Jan 29 08:37:45 2015 -0800

    LD characters are no longer counted towards the total character count when checking the session limit. This should allow players to get back on right away in most cases after going LD in-game.

Author: Cavedude
Date:   Thu Jan 29 06:59:25 2015 -0800

    Cleanup following merge.

Author: Cavedude
Date:   Wed Jan 28 22:19:55 2015 -0800

    Addition to #chattest to specify number of times it will loop. Ooooh rainbow.

Author: Cavedude
Date:   Wed Jan 28 16:39:25 2015 -0800


Author: Cavedude
Date:   Wed Jan 28 22:19:55 2015 -0800

    Addition to #chattest to specify number of times it will loop. Ooooh rainbow.

Author: Speedz
Date:   Wed Jan 28 21:37:12 2015 -0800

    Refinements on #testcopy

Author: Cavedude
Date:   Wed Jan 28 20:56:48 2015 -0800

    Fixed some crashes.

Author: KayenEQ
Date:   Wed Jan 28 23:53:52 2015 -0500

    Fix for range procs

Author: Akkadius
Date:   Wed Jan 28 22:47:43 2015 -0600

    UCS Crash Fix

Author: Robregen
Date:   Wed Jan 28 20:34:42 2015 -0800

    removed an empty if(client) that was leftover from the merge.

Author: Akkadius
Date:   Sun Jan 25 23:27:44 2015 -0600

    Natedog: Fix #gassign to work more appropriately and simplify the function

Author: Akkadius
Date:   Sun Jan 25 04:24:05 2015 -0600

    Add extra checking at the root of Log.Out to check if the category is subscribed to any of the output methods before trying to parse message strings and then pass them to the sub output functions and THEN perform log_setting checks and debug_level checks.
    
    I performed a unit test of 1,000,000 log writes, there is hardly any difference.
    
    #::: Before Checks
    [01-25-2015 :: 03:15:35] [999999] Test #2... Took 17.940001 seconds
    
    #::: With Checks
    [01-25-2015 :: 04:10:55] [999999] Test #2... Took 18.018000 seconds

Author: Akkadius
Date:   Sat Jan 24 22:48:06 2015 -0600

    Removed COMMANDS_LOGGING ifdef

Author: Akkadius
Date:   Sat Jan 24 22:46:40 2015 -0600

    Adjust some commands that default to 0, change Log commands to Commands category instead of Error

Author: Akkadius
Date:   Sat Jan 24 22:37:40 2015 -0600

    Cleanup Database::GetRaidLeaderName log Messages

Author: Akkadius
Date:   Sat Jan 24 22:29:23 2015 -0600

    Suppress Error message for GetRaidID (Unable to get raid id, char not found) because it will happen for any player who is not in a raid anyways which makes it pointless

Author: Akkadius
Date:   Sat Jan 24 22:29:15 2015 -0600

    Suppress Error message for GetRaidID (Unable to get raid id, char not found) because it will happen for any player who is not in a raid anyways which makes it pointless

Author: Akkadius
Date:   Sat Jan 24 22:22:30 2015 -0600

    Convert Entity::CastToNPC to Log.Out with EQDEBUG remove

Author: Akkadius
Date:   Sat Jan 24 22:20:58 2015 -0600

    Convert Entity::CastToClient to Log.Out

Author: Akkadius
Date:   Sat Jan 24 22:09:58 2015 -0600

    Doors::HandleClick and remove #EQDEBUG check, convert log

Author: Akkadius
Date:   Sat Jan 24 22:05:29 2015 -0600

    Update  database table to the real defaults that it was intended to have

Author: Akkadius
Date:   Sat Jan 24 22:01:37 2015 -0600

    Cleanup logging in Client::Handle_OP_CastSpell as well as some more conversions

Author: Akkadius
Date:   Sat Jan 24 22:00:20 2015 -0600

    Cleanup logging in Client::Handle_OP_CastSpell

Author: Akkadius
Date:   Sat Jan 24 05:03:27 2015 -0600

    Client::CalcMaxMana Log adjust

Author: Akkadius
Date:   Sat Jan 24 05:01:23 2015 -0600

    Client::ACMod Log adjust

Author: Akkadius
Date:   Sat Jan 24 04:55:03 2015 -0600

    Changed a log entry to use Trade category instead of none

Author: Akkadius
Date:   Sat Jan 24 04:54:02 2015 -0600

    Fixed DumpTrade to filter through trading Debug level 3 logs. Removed preprocessor checks

Author: Akkadius
Date:   Sat Jan 24 04:40:45 2015 -0600

    Remove EQDEBUG preprocessor from PersistentTimer::Load

Author: Akkadius
Date:   Sat Jan 24 04:38:22 2015 -0600

    Remove log junk from command_spawn

Author: Akkadius
Date:   Sat Jan 24 04:31:09 2015 -0600

    Remove preprocessor and convert log message

Author: Akkadius
Date:   Sat Jan 24 04:27:32 2015 -0600

    Adjust logging in command_time

Author: Akkadius
Date:   Sat Jan 24 04:22:33 2015 -0600

    Sort command_init alphabetically and cleanup

Author: Akkadius
Date:   Sat Jan 24 04:17:58 2015 -0600

    Remove some processor and cleanup logging around Commands

Author: Akkadius
Date:   Sat Jan 24 03:59:52 2015 -0600

    Remove occurence of ChangeSQLLog

Author: Akkadius
Date:   Sat Jan 24 03:51:48 2015 -0600

    Remove Client::ChangeSQLLog

Author: Akkadius
Date:   Sat Jan 24 03:51:19 2015 -0600

    Remove Client::LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:50:33 2015 -0600

    Some fixes from replace removal of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:20 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:14 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:13 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:12 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:12 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:11 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:10 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:09 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:09 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:08 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:07 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:06 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:05 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:03 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Wed Jan 28 20:00:03 2015 -0600

    Added Logs::DebugQuest category per request from Trevius (Great idea)
            - Exported quest::debug(log_message, [debug_level = 1)
            - Example:
                    quest::debug("This is a test debug message, level 1 (default)");
                    quest::debug("This is a test debug message, level 1", 1);
                    quest::debug("This is a test debug message, level 2", 2);
                    quest::debug("This is a test debug message, level 3", 3);
    
                    Result: http://i.imgur.com/6VoafGE.png
            - Uses traditional logging system to output this category
            - Required MySQL Source in Database version 9070

Author: Akkadius
Date:   Sat Jan 24 01:20:04 2015 -0600

    Fix Database::ReserveName so that it no longer relies on a failed insert into the character_data table to return false; on character creation. Log message for Logs::World_Server added for the same

Author: Cavedude
Date:   Wed Jan 28 16:39:25 2015 -0800

    Fixed crash caused by bad local commit.

Author: Arthur Ice
Date:   Fri Jan 23 21:13:20 2015 -0800

    removed moremath.cpp/h

Author: Mackal
Date:   Fri Jan 23 15:48:20 2015 -0500

    Minor tweaking to new logsys

Author: Mackal
Date:   Thu Jan 22 22:59:52 2015 -0500

    Some std::abs usage and a bit of clang-formatting

Author: Akkadius
Date:   Thu Jan 22 15:47:47 2015 -0600

    Fix .SQL file for logsys categories so that the manifest does not have issues (Again)

Author: Akkadius
Date:   Thu Jan 22 02:54:53 2015 -0600

    Changelog entry

Author: Cavedude
Date:   Wed Jan 28 15:51:01 2015 -0800

    Attempting to log the same account on multiple times will now be stopped at world, instead of booting the in-game character off. Due to this, there will now be a wait period before logging back on after LD as it takes a few minutes for the LD character to be cleared from the entity list.

Author: Cavedude
Date:   Wed Jan 28 11:21:40 2015 -0800

    Foraged food or water will now be preferred when the player is hungry or thirsty.

Author: Cavedude
Date:   Wed Jan 28 09:58:23 2015 -0800

    More illusion tweaks.
    
    Lowered required status for #xpinfo to 100, which is the same as the GM XP message.
    
    GM XP message will now display how much XP you've actually gained.
    
    Conflicts:
            common/spdat.cpp
            zone/exp.cpp

Author: Akkadius
Date:   Thu Jan 22 02:40:35 2015 -0600

    Change .txt file write extension to .log more appropriately

Author: Akkadius
Date:   Thu Jan 22 02:36:55 2015 -0600

    Change crash location to logs/crashes/<>

Author: Akkadius
Date:   Thu Jan 22 02:21:41 2015 -0600

    Adjusting #logs verbiage

Author: Akkadius
Date:   Thu Jan 22 01:44:52 2015 -0600

    Comment up EQEmuLogSys class header. Change some string copys to rather pass by reference because its not necessary

Author: Akkadius
Date:   Thu Jan 22 00:46:45 2015 -0600

    My GCC built fine, but lets make Travis happy

Author: Cavedude
Date:   Wed Jan 28 15:51:01 2015 -0800

    Attempting to log the same account on multiple times will now be stopped at world, instead of booting the in-game character off. Due to this, there will now be a wait period before logging back on after LD as it takes a few minutes for the LD character to be cleared from the entity list.

Author: Akkadius
Date:   Wed Jan 21 19:39:51 2015 -0600

    Change zone file log name format once it boots up

Author: Akkadius
Date:   Wed Jan 21 19:37:54 2015 -0600

    Some log changes

Author: Akkadius
Date:   Wed Jan 21 19:15:36 2015 -0600

    Change some world server Logging to General (Level 1) debugging

Author: Akkadius
Date:   Wed Jan 21 19:08:43 2015 -0600

    Change some zone server Logging to General (Level 1) debugging

Author: Akkadius
Date:   Wed Jan 21 19:04:13 2015 -0600

    Rename LoadLogSysSettings to LoadLogSettings

Author: Akkadius
Date:   Wed Jan 21 18:54:40 2015 -0600

    Add proper file log closing to export

Author: Akkadius
Date:   Wed Jan 21 18:54:12 2015 -0600

    Add proper file log closing to shared_memory

Author: Akkadius
Date:   Wed Jan 21 18:53:39 2015 -0600

    Add proper file log closing to eq_launch

Author: Akkadius
Date:   Wed Jan 21 18:52:59 2015 -0600

    Add properl file log closing to import and UCS

Author: Akkadius
Date:   Wed Jan 21 18:51:26 2015 -0600

    Add properl file log closing to queryserv

Author: Akkadius
Date:   Wed Jan 21 18:47:36 2015 -0600

    Cleanup some log entries in world

Author: Akkadius
Date:   Wed Jan 21 18:46:56 2015 -0600

    Properly close process files in zone and world

Author: Akkadius
Date:   Wed Jan 21 18:43:47 2015 -0600

    Cleanup CloseFileLogs()

Author: Akkadius
Date:   Wed Jan 21 03:01:21 2015 -0600

    Implement #logs reload_all - To reload world and zone their log settings from the database

Author: Akkadius
Date:   Wed Jan 21 02:12:22 2015 -0600

    Adjust #logs set

Author: Akkadius
Date:   Wed Jan 21 01:26:33 2015 -0600

    Implement #logs set [console|file|gmsay] <category_id> <debug_level (1-3)>

Author: Akkadius
Date:   Wed Jan 21 00:01:28 2015 -0600

    Preliminary log setting commands

Author: Akkadius
Date:   Tue Jan 20 23:21:32 2015 -0600

    Rename #log to #logs after thinking deeply about it

Author: Akkadius
Date:   Tue Jan 20 23:18:23 2015 -0600

    Implement first pieces of #log

Author: Akkadius
Date:   Tue Jan 20 20:01:44 2015 -0600

    Remove garbage in commit

Author: Akkadius
Date:   Tue Jan 20 20:00:48 2015 -0600

    Push table update

Author: Akkadius
Date:   Tue Jan 20 19:54:08 2015 -0600

    Linux fix in worldserver.cpp with __FUNCTION__

Author: Akkadius
Date:   Tue Jan 20 19:41:29 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:28 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:26 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:25 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:24 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:23 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:22 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:21 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:20 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:18 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:17 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:14 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:40:55 2015 -0600

    Remove Unneeded DebugBreak:

Author: Akkadius
Date:   Tue Jan 20 19:22:28 2015 -0600

    UpdateAdmin Linux build fix

Author: Akkadius
Date:   Tue Jan 20 19:19:57 2015 -0600

    Push something that apparently didn't make its way through before

Author: Akkadius
Date:   Tue Jan 20 19:05:11 2015 -0600

    Platform changes for getpid()

Author: Akkadius
Date:   Tue Jan 20 18:47:20 2015 -0600

    Changed defaults to use enum

Author: Akkadius
Date:   Tue Jan 20 06:49:31 2015 -0600

    rename process_file_name to platform_file_name for consistency

Author: Akkadius
Date:   Tue Jan 20 06:26:12 2015 -0600

    More work on process logging

Author: Akkadius
Date:   Tue Jan 20 06:15:56 2015 -0600

    Add file log handling in every process

Author: Akkadius
Date:   Tue Jan 20 06:13:12 2015 -0600

    More process based logging work

Author: Akkadius
Date:   Tue Jan 20 05:52:50 2015 -0600

    Implement crash logging, 'crash_processname_pid.log' at the root of logs/

Author: Akkadius
Date:   Tue Jan 20 05:36:15 2015 -0600

    Some EQEmuLogSys changes regarding class variables

Author: Akkadius
Date:   Tue Jan 20 05:30:19 2015 -0600

    Undo Queryserv refactoring because our database class stuff is stupid

Author: Akkadius
Date:   Tue Jan 20 05:22:15 2015 -0600

    Placing Log defaults after RegisterExecutablePlatform and installing database log setting loads right after database connection for all processes

Author: Akkadius
Date:   Tue Jan 20 05:18:44 2015 -0600

    Add a copy of load log settings to UCS because of how split Database classes are laid out

Author: Akkadius
Date:   Tue Jan 20 05:18:21 2015 -0600

    Change some defaults for logs

Author: Akkadius
Date:   Tue Jan 20 05:07:22 2015 -0600

    Fix some categories from before convert

Author: Akkadius
Date:   Tue Jan 20 05:04:16 2015 -0600

    QueryServ adjustments

Author: Akkadius
Date:   Tue Jan 20 04:56:13 2015 -0600

    Adjust defaults for LoadLogSettingsDefault

Author: Akkadius
Date:   Tue Jan 20 04:45:44 2015 -0600

    Add LoadLogSysSettings to client export utility

Author: Akkadius
Date:   Tue Jan 20 04:45:14 2015 -0600

    Add LoadLogSysSettings to other processes

Author: Akkadius
Date:   Tue Jan 20 04:30:27 2015 -0600

    Refactor some of the database stuff for QueryServ for uniformity, should probably be done right later

Author: Akkadius
Date:   Tue Jan 20 04:10:39 2015 -0600

    Some adjustments to file writing routines

Author: Akkadius
Date:   Tue Jan 20 03:46:27 2015 -0600

    logtest adjustments

Author: Akkadius
Date:   Tue Jan 20 03:20:40 2015 -0600

    Various logging adjustments

Author: Akkadius
Date:   Tue Jan 20 03:07:33 2015 -0600

    Fix Linux compiles

Author: Akkadius
Date:   Tue Jan 20 03:02:41 2015 -0600

    Implement debug_level checking for ProcessGMSay

Author: Akkadius
Date:   Tue Jan 20 03:02:15 2015 -0600

    Implement debug_level checking for ProcessLogWrite

Author: Akkadius
Date:   Tue Jan 20 03:01:41 2015 -0600

    Implement debug_level checking for ProcessConsoleMessage

Author: Akkadius
Date:   Tue Jan 20 03:00:00 2015 -0600

    Pass debug_level to subprocess commands

Author: Akkadius
Date:   Tue Jan 20 02:59:32 2015 -0600

    Add uint16 debug_level to ProcessGMSay

Author: Akkadius
Date:   Tue Jan 20 02:59:06 2015 -0600

    Add uint16 debug_level to ProcessLogWrite

Author: Akkadius
Date:   Tue Jan 20 02:58:33 2015 -0600

    Add uint16 debug_level to ProcessConsoleMessage

Author: Robregen
Date:   Wed Jan 28 14:29:27 2015 -0800

    fixed compiling error.

Author: Akkadius
Date:   Tue Jan 20 02:57:31 2015 -0600

    Fix some indents

Author: Akkadius
Date:   Tue Jan 20 02:53:10 2015 -0600

    Implement Linux ANSI colors

Author: Akkadius
Date:   Tue Jan 20 02:45:38 2015 -0600

    Add ANSI color defines for Linux

Author: Akkadius
Date:   Tue Jan 20 02:36:47 2015 -0600

    Convert DeleteCharacter to Log.Out

Author: Akkadius
Date:   Tue Jan 20 02:33:55 2015 -0600

    Convert DeleteAccount to Log.Out

Author: Akkadius
Date:   Tue Jan 20 02:33:15 2015 -0600

    Convert CreateAccount to Log.Out

Author: Akkadius
Date:   Tue Jan 20 02:16:53 2015 -0600

    Database:;ClearMerchantTemp cleanup

Author: Akkadius
Date:   Tue Jan 20 02:14:36 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Tue Jan 20 02:11:31 2015 -0600

    Remove Duplicative MySQL Error: Error updating firstlogon for character %i : %s

Author: Akkadius
Date:   Tue Jan 20 02:10:54 2015 -0600

    Remove Duplicative MySQL Error: Error adding a report for %s: %s

Author: Akkadius
Date:   Tue Jan 20 02:10:16 2015 -0600

    Remove Duplicative MySQL Error: Error adding character to group id: %s

Author: Akkadius
Date:   Tue Jan 20 02:09:36 2015 -0600

    Remove Duplicative MySQL Error: Unable to clear groups:

Author: Akkadius
Date:   Tue Jan 20 02:09:23 2015 -0600

    Remove Duplicative MySQL Error: Unable to clear groups:

Author: Akkadius
Date:   Tue Jan 20 02:08:25 2015 -0600

    Remove Duplicative MySQL Error: Log.Out(Logs::General, Logs::Error, Error

Author: Akkadius
Date:   Tue Jan 20 02:07:39 2015 -0600

    Remove Duplicative MySQL Error: Unable to clear groups:

Author: Akkadius
Date:   Tue Jan 20 02:03:45 2015 -0600

    Remove excess MySQL error message in GetSafePoints

Author: Akkadius
Date:   Tue Jan 20 01:50:35 2015 -0600

    Fix ClearMerchantTemp from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:49:38 2015 -0600

    Fix RemoveTempFactions from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:49:20 2015 -0600

    Fix InsertDoor from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:49:03 2015 -0600

    Fix UpdateKarma from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:48:39 2015 -0600

    Fix DeleteMerchantTemp from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:48:06 2015 -0600

    Fix SaveMerchantTemp from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:47:24 2015 -0600

    Fix UpdateBug from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:46:06 2015 -0600

    Fix LoginIP from erorr message removal

Author: Akkadius
Date:   Tue Jan 20 01:42:42 2015 -0600

    Remove Duplicative MySQL Error: Error in GetLiveChar query '

Author: Akkadius
Date:   Tue Jan 20 01:42:40 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateLiveChar query '

Author: Akkadius
Date:   Tue Jan 20 01:42:39 2015 -0600

    Remove Duplicative MySQL Error: Error in GetCharacterInfo query '

Author: Akkadius
Date:   Tue Jan 20 01:42:36 2015 -0600

    Remove Duplicative MySQL Error: Error in SetMQDetectionFlag query '

Author: Akkadius
Date:   Tue Jan 20 01:42:35 2015 -0600

    Remove Duplicative MySQL Error: Error in SetHackerFlag query '

Author: Akkadius
Date:   Tue Jan 20 01:42:34 2015 -0600

    Remove Duplicative MySQL Error: Error in MoveCharacterToZone(id) query '

Author: Akkadius
Date:   Tue Jan 20 01:42:33 2015 -0600

    Remove Duplicative MySQL Error: Error in MoveCharacterToZone(name) query '

Author: Akkadius
Date:   Tue Jan 20 01:42:32 2015 -0600

    Remove Duplicative MySQL Error: Error in GetServerType query '

Author: Akkadius
Date:   Tue Jan 20 01:42:31 2015 -0600

    Remove Duplicative MySQL Error: Error in CheckUsedName query '

Author: Akkadius
Date:   Tue Jan 20 01:42:30 2015 -0600

    Remove Duplicative MySQL Error: Error in ClearMerchantTemp query '

Author: Akkadius
Date:   Tue Jan 20 01:42:28 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountFromID query '

Author: Akkadius
Date:   Tue Jan 20 01:42:26 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountIDFromLSID query '

Author: Akkadius
Date:   Tue Jan 20 01:42:25 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadFactionData '

Author: Akkadius
Date:   Tue Jan 20 01:42:25 2015 -0600

    Remove Duplicative MySQL Error: Error in AddToNameFilter query '

Author: Akkadius
Date:   Tue Jan 20 01:42:24 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadFactionData '

Author: Akkadius
Date:   Tue Jan 20 01:42:24 2015 -0600

    Remove Duplicative MySQL Error: Error in CheckNameFilter query '

Author: Akkadius
Date:   Tue Jan 20 01:42:23 2015 -0600

    Remove Duplicative MySQL Error: Error in SetCharacterFactionLevel query '

Author: Akkadius
Date:   Tue Jan 20 01:42:22 2015 -0600

    Remove Duplicative MySQL Error: Error in GetPEQZone query '

Author: Akkadius
Date:   Tue Jan 20 01:42:22 2015 -0600

    Remove Duplicative MySQL Error: Error in SetCharacterFactionLevel query '

Author: Akkadius
Date:   Tue Jan 20 01:42:21 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadZoneNames query '

Author: Akkadius
Date:   Tue Jan 20 01:42:20 2015 -0600

    Remove Duplicative MySQL Error: Error in RemoveTempFactions query '

Author: Akkadius
Date:   Tue Jan 20 01:42:20 2015 -0600

    Remove Duplicative MySQL Error: Error in GetZoneGraveyard query '

Author: Akkadius
Date:   Tue Jan 20 01:42:19 2015 -0600

    Remove Duplicative MySQL Error: Error in InsertDoor

Author: Akkadius
Date:   Tue Jan 20 01:42:19 2015 -0600

    Remove Duplicative MySQL Error: Error in GetZoneGraveyardID query '

Author: Akkadius
Date:   Tue Jan 20 01:42:18 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateKarma query '

Author: Akkadius
Date:   Tue Jan 20 01:42:18 2015 -0600

    Remove Duplicative MySQL Error: Error in GetZoneLongName query '

Author: Akkadius
Date:   Tue Jan 20 01:42:16 2015 -0600

    Remove Duplicative MySQL Error: Error in getZoneShutDownDelay query '

Author: Akkadius
Date:   Tue Jan 20 01:42:15 2015 -0600

    Remove Duplicative MySQL Error: Error in GetSafePoint query '

Author: Akkadius
Date:   Tue Jan 20 01:42:14 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadBlockedSpells query '

Author: Akkadius
Date:   Tue Jan 20 01:42:12 2015 -0600

    Remove Duplicative MySQL Error: Error in GetBlockedSpellsCount query '

Author: Akkadius
Date:   Tue Jan 20 01:42:12 2015 -0600

    Remove Duplicative MySQL Error: Error in SetVariable query '

Author: Akkadius
Date:   Tue Jan 20 01:42:11 2015 -0600

    Remove Duplicative MySQL Error: Error in group update query: %s\n

Author: Akkadius
Date:   Tue Jan 20 01:42:11 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadVariables query '

Author: Akkadius
Date:   Tue Jan 20 01:42:09 2015 -0600

    Remove Duplicative MySQL Error: Error in SetZoneTZ query '

Author: Akkadius
Date:   Tue Jan 20 01:42:09 2015 -0600

    Remove Duplicative MySQL Error: Error in GetCharName query '

Author: Akkadius
Date:   Tue Jan 20 01:42:08 2015 -0600

    Remove Duplicative MySQL Error: Error in GetZoneTZ query '

Author: Akkadius
Date:   Tue Jan 20 01:42:08 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountName query '

Author: Akkadius
Date:   Tue Jan 20 01:42:07 2015 -0600

    Remove Duplicative MySQL Error: Error in GetUseCFGSafeCoords query '

Author: Akkadius
Date:   Tue Jan 20 01:42:07 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountIDByAcc query '

Author: Akkadius
Date:   Tue Jan 20 01:42:06 2015 -0600

    Remove Duplicative MySQL Error: Error in DeleteMerchantTemp query '

Author: Akkadius
Date:   Tue Jan 20 01:42:05 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountIDByChar query '

Author: Akkadius
Date:   Tue Jan 20 01:42:04 2015 -0600

    Remove Duplicative MySQL Error: Error in SaveMerchantTemp query '

Author: Akkadius
Date:   Tue Jan 20 01:42:04 2015 -0600

    Remove Duplicative MySQL Error: Error in SetLocalPassword query '

Author: Akkadius
Date:   Tue Jan 20 01:42:02 2015 -0600

    Remove Duplicative MySQL Error: Error in GetGridType query '

Author: Akkadius
Date:   Tue Jan 20 01:42:02 2015 -0600

    Remove Duplicative MySQL Error: Error in DeleteAccount query '

Author: Akkadius
Date:   Tue Jan 20 01:41:58 2015 -0600

    Remove Duplicative MySQL Error: Error loading Mercenaries from database. Bad query:

Author: Akkadius
Date:   Tue Jan 20 01:41:58 2015 -0600

    Remove Duplicative MySQL Error: Error in SetDynamicCount query: %s

Author: Akkadius
Date:   Tue Jan 20 01:41:58 2015 -0600

    Remove Duplicative MySQL Error: Error in GetCommands query '

Author: Akkadius
Date:   Tue Jan 20 01:41:58 2015 -0600

    Remove Duplicative MySQL Error: Error in CreateAccount query '

Author: Akkadius
Date:   Tue Jan 20 01:41:54 2015 -0600

    Remove Duplicative MySQL Error: Error loading NPCs from database. Bad query:

Author: Akkadius
Date:   Tue Jan 20 01:41:54 2015 -0600

    Remove Duplicative MySQL Error: Error in DeleteStaticZone query: %s

Author: Akkadius
Date:   Tue Jan 20 01:41:54 2015 -0600

    Remove Duplicative MySQL Error: Error in GetBook query '

Author: Akkadius
Date:   Tue Jan 20 01:41:54 2015 -0600

    Remove Duplicative MySQL Error: Error in CreateAccount query '

Author: Akkadius
Date:   Tue Jan 20 01:41:47 2015 -0600

    Remove Duplicative MySQL Error: Error in GetMaxNPCSpellsEffectsID query '

Author: Akkadius
Date:   Tue Jan 20 01:41:47 2015 -0600

    Remove Duplicative MySQL Error: Error in SetAccountFlags query '

Author: Akkadius
Date:   Tue Jan 20 01:41:47 2015 -0600

    Remove Duplicative MySQL Error: Error in ChangeStaticZone query: %s

Author: Akkadius
Date:   Tue Jan 20 01:41:47 2015 -0600

    Remove Duplicative MySQL Error: Error in SetSharedPlatinum query '

Author: Akkadius
Date:   Tue Jan 20 01:41:46 2015 -0600

    Remove Duplicative MySQL Error: Error in CheckStatus query '

Author: Akkadius
Date:   Tue Jan 20 01:41:45 2015 -0600

    Remove Duplicative MySQL Error: Error in AddNPCSpells query1 '

Author: Akkadius
Date:   Tue Jan 20 01:41:45 2015 -0600

    Remove Duplicative MySQL Error: Error in DBLoadDoors query '

Author: Akkadius
Date:   Tue Jan 20 01:41:44 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadAccountFlags query '

Author: Akkadius
Date:   Tue Jan 20 01:41:44 2015 -0600

    Remove Duplicative MySQL Error: Error in BootStaticZone query: %s

Author: Akkadius
Date:   Tue Jan 20 01:41:44 2015 -0600

    Remove Duplicative MySQL Error: Error in GetSharedPlatinum query '

Author: Akkadius
Date:   Tue Jan 20 01:41:44 2015 -0600

    Remove Duplicative MySQL Error: Error in Log IP query '

Author: Akkadius
Date:   Tue Jan 20 01:41:35 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateBug '

Author: Akkadius
Date:   Tue Jan 20 01:41:35 2015 -0600

    Remove Duplicative MySQL Error: Error in GetMaxNPCSpellsID query '

Author: Akkadius
Date:   Tue Jan 20 01:41:35 2015 -0600

    Remove Duplicative MySQL Error: Error in GetDoorsCountPlusOne query '

Author: Akkadius
Date:   Tue Jan 20 01:41:35 2015 -0600

    Remove Duplicative MySQL Error: Error in IsDiscovered query '

Author: Akkadius
Date:   Tue Jan 20 01:41:34 2015 -0600

    Remove Duplicative MySQL Error: Error in DeleteLauncher 2nd query: %s

Author: Akkadius
Date:   Tue Jan 20 01:41:34 2015 -0600

    Remove Duplicative MySQL Error: Error in SetGMSpeed query '

Author: Akkadius
Date:   Tue Jan 20 01:41:34 2015 -0600

    Remove Duplicative MySQL Error: Error in Database::AddBannedIP query '

Author: Akkadius
Date:   Tue Jan 20 01:38:43 2015 -0600

    Remove Duplicative MySQL Error:

Author: Cavedude
Date:   Wed Jan 28 13:34:57 2015 -0800

    Added #guildmonitor [guildid]
    
    This allows GMs to monitor guild chat without joining the target guild. The command is "read-only" and as such you cannot send messages to the guild, only receive. Using the /guild command will go to your normal guild, or will give you an error if you do not belong to one. Zoning/Camping will stop monitoring, and setting guildid to 0 will do so as well. Your GM flag must be on for this to command to work. If it is off, monitoring will be paused and will resume when you put it back up. You can grab the guildid by using #guild list.
    
    I would personally prefer it if only top and trusted GMs have access to, and even be made aware of this command.

Author: Akkadius
Date:   Tue Jan 20 01:38:43 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Tue Jan 20 01:37:58 2015 -0600

    Remove Duplicative MySQL Error: Error querying database for monster summoning pet in zone %s (%s)

Author: Akkadius
Date:   Tue Jan 20 01:37:58 2015 -0600

    Remove Duplicative MySQL Error: Unable to query zone flags: %s

Author: Akkadius
Date:   Tue Jan 20 01:37:58 2015 -0600

    Remove Duplicative MySQL Error: Query failed: %s.

Author: Akkadius
Date:   Tue Jan 20 01:37:57 2015 -0600

    Remove Duplicative MySQL Error: Error in CreateLauncher query: %s

Author: Akkadius
Date:   Tue Jan 20 01:35:04 2015 -0600

    Remove commented printf : Used up to slot %d of %d in links\n

Author: Akkadius
Date:   Tue Jan 20 01:35:03 2015 -0600

    Remove commented printf : \tLinkTo %d: dest %d, reach %d\n

Author: Akkadius
Date:   Tue Jan 20 01:35:02 2015 -0600

    Remove commented printf : \tLinkFrom %d: dest %d, reach %d\n

Author: Akkadius
Date:   Tue Jan 20 01:35:01 2015 -0600

    Remove commented printf : Node %d: (%.2f,%.2f,%.2f) LO %d, D %d\n

Author: Akkadius
Date:   Tue Jan 20 01:34:59 2015 -0600

    Remove commented printf : Filling node %d/%d n=0x%x, lb=0x%x, curl=0x%x/0x%x\n

Author: Akkadius
Date:   Tue Jan 20 01:34:58 2015 -0600

    Remove commented printf : Started With node index %d (0x%x)\n

Author: Akkadius
Date:   Tue Jan 20 01:34:53 2015 -0600

    Remove commented printf : Edge crosses %d edges.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:51 2015 -0600

    Remove commented printf : Checking combine LOS on %d, with %d edges.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:50 2015 -0600

    Remove commented printf : Adding item2: %i

Author: Akkadius
Date:   Tue Jan 20 01:34:49 2015 -0600

    Remove commented printf : Distbbb %f, ce2 %f, (%f,%f), (%f,%f)\n

Author: Akkadius
Date:   Tue Jan 20 01:34:48 2015 -0600

    Remove commented printf : Client Spell casted on %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:48 2015 -0600

    Remove commented printf : Dist %f, ce2 %f\n

Author: Akkadius
Date:   Tue Jan 20 01:34:46 2015 -0600

    Remove commented printf : NPC AE, fall thru. spell_id:%i, Target type:%x\n

Author: Akkadius
Date:   Tue Jan 20 01:34:46 2015 -0600

    Remove commented printf : Starting clean at pos %d with %d nodes\n

Author: Akkadius
Date:   Tue Jan 20 01:34:44 2015 -0600

    Remove commented printf : IPC mgb/aebard spell casted on %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:44 2015 -0600

    Remove commented printf :     (%.3f,%.3f,%.3f) -> (%.3f,%.3f,%.3f) d2=%.3f\n

Author: Akkadius
Date:   Tue Jan 20 01:34:43 2015 -0600

    Remove commented printf : IPC Spell casted on %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:42 2015 -0600

    Remove commented printf : IIN: (%.3f,%.3f) in (%.3f -> %.3f, %.3f -> %.3f)\n

Author: Akkadius
Date:   Tue Jan 20 01:34:42 2015 -0600

    Remove commented printf : Cut (%.3f,%.3f,%.3f) -> (%.3f,%.3f,%.3f) d2=%.3f\n

Author: Akkadius
Date:   Tue Jan 20 01:34:42 2015 -0600

    Remove commented printf : Closed packet file.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:40 2015 -0600

    Remove commented printf : NPC AE, fall thru. spell_id:%i, Target type:%x\n

Author: Akkadius
Date:   Tue Jan 20 01:34:40 2015 -0600

    Remove commented printf : Got to node index %d (0x%x)\n

Author: Akkadius
Date:   Tue Jan 20 01:34:40 2015 -0600

    Remove commented printf : Node %d's distance from root is %d\n

Author: Akkadius
Date:   Tue Jan 20 01:34:40 2015 -0600

    Remove commented printf : trail = 0x%x(0x%x) (%.3f, %.3f, %.3f)\n

Author: Akkadius
Date:   Tue Jan 20 01:34:40 2015 -0600

    Remove commented printf : Opening packet file: %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:38 2015 -0600

    Remove commented printf : NPC mgb/aebard spell casted on %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:38 2015 -0600

    Remove commented printf : Proc %s(%d): %p\n

Author: Akkadius
Date:   Tue Jan 20 01:34:38 2015 -0600

    Remove commented printf : ;\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf : ;\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf : Frag 36 reference?: %ld\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf :       Final node with %u faces, list offset %lu.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf : Find Region %ld in node %ld\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf : Look for %s: got %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf :       Final node with %u faces, list offset %lu.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf : Find Region %ld in node %ld\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf :       Final node with %u nodes, list offset %lu.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:36 2015 -0600

    Remove commented printf : Node %d's longest path is %d\n

Author: Akkadius
Date:   Tue Jan 20 01:34:36 2015 -0600

    Remove commented printf : pos=%d/%d\n

Author: Akkadius
Date:   Tue Jan 20 01:34:36 2015 -0600

    Remove commented printf : Write @ %d(%d). %d bytes.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:36 2015 -0600

    Remove commented printf : Closed packet file.\n

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf : NPC Spell casted on %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf : Spawning object %s at %f,%f,%f\n

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf : ProcP %d: %p\n

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf :

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf :

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf : Opening %s.mod\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : fnlen is %d, %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : Returning %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : Node %u: (%.2f -> %.2f, %.2f -> %.2f)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : Find Region %ld in node %ld\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf :     v1=%d, v2=%d, v3=%d, g=%d, unk=%d\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : Look for %s: got %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : Node %u: (%.2f -> %.2f, %.2f -> %.2f)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Find Region %ld in node %ld\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Node %u: (%.2f -> %.2f, %.2f -> %.2f)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : New Color at: (%.3f,%.3f,%.3f)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Missed: (%.3f, %.3f, %.3f)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : ReadMemory: hProcess: %p, baseAddr: %p, buffer: %p, size: %d, read: %d, result: %d\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Read @ %d(%d). %d bytes. (%c)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Got %d bytes: %.*s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Opening packet file: %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:21 2015 -0600

    Remove commented printf : Named: %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:19 2015 -0600

    Remove commented printf : %i: Basetex: %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:17 2015 -0600

    Remove commented printf : %s %s\n

Author: Akkadius
Date:   Tue Jan 20 01:31:06 2015 -0600

    Remove commented std::cout : Awake from condition, must have a stream now

Author: Akkadius
Date:   Tue Jan 20 01:31:05 2015 -0600

    Remove commented std::cout : No streams, waiting on condition

Author: Akkadius
Date:   Tue Jan 20 01:31:04 2015 -0600

    Remove commented std::cout : Removing connection

Author: Akkadius
Date:   Tue Jan 20 01:31:03 2015 -0600

    Remove commented std::cout : Push(): Unlocking MNewStreams

Author: Akkadius
Date:   Tue Jan 20 01:31:02 2015 -0600

    Remove commented std::cout : Push():Locking MNewStreams

Author: Akkadius
Date:   Tue Jan 20 01:31:00 2015 -0600

    Remove commented std::cout : Pop(): Unlocking MNewStreams

Author: Akkadius
Date:   Tue Jan 20 01:30:58 2015 -0600

    Remove commented std::cout : Pop():Locking MNewStreams

Author: Akkadius
Date:   Tue Jan 20 01:30:56 2015 -0600

    Remove commented std::cout : Tlevel:

Author: Akkadius
Date:   Tue Jan 20 01:30:56 2015 -0600

    Remove commented std::cout : CastToTrap error

Author: Akkadius
Date:   Tue Jan 20 01:30:56 2015 -0600

    Remove commented std::cout : Starting factory Writer

Author: Akkadius
Date:   Tue Jan 20 01:30:53 2015 -0600

    Remove commented std::cout : Gender in:

Author: Akkadius
Date:   Tue Jan 20 01:30:53 2015 -0600

    Remove commented std::cout : CastToTrap error

Author: Akkadius
Date:   Tue Jan 20 01:30:53 2015 -0600

    Remove commented std::cout : Sending mana update:

Author: Akkadius
Date:   Tue Jan 20 01:30:53 2015 -0600

    Remove commented std::cout : Starting factory Reader

Author: Akkadius
Date:   Tue Jan 20 01:30:53 2015 -0600

    Remove commented std::cout : Got OP_SessionRequest

Author: Akkadius
Date:   Tue Jan 20 00:53:52 2015 -0600

    Re-Implement GMSay colors: http://i.imgur.com/tQbuKUM.jpg

Author: Akkadius
Date:   Tue Jan 20 00:25:14 2015 -0600

    Remove some old MySQL debugging

Author: Akkadius
Date:   Tue Jan 20 00:21:00 2015 -0600

    MySQL Query Logging add rows returned

Author: Akkadius
Date:   Tue Jan 20 00:14:18 2015 -0600

    Add MySQL Query logging at root

Author: Akkadius
Date:   Mon Jan 19 23:59:59 2015 -0600

    Remove some old MySQL logging for errors

Author: Akkadius
Date:   Mon Jan 19 23:52:11 2015 -0600

    Add MySQL query category

Author: Akkadius
Date:   Mon Jan 19 23:48:30 2015 -0600

    Remove some old MySQL logging for errors

Author: Akkadius
Date:   Mon Jan 19 05:58:59 2015 -0600

    Add console color for MySQL Error logging

Author: Akkadius
Date:   Mon Jan 19 05:58:03 2015 -0600

    Convert MySQL Error logging to EQEmuLogSys and create MySQL Error category

Author: Akkadius
Date:   Mon Jan 19 05:40:27 2015 -0600

    More cleanup of some QueryDatabase references that no longer need auto results

Author: Akkadius
Date:   Mon Jan 19 05:39:51 2015 -0600

    More cleanup of some QueryDatabase references that no longer need auto results

Author: Akkadius
Date:   Mon Jan 19 05:38:23 2015 -0600

    More cleanup of some QueryDatabase references that no longer need auto results

Author: Akkadius
Date:   Mon Jan 19 05:35:28 2015 -0600

    More cleanup of some QueryDatabase references that no longer need auto results

Author: Akkadius
Date:   Mon Jan 19 05:32:34 2015 -0600

    Cleanup of some QueryDatabase references that no longer need auto results

Author: Akkadius
Date:   Mon Jan 19 05:26:19 2015 -0600

    Remove Duplicative MySQL Error: Error executing query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:18 2015 -0600

    Remove Duplicative MySQL Error: Error getting loot drop info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:18 2015 -0600

    Remove Duplicative MySQL Error: Error loading guild member '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:17 2015 -0600

    Remove Duplicative MySQL Error: Error getting loot table info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:16 2015 -0600

    Remove Duplicative MySQL Error: Error loading guild member '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:15 2015 -0600

    Remove Duplicative MySQL Error: Error getting loot table info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:15 2015 -0600

    Remove Duplicative MySQL Error: Error loading guild member list '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:13 2015 -0600

    Remove Duplicative MySQL Error: Error getting loot table info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:13 2015 -0600

    Remove Duplicative MySQL Error: Error %s: '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:10 2015 -0600

    Remove Duplicative MySQL Error: Error in GetHighestWaypoint query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:10 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadBaseData query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:26:10 2015 -0600

    Remove Duplicative MySQL Error: Error setting public note for char %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:09 2015 -0600

    Remove Duplicative MySQL Error: Error in GetFreeGrid query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:09 2015 -0600

    Remove Duplicative MySQL Error: Error in GetMaxBaseDataLevel query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:26:08 2015 -0600

    Remove Duplicative MySQL Error: Error retrieving alt flag '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:08 2015 -0600

    Remove Duplicative MySQL Error: Error adding grid entry '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:07 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpells query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:26:07 2015 -0600

    Remove Duplicative MySQL Error: Error retrieving banker flag '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:06 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadPetInfo query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:06 2015 -0600

    Remove Duplicative MySQL Error: Error getting next waypoint id '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:06 2015 -0600

    Remove Duplicative MySQL Error: Error in GetMaxSpellID query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:26:06 2015 -0600

    Remove Duplicative MySQL Error: Error removing char %d from guild '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:05 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadPetInfo query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:05 2015 -0600

    Remove Duplicative MySQL Error: Error updating spawn2 pathing '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:05 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadDamageShieldTypes: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:26:05 2015 -0600

    Remove Duplicative MySQL Error: Error Changing char %d to guild %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:04 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadPetInfo query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:04 2015 -0600

    Remove Duplicative MySQL Error: Error adding grid '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:03 2015 -0600

    Remove Duplicative MySQL Error: GetFriendsAndIgnore query error %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:03 2015 -0600

    Remove Duplicative MySQL Error: Error getting npc faction info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:03 2015 -0600

    Remove Duplicative MySQL Error: Error setting Channel for guild %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:02 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadBuffs query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:02 2015 -0600

    Remove Duplicative MySQL Error: Error setting pathgrid '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:02 2015 -0600

    Remove Duplicative MySQL Error: Error adding friend/ignore, query was %s : %s

Author: Akkadius
Date:   Mon Jan 19 05:26:02 2015 -0600

    Remove Duplicative MySQL Error: Error getting npc faction info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:02 2015 -0600

    Remove Duplicative MySQL Error: Error setting URL for guild %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:01 2015 -0600

    Remove Duplicative MySQL Error: Error in SaveBuffs query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:01 2015 -0600

    Remove Duplicative MySQL Error: Error deleting waypoint '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:00 2015 -0600

    Remove Duplicative MySQL Error: Error expiring unread messages, %s %s

Author: Akkadius
Date:   Mon Jan 19 05:26:00 2015 -0600

    Remove Duplicative MySQL Error: LoadItems '%s', %s

Author: Akkadius
Date:   Mon Jan 19 05:26:00 2015 -0600

    Remove Duplicative MySQL Error: Error setting MOTD for guild %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:59 2015 -0600

    Remove Duplicative MySQL Error: Error adding waypoint '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:59 2015 -0600

    Remove Duplicative MySQL Error: Error in DisableRecipe query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:58 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpawnConditions events query '%s': %s

Author: Cavedude
Date:   Wed Jan 28 11:21:40 2015 -0800

    Foraged food or water will now be preferred when the player is hungry or thirsty.

Author: Akkadius
Date:   Mon Jan 19 05:25:58 2015 -0600

    Remove Duplicative MySQL Error: Error expiring read messages, %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:58 2015 -0600

    Remove Duplicative MySQL Error: Error in GetItemsCount '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:58 2015 -0600

    Remove Duplicative MySQL Error: Error changing leader on guild %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::RaidGroupCount query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error in Zone::LoadTickItems: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error deleting grid entries '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error in EnableRecipe query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpawnConditions query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAASkillVars '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:55 2015 -0600

    Remove Duplicative MySQL Error: Error expiring trash messages, %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:55 2015 -0600

    Remove Duplicative MySQL Error: GetInventory query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:25:55 2015 -0600

    Remove Duplicative MySQL Error: Error in _GetFreeGuildID query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:54 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::GroupCount query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Error in Zone::LoadNPCEmotes: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Error deleting grid '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Error in LearnRecipe query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpawnConditions query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: CreateNewNPCSpawnGroupCommand Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAASkillVars '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Unable to get message count from database. %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:52 2015 -0600

    Remove Duplicative MySQL Error: GetInventory query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:25:52 2015 -0600

    Remove Duplicative MySQL Error: Error inserting new guild rank record when storing %d for %d. Giving up. '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: ERROR Bind Home Save: %s. %s

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: Error creating grid entry '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: Error in Client::LearnRecipe query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadDBEvent query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: CreateNewNPCSpawnGroupCommand Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:43 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::LoadAAs query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:43 2015 -0600

    Remove Duplicative MySQL Error: Error updating status %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:43 2015 -0600

    Remove Duplicative MySQL Error: DeleteSharedBankSlot, bags query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:43 2015 -0600

    Remove Duplicative MySQL Error: Error inserting new guild record when storing %d. Giving up. '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:37 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateSpawn2Status query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:37 2015 -0600

    Remove Duplicative MySQL Error: Error updating spawn2 '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:37 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateRecipeMadecount query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:37 2015 -0600

    Remove Duplicative MySQL Error: Unable to update spawn condition '%s': %s\n

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: CreateNewNPCSpawnGroupCommand Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::LoadAAs query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: SendMail: Query %s failed with error %s

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: DeleteSharedBankSlot query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: Error in ListRulesets query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:35 2015 -0600

    Remove Duplicative MySQL Error: Error clearing old guild_ranks records when storing %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:33 2015 -0600

    Remove Duplicative MySQL Error: Error in GetSpawnTimeLeft query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:33 2015 -0600

    Remove Duplicative MySQL Error: Error querying fuzzy spawn2 '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:33 2015 -0600

    Remove Duplicative MySQL Error: Error in GetTradeRecept success query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:33 2015 -0600

    Remove Duplicative MySQL Error: Error in RemoveTitle query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:32 2015 -0600

    Remove Duplicative MySQL Error: Unable to update spawn event '%s': %s\n

Author: Akkadius
Date:   Mon Jan 19 05:25:32 2015 -0600

    Remove Duplicative MySQL Error: NPCSpawnDB Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:32 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::CountAALevels query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:32 2015 -0600

    Remove Duplicative MySQL Error: Error updating Owner in database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:31 2015 -0600

    Remove Duplicative MySQL Error: DeleteInventorySlot, bags query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:31 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadRules query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:31 2015 -0600

    Remove Duplicative MySQL Error: Error clearing old guild record when storing %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:27 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateTimeLeft query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error: Error querying spawn2 '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error: Error in tradeskill verify query: '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error: Error in CheckTitle query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error: Error in CreateSpawn2 query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error: Error in RefreshPetitionsFromDB query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:25 2015 -0600

    Remove Duplicative MySQL Error: NPCSpawnDB Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:25 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::CountAAs query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:25 2015 -0600

    Remove Duplicative MySQL Error: Error updating password in database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:25 2015 -0600

    Remove Duplicative MySQL Error: DeleteInventorySlot query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:24 2015 -0600

    Remove Duplicative MySQL Error: Fauled to create rule set in the database: %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:24 2015 -0600

    Remove Duplicative MySQL Error: Error reloading guild ranks '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:23 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateTimeLeft query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:22 2015 -0600

    Remove Duplicative MySQL Error: Error in GetWaypoints query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:22 2015 -0600

    Remove Duplicative MySQL Error: Error in SendTradeskillDetails query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:22 2015 -0600

    Remove Duplicative MySQL Error: Error adding title suffix: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpawn2 query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: Error in GetBasePetItems query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: Error in InsertPetitionToDB query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: NPCSpawnDB Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: Error in GetTotalAALevels '%s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: Failed to load channels. %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: UpdateSharedBankSlot query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadRules query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: Error reloading guilds '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: Error in GetCharactersInInstace query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:18 2015 -0600

    Remove Duplicative MySQL Error: Error in GetZoneCFG query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:18 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadNewMerchantData query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error: Error in GetGridType2 query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error: Error in TradeskillSearchResults query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error: Error adding title: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpawn2 query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:16 2015 -0600

    Remove Duplicative MySQL Error: Error in GetBasePetItems query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:16 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdatePetitionToDB query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:16 2015 -0600

    Remove Duplicative MySQL Error: NPCSpawnDB Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadAAEffects query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: SoF Start zone query failed: %s : %s\n

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: Unable to get message count from database. %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: UpdateInventorySlot query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: Fauled to set rule in the database: %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:14 2015 -0600

    Remove Duplicative MySQL Error: Error loading guild ranks '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:14 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountIDByChar query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:09 2015 -0600

    Remove Duplicative MySQL Error: Error in SaveZoneCFG query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:09 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadTempMerchantData query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:25:09 2015 -0600

    Remove Duplicative MySQL Error: Error in GetHighestGrid query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadTraps query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error: Unable to load titles: %s : %s

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error: Error while querying Spell ID %i spell_globals table query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error: Error in PopulateZoneLists query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:07 2015 -0600

    Remove Duplicative MySQL Error: Error in GetPoweredPetEntry query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:07 2015 -0600

    Remove Duplicative MySQL Error: Error in DeletePetitionFromDB query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:07 2015 -0600

    Remove Duplicative MySQL Error: NPCSpawnDB Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:07 2015 -0600

    Remove Duplicative MySQL Error: Error in Mount query '%s': %s

Author: Cavedude
Date:   Wed Jan 28 09:58:23 2015 -0800

    More illusion tweaks.
    
    Lowered required status for #xpinfo to 100, which is the same as the GM XP message.
    
    GM XP message will now display how much XP you've actually gained.

Author: Akkadius
Date:   Mon Jan 19 05:25:06 2015 -0600

    Remove Duplicative MySQL Error: Error in Forage query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:06 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::LoadAAEffects2 query: '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:06 2015 -0600

    Remove Duplicative MySQL Error: FindCharacter failed. %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:05 2015 -0600

    Remove Duplicative MySQL Error: Error runing inventory verification query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:05 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadRules query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:05 2015 -0600

    Remove Duplicative MySQL Error: Error loading guilds '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:05 2015 -0600

    Remove Duplicative MySQL Error: StoreCharacter inventory failed. Query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:25:05 2015 -0600

    Remove Duplicative MySQL Error: Error in GetSpellColumns query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:24:59 2015 -0600

    Remove Duplicative MySQL Error: Error in ExportBaseData query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:24:54 2015 -0600

    Remove Duplicative MySQL Error: Error in get_skill query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:24:48 2015 -0600

    Remove Duplicative MySQL Error: Error in skill_usable query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:24:38 2015 -0600

    Remove Duplicative MySQL Error: Error in ExportSpells query '%s' %s

Author: Akkadius
Date:   Wed Jan 28 00:05:29 2015 -0600

    Update eqemu_update.pl to download patch_UF.conf instead of patch_Underfoot.conf

Author: Robregen
Date:   Tue Jan 27 21:17:36 2015 -0800

    replace debug.h with global_define.h

Author: Akkadius
Date:   Mon Jan 19 04:27:22 2015 -0600

    More stuff

Author: Akkadius
Date:   Mon Jan 19 04:12:30 2015 -0600

    add global_define.h

Author: Akkadius
Date:   Mon Jan 19 04:12:09 2015 -0600

    Rename debug.h to global_define.h, update cmakelists and such

Author: Akkadius
Date:   Mon Jan 19 04:09:02 2015 -0600

    Stuff

Author: Akkadius
Date:   Mon Jan 19 04:04:50 2015 -0600

    Added types.h to more files that relied on mutex.h to get to debug.h to get to types.h

Author: Akkadius
Date:   Mon Jan 19 04:02:45 2015 -0600

    Add types.h to a bunch of files

Author: Akkadius
Date:   Mon Jan 19 03:49:25 2015 -0600

    Delete debug.cpp file and from cmake

Author: Akkadius
Date:   Mon Jan 19 03:43:30 2015 -0600

    Remove EQDEBUG preprocessor from debug

Author: Akkadius
Date:   Mon Jan 19 03:40:09 2015 -0600

    Removal of client_logs.h from #includes

Author: Akkadius
Date:   Mon Jan 19 03:38:07 2015 -0600

    File deletion of client_logs and CMakeLists.txt update

Author: Akkadius
Date:   Mon Jan 19 03:37:12 2015 -0600

    Removal of client_logs.cpp/.h

Author: Akkadius
Date:   Mon Jan 19 03:36:50 2015 -0600

    Gut more of debug.cpp/.h

Author: Akkadius
Date:   Mon Jan 19 03:33:15 2015 -0600

    Remove logtypes.h from header includes and the file itself

Author: Akkadius
Date:   Mon Jan 19 03:28:00 2015 -0600

    Remove LogSettingsFile from config parsers which removes log.ini completely

Author: Akkadius
Date:   Mon Jan 19 03:25:46 2015 -0600

    General cleanup

Author: Akkadius
Date:   Mon Jan 19 03:22:23 2015 -0600

    Remove QueryPerformanceCounter code

Author: Akkadius
Date:   Mon Jan 19 03:02:00 2015 -0600

    Adjust category names

Author: Akkadius
Date:   Mon Jan 19 03:00:32 2015 -0600

    Convert 'Dropping client:' to Zone Status

Author: Akkadius
Date:   Mon Jan 19 02:59:02 2015 -0600

    Convert 'Client linkdead' to Zone Status

Author: Akkadius
Date:   Mon Jan 19 02:56:52 2015 -0600

    Convert 'Unable to get raid id, char not found!' to Error Category

Author: Akkadius
Date:   Mon Jan 19 02:54:28 2015 -0600

    Convert TimeBroadcast debug message to zone_server category

Author: Akkadius
Date:   Mon Jan 19 02:54:01 2015 -0600

    Implement EQEmuLogSys::GetConsoleColorFromCategory in ProcessConsoleMessage

Author: Akkadius
Date:   Mon Jan 19 02:47:51 2015 -0600

    Add EQEmuLogSys::GetConsoleColorFromCategory(uint16 log_category) to replace the static map

Author: Robregen
Date:   Tue Jan 27 20:06:05 2015 -0800

    fixed compiling issues.

Author: Akkadius
Date:   Mon Jan 19 02:33:52 2015 -0600

    Remove another Log.Hex straggler

Author: Akkadius
Date:   Mon Jan 19 02:32:46 2015 -0600

    Sort header functions

Author: Akkadius
Date:   Mon Jan 19 02:32:24 2015 -0600

    Remove Log.Raw function

Author: Akkadius
Date:   Mon Jan 19 02:32:09 2015 -0600

    Remove Log.Hex remaining entries

Author: Akkadius
Date:   Mon Jan 19 02:30:36 2015 -0600

    Remove Log.Hex references because we're not going to use them anyways per KLS

Author: Akkadius
Date:   Sun Jan 18 04:33:04 2015 -0600

    Add crashtest command back in for crash log testing

Author: Akkadius
Date:   Sun Jan 18 04:15:26 2015 -0600

    Remove eqemu_error.cpp/.h as they are useless

Author: Akkadius
Date:   Sun Jan 18 04:03:45 2015 -0600

    Removal of logsys.h from #include(s)

Author: Robregen
Date:   Tue Jan 27 19:41:17 2015 -0800

    removed (extra) luabind from source.

Author: Akkadius
Date:   Sun Jan 18 04:03:45 2015 -0600

    Removal of logsys.h from #include(s)

Author: Mackal
Date:   Tue Jan 27 21:48:11 2015 -0500

    Remove const

Author: Akkadius
Date:   Sun Jan 18 03:59:51 2015 -0600

    Delete logsys.cpp and logsys.h

Author: Akkadius
Date:   Sun Jan 18 03:53:35 2015 -0600

    Buildable state with converting hex packet dumps

Author: Mackal
Date:   Tue Jan 27 21:28:38 2015 -0500

    Switch AI timers to smart pointers

Author: Akkadius
Date:   Sun Jan 18 03:25:52 2015 -0600

    Remove occurrences of _pkt

Author: Akkadius
Date:   Sun Jan 18 03:23:36 2015 -0600

    Bunch of crazy changes to remove logsys

Author: Akkadius
Date:   Tue Jan 27 20:24:43 2015 -0600

    Some minor format changes to SaveCharacterCorpse

Author: Akkadius
Date:   Sun Jan 18 02:56:51 2015 -0600

    More gutting of logsys.cpp/h

Author: Akkadius
Date:   Sun Jan 18 02:52:32 2015 -0600

    Rip out load_log_settings in all projects

Author: Akkadius
Date:   Sun Jan 18 02:46:34 2015 -0600

    Delete zone/zone_logsys.cpp

Author: Akkadius
Date:   Sun Jan 18 02:45:18 2015 -0600

    Delete logsys_eqemu.cpp

Author: Akkadius
Date:   Sun Jan 18 02:43:11 2015 -0600

    Gut some more debug functions

Author: Akkadius
Date:   Sun Jan 18 02:40:58 2015 -0600

    delete world/world_logsys.cpp

Author: Akkadius
Date:   Sun Jan 18 02:35:15 2015 -0600

    Update debug levels

Author: Akkadius
Date:   Tue Jan 27 19:46:31 2015 -0600

    Fix for ZoneDatabase::SaveCharacterCorpse where a corpse was empty and two individual corpses would be created

Author: Akkadius
Date:   Sun Jan 18 02:20:16 2015 -0600

    Moved all EQEmuLogSys:: enum references used in Log.Out to a namespace 'Logs' for shortening of syntax

Author: Mackal
Date:   Tue Jan 27 19:53:13 2015 -0500

    Fix some bugs with starting AI in mercs
    
    The vtable ptr is that of the current constructor the code is in ...

Author: Mackal
Date:   Tue Jan 27 19:32:49 2015 -0500

    clang-modernize use-nullptr on zone/mob_ai.cpp

Author: Cavedude
Date:   Tue Jan 27 15:39:05 2015 -0800

    Revert GM XP message change, don't have time to fix it.

Author: Mackal
Date:   Tue Jan 27 18:16:55 2015 -0500

    Merc NPCType memleak fix

Author: Akkadius
Date:   Sun Jan 18 02:00:15 2015 -0600

    Renamed DoLog to Out as the aggregate logging function for simplicity of use and shortened syntax of Log.Out

Author: Cavedude
Date:   Tue Jan 27 11:41:47 2015 -0800

    Added rule to prevent greens from giving XP to anybody in the group, until the group split formula can be worked out.

Author: Cavedude
Date:   Tue Jan 27 11:22:13 2015 -0800

    Fixed desync caused by the client placing a ranged item into the ammo slot. Please note: In order for small throwing items (Shuriken) to work, you MUST have one in your ranged slot. The client will then pull the rest from ammo. Auto-equip into ammo, then pull one off the stack and drop it into ranged. The client seems to treat these items like a bow and arrow.

Author: Cavedude
Date:   Tue Jan 27 15:03:56 2015 -0800


Author: Uleat
Date:   Sat Jan 24 22:00:06 2015 -0500

    Implemented mob equipment light sources

Author: Akkadius
Date:   Sun Jan 18 01:54:09 2015 -0600

    Renamed DebugCategory to DoLog as the aggregate logging function for simplicity of use and shortened syntax of Log.DoLog

Author: Robregen
Date:   Tue Jan 27 12:53:20 2015 -0800

    fixed compiling error.

Author: Akkadius
Date:   Sun Jan 18 01:50:05 2015 -0600

    Compile state

Author: Akkadius
Date:   Sun Jan 18 01:48:07 2015 -0600

    Refactor GMSayHookCallBackProcess to use category instead of type

Author: Akkadius
Date:   Sun Jan 18 01:45:58 2015 -0600

    Refactor ProcessConsoleMessage to no longer use type

Author: Akkadius
Date:   Sun Jan 18 01:42:23 2015 -0600

    Refactor ProcessLogWrite to no longer use type

Author: Akkadius
Date:   Sun Jan 18 01:41:11 2015 -0600

    Refactor ProcessGMSay to no longer use type

Author: Akkadius
Date:   Sun Jan 18 01:39:01 2015 -0600

    Remove EQEmuLogSys::Log from consolidation of types into categories

Author: Akkadius
Date:   Sun Jan 18 01:37:54 2015 -0600

    Consolidate 'LogType' Debug logs over to 'LogCategory'

Author: Akkadius
Date:   Sun Jan 18 01:34:31 2015 -0600

    Consolidate 'LogType' Commands logs over to 'LogCategory'

Author: Akkadius
Date:   Sun Jan 18 01:32:57 2015 -0600

    Consolidate 'LogType' Quest logs over to 'LogCategory'

Author: Akkadius
Date:   Sun Jan 18 01:32:18 2015 -0600

    Consolidate 'LogType' Normal logs over to 'LogCategory'

Author: Akkadius
Date:   Sun Jan 18 01:30:25 2015 -0600

    Consolidate 'LogType' Error logs over to 'LogCategory'

Author: Cavedude
Date:   Tue Jan 27 11:41:47 2015 -0800

    Added rule to prevent greens from giving XP to anybody in the group, until the group split formula can be worked out.

Author: Akkadius
Date:   Sun Jan 18 01:29:28 2015 -0600

    Consolidate 'LogType' Crash logs over to 'LogCategory'

Author: Akkadius
Date:   Sun Jan 18 01:27:52 2015 -0600

    Port Status messages from Type to Category

Author: Akkadius
Date:   Sun Jan 18 01:24:35 2015 -0600

    Consolidate 'LogType' over to 'LogCategory'

Author: Akkadius
Date:   Sun Jan 18 01:04:59 2015 -0600

    Remove new log prefix from console output

Author: Akkadius
Date:   Sun Jan 18 00:56:26 2015 -0600

    Remove old function code from consolidation

Author: Akkadius
Date:   Sun Jan 18 00:41:18 2015 -0600

    Rename reference logger to Log

Author: Cavedude
Date:   Tue Jan 27 11:22:13 2015 -0800

    Fixed desync caused by the client placing a ranged item into the ammo slot. Please note: In order for small throwing items (Shuriken) to work, you MUST have one in your ranged slot. The client will then pull the rest from ammo. Auto-equip into ammo, then pull one off the stack and drop it into ranged. The client seems to treat these items like a bow and arrow.

Author: Uleat
Date:   Tue Jan 27 05:09:35 2015 -0500

    Finished ClientVersion naming conventions (don't forget to copy the renamed patch_UF.conf file)

Author: Trevius
Date:   Tue Jan 27 00:35:39 2015 -0600

    Removed "Mercenary Debug:" from the Mercenary Log entries.
    Resolved duplicate "You have no Mercenaries" messages when zoning without owning a Mercenary.
    Mercenaries should now always be able to unsuspend if the timer is up.
    More work on Mercenaries and Grouping to reduce bugs and redundant queries.

Author: JJ
Date:   Mon Jan 26 21:26:01 2015 -0500

    Remove specified user/database. [skip ci]

Author: Uleat
Date:   Mon Jan 26 19:44:33 2015 -0500

    Changed the return type of Corpse::MoveItemToCorpse() to void and added a 'by address' parameter to replace it -- Fixed a bug that would 'unattune' soulbound items inside of bags

Author: Cavedude
Date:   Mon Jan 26 15:26:43 2015 -0800

    GetBaseSize() will now work for clients, which fixes the Growth spell cap.
    
    Changed #size to use ChangeSize()
    
    Added GetBaseSize() to #showstats for both players and NPCs.
    
    SE_Illusion will now grab the player's texture instead of using 0.

Author: Cavedude
Date:   Mon Jan 26 15:26:43 2015 -0800

    GetBaseSize() will now work for clients, which fixes the Growth spell cap.
    
    Changed #size to use ChangeSize()
    
    Added GetBaseSize() to #showstats for both players and NPCs.
    
    SE_Illusion will now grab the player's texture instead of using 0.

Author: Akkadius
Date:   Sun Jan 18 00:32:11 2015 -0600

    Add opcode name lookup on unhandled client opcode log message

Author: Akkadius
Date:   Sun Jan 18 00:25:23 2015 -0600

    Fix some unhandled opcode output messages

Author: Akkadius
Date:   Sun Jan 18 00:06:01 2015 -0600

    Consolidate EQEmuLogsys::Debug stragglers to DebugCategory for further refactoring

Author: Cavedude
Date:   Mon Jan 26 12:28:38 2015 -0800

    Compile fix.

Author: Akkadius
Date:   Sun Jan 18 00:00:03 2015 -0600

    Consolidate EQEmuLogsys::Debug General calls into DebugCategory

Author: Akkadius
Date:   Sat Jan 17 23:59:06 2015 -0600

    Consolidate EQEmuLogsys::Debug calls into DebugCategory

Author: Natedog
Date:   Mon Jan 26 10:55:14 2015 -0800

    Allow ranged procs to work again

Author: Mackal
Date:   Mon Jan 26 00:31:50 2015 -0500

    Rewrite StringFormat to take advantage of RVO
    
    The standard stipulates that if RVO doesn't take place, that it should
    return an rvalue anyways, so move semantics should take place without
    the std::move, which were just forcing RVO to not be attempted.
    
    Also removed duplicate code
    
    The only thing that /might/ be slower is the output.clear() but that's
    an edge case anyways.

Author: KLS
Date:   Sat Jan 24 12:01:42 2015 -0800

    Fix for bug with usage of IsOrigin, bug from when i was just doing glm::dot(pos, pos) == 0

Author: Akkadius
Date:   Mon Jan 26 01:51:29 2015 -0600

    Fix for GetCharactersInInstance post-cleanup

Author: Mackal
Date:   Mon Jan 26 00:31:50 2015 -0500

    Rewrite StringFormat to take advantage of RVO
    
    The standard stipulates that if RVO doesn't take place, that it should
    return an rvalue anyways, so move semantics should take place without
    the std::move, which were just forcing RVO to not be attempted.
    
    Also removed duplicate code
    
    The only thing that /might/ be slower is the output.clear() but that's
    an edge case anyways.

Author: Akkadius
Date:   Sun Jan 25 23:27:44 2015 -0600

    Natedog: Fix #gassign to work more appropriately and simplify the function

Author: Robregen
Date:   Sun Jan 25 21:16:13 2015 -0800

    correct a few DistanceSquare to use DistanceSquareNoZ.

Author: Robregen
Date:   Sun Jan 25 20:05:43 2015 -0800

    fixed linux compiled.

Author: Robregen
Date:   Sun Jan 25 19:26:51 2015 -0800

    linux compiled fixed?

Author: Akkadius
Date:   Sun Jan 25 21:26:25 2015 -0600

    Now that versioning works, set script back to V 2 [skip ci]

Author: Akkadius
Date:   Sun Jan 25 21:23:50 2015 -0600

    Rename db_update.pl to eqemu_update.pl so that the script is more of a generic upgrade script for future add-ons as well as implementing versioning without waiting for everyone to download the copy of the script that successfully self-updates. [skip ci]

Author: Akkadius
Date:   Sun Jan 25 20:54:45 2015 -0600

    Update db_update.pl verbiage [ci skip]

Author: Akkadius
Date:   Sun Jan 25 20:48:30 2015 -0600

    Re-Implement file check for db_update.pl in Database::CheckDatabaseConversions() so when the file exists it isn't re-downloaded
    Increment db_update.pl current version to version 2
    Update Database::CheckDatabaseConversions() to check for version 2 of db_update.pl

Author: Akkadius
Date:   Sun Jan 25 20:39:54 2015 -0600

    Fail safe for db_update.pl so that the menu loop does not loop forever, it will exit after 50 loops
    Add --no-check-certificate to Linux wget for method GetRemoteFile in db_update.pl
    Add a case where if the actual database version is greater than what world reports as the binary_database_version that it will simply continue booting up

Author: KLS
Date:   Fri Jan 23 17:58:03 2015 -0800

    Fix for polluted headers that were messing with glm

Author: KLS
Date:   Fri Jan 23 12:23:24 2015 -0800

    Fix for x and y swapped on water maps

Author: KLS
Date:   Fri Jan 23 00:01:10 2015 -0800

    Switched out our kinda juryrigged vector types for glm::vec types since we use that as a 3d math library already but never switched out the types

Author: KLS
Date:   Thu Jan 22 16:52:50 2015 -0800

    Updated version of glm

Author: Mackal
Date:   Wed Dec 24 18:29:23 2014 -0500

    Use lambdas in sort functions (for zone at least)

Author: Akkadius
Date:   Sun Jan 25 16:51:58 2015 -0600

    Update db_dumper.pl to allow remote host backups

Author: KLS
Date:   Sun Jan 25 14:18:12 2015 -0800

    Fix for spell target det crash. Also added a command line arg to world ignore_db that lets you ignore the db conversion process for servers that dont need it.

Author: Robregen
Date:   Sun Jan 25 12:53:44 2015 -0800

    fixed hate related location related to watermap

Author: Robregen
Date:   Sun Jan 25 11:38:26 2015 -0800

    fixed location in our version of Watermap that was not in EQEmu source.

Author: Trevius
Date:   Sun Jan 25 12:31:07 2015 -0600

    Added Logs::Mercenaries to the new Logging System.  Logging of Mercenary information is off by default with the required SQL.

Author: Paul Coene
Date:   Sun Jan 25 12:42:19 2015 -0500

    Procedure for peqdb users to see all faction information for their character.

Author: Trevius
Date:   Sun Jan 25 11:28:34 2015 -0600

    Fixed an issue where Mercenaries were causing several DB queries per second while suspended.

Author: Paul Coene
Date:   Sun Jan 25 09:55:41 2015 -0500

    Report repair as well as change from Update Personal Faction.

Author: Paul Coene
Date:   Sun Jan 25 09:46:00 2015 -0500

    Repair faction messaging code.
    
    The messages were being based on total faction rather than personal faction.
    The personal faction range is all that is needed to detremine which message.
    
    There were several bugs as well.  Fixed several edge conditions

Author: Akkadius
Date:   Sun Jan 25 04:24:05 2015 -0600

    Add extra checking at the root of Log.Out to check if the category is subscribed to any of the output methods before trying to parse message strings and then pass them to the sub output functions and THEN perform log_setting checks and debug_level checks.
    
    I performed a unit test of 1,000,000 log writes, there is hardly any difference.
    
    #::: Before Checks
    [01-25-2015 :: 03:15:35] [999999] Test #2... Took 17.940001 seconds
    
    #::: With Checks
    [01-25-2015 :: 04:10:55] [999999] Test #2... Took 18.018000 seconds

Author: Akkadius
Date:   Sun Jan 25 02:27:30 2015 -0600

    Travis compile fix for real?

Author: Akkadius
Date:   Sun Jan 25 02:23:05 2015 -0600

    Help Travis figure out what time of day it is

Author: Akkadius
Date:   Sun Jan 25 02:16:11 2015 -0600

    Add database_instances.cpp

Author: Akkadius
Date:   Sun Jan 25 01:42:46 2015 -0600

    Revert some entity related CastTo changes

Author: Akkadius
Date:   Sat Jan 24 23:55:01 2015 -0600

    DeleteCharacter remove whitespaces in line endings

Author: Akkadius
Date:   Sat Jan 24 23:52:48 2015 -0600

    DeleteCharacter formatting changes

Author: Akkadius
Date:   Sat Jan 24 23:49:29 2015 -0600

    Misc formatting changes

Author: Akkadius
Date:   Sat Jan 24 23:43:00 2015 -0600

    Cleanup database.h header and add database_conversions.cpp file

Author: Akkadius
Date:   Sat Jan 24 23:34:14 2015 -0600

    Create database_conversions.cpp and move all of the conversion code to it

Author: Akkadius
Date:   Sat Jan 24 23:10:55 2015 -0600

    Cleanup Database::GetMiniLoginAccount

Author: Akkadius
Date:   Sat Jan 24 23:08:40 2015 -0600

    Cleanup Database::AddClientToInstance

Author: Akkadius
Date:   Sat Jan 24 23:05:41 2015 -0600

    Cleanup Database::CheckInstanceExists

Author: Akkadius
Date:   Sat Jan 24 23:04:55 2015 -0600

    Cleanup Database::BuryCorpsesInInstance

Author: Akkadius
Date:   Sat Jan 24 23:02:51 2015 -0600

    Cleanup Database::CheckInstanceExists, use just one column instead of * as storing more results than you need to is generally slower

Author: Akkadius
Date:   Sat Jan 24 22:59:52 2015 -0600

    Cleanup Database::GetAdventureStats

Author: Akkadius
Date:   Sat Jan 24 22:58:14 2015 -0600

    Cleanup Database::GlobalInstance

Author: Akkadius
Date:   Sat Jan 24 22:56:18 2015 -0600

    Cleanup Database::AssignRaidToInstance

Author: Akkadius
Date:   Sat Jan 24 22:55:51 2015 -0600

    Cleanup Database::AssignGroupToInstance

Author: Akkadius
Date:   Sat Jan 24 22:55:15 2015 -0600

    Cleanup Database::GetCharactersInInstance

Author: Akkadius
Date:   Sat Jan 24 22:54:16 2015 -0600

    Cleanup Database::GetInstanceID, the 2nd version

Author: Akkadius
Date:   Sat Jan 24 22:51:49 2015 -0600

    Cleanup Database::GetInstanceID

Author: Robregen
Date:   Sat Jan 24 20:48:11 2015 -0800

    Change the remaining _log to new logging system.

Author: Akkadius
Date:   Sat Jan 24 22:48:06 2015 -0600

    Removed COMMANDS_LOGGING ifdef

Author: Akkadius
Date:   Sat Jan 24 22:46:40 2015 -0600

    Adjust some commands that default to 0, change Log commands to Commands category instead of Error

Author: Akkadius
Date:   Sat Jan 24 22:42:51 2015 -0600

    Remove redundant MySQL error message in ClearRaidLeader

Author: Akkadius
Date:   Sat Jan 24 22:40:58 2015 -0600

    Remove redundant MySQL error message in ClearAllRaidLeaders

Author: Akkadius
Date:   Sat Jan 24 22:38:35 2015 -0600

    Remove redundant MySQL error message in SetRaidGroupLeaderInfo

Author: Akkadius
Date:   Sat Jan 24 22:37:40 2015 -0600

    Cleanup Database::GetRaidLeaderName log Messages

Author: Akkadius
Date:   Sat Jan 24 22:29:23 2015 -0600

    Suppress Error message for GetRaidID (Unable to get raid id, char not found) because it will happen for any player who is not in a raid anyways which makes it pointless

Author: Akkadius
Date:   Sat Jan 24 22:29:15 2015 -0600

    Suppress Error message for GetRaidID (Unable to get raid id, char not found) because it will happen for any player who is not in a raid anyways which makes it pointless

Author: Speedz
Date:   Sat Jan 24 20:24:56 2015 -0800

    Enabled #testcopy to work off a windows batch file or linux bash.
    - Windows file needs to be named tak_testcopy.bat
    - Linux file needs to be named tak_testcopy
    - This command sends the targeted character name to either file to be used as a variable.

Author: Akkadius
Date:   Sat Jan 24 22:22:30 2015 -0600

    Convert Entity::CastToNPC to Log.Out with EQDEBUG remove

Author: Akkadius
Date:   Sat Jan 24 22:20:58 2015 -0600

    Convert Entity::CastToClient to Log.Out

Author: Akkadius
Date:   Sat Jan 17 02:59:49 2015 -0600

    Remove zlog completely

Author: Akkadius
Date:   Sat Jan 17 02:59:10 2015 -0600

    Replace all zlog calls

Author: Akkadius
Date:   Sat Jan 17 02:57:47 2015 -0600

    Remove clog completely

Author: Akkadius
Date:   Sat Jan 17 02:56:10 2015 -0600

    Replace all clog calls, (Mostly WORLD__)

Author: Akkadius
Date:   Sat Jan 24 22:09:58 2015 -0600

    Doors::HandleClick and remove #EQDEBUG check, convert log

Author: Akkadius
Date:   Sat Jan 24 22:05:29 2015 -0600

    Update  database table to the real defaults that it was intended to have

Author: Akkadius
Date:   Sat Jan 24 22:01:37 2015 -0600

    Cleanup logging in Client::Handle_OP_CastSpell as well as some more conversions

Author: Akkadius
Date:   Sat Jan 24 22:00:20 2015 -0600

    Cleanup logging in Client::Handle_OP_CastSpell

Author: Akkadius
Date:   Sat Jan 17 02:54:02 2015 -0600

    Remove mlog and _log completely

Author: Robregen
Date:   Sat Jan 24 19:41:39 2015 -0800

    change some remaining mlog to new log

Author: Speedz
Date:   Sat Jan 24 19:35:39 2015 -0800

    Added a GIT version stamp to variables table.

Author: Akkadius
Date:   Sat Jan 17 02:52:30 2015 -0600

    Convert skill mlog call

Author: Akkadius
Date:   Sat Jan 17 02:50:29 2015 -0600

    Convert OPGMTrainSkill mlogs

Author: Akkadius
Date:   Sat Jan 17 02:48:50 2015 -0600

    Convert Client::HandlePaclet

Author: Robregen
Date:   Sat Jan 24 19:26:39 2015 -0800

    fixed some mlog

Author: Akkadius
Date:   Sat Jan 17 02:46:26 2015 -0600

    Convert Client unhandled incoming opcodes

Author: Akkadius
Date:   Sat Jan 17 02:33:48 2015 -0600

    port mlog '*PATHING*' category to new log system

Author: Uleat
Date:   Sat Jan 24 22:10:17 2015 -0500

    Added more to changelog notes for equipment light source commit

Author: Akkadius
Date:   Sat Jan 17 02:32:45 2015 -0600

    Add 'Pathing' log category

Author: Akkadius
Date:   Sat Jan 17 02:30:58 2015 -0600

    port mlog 'CLIENT__TRADING' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:28:25 2015 -0600

    port mlog 'CLIENT__SPELLS' category to new log system

Author: Robregen
Date:   Sat Jan 24 19:05:39 2015 -0800

    fixed combat logging.

Author: Uleat
Date:   Sat Jan 24 22:00:06 2015 -0500

    Implemented mob equipment light sources

Author: Akkadius
Date:   Sat Jan 17 02:22:53 2015 -0600

    port mlog 'Combat' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:21:51 2015 -0600

    Add 'Combat' log category

Author: Akkadius
Date:   Sat Jan 17 02:20:01 2015 -0600

    port mlog 'AI' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:16:44 2015 -0600

    port mlog 'Guilds' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:04:43 2015 -0600

    port mlog 'Inventory' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:01:20 2015 -0600

    port mlog 'Spells' category to new log system

Author: Akkadius
Date:   Sat Jan 17 01:59:18 2015 -0600

    Port mlog AA category to new log system

Author: Akkadius
Date:   Sat Jan 17 01:52:12 2015 -0600

    Strip newlines that pipe from quest logs

Author: Akkadius
Date:   Fri Jan 16 22:12:36 2015 -0600

    Remove occurrences of mkpt

Author: Akkadius
Date:   Fri Jan 16 22:04:40 2015 -0600

    Delete mpkt and some calls to it

Author: Akkadius
Date:   Fri Jan 16 21:58:08 2015 -0600

    Keep mlog happy until it is completely replaced

Author: Akkadius
Date:   Fri Jan 16 21:54:51 2015 -0600

    Remove command_mlog

Author: Akkadius
Date:   Fri Jan 16 21:53:56 2015 -0600

    Remove some mlog related functions in Mob::

Author: Akkadius
Date:   Fri Jan 16 21:40:47 2015 -0600

    added debug.cpp/.h back in temporarily because of stupid dependencies

Author: Akkadius
Date:   Fri Jan 16 21:39:51 2015 -0600

    More debug changes

Author: Akkadius
Date:   Fri Jan 16 21:30:41 2015 -0600

    Remove debug.cpp/.h files and from CMakeLists.txt

Author: Cavedude
Date:   Sat Jan 24 17:51:45 2015 -0800

    Revert "Revert "Merge branch 'master' of https://github.com/cavedude00/Server into HEAD""
    

Author: Akkadius
Date:   Fri Jan 16 21:26:37 2015 -0600

    Remove EQEmuLog::Dump

Author: Akkadius
Date:   Fri Jan 16 21:23:50 2015 -0600

    Remove more old Callback code

Author: Akkadius
Date:   Fri Jan 16 21:21:53 2015 -0600

    Remove EQEmuLog writebuf

Author: Uleat
Date:   Sat Jan 24 20:46:48 2015 -0500

    Added 'NoDrop Hack' check log message to Client::SwapItem()

Author: Cavedude
Date:   Sat Jan 24 17:46:36 2015 -0800

    Cleaned up more message colors.
    
    Added a rule to help readjust boats.

Author: Akkadius
Date:   Fri Jan 16 21:19:53 2015 -0600

    Convert Perl Quest Logging to the new system

Author: Akkadius
Date:   Fri Jan 16 21:19:19 2015 -0600

    Add 'Quests' Category

Author: Akkadius
Date:   Fri Jan 16 20:58:13 2015 -0600

    Remove some more old log callbacks

Author: Akkadius
Date:   Fri Jan 16 03:09:02 2015 -0600

    Rename LogDebugType to DebugCategory

Author: Akkadius
Date:   Fri Jan 16 03:02:30 2015 -0600

    Remove my test code in net.cpp

Author: Akkadius
Date:   Fri Jan 16 03:22:23 2015 -0600

    Fix Callback in zone, some stragglers in the renaming of function

Author: Akkadius
Date:   Fri Jan 16 03:00:49 2015 -0600

    Cleaning up Zone net.cpp

Author: Akkadius
Date:   Fri Jan 16 02:56:39 2015 -0600

    Move GMSayHookCallBackProcess out of client logs and into Zone Class

Author: Akkadius
Date:   Fri Jan 16 02:51:29 2015 -0600

    Rip out Client Log functions that were used in Callbacks

Author: Akkadius
Date:   Fri Jan 16 02:49:23 2015 -0600

    Rip out Client Log Callbacks from zone

Author: Akkadius
Date:   Fri Jan 16 02:45:18 2015 -0600

    Remove command_logs

Author: Akkadius
Date:   Fri Jan 16 02:44:30 2015 -0600

    Remove command_nologs

Author: Akkadius
Date:   Fri Jan 16 02:43:24 2015 -0600

    Remove command_log

Author: Akkadius
Date:   Fri Jan 16 02:26:19 2015 -0600

    Convert Client::SendAllPackets to new debug log

Author: Akkadius
Date:   Fri Jan 16 02:18:30 2015 -0600

    Another convert

Author: Akkadius
Date:   Fri Jan 16 02:16:07 2015 -0600

    Converted mlogs in Mob::CheckHitChance to new logs

Author: Akkadius
Date:   Fri Jan 16 02:12:19 2015 -0600

    Removed #ATTACK_DEBUG Mob::CheckHitChance and converted debug

Author: Akkadius
Date:   Fri Jan 16 02:11:28 2015 -0600

    Removed #EQDEBUG Mob::CheckHitChance and converted debug

Author: Akkadius
Date:   Fri Jan 16 02:10:10 2015 -0600

    Removed #EQDEBUG Mob::AttackAnimation

Author: Akkadius
Date:   Fri Jan 16 02:09:13 2015 -0600

    Add 'Attack' Category

Author: Akkadius
Date:   Fri Jan 16 02:08:04 2015 -0600

    Removed attack.cpp #EQDEBUG

Author: Akkadius
Date:   Fri Jan 16 02:07:19 2015 -0600

    Converted more Aggro Debugs

Author: Akkadius
Date:   Fri Jan 16 02:06:22 2015 -0600

    Removed preprocessor EQDEBUG in CheckWillAggro and converted log message

Author: Akkadius
Date:   Fri Jan 16 02:04:52 2015 -0600

    Add 'Aggro' Category

Author: Akkadius
Date:   Fri Jan 16 01:48:43 2015 -0600

    Removed preprocessor EQDEBUG from EQStream from unknown opcode to Application map for PopRawPacket

Author: Akkadius
Date:   Fri Jan 16 01:47:27 2015 -0600

    Removed preprocessor EQDEBUG from EQStream from unknown opcode to Application map

Author: Akkadius
Date:   Fri Jan 16 01:46:17 2015 -0600

    ChannelMesssageReceived debug convert from preprocessor

Author: Akkadius
Date:   Fri Jan 16 01:26:36 2015 -0600

    Add Client_Server_Packet Category

Author: Akkadius
Date:   Fri Jan 16 01:21:58 2015 -0600

    ServerOP_ZAAuthFailed cout message to LogDebugType

Author: Akkadius
Date:   Fri Jan 16 01:21:02 2015 -0600

    Adjust World to zone port assignment message

Author: Akkadius
Date:   Fri Jan 16 01:16:17 2015 -0600

    Fix for 'is a GM' convert (Derp)

Author: Akkadius
Date:   Fri Jan 16 01:08:26 2015 -0600

    TCPConnection Loop add to TCP Category

Author: Akkadius
Date:   Fri Jan 16 01:07:29 2015 -0600

    TCPConnection LogCategory Add

Author: Akkadius
Date:   Fri Jan 16 01:03:15 2015 -0600

    Fix for tcp_connection.cpp logger references

Author: Akkadius
Date:   Fri Jan 16 00:54:27 2015 -0600

    Add Linux chmod mask 0755 for mkdir

Author: Akkadius
Date:   Fri Jan 16 00:53:31 2015 -0600

    Add include to eq_stream_factory.cpp for EQEmuLogSys

Author: Akkadius
Date:   Fri Jan 16 00:52:00 2015 -0600

    Comment defaults debugging

Author: Akkadius
Date:   Fri Jan 16 00:50:16 2015 -0600

    Re-Index Log Categories to avoid bugginies with index references

Author: Akkadius
Date:   Fri Jan 16 00:44:28 2015 -0600

    Comment defaults debugging

Author: Akkadius
Date:   Fri Jan 16 00:40:43 2015 -0600

    Converted 'is a GM' debug

Author: Akkadius
Date:   Fri Jan 16 00:37:36 2015 -0600

    Converted SyncWorldtime std::cout

Author: Akkadius
Date:   Fri Jan 16 00:15:34 2015 -0600

    Correct log_settings checks

Author: Akkadius
Date:   Fri Jan 16 00:14:49 2015 -0600

    Implement log_settings for ProcessConsoleMessage

Author: Akkadius
Date:   Fri Jan 16 00:14:16 2015 -0600

    Implement log_settings for ProcessLogWrite

Author: Akkadius
Date:   Fri Jan 16 00:13:56 2015 -0600

    Implement log_settings for ProcessGMSay

Author: Akkadius
Date:   Fri Jan 16 00:07:30 2015 -0600

    Rename LoadLogSettings to LoadLogSettingsDefaults

Author: Akkadius
Date:   Fri Jan 16 00:06:12 2015 -0600

    zone LoadLogSysSettings

Author: Akkadius
Date:   Thu Jan 15 23:49:20 2015 -0600

    Add Database::LoadLogSysSettings function

Author: Akkadius
Date:   Thu Jan 15 23:10:45 2015 -0600

    Added 2015_1_15_logsys_categories_table.sql

Author: Akkadius
Date:   Thu Jan 15 22:44:27 2015 -0600

    Add category processing to ProcessGMSay so we don't get a zone crash from feedback loop of GMSay outputting packets, then those packets going to GMSay. This would make a log inside of a log inside of a log, I call it, log inception

Author: Akkadius
Date:   Thu Jan 15 22:38:24 2015 -0600

    Add category to ProcessLogWrite

Author: Akkadius
Date:   Thu Jan 15 22:37:36 2015 -0600

    Add category to ProcessConsoleMessage

Author: Akkadius
Date:   Thu Jan 15 22:35:58 2015 -0600

    Add category to ProcessGMSay

Author: Akkadius
Date:   Thu Jan 15 22:17:37 2015 -0600

    Some EQEmuLogSys changes

Author: Akkadius
Date:   Wed Jan 14 05:12:01 2015 -0600

    More moving around of internal EQEmuLogSys functions

Author: Akkadius
Date:   Tue Jan 13 15:13:12 2015 -0600

    Removal of rule based settings, moving to separate DB table

Author: Akkadius
Date:   Tue Jan 13 15:11:01 2015 -0600

    EQEmuLogSys internal function consolidation

Author: Akkadius
Date:   Tue Jan 13 13:43:41 2015 -0600

    Debug message function updates

Author: Akkadius
Date:   Mon Jan 12 23:08:35 2015 -0600

    _log replacements in various spots

Author: Akkadius
Date:   Mon Jan 12 23:01:01 2015 -0600

    Convert 'COMMON' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:57:38 2015 -0600

    Convert 'Skills' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:57:04 2015 -0600

    Convert 'AA' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:55:44 2015 -0600

    Convert 'TRADESKILLS' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:54:16 2015 -0600

    Convert 'DOORS' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:53:46 2015 -0600

    Convert 'INVENTORY' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:52:46 2015 -0600

    Convert 'SPAWNS' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:52:11 2015 -0600

    Convert 'SPELLS' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:51:35 2015 -0600

    Convert 'TRADING' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:50:09 2015 -0600

    Convert 'LAUNCHER' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:47:37 2015 -0600

    Convert 'ZoneServer' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:44:47 2015 -0600

    Convert 'UCS' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:37:20 2015 -0600

    Convert 'QueryServ' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:32:44 2015 -0600

    Convert 'Guilds' debugging _log to logger.LogDebugType

Author: Arthur Ice
Date:   Sat Jan 24 14:03:31 2015 -0800

    removed unused code win_getopt.cpp/h

Author: Arthur Ice
Date:   Sat Jan 24 14:00:30 2015 -0800

    removed unused code seperator-2.h

Author: Akkadius
Date:   Mon Jan 12 22:29:56 2015 -0600

    Convert rules debugging _log to logger.LogDebugType

Author: Arthur Ice
Date:   Sat Jan 24 13:58:03 2015 -0800

    removed unused code queues.h

Author: Akkadius
Date:   Mon Jan 12 22:28:16 2015 -0600

    Convert world debugging _log to logger.LogDebugType

Author: Arthur Ice
Date:   Sat Jan 24 13:53:13 2015 -0800

    removed unused code dbmemshare.cpp

Author: Arthur Ice
Date:   Sat Jan 24 13:48:57 2015 -0800

    removed unused code breakdowns.h

Author: Akkadius
Date:   Mon Jan 12 22:20:11 2015 -0600

    More netcode debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:07:16 2015 -0600

    More netcode debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 21:45:49 2015 -0600

    Convert netcode debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 20:58:17 2015 -0600

    Remove Save from LogTypes

Author: Akkadius
Date:   Mon Jan 12 20:11:23 2015 -0600

    Add zone callback for client messages so log messages can be piped to it

Author: Akkadius
Date:   Mon Jan 12 12:37:33 2015 -0600

    Make some log functions less process specific in naming

Author: Akkadius
Date:   Mon Jan 12 05:14:46 2015 -0600

    static const char* LogCategoryName[EQEmuLogSys::LogCategory::MaxCategoryID]
    enum LogCategory

Author: Akkadius
Date:   Mon Jan 12 02:16:57 2015 -0600

    Preliminary addition of log settings map

Author: Akkadius
Date:   Sun Jan 11 22:41:44 2015 -0600

    Fix double construction of EQEmuLogSys

Author: Akkadius
Date:   Mon Jan 12 05:15:31 2015 -0600

    logger.LoadLogSettings() added after each platform executable registry
    Added int return for platform executable

Author: Akkadius
Date:   Sun Jan 11 00:20:43 2015 -0600

    Quote fix

Author: Akkadius
Date:   Sat Jan 10 23:26:10 2015 -0600

    RULE_BOOL(Logging, EnableConsoleLogging, true)  /* Turns on or off ALL logging to console */
    RULE_BOOL(Logging, EnableFileLogging, true)     /* Turns on or off ALL forms of file logging */

Author: Akkadius
Date:   Sat Jan 10 23:25:50 2015 -0600

    Add log test command #logtest

Author: Akkadius
Date:   Sat Jan 10 20:52:51 2015 -0600

    linux compile fix

Author: Akkadius
Date:   Sat Jan 10 20:14:27 2015 -0600

    Add LogDebugType(DebugLevel debug_level, uint16 log_type, std::string message, ...)

Author: Akkadius
Date:   Sat Jan 10 19:36:15 2015 -0600

    Replace rest of EQEmuLog->write with EQEmuLogSys Log

Author: KLS
Date:   Sat Jan 24 12:01:42 2015 -0800

    Fix for bug with usage of IsOrigin, bug from when i was just doing glm::dot(pos, pos) == 0

Author: Akkadius
Date:   Sat Jan 10 19:32:07 2015 -0600

    Log Message reword for zone and world bootup failure

Author: Akkadius
Date:   Sat Jan 10 19:05:46 2015 -0600

    _log error convert to logger.Log(EQEmuLogSys::Error

Author: Akkadius
Date:   Sat Jan 10 18:52:27 2015 -0600

    More _log Client replacements

Author: Akkadius
Date:   Sat Jan 10 18:38:04 2015 -0600

    replace mlog with logger.LogDebug

Author: Akkadius
Date:   Sat Jan 10 18:29:27 2015 -0600

    pathing _log to logger.LogDebug

Author: Akkadius
Date:   Sat Jan 10 18:12:58 2015 -0600

    Added EQEmuLogSys logger; pointer to the rest of the projects

Author: Robregen
Date:   Sat Jan 24 11:36:28 2015 -0800

    fixed compiling issues.

Author: Akkadius
Date:   Sat Jan 10 17:27:24 2015 -0600

    EQEmuLog::Dump preprocessor remove

Author: Akkadius
Date:   Sat Jan 10 16:01:43 2015 -0600

    More log replacements

Author: Robregen
Date:   Sat Jan 24 11:14:03 2015 -0800

    fixed compile

Author: Akkadius
Date:   Sat Jan 10 15:59:32 2015 -0600

    Replaced various other log calls in zone

Author: Natedog
Date:   Sat Jan 24 10:57:23 2015 -0800

    Fix for CastSpell if the spellID is invalid thus not having a name

Author: Akkadius
Date:   Sat Jan 10 15:56:09 2015 -0600

    Replaced Error calls

Author: Akkadius
Date:   Sat Jan 10 15:55:10 2015 -0600

    Replaced Normal calls

Author: Akkadius
Date:   Sat Jan 10 15:54:37 2015 -0600

    Replaced Status log calls

Author: Akkadius
Date:   Sat Jan 24 05:11:19 2015 -0600

    astyle client_mods.cpp

Author: Akkadius
Date:   Sat Jan 24 05:03:27 2015 -0600

    Client::CalcMaxMana Log adjust

Author: Akkadius
Date:   Sat Jan 24 05:01:23 2015 -0600

    Client::ACMod Log adjust

Author: Akkadius
Date:   Sat Jan 24 04:58:16 2015 -0600

    Removed EQDEBUG preprocessor check in TextLink::GenerateLink

Author: Akkadius
Date:   Sat Jan 24 04:55:03 2015 -0600

    Changed a log entry to use Trade category instead of none

Author: Akkadius
Date:   Sat Jan 24 04:54:02 2015 -0600

    Fixed DumpTrade to filter through trading Debug level 3 logs. Removed preprocessor checks

Author: Akkadius
Date:   Sat Jan 24 04:40:45 2015 -0600

    Remove EQDEBUG preprocessor from PersistentTimer::Load

Author: Akkadius
Date:   Sat Jan 24 04:38:22 2015 -0600

    Remove log junk from command_spawn

Author: Akkadius
Date:   Sat Jan 24 04:31:09 2015 -0600

    Remove preprocessor and convert log message

Author: Akkadius
Date:   Sat Jan 24 04:28:41 2015 -0600

    Cleanup in command_guild

Author: Akkadius
Date:   Sat Jan 24 04:27:32 2015 -0600

    Adjust logging in command_time

Author: Akkadius
Date:   Sat Jan 24 04:22:33 2015 -0600

    Sort command_init alphabetically and cleanup

Author: Akkadius
Date:   Sat Jan 24 04:17:58 2015 -0600

    Remove some processor and cleanup logging around Commands

Author: Akkadius
Date:   Sat Jan 24 03:59:52 2015 -0600

    Remove occurence of ChangeSQLLog

Author: Akkadius
Date:   Sat Jan 24 03:51:48 2015 -0600

    Remove Client::ChangeSQLLog

Author: Akkadius
Date:   Sat Jan 24 03:51:19 2015 -0600

    Remove Client::LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:50:33 2015 -0600

    Some fixes from replace removal of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:20 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:14 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:13 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:12 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:12 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:11 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:10 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:09 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:09 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:08 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:07 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:06 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:05 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:05 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:49:03 2015 -0600

    Remove occurrences of LogSQL

Author: Akkadius
Date:   Sat Jan 24 03:40:11 2015 -0600

    Remove command_logsql as it is completely unecessary now

Author: Cavedude
Date:   Fri Jan 23 23:47:02 2015 -0800

    Revert "Merge branch 'master' of https://github.com/cavedude00/Server into HEAD"
    
    changes made to 9d6f16067167ce4aec15eba708a3bf88fb636d0d.

Author: Akkadius
Date:   Sat Jan 10 15:47:36 2015 -0600

    Fix spacing

Author: Akkadius
Date:   Sat Jan 24 01:20:04 2015 -0600

    Fix Database::ReserveName so that it no longer relies on a failed insert into the character_data table to return false; on character creation. Log message for Logs::World_Server added for the same

Author: Akkadius
Date:   Sat Jan 10 15:44:35 2015 -0600

    Replace LogFile->write(EQEmuLog::Error, with logger.logevents(EQEmuLogSys::Error

Author: Akkadius
Date:   Sat Jan 24 00:57:36 2015 -0600

    Fix situation where someone will add a player to an instance for sanity sake (twice) and INSERT will fail, this is merely suppressing logsby doing a REPLACE INTO via Database::AddClientToInstance

Author: Akkadius
Date:   Sat Jan 10 15:26:38 2015 -0600

    Replaced Debug messages: LogFile->write with logger.LogDebug

Author: Akkadius
Date:   Sat Jan 10 15:08:30 2015 -0600

    Line changes

Author: Akkadius
Date:   Sat Jan 10 14:59:32 2015 -0600

    RULE_INT(Logging, DebugLogLevel, 0) /* Sets Debug Level, -1 = OFF, 0 = Low Level, 1 = Info, 2 = Extreme */

Author: Akkadius
Date:   Sat Jan 10 14:40:47 2015 -0600

    log_sys to logger
    
    enum DebugLevel {
                    General = 0,    /* 0 - Low-Level general debugging, useful info on single line */
                    Moderate,               /* 1 - Informational based, used in functions, when particular things load */
                    Detail,                 /* 2 - Use this for extreme detail in logging, usually in extreme debugging in the stack or interprocess communication */
            };
    void EQEmuLogSys::LogDebug(DebugLevel debug_level, std::string message, ...)

Author: Akkadius
Date:   Sat Jan 10 14:37:33 2015 -0600

    Add RULE_CATEGORY(Logging)
    RULE_BOOL(Logging, ConsoleLogCommands, false)  /* Turns on or off console logs */
    RULE_BOOL(Logging, LogFileCommands, false)
    RULE_CATEGORY_END()

Author: Arthur Ice
Date:   Fri Jan 23 21:13:20 2015 -0800

    removed moremath.cpp/h

Author: Akkadius
Date:   Sat Jan 10 13:35:02 2015 -0600

    Remove debugging and generalize the Log function

Author: Akkadius
Date:   Sat Jan 10 13:34:39 2015 -0600

    Changed some console colors

Author: Akkadius
Date:   Sat Jan 10 03:56:52 2015 -0600

    Create console colors type map from Console::Color LogColors

Author: Akkadius
Date:   Sat Jan 10 03:44:49 2015 -0600

    Backport logging from debug.cpp EQEmuLog::write back to EQEmuLogSys::WriteZoneLog
    Logs being written to logs/zone/ currently

Author: Akkadius
Date:   Sat Jan 10 03:43:44 2015 -0600

    Added eqemu_logsys.cpp/.h

Author: Natedog
Date:   Fri Jan 23 19:40:06 2015 -0800

    Fix for incorrect formatting type

Author: Secrets
Date:   Fri Jan 23 21:40:18 2015 -0500

    revert till a better solution is found

Author: KLS
Date:   Fri Jan 23 18:24:53 2015 -0800

    Fix for bots compile

Author: KLS
Date:   Fri Jan 23 17:58:03 2015 -0800

    Fix for polluted headers that were messing with glm

Author: Secrets
Date:   Fri Jan 23 20:39:53 2015 -0500

    Memleak fixes.

Author: Trevius
Date:   Fri Jan 23 17:13:21 2015 -0600

    Reverting last push due to zone crash from double deletes.

Author: Trevius
Date:   Fri Jan 23 16:43:35 2015 -0600

    Added deletes to RoF2 Patch file for potential mem-leaks.

Author: Mackal
Date:   Fri Jan 23 15:48:20 2015 -0500

    Minor tweaking to new logsys

Author: KLS
Date:   Fri Jan 23 12:23:24 2015 -0800

    Fix for x and y swapped on water maps

Author: Cavedude
Date:   Fri Jan 23 12:22:45 2015 -0800

    Added light to #showstats.

Author: Natedog
Date:   Fri Jan 23 11:13:53 2015 -0800

    Fix formatting on this.. which caused major zone crashes

Author: KLS
Date:   Fri Jan 23 00:01:10 2015 -0800

    Switched out our kinda juryrigged vector types for glm::vec types since we use that as a 3d math library already but never switched out the types

Author: Cavedude
Date:   Thu Jan 22 21:12:47 2015 -0800

    Added more client states to #showstats (FD, invul, hidden, invis, sneaking, and a few others.)
    
    Added GetClosestClient method for functionality I have since scrapped, but may be useful in the future.

Author: Mackal
Date:   Thu Jan 22 22:59:52 2015 -0500

    Some std::abs usage and a bit of clang-formatting

Author: KLS
Date:   Thu Jan 22 16:52:50 2015 -0800

    Updated version of glm

Author: Speedz
Date:   Thu Jan 22 14:48:56 2015 -0800

    Added aut DB creations.
    - for msg boards and soulmarker tables.
    Included default PC xml UI files.

Author: Akkadius
Date:   Thu Jan 22 16:48:10 2015 -0600

    Compile fix for Loginserver

Author: Cavedude
Date:   Thu Jan 22 14:17:38 2015 -0800

    We will now do a check on Bard pulses before applying a detrimental song to a friendly target. The pulse will be stopped, but the song will continue playing.
    
    Fixed Bard spam on song tics (Pulses will still display.)
    
    Added a check to prevent auto-equipping an instrument when an item is already in the primary hand.

Author: Akkadius
Date:   Thu Jan 22 15:56:03 2015 -0600

    Re-Fix Skills log message print types

Author: Akkadius
Date:   Thu Jan 22 15:53:30 2015 -0600

    Re-Fix db_update_manifest.txt and Binary Database Version

Author: Akkadius
Date:   Thu Jan 22 15:47:47 2015 -0600

    Fix .SQL file for logsys categories so that the manifest does not have issues (Again)

Author: Secrets
Date:   Thu Jan 22 10:57:26 2015 -0500

    Opcodes for Message Boards.

Author: Secrets
Date:   Thu Jan 22 10:56:39 2015 -0500

    Message Boards implemented - In Memorium of Faerah, the famous Half Elf Bard. 2012-2014

Author: Secrets
Date:   Thu Jan 22 05:41:14 2015 -0500

    forgot the soulmark sql file's contents

Author: Secrets
Date:   Thu Jan 22 04:31:21 2015 -0500

    SoulMark Window & related functions, plus a bugfix.
    
    Implements:
    
    /praise <charname> <accid> <reason>
    /warn <charname> <accid> <reason>
    /inquire <charname> <accid>
    
    Inquire shows the window ONLY for <charname>
    Warn gives a 'negative' message for player with name <charname>
    Praise gives a 'positive' message for player with name <charname>
    
    AccountName is for GM reference only. GMAccountName is never used, but kept for reference as it's part of the client structure.
    
    Also, Fixed an issue where dynamic zones (and some statics under heavy load) could result in kicking the player offline in world, causing /who all to break.

Author: Akkadius
Date:   Thu Jan 22 02:54:53 2015 -0600

    Changelog entry

Author: Akkadius
Date:   Thu Jan 22 02:40:35 2015 -0600

    Change .txt file write extension to .log more appropriately

Author: Akkadius
Date:   Thu Jan 22 02:36:55 2015 -0600

    Change crash location to logs/crashes/<>

Author: Akkadius
Date:   Thu Jan 22 02:21:41 2015 -0600

    Adjusting #logs verbiage

Author: Akkadius
Date:   Thu Jan 22 01:44:52 2015 -0600

    Comment up EQEmuLogSys class header. Change some string copys to rather pass by reference because its not necessary

Author: Akkadius
Date:   Thu Jan 22 00:46:45 2015 -0600

    My GCC built fine, but lets make Travis happy

Author: Akkadius
Date:   Thu Jan 22 00:15:47 2015 -0600

    Re-add 2015_01_21_npc_types_update.sql because Git was being weird

Author: Akkadius
Date:   Thu Jan 22 00:15:14 2015 -0600

    Update manifest, delete SQL File

Author: Robregen
Date:   Wed Jan 21 21:14:47 2015 -0800

    removed sql file that isn't needed.

Author: Cavedude
Date:   Wed Jan 21 20:09:24 2015 -0800

    Added a group range check on bard pulses.

Author: Uleat
Date:   Wed Jan 21 23:07:29 2015 -0500

    Added script for non-existent `light` column

Author: KayenEQ
Date:   Wed Jan 21 22:02:05 2015 -0500

    removed extra semi colon..

Author: Akkadius
Date:   Wed Jan 21 19:39:51 2015 -0600

    Change zone file log name format once it boots up

Author: Akkadius
Date:   Wed Jan 21 19:37:54 2015 -0600

    Some log changes

Author: Akkadius
Date:   Wed Jan 21 19:15:36 2015 -0600

    Change some world server Logging to General (Level 1) debugging

Author: Akkadius
Date:   Wed Jan 21 19:08:43 2015 -0600

    Change some zone server Logging to General (Level 1) debugging

Author: Akkadius
Date:   Wed Jan 21 19:04:13 2015 -0600

    Rename LoadLogSysSettings to LoadLogSettings

Author: Uleat
Date:   Wed Jan 21 20:01:59 2015 -0500

    Activated `light` field load from `npctypes` table

Author: Akkadius
Date:   Wed Jan 21 18:54:40 2015 -0600

    Add proper file log closing to export

Author: Akkadius
Date:   Wed Jan 21 18:54:12 2015 -0600

    Add proper file log closing to shared_memory

Author: Akkadius
Date:   Wed Jan 21 18:53:39 2015 -0600

    Add proper file log closing to eq_launch

Author: Akkadius
Date:   Wed Jan 21 18:52:59 2015 -0600

    Add properl file log closing to import and UCS

Author: Akkadius
Date:   Wed Jan 21 18:51:26 2015 -0600

    Add properl file log closing to queryserv

Author: Akkadius
Date:   Wed Jan 21 18:47:36 2015 -0600

    Cleanup some log entries in world

Author: Akkadius
Date:   Wed Jan 21 18:46:56 2015 -0600

    Properly close process files in zone and world

Author: Akkadius
Date:   Wed Jan 21 18:43:47 2015 -0600

    Cleanup CloseFileLogs()

Author: Akkadius
Date:   Wed Jan 21 18:39:36 2015 -0600

    Post merge fixes

Author: Akkadius
Date:   Wed Jan 21 16:55:56 2015 -0600

    Add shownumhits command back in from merge

Author: Akkadius
Date:   Wed Jan 21 16:49:25 2015 -0600

    Post merge manual fixes

Author: Cavedude
Date:   Wed Jan 21 13:54:55 2015 -0800

    New corpse backup system. Added #corpse backups and #corpse restore [corpseid]
    
    DB tables are created and populated automagically the first time world runs. The rule Character:UsePlayerCorpseBackups can be used to enable or disable this system. (Enabled by default.)
    
    Added client type to #bug command.

Author: Cavedude
Date:   Wed Jan 21 12:14:49 2015 -0800

    zone.cpp too. :(

Author: Cavedude
Date:   Wed Jan 21 12:08:49 2015 -0800

    Forgot to include zone.h in previous commit.

Author: Cavedude
Date:   Wed Jan 21 09:11:58 2015 -0800

    Added rules to determine if a zone should idle (Mobs, Doors, Traps, and Objects pause which causes some Lua functionality to pause as well) and a timer to determine how long after the last player left the zone should it pause. Since it's rule based, we can apply this per zone if we need to, and I am hoping this will help reduce overhead. Boats zones are excluded from this system, as idling will cause boat functionality to break.
    
    Cleaned up component reduction code (we were still rolling every time a spell was cast and the player had any focus item)

Author: Akkadius
Date:   Wed Jan 21 03:01:21 2015 -0600

    Implement #logs reload_all - To reload world and zone their log settings from the database

Author: Akkadius
Date:   Wed Jan 21 02:12:22 2015 -0600

    Adjust #logs set

Author: Akkadius
Date:   Wed Jan 21 01:26:33 2015 -0600

    Implement #logs set [console|file|gmsay] <category_id> <debug_level (1-3)>

Author: Akkadius
Date:   Wed Jan 21 00:01:28 2015 -0600

    Preliminary log setting commands

Author: Akkadius
Date:   Tue Jan 20 23:21:32 2015 -0600

    Rename #log to #logs after thinking deeply about it

Author: Akkadius
Date:   Tue Jan 20 23:18:23 2015 -0600

    Implement first pieces of #log

Author: Akkadius
Date:   Tue Jan 20 20:01:44 2015 -0600

    Remove garbage in commit

Author: Akkadius
Date:   Tue Jan 20 20:00:48 2015 -0600

    Push table update

Author: Akkadius
Date:   Tue Jan 20 19:54:08 2015 -0600

    Linux fix in worldserver.cpp with __FUNCTION__

Author: Akkadius
Date:   Tue Jan 20 19:41:30 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:29 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:28 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:27 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:26 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:25 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:24 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:23 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:22 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:21 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:20 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:19 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:18 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:17 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:41:14 2015 -0600

    Remove Unneeded DebugBreak

Author: Akkadius
Date:   Tue Jan 20 19:40:55 2015 -0600

    Remove Unneeded DebugBreak:

Author: Akkadius
Date:   Tue Jan 20 19:22:28 2015 -0600

    UpdateAdmin Linux build fix

Author: Akkadius
Date:   Tue Jan 20 19:19:57 2015 -0600

    Push something that apparently didn't make its way through before

Author: Akkadius
Date:   Tue Jan 20 19:05:11 2015 -0600

    Platform changes for getpid()

Author: Akkadius
Date:   Tue Jan 20 18:47:20 2015 -0600

    Changed defaults to use enum

Author: JJ
Date:   Mon Jan 19 11:00:05 2015 -0500

    Update to 6535690a69dd0693cf4d3a8fd075cf605822c143 to make explicit #include rather than implicit.

Author: Mackal
Date:   Sun Jan 18 18:29:37 2015 -0500

    We don't need to cast these anymore

Author: Arthur Ice
Date:   Sun Jan 18 12:38:27 2015 -0800

    Switched to position based GetReciprocalHeading instead of Mob::GetReciprocalHeading

Author: Arthur Ice
Date:   Sun Jan 18 12:22:37 2015 -0800

    Added 'GetReciprocalHeading' to position.cpp/h

Author: Arthur Ice
Date:   Sun Jan 18 03:54:49 2015 -0800

    Removed Mob::DistNoRootNoZ

Author: Arthur Ice
Date:   Sun Jan 18 03:52:17 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:49:40 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:12:08 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:09:08 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:05:35 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:03:46 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:59:27 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:43:16 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:25:09 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:10:42 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:07:01 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:05:09 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 01:39:17 2015 -0800

    Removed Mob::DistNoRootNoZ

Author: Arthur Ice
Date:   Sun Jan 18 01:38:30 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 01:33:54 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 01:31:24 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Robregen
Date:   Tue Jan 20 15:22:45 2015 -0800

    Ccrrect a few ComparativeDistanceNoZ arguments.

Author: Robregen
Date:   Tue Jan 20 15:12:53 2015 -0800

    fixed a few function to use ComparativeDistance

Author: Arthur Ice
Date:   Sun Jan 18 01:22:59 2015 -0800

    Removed mob:DistNoRoot

Author: Arthur Ice
Date:   Sun Jan 18 01:21:19 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:19:45 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Robregen
Date:   Tue Jan 20 14:59:45 2015 -0800

    fixed for NoZ in special_attacks.cpp

Author: Arthur Ice
Date:   Sun Jan 18 01:18:20 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:17:17 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:12:15 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:09:21 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:07:35 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: KayenEQ
Date:   Tue Jan 20 17:35:39 2015 -0500

    Fix for compile issue with vs2012

Author: Arthur Ice
Date:   Sun Jan 18 01:04:37 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:01:44 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:00:00 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 00:58:53 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 00:57:34 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 00:53:24 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 00:51:25 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 00:48:51 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 23:37:00 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 23:33:34 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 23:16:11 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 23:15:06 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 23:12:25 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 23:08:48 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 23:07:04 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 22:52:33 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 22:41:04 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 22:36:59 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 22:34:49 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 22:12:36 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 22:07:17 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 21:45:31 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 21:41:53 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 21:38:44 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 21:35:30 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 20:53:08 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 20:49:09 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 20:45:32 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 20:14:05 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 20:08:29 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 19:35:39 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 19:32:34 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 19:22:59 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 19:16:45 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 19:13:47 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 19:09:32 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:32:41 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:15:48 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:13:34 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:09:43 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:07:16 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:05:03 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:01:20 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 17:57:36 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 17:53:41 2015 -0800

    Removed Mob::DistNoZ

Author: Arthur Ice
Date:   Sat Jan 17 17:49:16 2015 -0800

    Removed Mob::Dist

Author: Arthur Ice
Date:   Sat Jan 17 17:44:17 2015 -0800

    Removed usage of Mod::Dist and used Distance instead

Author: Arthur Ice
Date:   Sat Jan 17 17:41:26 2015 -0800

    Removed usage of Mod::Dist and used Distance instead

Author: Arthur Ice
Date:   Sat Jan 17 17:39:12 2015 -0800

    Removed usage of Mod::Dist and used Distance instead

Author: Arthur Ice
Date:   Sat Jan 17 16:12:30 2015 -0800

    Overloads of xyz_heading means no longer need the static cast here

Author: Arthur Ice
Date:   Sat Jan 17 16:08:45 2015 -0800

    Added explicit xyz_heading overrides for the 4 distance functions

Author: Arthur Ice
Date:   Sat Jan 17 15:51:26 2015 -0800

    Removed Mob::DistNoRoot(x,y,z)

Author: Arthur Ice
Date:   Sat Jan 17 16:00:12 2015 -0800

    Removed a usage of Mob::Dist and used Distance instead

Author: Arthur Ice
Date:   Sat Jan 17 15:56:06 2015 -0800

    Removed a usage of Mob::Dist and used Distance instead

Author: Arthur Ice
Date:   Sat Jan 17 15:42:58 2015 -0800

    Removed usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 15:37:24 2015 -0800

    removed usage of mob->distnoroot and switched to ComparativeDistance

Author: Arthur Ice
Date:   Sat Jan 17 15:32:04 2015 -0800

    removed usage of mob distnoroot and used ComparativeDistance instead

Author: JJ
Date:   Tue Jan 20 15:51:00 2015 -0500

    ... and lang.

Author: JJ
Date:   Tue Jan 20 15:33:26 2015 -0500

    Skill gain logging fix. (iluvseq)

Author: Akkadius
Date:   Tue Jan 20 06:49:31 2015 -0600

    rename process_file_name to platform_file_name for consistency

Author: Akkadius
Date:   Tue Jan 20 06:26:12 2015 -0600

    More work on process logging

Author: Akkadius
Date:   Tue Jan 20 06:15:56 2015 -0600

    Add file log handling in every process

Author: Akkadius
Date:   Tue Jan 20 06:13:12 2015 -0600

    More process based logging work

Author: Akkadius
Date:   Tue Jan 20 05:52:50 2015 -0600

    Implement crash logging, 'crash_processname_pid.log' at the root of logs/

Author: Akkadius
Date:   Tue Jan 20 05:36:15 2015 -0600

    Some EQEmuLogSys changes regarding class variables

Author: Akkadius
Date:   Tue Jan 20 05:30:19 2015 -0600

    Undo Queryserv refactoring because our database class stuff is stupid

Author: Akkadius
Date:   Tue Jan 20 05:22:15 2015 -0600

    Placing Log defaults after RegisterExecutablePlatform and installing database log setting loads right after database connection for all processes

Author: Akkadius
Date:   Tue Jan 20 05:18:44 2015 -0600

    Add a copy of load log settings to UCS because of how split Database classes are laid out

Author: Akkadius
Date:   Tue Jan 20 05:18:21 2015 -0600

    Change some defaults for logs

Author: Akkadius
Date:   Tue Jan 20 05:07:22 2015 -0600

    Fix some categories from before convert

Author: Akkadius
Date:   Tue Jan 20 05:04:16 2015 -0600

    QueryServ adjustments

Author: Akkadius
Date:   Tue Jan 20 04:56:13 2015 -0600

    Adjust defaults for LoadLogSettingsDefault

Author: Akkadius
Date:   Tue Jan 20 04:45:44 2015 -0600

    Add LoadLogSysSettings to client export utility

Author: Akkadius
Date:   Tue Jan 20 04:45:14 2015 -0600

    Add LoadLogSysSettings to other processes

Author: Akkadius
Date:   Tue Jan 20 04:30:27 2015 -0600

    Refactor some of the database stuff for QueryServ for uniformity, should probably be done right later

Author: Akkadius
Date:   Tue Jan 20 04:10:39 2015 -0600

    Some adjustments to file writing routines

Author: Akkadius
Date:   Tue Jan 20 03:46:27 2015 -0600

    logtest adjustments

Author: Akkadius
Date:   Tue Jan 20 03:20:40 2015 -0600

    Various logging adjustments

Author: Akkadius
Date:   Tue Jan 20 03:07:33 2015 -0600

    Fix Linux compiles

Author: Akkadius
Date:   Tue Jan 20 03:02:41 2015 -0600

    Implement debug_level checking for ProcessGMSay

Author: Akkadius
Date:   Tue Jan 20 03:02:15 2015 -0600

    Implement debug_level checking for ProcessLogWrite

Author: Akkadius
Date:   Tue Jan 20 03:01:41 2015 -0600

    Implement debug_level checking for ProcessConsoleMessage

Author: Akkadius
Date:   Tue Jan 20 03:00:00 2015 -0600

    Pass debug_level to subprocess commands

Author: Akkadius
Date:   Tue Jan 20 02:59:32 2015 -0600

    Add uint16 debug_level to ProcessGMSay

Author: Akkadius
Date:   Tue Jan 20 02:59:06 2015 -0600

    Add uint16 debug_level to ProcessLogWrite

Author: Akkadius
Date:   Tue Jan 20 02:58:33 2015 -0600

    Add uint16 debug_level to ProcessConsoleMessage

Author: Akkadius
Date:   Tue Jan 20 02:57:31 2015 -0600

    Fix some indents

Author: Akkadius
Date:   Tue Jan 20 02:53:10 2015 -0600

    Implement Linux ANSI colors

Author: Akkadius
Date:   Tue Jan 20 02:45:38 2015 -0600

    Add ANSI color defines for Linux

Author: Akkadius
Date:   Tue Jan 20 02:36:47 2015 -0600

    Convert DeleteCharacter to Log.Out

Author: Akkadius
Date:   Tue Jan 20 02:33:55 2015 -0600

    Convert DeleteAccount to Log.Out

Author: Akkadius
Date:   Tue Jan 20 02:33:15 2015 -0600

    Convert CreateAccount to Log.Out

Author: Akkadius
Date:   Tue Jan 20 02:16:53 2015 -0600

    Database:;ClearMerchantTemp cleanup

Author: Akkadius
Date:   Tue Jan 20 02:14:36 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Tue Jan 20 02:13:25 2015 -0600

    Remove Duplicative MySQL Error: Error updating LFP for character %i : %s

Author: Akkadius
Date:   Tue Jan 20 02:12:59 2015 -0600

    Remove Duplicative MySQL Error: Error updating LFP for character %i : %s

Author: Akkadius
Date:   Tue Jan 20 02:12:01 2015 -0600

    Remove Duplicative MySQL Error: Error updating LFP for character %i : %s

Author: Akkadius
Date:   Tue Jan 20 02:11:31 2015 -0600

    Remove Duplicative MySQL Error: Error updating firstlogon for character %i : %s

Author: Akkadius
Date:   Tue Jan 20 02:10:54 2015 -0600

    Remove Duplicative MySQL Error: Error adding a report for %s: %s

Author: Akkadius
Date:   Tue Jan 20 02:10:16 2015 -0600

    Remove Duplicative MySQL Error: Error adding character to group id: %s

Author: Akkadius
Date:   Tue Jan 20 02:09:36 2015 -0600

    Remove Duplicative MySQL Error: Unable to clear groups:

Author: Akkadius
Date:   Tue Jan 20 02:09:23 2015 -0600

    Remove Duplicative MySQL Error: Unable to clear groups:

Author: Akkadius
Date:   Tue Jan 20 02:08:25 2015 -0600

    Remove Duplicative MySQL Error: Log.Out(Logs::General, Logs::Error, Error

Author: Akkadius
Date:   Tue Jan 20 02:07:39 2015 -0600

    Remove Duplicative MySQL Error: Unable to clear groups:

Author: Akkadius
Date:   Tue Jan 20 02:03:45 2015 -0600

    Remove excess MySQL error message in GetSafePoints

Author: Akkadius
Date:   Tue Jan 20 01:50:35 2015 -0600

    Fix ClearMerchantTemp from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:49:38 2015 -0600

    Fix RemoveTempFactions from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:49:20 2015 -0600

    Fix InsertDoor from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:49:03 2015 -0600

    Fix UpdateKarma from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:48:39 2015 -0600

    Fix DeleteMerchantTemp from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:48:06 2015 -0600

    Fix SaveMerchantTemp from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:47:41 2015 -0600

    Fix UpdateBug from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:47:24 2015 -0600

    Fix UpdateBug from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:46:50 2015 -0600

    Fix SetBotInspectMesssage from error message removal

Author: Akkadius
Date:   Tue Jan 20 01:46:06 2015 -0600

    Fix LoginIP from erorr message removal

Author: Akkadius
Date:   Tue Jan 20 01:42:43 2015 -0600

    Remove Duplicative MySQL Error: Error in GetGuildIDByChar query '

Author: Akkadius
Date:   Tue Jan 20 01:42:42 2015 -0600

    Remove Duplicative MySQL Error: Error in GetLiveChar query '

Author: Akkadius
Date:   Tue Jan 20 01:42:40 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateLiveChar query '

Author: Akkadius
Date:   Tue Jan 20 01:42:39 2015 -0600

    Remove Duplicative MySQL Error: Error in GetCharacterInfo query '

Author: Akkadius
Date:   Tue Jan 20 01:42:36 2015 -0600

    Remove Duplicative MySQL Error: Error in SetMQDetectionFlag query '

Author: Akkadius
Date:   Tue Jan 20 01:42:35 2015 -0600

    Remove Duplicative MySQL Error: Error in SetHackerFlag query '

Author: Akkadius
Date:   Tue Jan 20 01:42:34 2015 -0600

    Remove Duplicative MySQL Error: Error in MoveCharacterToZone(id) query '

Author: Akkadius
Date:   Tue Jan 20 01:42:33 2015 -0600

    Remove Duplicative MySQL Error: Error in MoveCharacterToZone(name) query '

Author: Akkadius
Date:   Tue Jan 20 01:42:32 2015 -0600

    Remove Duplicative MySQL Error: Error in GetServerType query '

Author: Akkadius
Date:   Tue Jan 20 01:42:31 2015 -0600

    Remove Duplicative MySQL Error: Error in CheckUsedName query '

Author: Akkadius
Date:   Tue Jan 20 01:42:30 2015 -0600

    Remove Duplicative MySQL Error: Error in ClearMerchantTemp query '

Author: Akkadius
Date:   Tue Jan 20 01:42:28 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountFromID query '

Author: Akkadius
Date:   Tue Jan 20 01:42:26 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountIDFromLSID query '

Author: Akkadius
Date:   Tue Jan 20 01:42:25 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadFactionData '

Author: Akkadius
Date:   Tue Jan 20 01:42:25 2015 -0600

    Remove Duplicative MySQL Error: Error in AddToNameFilter query '

Author: Akkadius
Date:   Tue Jan 20 01:42:24 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadFactionData '

Author: Akkadius
Date:   Tue Jan 20 01:42:24 2015 -0600

    Remove Duplicative MySQL Error: Error in CheckNameFilter query '

Author: Akkadius
Date:   Tue Jan 20 01:42:23 2015 -0600

    Remove Duplicative MySQL Error: Error in SetCharacterFactionLevel query '

Author: Akkadius
Date:   Tue Jan 20 01:42:22 2015 -0600

    Remove Duplicative MySQL Error: Error in GetPEQZone query '

Author: Akkadius
Date:   Tue Jan 20 01:42:22 2015 -0600

    Remove Duplicative MySQL Error: Error in SetCharacterFactionLevel query '

Author: Akkadius
Date:   Tue Jan 20 01:42:21 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadZoneNames query '

Author: Akkadius
Date:   Tue Jan 20 01:42:20 2015 -0600

    Remove Duplicative MySQL Error: Error in RemoveTempFactions query '

Author: Akkadius
Date:   Tue Jan 20 01:42:20 2015 -0600

    Remove Duplicative MySQL Error: Error in GetZoneGraveyard query '

Author: Akkadius
Date:   Tue Jan 20 01:42:19 2015 -0600

    Remove Duplicative MySQL Error: Error in InsertDoor

Author: Akkadius
Date:   Tue Jan 20 01:42:19 2015 -0600

    Remove Duplicative MySQL Error: Error in GetZoneGraveyardID query '

Author: Akkadius
Date:   Tue Jan 20 01:42:18 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateKarma query '

Author: Akkadius
Date:   Tue Jan 20 01:42:18 2015 -0600

    Remove Duplicative MySQL Error: Error in GetZoneLongName query '

Author: Akkadius
Date:   Tue Jan 20 01:42:16 2015 -0600

    Remove Duplicative MySQL Error: Error in getZoneShutDownDelay query '

Author: Akkadius
Date:   Tue Jan 20 01:42:15 2015 -0600

    Remove Duplicative MySQL Error: Error in GetSafePoint query '

Author: Akkadius
Date:   Tue Jan 20 01:42:14 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadBlockedSpells query '

Author: Akkadius
Date:   Tue Jan 20 01:42:14 2015 -0600

    Remove Duplicative MySQL Error: Error in GetMiniLoginAccount query '

Author: Akkadius
Date:   Tue Jan 20 01:42:12 2015 -0600

    Remove Duplicative MySQL Error: Error in GetBlockedSpellsCount query '

Author: Akkadius
Date:   Tue Jan 20 01:42:12 2015 -0600

    Remove Duplicative MySQL Error: Error in SetVariable query '

Author: Akkadius
Date:   Tue Jan 20 01:42:11 2015 -0600

    Remove Duplicative MySQL Error: Error in group update query: %s\n

Author: Akkadius
Date:   Tue Jan 20 01:42:11 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadVariables query '

Author: Akkadius
Date:   Tue Jan 20 01:42:09 2015 -0600

    Remove Duplicative MySQL Error: Error in SetZoneTZ query '

Author: Akkadius
Date:   Tue Jan 20 01:42:09 2015 -0600

    Remove Duplicative MySQL Error: Error in GetCharName query '

Author: Akkadius
Date:   Tue Jan 20 01:42:08 2015 -0600

    Remove Duplicative MySQL Error: Error in GetZoneTZ query '

Author: Akkadius
Date:   Tue Jan 20 01:42:08 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountName query '

Author: Akkadius
Date:   Tue Jan 20 01:42:07 2015 -0600

    Remove Duplicative MySQL Error: Error in GetUseCFGSafeCoords query '

Author: Akkadius
Date:   Tue Jan 20 01:42:07 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountIDByAcc query '

Author: Akkadius
Date:   Tue Jan 20 01:42:06 2015 -0600

    Remove Duplicative MySQL Error: Error in DeleteMerchantTemp query '

Author: Akkadius
Date:   Tue Jan 20 01:42:05 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountIDByChar query '

Author: Akkadius
Date:   Tue Jan 20 01:42:04 2015 -0600

    Remove Duplicative MySQL Error: Error in SaveMerchantTemp query '

Author: Akkadius
Date:   Tue Jan 20 01:42:04 2015 -0600

    Remove Duplicative MySQL Error: Error in SetBotInspectMessage query '

Author: Akkadius
Date:   Tue Jan 20 01:42:04 2015 -0600

    Remove Duplicative MySQL Error: Error in SetLocalPassword query '

Author: Akkadius
Date:   Tue Jan 20 01:42:02 2015 -0600

    Remove Duplicative MySQL Error: Error in GetGridType query '

Author: Akkadius
Date:   Tue Jan 20 01:42:02 2015 -0600

    Remove Duplicative MySQL Error: Error in GetBotInspectMessage query '

Author: Akkadius
Date:   Tue Jan 20 01:42:02 2015 -0600

    Remove Duplicative MySQL Error: Error in DeleteAccount query '

Author: Akkadius
Date:   Tue Jan 20 01:41:58 2015 -0600

    Remove Duplicative MySQL Error: Error loading Mercenaries from database. Bad query:

Author: Akkadius
Date:   Tue Jan 20 01:41:58 2015 -0600

    Remove Duplicative MySQL Error: Error in SetDynamicCount query: %s

Author: Akkadius
Date:   Tue Jan 20 01:41:58 2015 -0600

    Remove Duplicative MySQL Error: Error in GetCommands query '

Author: Akkadius
Date:   Tue Jan 20 01:41:58 2015 -0600

    Remove Duplicative MySQL Error: Error in CreateAccount query '

Author: Akkadius
Date:   Tue Jan 20 01:41:54 2015 -0600

    Remove Duplicative MySQL Error: Error loading NPCs from database. Bad query:

Author: Akkadius
Date:   Tue Jan 20 01:41:54 2015 -0600

    Remove Duplicative MySQL Error: Error in DeleteStaticZone query: %s

Author: Akkadius
Date:   Tue Jan 20 01:41:54 2015 -0600

    Remove Duplicative MySQL Error: Error in GetBook query '

Author: Akkadius
Date:   Tue Jan 20 01:41:54 2015 -0600

    Remove Duplicative MySQL Error: Error in CreateAccount query '

Author: Akkadius
Date:   Tue Jan 20 01:41:47 2015 -0600

    Remove Duplicative MySQL Error: ERROR Potionbelt Save:

Author: Akkadius
Date:   Tue Jan 20 01:41:47 2015 -0600

    Remove Duplicative MySQL Error: Error in GetMaxNPCSpellsEffectsID query '

Author: Akkadius
Date:   Tue Jan 20 01:41:47 2015 -0600

    Remove Duplicative MySQL Error: Error in SetAccountFlags query '

Author: Akkadius
Date:   Tue Jan 20 01:41:47 2015 -0600

    Remove Duplicative MySQL Error: Error in ChangeStaticZone query: %s

Author: Akkadius
Date:   Tue Jan 20 01:41:47 2015 -0600

    Remove Duplicative MySQL Error: Error in SetSharedPlatinum query '

Author: Akkadius
Date:   Tue Jan 20 01:41:46 2015 -0600

    Remove Duplicative MySQL Error: Error in CheckStatus query '

Author: Akkadius
Date:   Tue Jan 20 01:41:45 2015 -0600

    Remove Duplicative MySQL Error: ERROR Bandolier Save:

Author: Akkadius
Date:   Tue Jan 20 01:41:45 2015 -0600

    Remove Duplicative MySQL Error: Error in AddNPCSpells query1 '

Author: Akkadius
Date:   Tue Jan 20 01:41:45 2015 -0600

    Remove Duplicative MySQL Error: Error in DBLoadDoors query '

Author: Akkadius
Date:   Tue Jan 20 01:41:44 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadAccountFlags query '

Author: Akkadius
Date:   Tue Jan 20 01:41:44 2015 -0600

    Remove Duplicative MySQL Error: Error in BootStaticZone query: %s

Author: Akkadius
Date:   Tue Jan 20 01:41:44 2015 -0600

    Remove Duplicative MySQL Error: Error in GetSharedPlatinum query '

Author: Akkadius
Date:   Tue Jan 20 01:41:44 2015 -0600

    Remove Duplicative MySQL Error: Error in Log IP query '

Author: Akkadius
Date:   Tue Jan 20 01:41:35 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateBug '

Author: Akkadius
Date:   Tue Jan 20 01:41:35 2015 -0600

    Remove Duplicative MySQL Error: Error in GetMaxNPCSpellsID query '

Author: Akkadius
Date:   Tue Jan 20 01:41:35 2015 -0600

    Remove Duplicative MySQL Error: Error in GetDoorsCountPlusOne query '

Author: Akkadius
Date:   Tue Jan 20 01:41:35 2015 -0600

    Remove Duplicative MySQL Error: Error in IsDiscovered query '

Author: Akkadius
Date:   Tue Jan 20 01:41:34 2015 -0600

    Remove Duplicative MySQL Error: Error in DeleteLauncher 2nd query: %s

Author: Akkadius
Date:   Tue Jan 20 01:41:34 2015 -0600

    Remove Duplicative MySQL Error: Error in SetGMSpeed query '

Author: Akkadius
Date:   Tue Jan 20 01:41:34 2015 -0600

    Remove Duplicative MySQL Error: Error in Database::AddBannedIP query '

Author: Akkadius
Date:   Tue Jan 20 01:38:43 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Tue Jan 20 01:38:43 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Tue Jan 20 01:37:58 2015 -0600

    Remove Duplicative MySQL Error: Error querying database for monster summoning pet in zone %s (%s)

Author: Akkadius
Date:   Tue Jan 20 01:37:58 2015 -0600

    Remove Duplicative MySQL Error: Unable to query zone flags: %s

Author: Akkadius
Date:   Tue Jan 20 01:37:58 2015 -0600

    Remove Duplicative MySQL Error: Query failed: %s.

Author: Akkadius
Date:   Tue Jan 20 01:37:57 2015 -0600

    Remove Duplicative MySQL Error: Error in CreateLauncher query: %s

Author: Akkadius
Date:   Tue Jan 20 01:35:04 2015 -0600

    Remove commented printf : Used up to slot %d of %d in links\n

Author: Akkadius
Date:   Tue Jan 20 01:35:03 2015 -0600

    Remove commented printf : \tLinkTo %d: dest %d, reach %d\n

Author: Akkadius
Date:   Tue Jan 20 01:35:02 2015 -0600

    Remove commented printf : \tLinkFrom %d: dest %d, reach %d\n

Author: Akkadius
Date:   Tue Jan 20 01:35:01 2015 -0600

    Remove commented printf : Node %d: (%.2f,%.2f,%.2f) LO %d, D %d\n

Author: Akkadius
Date:   Tue Jan 20 01:34:59 2015 -0600

    Remove commented printf : Filling node %d/%d n=0x%x, lb=0x%x, curl=0x%x/0x%x\n

Author: Akkadius
Date:   Tue Jan 20 01:34:58 2015 -0600

    Remove commented printf : Started With node index %d (0x%x)\n

Author: Akkadius
Date:   Tue Jan 20 01:34:53 2015 -0600

    Remove commented printf : Edge crosses %d edges.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:51 2015 -0600

    Remove commented printf : Checking combine LOS on %d, with %d edges.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:50 2015 -0600

    Remove commented printf : Adding item2: %i

Author: Akkadius
Date:   Tue Jan 20 01:34:49 2015 -0600

    Remove commented printf : Distbbb %f, ce2 %f, (%f,%f), (%f,%f)\n

Author: Akkadius
Date:   Tue Jan 20 01:34:48 2015 -0600

    Remove commented printf : Client Spell casted on %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:48 2015 -0600

    Remove commented printf : Dist %f, ce2 %f\n

Author: Akkadius
Date:   Tue Jan 20 01:34:46 2015 -0600

    Remove commented printf : NPC AE, fall thru. spell_id:%i, Target type:%x\n

Author: Akkadius
Date:   Tue Jan 20 01:34:46 2015 -0600

    Remove commented printf : Starting clean at pos %d with %d nodes\n

Author: Akkadius
Date:   Tue Jan 20 01:34:44 2015 -0600

    Remove commented printf : IPC mgb/aebard spell casted on %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:44 2015 -0600

    Remove commented printf :     (%.3f,%.3f,%.3f) -> (%.3f,%.3f,%.3f) d2=%.3f\n

Author: Akkadius
Date:   Tue Jan 20 01:34:43 2015 -0600

    Remove commented printf : IPC Spell casted on %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:42 2015 -0600

    Remove commented printf : IIN: (%.3f,%.3f) in (%.3f -> %.3f, %.3f -> %.3f)\n

Author: Akkadius
Date:   Tue Jan 20 01:34:42 2015 -0600

    Remove commented printf : Cut (%.3f,%.3f,%.3f) -> (%.3f,%.3f,%.3f) d2=%.3f\n

Author: Akkadius
Date:   Tue Jan 20 01:34:42 2015 -0600

    Remove commented printf : Closed packet file.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:40 2015 -0600

    Remove commented printf : NPC AE, fall thru. spell_id:%i, Target type:%x\n

Author: Akkadius
Date:   Tue Jan 20 01:34:40 2015 -0600

    Remove commented printf : Got to node index %d (0x%x)\n

Author: Akkadius
Date:   Tue Jan 20 01:34:40 2015 -0600

    Remove commented printf : Node %d's distance from root is %d\n

Author: Akkadius
Date:   Tue Jan 20 01:34:40 2015 -0600

    Remove commented printf : trail = 0x%x(0x%x) (%.3f, %.3f, %.3f)\n

Author: Akkadius
Date:   Tue Jan 20 01:34:40 2015 -0600

    Remove commented printf : Opening packet file: %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:38 2015 -0600

    Remove commented printf : NPC mgb/aebard spell casted on %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:38 2015 -0600

    Remove commented printf : Proc %s(%d): %p\n

Author: Akkadius
Date:   Tue Jan 20 01:34:38 2015 -0600

    Remove commented printf : ;\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf : ;\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf : Frag 36 reference?: %ld\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf :       Final node with %u faces, list offset %lu.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf : Find Region %ld in node %ld\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf : Look for %s: got %s\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf :       Final node with %u faces, list offset %lu.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf : Find Region %ld in node %ld\n

Author: Akkadius
Date:   Tue Jan 20 01:34:37 2015 -0600

    Remove commented printf :       Final node with %u nodes, list offset %lu.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:36 2015 -0600

    Remove commented printf : Node %d's longest path is %d\n

Author: Akkadius
Date:   Tue Jan 20 01:34:36 2015 -0600

    Remove commented printf : pos=%d/%d\n

Author: Akkadius
Date:   Tue Jan 20 01:34:36 2015 -0600

    Remove commented printf : Write @ %d(%d). %d bytes.\n

Author: Akkadius
Date:   Tue Jan 20 01:34:36 2015 -0600

    Remove commented printf : Closed packet file.\n

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf : NPC Spell casted on %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf : Spawning object %s at %f,%f,%f\n

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf : Spawned Merc with ID %i\n

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf : ProcP %d: %p\n

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf :

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf :

Author: Akkadius
Date:   Tue Jan 20 01:33:31 2015 -0600

    Remove commented printf : Opening %s.mod\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : fnlen is %d, %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : Returning %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : Node %u: (%.2f -> %.2f, %.2f -> %.2f)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : Find Region %ld in node %ld\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf :     v1=%d, v2=%d, v3=%d, g=%d, unk=%d\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : Look for %s: got %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:30 2015 -0600

    Remove commented printf : Node %u: (%.2f -> %.2f, %.2f -> %.2f)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Find Region %ld in node %ld\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Node %u: (%.2f -> %.2f, %.2f -> %.2f)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : New Color at: (%.3f,%.3f,%.3f)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Missed: (%.3f, %.3f, %.3f)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : ReadMemory: hProcess: %p, baseAddr: %p, buffer: %p, size: %d, read: %d, result: %d\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Read @ %d(%d). %d bytes. (%c)\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Got %d bytes: %.*s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:29 2015 -0600

    Remove commented printf : Opening packet file: %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:21 2015 -0600

    Remove commented printf : Named: %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:19 2015 -0600

    Remove commented printf : %i: Basetex: %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:17 2015 -0600

    Remove commented printf : %s %s\n

Author: Akkadius
Date:   Tue Jan 20 01:33:17 2015 -0600

    Remove commented printf : %s ID: %i profile mismatch, not converting. PP %u - Profile Length %u \n

Author: Akkadius
Date:   Tue Jan 20 01:32:27 2015 -0600

    Remove commented std::cout : \n

Author: Akkadius
Date:   Tue Jan 20 01:31:06 2015 -0600

    Remove commented std::cout : Awake from condition, must have a stream now

Author: Akkadius
Date:   Tue Jan 20 01:31:05 2015 -0600

    Remove commented std::cout : No streams, waiting on condition

Author: Akkadius
Date:   Tue Jan 20 01:31:04 2015 -0600

    Remove commented std::cout : Removing connection

Author: Akkadius
Date:   Tue Jan 20 01:31:03 2015 -0600

    Remove commented std::cout : Push(): Unlocking MNewStreams

Author: Akkadius
Date:   Tue Jan 20 01:31:02 2015 -0600

    Remove commented std::cout : Push():Locking MNewStreams

Author: Akkadius
Date:   Tue Jan 20 01:31:00 2015 -0600

    Remove commented std::cout : Pop(): Unlocking MNewStreams

Author: Akkadius
Date:   Tue Jan 20 01:30:58 2015 -0600

    Remove commented std::cout : Pop():Locking MNewStreams

Author: Akkadius
Date:   Tue Jan 20 01:30:56 2015 -0600

    Remove commented std::cout : Tlevel:

Author: Akkadius
Date:   Tue Jan 20 01:30:56 2015 -0600

    Remove commented std::cout : CastToTrap error

Author: Akkadius
Date:   Tue Jan 20 01:30:56 2015 -0600

    Remove commented std::cout : Starting factory Writer

Author: Akkadius
Date:   Tue Jan 20 01:30:53 2015 -0600

    Remove commented std::cout : Gender in:

Author: Akkadius
Date:   Tue Jan 20 01:30:53 2015 -0600

    Remove commented std::cout : CastToTrap error

Author: Akkadius
Date:   Tue Jan 20 01:30:53 2015 -0600

    Remove commented std::cout : Sending mana update:

Author: Akkadius
Date:   Tue Jan 20 01:30:53 2015 -0600

    Remove commented std::cout : Starting factory Reader

Author: Akkadius
Date:   Tue Jan 20 01:30:53 2015 -0600

    Remove commented std::cout : Got OP_SessionRequest

Author: Akkadius
Date:   Tue Jan 20 00:53:52 2015 -0600

    Re-Implement GMSay colors: http://i.imgur.com/tQbuKUM.jpg

Author: Akkadius
Date:   Tue Jan 20 00:25:14 2015 -0600

    Remove some old MySQL debugging

Author: Akkadius
Date:   Tue Jan 20 00:21:00 2015 -0600

    MySQL Query Logging add rows returned

Author: Uleat
Date:   Tue Jan 20 01:19:08 2015 -0500

    Fix for Inventory::_HasItemByUse(bucket) using the parent container when searching for bag container items

Author: Akkadius
Date:   Tue Jan 20 00:14:18 2015 -0600

    Add MySQL Query logging at root

Author: Akkadius
Date:   Mon Jan 19 23:59:59 2015 -0600

    Remove some old MySQL logging for errors

Author: Akkadius
Date:   Mon Jan 19 23:52:11 2015 -0600

    Add MySQL query category

Author: Akkadius
Date:   Mon Jan 19 23:48:30 2015 -0600

    Remove some old MySQL logging for errors

Author: Mackal
Date:   Tue Jan 20 00:04:22 2015 -0500

    Fix compile error with GCC

Author: Uleat
Date:   Mon Jan 19 23:32:57 2015 -0500

    Implemented 'enum class ClientVersion' -- added 'RoF2' to lua client version enumeration

Author: Cavedude
Date:   Mon Jan 19 19:17:39 2015 -0800

    /bug is implemented for Intel clients. Moved the decode to a native handler. Intel will send all the info PC does, except for type as there is no support for that in the client.

Author: Robregen
Date:   Mon Jan 19 19:00:52 2015 -0800

    fixed Rewind

Author: Arthur Ice
Date:   Fri Dec 5 17:57:07 2014 -0800

    GetClosestZonePoint converted to xyz_location

Author: Arthur Ice
Date:   Tue Dec 2 21:27:22 2014 -0800

    GetClosestZonePoint converted to xyz_location (id version)

Author: Arthur Ice
Date:   Tue Dec 2 21:00:31 2014 -0800

    graveyard_x(), graveyard_y(), graveyard_z(), and graveyard_heading() converted to GetGraveyardPoint()

Author: Arthur Ice
Date:   Tue Dec 2 20:25:38 2014 -0800

    Added GetGraveyardPoint() to Zone

Author: Arthur Ice
Date:   Tue Dec 2 20:17:14 2014 -0800

    Removed safe_x(), safe_y(), safe_z() from Zone

Author: Arthur Ice
Date:   Tue Dec 2 19:55:29 2014 -0800

    Added GetSafePoint to Zone

Author: Arthur Ice
Date:   Tue Dec 2 19:38:15 2014 -0800

    Converted Corpse constructor to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 19:29:43 2014 -0800

    simplified SummonAllCorpses

Author: Arthur Ice
Date:   Tue Dec 2 19:28:28 2014 -0800

    Added distance functions for position

Author: Arthur Ice
Date:   Tue Dec 2 18:24:56 2014 -0800

    ModifyWP converted to xyz_location

Author: Arthur Ice
Date:   Tue Dec 2 18:15:51 2014 -0800

    AddWPForSpawn converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 17:41:01 2014 -0800

    AddWP converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 16:53:52 2014 -0800

    CreateSpawn2 converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 16:42:19 2014 -0800

    UpdateZoneSafeCoords converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 16:21:20 2014 -0800

    UpdateCharacterCorpse converted to xyz_heading

Author: Speedz
Date:   Mon Jan 19 18:00:38 2015 -0800

    Added #bug
    - For viewing bug reports in game on GMs.
    - Based the status level off of EQ Support staff level so petitions can be compared to bugs.
    - This will need further testing once the /bug is implemented.

Author: Arthur Ice
Date:   Tue Dec 2 16:02:12 2014 -0800

    SaveCharacterCorpse converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 15:42:30 2014 -0800

    CreateGraveyardRecord converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 15:27:43 2014 -0800

    SendCharacterCorpseToGraveyard to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 15:18:16 2014 -0800

    UnburyCharacterCorpse converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 15:04:13 2014 -0800

    SummonAllGraveyardCorpses converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 14:50:48 2014 -0800

    SummonAllCorpses converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 14:36:51 2014 -0800

    QuestManager::unique_spawn converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 13:26:55 2014 -0800

    QuestManager::spawn2 converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 13:13:04 2014 -0800

    CorpseLoadFromDBData converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 12:52:40 2014 -0800

    SummonAllCharacterCorpses converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 12:42:47 2014 -0800

    summonallplayercorpses converted to xyz_heading

Author: Cavedude
Date:   Mon Jan 19 16:28:54 2015 -0800

    Items with the Reagent Conservation focus (Batskull Earring) will now only glow if a spell is cast that uses reagents and it was successful in preventing the reagent from being consumed.

Author: Arthur Ice
Date:   Tue Dec 2 12:04:21 2014 -0800

    SummonBuriedCharacterCorpses converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 12:00:45 2014 -0800

    summonburriedplayercorpse converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 11:20:10 2014 -0800

    moveto converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 10:56:02 2014 -0800

    rebind converted to xyz_location

Author: Arthur Ice
Date:   Tue Dec 2 10:47:46 2014 -0800

    SetBindPoint converted to xyz_location

Author: Arthur Ice
Date:   Tue Dec 2 10:29:35 2014 -0800

    SaveCharacterBindPoint converted to xyz_heading

Author: Arthur Ice
Date:   Mon Dec 1 23:34:41 2014 -0800

    SetGraveyard to xyz_header

Author: Arthur Ice
Date:   Mon Dec 1 23:12:19 2014 -0800

    pgraveyard_x, pgraveyard_y, pgraveyard_z, and pgraveyard_heading converted to xyz_heading as m_Graveyard

Author: Arthur Ice
Date:   Mon Dec 1 22:35:46 2014 -0800

    psafe_x, psafe_y, and psafe_z replaced with xyz_location m_SafePoint

Author: Arthur Ice
Date:   Mon Dec 1 16:00:48 2014 -0800

    IsSpellBlocked converted to use xyz_location

Author: Arthur Ice
Date:   Mon Dec 1 15:48:59 2014 -0800

    Zone::GetSpellBlockedMessage convered to use IsWithinAxisAlignedBox

Author: Robregen
Date:   Mon Jan 19 15:12:13 2015 -0800

    fixed VS2013 compiling error.

Author: Arthur Ice
Date:   Mon Dec 1 15:25:37 2014 -0800

    Added two axis aligned bounding box check functions

Author: Arthur Ice
Date:   Mon Dec 1 14:16:53 2014 -0800

    GetSpellBlockedMessage converted to xyz_location

Author: Arthur Ice
Date:   Mon Dec 1 13:32:19 2014 -0800

    xdiff, ydiff, and zdiff in ZoneSpellsBlocked converted to xyz_location m_Difference

Author: Arthur Ice
Date:   Mon Dec 1 13:05:40 2014 -0800

    ZoneSpellsBlocked converted x,y, and z to m_Location as xyz_location

Author: Arthur Ice
Date:   Mon Dec 1 12:30:07 2014 -0800

    ZoneDatabase::InsertDoor converted to xyz_heading

Author: Arthur Ice
Date:   Mon Dec 1 10:33:57 2014 -0800

    Lua, perl, boost, zlib, mysql, and glm include files are now being included marked as system (library) files. warnings for these libraries are now suppressed

Author: Arthur Ice
Date:   Mon Dec 1 01:23:58 2014 -0800

    aa_los_them converted to xyz_location m_AutoAttackTargetLocation

Author: Arthur Ice
Date:   Mon Dec 1 01:12:19 2014 -0800

    aa_los_me and aa_los_me_heading converted xyz_heading m_AutoAttackPosition

Author: Arthur Ice
Date:   Mon Dec 1 00:26:35 2014 -0800

    zonesummon_x, zonesummon_y, and zonesummon_z converted to xyz_location m_ZoneSummonLocation

Author: Arthur Ice
Date:   Mon Dec 1 00:03:59 2014 -0800

    proximity_x, proximity_y, and proximity_z converted to xyz_location m_Proximity

Author: Arthur Ice
Date:   Sun Nov 30 23:50:24 2014 -0800

    EntityList::ProcessMove converted to xyz_location

Author: Arthur Ice
Date:   Sun Nov 30 22:28:17 2014 -0800

    EntityList::GetRandomClient converted to xyz_location

Author: Arthur Ice
Date:   Sun Nov 30 22:14:57 2014 -0800

    QuestMgr::movePCInstance converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 22:05:34 2014 -0800

    QuestMgr::CreateObjectFromModel converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 21:42:59 2014 -0800

    QuestManager::CreateGroundObject converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 21:30:16 2014 -0800

    EntityList::CreateGroundObject converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 21:20:46 2014 -0800

    EntityList::CreateGroundObjectFromModel converted to to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 21:04:39 2014 -0800

    EntityList::CreateDoor converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 20:49:48 2014 -0800

    Doors constructor converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 20:37:43 2014 -0800

    Replaced SetX(), SetY(), SetZ(), and SetHeading() with SetPosition() on Doors

Author: Arthur Ice
Date:   Sun Nov 30 20:23:18 2014 -0800

    Replaced GetX(), GetY(), GetZ(), and GetHeading() in Doors with GetPosition()

Author: Arthur Ice
Date:   Sun Nov 30 20:05:51 2014 -0800

    replaced GetDestX(), GetDestY(), GetDestZ(), and GetDestHeading() with GetDestination in Doors

Author: Arthur Ice
Date:   Sun Nov 30 19:58:56 2014 -0800

    replaced dest_x, dest_y, dest_z, and dest_headingg in Doors with xyz_heading m_Destination

Author: Arthur Ice
Date:   Sun Nov 30 19:47:49 2014 -0800

    replaced pos_x, pos_y, pos_z, heading in Doors with xyz_heading m_Position

Author: Arthur Ice
Date:   Sun Nov 30 18:57:50 2014 -0800

    mob constructor converted to xyz_heading

Author: Speedz
Date:   Mon Jan 19 11:18:37 2015 -0800

    Fixed insufficient status msg.

Author: Speedz
Date:   Mon Jan 19 11:15:45 2015 -0800

    Adjusted status check positions.

Author: Speedz
Date:   Mon Jan 19 10:47:58 2015 -0800

    Reorganized #corpse command
    - Cleaned up the help for it.
    - Added a corpse locator.
    - Consolidated list into one sub command.
    - Moved buried corpse commands to #corpse as a sub command.
    - Fixed spelling on buried.
    - Lowered the hard code admin check to match takp's adjustments.

Author: Paul Coene
Date:   Mon Jan 19 13:07:37 2015 -0500

    Made familiars persistent.

Author: JJ
Date:   Mon Jan 19 11:00:05 2015 -0500

    Update to 6535690a69dd0693cf4d3a8fd075cf605822c143 to make explicit #include rather than implicit.

Author: Akkadius
Date:   Mon Jan 19 05:58:59 2015 -0600

    Add console color for MySQL Error logging

Author: Akkadius
Date:   Mon Jan 19 05:58:03 2015 -0600

    Convert MySQL Error logging to EQEmuLogSys and create MySQL Error category

Author: Akkadius
Date:   Mon Jan 19 05:40:27 2015 -0600

    More cleanup of some QueryDatabase references that no longer need auto results

Author: Akkadius
Date:   Mon Jan 19 05:39:51 2015 -0600

    More cleanup of some QueryDatabase references that no longer need auto results

Author: Akkadius
Date:   Mon Jan 19 05:38:23 2015 -0600

    More cleanup of some QueryDatabase references that no longer need auto results

Author: Akkadius
Date:   Mon Jan 19 05:35:28 2015 -0600

    More cleanup of some QueryDatabase references that no longer need auto results

Author: Akkadius
Date:   Mon Jan 19 05:32:34 2015 -0600

    Cleanup of some QueryDatabase references that no longer need auto results

Author: Akkadius
Date:   Mon Jan 19 05:26:19 2015 -0600

    Remove Duplicative MySQL Error: Error executing query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:18 2015 -0600

    Remove Duplicative MySQL Error: Error getting loot drop info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:18 2015 -0600

    Remove Duplicative MySQL Error: Error loading guild member '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:17 2015 -0600

    Remove Duplicative MySQL Error: Error getting loot table info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:16 2015 -0600

    Remove Duplicative MySQL Error: Error loading guild member '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:15 2015 -0600

    Remove Duplicative MySQL Error: Error getting loot table info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:15 2015 -0600

    Remove Duplicative MySQL Error: Error loading guild member list '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:13 2015 -0600

    Remove Duplicative MySQL Error: Error getting loot table info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:13 2015 -0600

    Remove Duplicative MySQL Error: Error %s: '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:10 2015 -0600

    Remove Duplicative MySQL Error: Error in GetHighestWaypoint query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:10 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadBaseData query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:26:10 2015 -0600

    Remove Duplicative MySQL Error: Error setting public note for char %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:09 2015 -0600

    Remove Duplicative MySQL Error: Error in GetFreeGrid query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:09 2015 -0600

    Remove Duplicative MySQL Error: Error in GetMaxBaseDataLevel query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:26:08 2015 -0600

    Remove Duplicative MySQL Error: Error retrieving alt flag '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:08 2015 -0600

    Remove Duplicative MySQL Error: Error adding grid entry '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:07 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpells query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:26:07 2015 -0600

    Remove Duplicative MySQL Error: Error retrieving banker flag '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:06 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadPetInfo query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:06 2015 -0600

    Remove Duplicative MySQL Error: Error getting next waypoint id '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:06 2015 -0600

    Remove Duplicative MySQL Error: Error in GetMaxSpellID query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:26:06 2015 -0600

    Remove Duplicative MySQL Error: Error removing char %d from guild '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:05 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadPetInfo query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:05 2015 -0600

    Remove Duplicative MySQL Error: Error updating spawn2 pathing '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:05 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadDamageShieldTypes: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:26:05 2015 -0600

    Remove Duplicative MySQL Error: Error Changing char %d to guild %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:04 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadPetInfo query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:04 2015 -0600

    Remove Duplicative MySQL Error: Error adding grid '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:03 2015 -0600

    Remove Duplicative MySQL Error: GetFriendsAndIgnore query error %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:03 2015 -0600

    Remove Duplicative MySQL Error: Error getting npc faction info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:03 2015 -0600

    Remove Duplicative MySQL Error: Error setting Channel for guild %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:02 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadBuffs query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:02 2015 -0600

    Remove Duplicative MySQL Error: Error setting pathgrid '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:02 2015 -0600

    Remove Duplicative MySQL Error: Error adding friend/ignore, query was %s : %s

Author: Akkadius
Date:   Mon Jan 19 05:26:02 2015 -0600

    Remove Duplicative MySQL Error: Error getting npc faction info from database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:26:02 2015 -0600

    Remove Duplicative MySQL Error: Error setting URL for guild %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:01 2015 -0600

    Remove Duplicative MySQL Error: Error in SaveBuffs query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:26:01 2015 -0600

    Remove Duplicative MySQL Error: Error deleting waypoint '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:26:00 2015 -0600

    Remove Duplicative MySQL Error: Error expiring unread messages, %s %s

Author: Akkadius
Date:   Mon Jan 19 05:26:00 2015 -0600

    Remove Duplicative MySQL Error: LoadItems '%s', %s

Author: Akkadius
Date:   Mon Jan 19 05:26:00 2015 -0600

    Remove Duplicative MySQL Error: Error setting MOTD for guild %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:59 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadAltCurrencyValues query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:59 2015 -0600

    Remove Duplicative MySQL Error: Error adding waypoint '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:59 2015 -0600

    Remove Duplicative MySQL Error: Error in DisableRecipe query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:58 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpawnConditions events query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:58 2015 -0600

    Remove Duplicative MySQL Error: Error expiring read messages, %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:58 2015 -0600

    Remove Duplicative MySQL Error: Error in GetItemsCount '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:58 2015 -0600

    Remove Duplicative MySQL Error: Error changing leader on guild %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::RaidGroupCount query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error in Zone::LoadTickItems: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error deleting grid entries '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error in EnableRecipe query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpawnConditions query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:56 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAASkillVars '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:55 2015 -0600

    Remove Duplicative MySQL Error: Error expiring trash messages, %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:55 2015 -0600

    Remove Duplicative MySQL Error: GetInventory query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:25:55 2015 -0600

    Remove Duplicative MySQL Error: Error in _GetFreeGuildID query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:54 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::GroupCount query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Error in Zone::LoadNPCEmotes: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Error deleting grid '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Error in LearnRecipe query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpawnConditions query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: CreateNewNPCSpawnGroupCommand Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAASkillVars '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:53 2015 -0600

    Remove Duplicative MySQL Error: Unable to get message count from database. %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:52 2015 -0600

    Remove Duplicative MySQL Error: GetInventory query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:25:52 2015 -0600

    Remove Duplicative MySQL Error: Error inserting new guild rank record when storing %d for %d. Giving up. '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: ERROR Bind Home Save: %s. %s

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: Error in Zone::LoadAdventureFlavor: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: Error creating grid entry '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: Error in Client::LearnRecipe query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadDBEvent query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: CreateNewNPCSpawnGroupCommand Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:44 2015 -0600

    Remove Duplicative MySQL Error: Update item quantity failed. %s : %s

Author: Akkadius
Date:   Mon Jan 19 05:25:43 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::LoadAAs query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:43 2015 -0600

    Remove Duplicative MySQL Error: Error updating status %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:43 2015 -0600

    Remove Duplicative MySQL Error: Error removing guild LFGuild entry, query was %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:43 2015 -0600

    Remove Duplicative MySQL Error: DeleteSharedBankSlot, bags query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:43 2015 -0600

    Remove Duplicative MySQL Error: Error inserting new guild record when storing %d. Giving up. '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:37 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateSpawn2Status query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:37 2015 -0600

    Remove Duplicative MySQL Error: Error in Zone::LoadAlternateCurrencies: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:37 2015 -0600

    Remove Duplicative MySQL Error: Error updating spawn2 '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:37 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateRecipeMadecount query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:37 2015 -0600

    Remove Duplicative MySQL Error: Error in TaskProximityManager::LoadProximities %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:37 2015 -0600

    Remove Duplicative MySQL Error: Unable to update spawn condition '%s': %s\n

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: CreateNewNPCSpawnGroupCommand Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: Update item failed. %s : %s

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::LoadAAs query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: SendMail: Query %s failed with error %s

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: Error expiring player LFGuild entry, query was %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: DeleteSharedBankSlot query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:36 2015 -0600

    Remove Duplicative MySQL Error: Error in ListRulesets query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:35 2015 -0600

    Remove Duplicative MySQL Error: Error clearing old guild_ranks records when storing %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:33 2015 -0600

    Remove Duplicative MySQL Error: Error in GetSpawnTimeLeft query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:33 2015 -0600

    Remove Duplicative MySQL Error: Error in Zone::LoadVeteranRewards: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:33 2015 -0600

    Remove Duplicative MySQL Error: Error querying fuzzy spawn2 '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:33 2015 -0600

    Remove Duplicative MySQL Error: Error in GetTradeRecept success query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:33 2015 -0600

    Remove Duplicative MySQL Error: Error in RemoveTitle query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:32 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Mon Jan 19 05:25:32 2015 -0600

    Remove Duplicative MySQL Error: Unable to update spawn event '%s': %s\n

Author: Akkadius
Date:   Mon Jan 19 05:25:32 2015 -0600

    Remove Duplicative MySQL Error: NPCSpawnDB Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:32 2015 -0600

    Remove Duplicative MySQL Error: Delete item failed. %s : %s

Author: Akkadius
Date:   Mon Jan 19 05:25:32 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::CountAALevels query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:32 2015 -0600

    Remove Duplicative MySQL Error: Error updating Owner in database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:32 2015 -0600

    Remove Duplicative MySQL Error: Error inserting guild into LFGuild table, query was %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:31 2015 -0600

    Remove Duplicative MySQL Error: DeleteInventorySlot, bags query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:31 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadRules query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:31 2015 -0600

    Remove Duplicative MySQL Error: Error clearing old guild record when storing %d '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:27 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateTimeLeft query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error: Error in Zone::LoadLDoNTrapEntries: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error: Error querying spawn2 '%s': '%s'

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error: Error in tradeskill verify query: '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error: Error in CheckTitle query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error: Error in CreateSpawn2 query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:26 2015 -0600

    Remove Duplicative MySQL Error: Error in RefreshPetitionsFromDB query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:25 2015 -0600

    Remove Duplicative MySQL Error: NPCSpawnDB Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:25 2015 -0600

    Remove Duplicative MySQL Error: error changing permissions: %s : %s

Author: Akkadius
Date:   Mon Jan 19 05:25:25 2015 -0600

    Remove Duplicative MySQL Error: Error in Client::TryReward(): %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:25 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::CountAAs query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:25 2015 -0600

    Remove Duplicative MySQL Error: Error updating password in database: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:25 2015 -0600

    Remove Duplicative MySQL Error: Error removing guild from LFGuild table, query was %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:25 2015 -0600

    Remove Duplicative MySQL Error: DeleteInventorySlot query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:24 2015 -0600

    Remove Duplicative MySQL Error: Fauled to create rule set in the database: %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:24 2015 -0600

    Remove Duplicative MySQL Error: Error reloading guild ranks '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:23 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdateTimeLeft query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:23 2015 -0600

    Remove Duplicative MySQL Error: Error in Zone::LoadLDoNTraps: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:22 2015 -0600

    Remove Duplicative MySQL Error: Error in GetWaypoints query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:22 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Mon Jan 19 05:25:22 2015 -0600

    Remove Duplicative MySQL Error: Error in SendTradeskillDetails query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:22 2015 -0600

    Remove Duplicative MySQL Error: Error adding title suffix: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:22 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpawn2 query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: Error in GetBasePetItems query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: Error in InsertPetitionToDB query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: NPCSpawnDB Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: error promoting item: %s : %s

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: Error in Client::TryReward(): %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:21 2015 -0600

    Remove Duplicative MySQL Error: Error in GetTotalAALevels '%s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: Error in AdventureManager:::GetLeaderboardInfo: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: Failed to load channels. %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: Error inserting player into LFGuild table, query was %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: UpdateSharedBankSlot query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadRules query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: Error reloading guilds '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:20 2015 -0600

    Remove Duplicative MySQL Error: Error in GetCharactersInInstace query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:18 2015 -0600

    Remove Duplicative MySQL Error: Error in GetZoneCFG query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:18 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadNewMerchantData query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error: Error in GetGridType2 query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadTributes level query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error: Error in TradeskillSearchResults query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error: Error adding title: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Mon Jan 19 05:25:17 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadSpawn2 query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:16 2015 -0600

    Remove Duplicative MySQL Error: Error in GetBasePetItems query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:16 2015 -0600

    Remove Duplicative MySQL Error: Error in UpdatePetitionToDB query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:16 2015 -0600

    Remove Duplicative MySQL Error: NPCSpawnDB Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:16 2015 -0600

    Remove Duplicative MySQL Error: Insert Error: %s : %s

Author: Akkadius
Date:   Mon Jan 19 05:25:16 2015 -0600

    Remove Duplicative MySQL Error: Error in SetGuildDoor query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:16 2015 -0600

    Remove Duplicative MySQL Error: Error in Client::TryReward(): %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadAAEffects query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: SoF Start zone query failed: %s : %s\n

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: Error in AdventureManager:::LoadAdventureEntries: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: Error in AdventureManager:::MoveCorpsesToGraveyard: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: Unable to get message count from database. %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: Error removing player from LFGuild table, query was %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: UpdateInventorySlot query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:15 2015 -0600

    Remove Duplicative MySQL Error: Fauled to set rule in the database: %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:14 2015 -0600

    Remove Duplicative MySQL Error: Error loading guild ranks '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:14 2015 -0600

    Remove Duplicative MySQL Error: Error in GetAccountIDByChar query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:09 2015 -0600

    Remove Duplicative MySQL Error: Error in SaveZoneCFG query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:09 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadTempMerchantData query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:25:09 2015 -0600

    Remove Duplicative MySQL Error: Error in GetHighestGrid query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:09 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadTributes first query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadTraps query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error: Error in HandleAutoCombine query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error: Unable to load titles: %s : %s

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error:

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error: Error while querying Spell ID %i spell_globals table query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:08 2015 -0600

    Remove Duplicative MySQL Error: Error in PopulateZoneLists query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:07 2015 -0600

    Remove Duplicative MySQL Error: Error in GetPoweredPetEntry query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:07 2015 -0600

    Remove Duplicative MySQL Error: Error in DeletePetitionFromDB query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:07 2015 -0600

    Remove Duplicative MySQL Error: NPCSpawnDB Error: %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:07 2015 -0600

    Remove Duplicative MySQL Error: Error in Mount query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:07 2015 -0600

    Remove Duplicative MySQL Error: Error Loading guild bank: %s, %s

Author: Akkadius
Date:   Mon Jan 19 05:25:07 2015 -0600

    Remove Duplicative MySQL Error: Error in CheckGuildDoor query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:06 2015 -0600

    Remove Duplicative MySQL Error: Error in Forage query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:06 2015 -0600

    Remove Duplicative MySQL Error: Error in Client::SendRewards(): %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:06 2015 -0600

    Remove Duplicative MySQL Error: Error in ZoneDatabase::LoadAAEffects2 query: '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:06 2015 -0600

    Remove Duplicative MySQL Error: Start zone query failed: %s : %s\n

Author: Akkadius
Date:   Mon Jan 19 05:25:06 2015 -0600

    Remove Duplicative MySQL Error: Error in AdventureManager:::LoadAdventures: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:06 2015 -0600

    Remove Duplicative MySQL Error: Error in AdventureManager:::MoveCorpsesToGraveyard: %s (%s)

Author: Akkadius
Date:   Mon Jan 19 05:25:06 2015 -0600

    Remove Duplicative MySQL Error: FindCharacter failed. %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:06 2015 -0600

    Remove Duplicative MySQL Error: Failed to load LFGuild info from database. %s %s

Author: Akkadius
Date:   Mon Jan 19 05:25:05 2015 -0600

    Remove Duplicative MySQL Error: Error runing inventory verification query '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:05 2015 -0600

    Remove Duplicative MySQL Error: Error in LoadRules query %s: %s

Author: Akkadius
Date:   Mon Jan 19 05:25:05 2015 -0600

    Remove Duplicative MySQL Error: Error loading guilds '%s': %s

Author: Akkadius
Date:   Mon Jan 19 05:25:05 2015 -0600

    Remove Duplicative MySQL Error: StoreCharacter inventory failed. Query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:25:05 2015 -0600

    Remove Duplicative MySQL Error: Error in GetSpellColumns query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:24:59 2015 -0600

    Remove Duplicative MySQL Error: Error in ExportBaseData query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:24:54 2015 -0600

    Remove Duplicative MySQL Error: Error in get_skill query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:24:48 2015 -0600

    Remove Duplicative MySQL Error: Error in skill_usable query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 05:24:38 2015 -0600

    Remove Duplicative MySQL Error: Error in ExportSpells query '%s' %s

Author: Akkadius
Date:   Mon Jan 19 04:27:22 2015 -0600

    More stuff

Author: Akkadius
Date:   Mon Jan 19 04:12:30 2015 -0600

    add global_define.h

Author: Akkadius
Date:   Mon Jan 19 04:12:09 2015 -0600

    Rename debug.h to global_define.h, update cmakelists and such

Author: Akkadius
Date:   Mon Jan 19 04:09:02 2015 -0600

    Stuff

Author: Akkadius
Date:   Mon Jan 19 04:04:50 2015 -0600

    Added types.h to more files that relied on mutex.h to get to debug.h to get to types.h

Author: Akkadius
Date:   Mon Jan 19 04:02:45 2015 -0600

    Add types.h to a bunch of files

Author: Akkadius
Date:   Mon Jan 19 03:49:25 2015 -0600

    Delete debug.cpp file and from cmake

Author: Akkadius
Date:   Mon Jan 19 03:43:30 2015 -0600

    Remove EQDEBUG preprocessor from debug

Author: Akkadius
Date:   Mon Jan 19 03:40:09 2015 -0600

    Removal of client_logs.h from #includes

Author: Akkadius
Date:   Mon Jan 19 03:38:07 2015 -0600

    File deletion of client_logs and CMakeLists.txt update

Author: Akkadius
Date:   Mon Jan 19 03:37:12 2015 -0600

    Removal of client_logs.cpp/.h

Author: Akkadius
Date:   Mon Jan 19 03:36:50 2015 -0600

    Gut more of debug.cpp/.h

Author: Akkadius
Date:   Mon Jan 19 03:33:15 2015 -0600

    Remove logtypes.h from header includes and the file itself

Author: Akkadius
Date:   Mon Jan 19 03:28:00 2015 -0600

    Remove LogSettingsFile from config parsers which removes log.ini completely

Author: Akkadius
Date:   Mon Jan 19 03:25:46 2015 -0600

    General cleanup

Author: Akkadius
Date:   Mon Jan 19 03:22:23 2015 -0600

    Remove QueryPerformanceCounter code

Author: Akkadius
Date:   Mon Jan 19 03:02:00 2015 -0600

    Adjust category names

Author: Akkadius
Date:   Mon Jan 19 03:00:32 2015 -0600

    Convert 'Dropping client:' to Zone Status

Author: Akkadius
Date:   Mon Jan 19 02:59:02 2015 -0600

    Convert 'Client linkdead' to Zone Status

Author: Akkadius
Date:   Mon Jan 19 02:56:52 2015 -0600

    Convert 'Unable to get raid id, char not found!' to Error Category

Author: Akkadius
Date:   Mon Jan 19 02:54:28 2015 -0600

    Convert TimeBroadcast debug message to zone_server category

Author: Akkadius
Date:   Mon Jan 19 02:54:01 2015 -0600

    Implement EQEmuLogSys::GetConsoleColorFromCategory in ProcessConsoleMessage

Author: Akkadius
Date:   Mon Jan 19 02:47:51 2015 -0600

    Add EQEmuLogSys::GetConsoleColorFromCategory(uint16 log_category) to replace the static map

Author: Akkadius
Date:   Mon Jan 19 02:35:28 2015 -0600

    Remove Log.Hex completely for real

Author: Akkadius
Date:   Mon Jan 19 02:33:52 2015 -0600

    Remove another Log.Hex straggler

Author: Akkadius
Date:   Mon Jan 19 02:32:46 2015 -0600

    Sort header functions

Author: Akkadius
Date:   Mon Jan 19 02:32:24 2015 -0600

    Remove Log.Raw function

Author: Akkadius
Date:   Mon Jan 19 02:32:09 2015 -0600

    Remove Log.Hex remaining entries

Author: Akkadius
Date:   Mon Jan 19 02:30:36 2015 -0600

    Remove Log.Hex references because we're not going to use them anyways per KLS

Author: Arthur Ice
Date:   Sun Nov 30 18:33:45 2014 -0800

    Horse constructor converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 18:13:28 2014 -0800

    Switched to c++11 based abs instead of hacky custom version

Author: Arthur Ice
Date:   Sun Nov 30 18:10:30 2014 -0800

    Trap converted to use xyz_location as m_Position instead of x, y, z

Author: Arthur Ice
Date:   Sun Nov 30 17:32:11 2014 -0800

    NPC constructor converted to use xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 16:30:09 2014 -0800

    MoveTo converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 15:58:44 2014 -0800

    GetSpawnPointX(), GetSpawnPointY(), GetSpawnPointZ(), and GetSpawnPointH(), converted to GetSpawnPoint()

Author: Arthur Ice
Date:   Sun Nov 30 15:40:24 2014 -0800

    GetClosestWaypoint converted to xyz_location

Author: Arthur Ice
Date:   Sun Nov 30 15:29:13 2014 -0800

    GetSpawnPointX(). GetSpawnPointY(), GetSpawnPointZ(), and GetSpawnPointH() replaced with GetSpawnPoint()

Author: Arthur Ice
Date:   Sun Nov 30 15:05:50 2014 -0800

    GetGuardPointX(), GetGuardPointY(), GetGuardPointZ(), and GetGuardPointH() replaced with GetGuardPoint()

Author: Arthur Ice
Date:   Sun Nov 30 14:34:27 2014 -0800

    guard_x_saved, guard_y_saved, guard_z_saved, guard_heading_saved converted to m_GuardPointSaved

Author: Arthur Ice
Date:   Sun Nov 30 14:17:14 2014 -0800

    guard_x, guard_y, guard_z, guard_heading converted to xyz_heading as m_GuardPoint

Author: Arthur Ice
Date:   Sun Nov 30 13:51:57 2014 -0800

    org_x, org_y, org_z, and org_heading converted to xyz_heading as m_SpawnPoint

Author: Arthur Ice
Date:   Sat Nov 29 21:24:57 2014 -0800

    converted Warp to xyz_location instead of x,y,z

Author: Arthur Ice
Date:   Sat Nov 29 21:07:08 2014 -0800

    SetDeltas converted to SetDelta

Author: Arthur Ice
Date:   Sat Nov 29 16:43:24 2014 -0800

    added GetPosition to mob

Author: Arthur Ice
Date:   Wed Nov 26 21:41:14 2014 -0800

    added constness to operators

Author: Arthur Ice
Date:   Wed Nov 26 21:25:09 2014 -0800

    added automatic conversion of Map::Vertex into xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:39:39 2014 -0800

    InLiquid converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:38:53 2014 -0800

    InLava converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:37:32 2014 -0800

    InVWater converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:36:47 2014 -0800

    ReturnRegionType converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:32:46 2014 -0800

    InLiquid converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:24:28 2014 -0800

    InLava converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:22:41 2014 -0800

    InVWater converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:20:41 2014 -0800

    ReturnRegionType converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:18:06 2014 -0800

    InWater(y,x,z) converted to InWater(xyz_location)

Author: Arthur Ice
Date:   Wed Nov 26 17:34:45 2014 -0800

    GetCWPX(), GetCWPY(), GetCWPZ(), GetCWPH() converted to GetCurrentWayPoint

Author: Arthur Ice
Date:   Wed Nov 26 17:21:33 2014 -0800

    Added overloads for to_string to handle xyz_heading, xyz_location, and xy_location

Author: Arthur Ice
Date:   Wed Nov 26 15:58:29 2014 -0800

    tarv_x, tarv_y. tarv_z converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 15:10:49 2014 -0800

    tarx, tary, tarz converted to m_TargetLocation as xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 14:57:12 2014 -0800

    fear_walkto_x, fear_walkto_y, fear_walkto_z replaced with m_FearWalkTarget converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 00:56:07 2014 -0800

    rewind_x, rewind_y,rewind_z replaced with m_RewindLocation of type xyz_location

Author: Trevius
Date:   Sun Jan 18 23:04:21 2015 -0600

    Some work on RoF Guild Banks (still not functional).

Author: Secrets
Date:   Sun Jan 18 22:59:05 2015 -0500

    do not count sizeof opcode in this calculation

Author: Secrets
Date:   Sun Jan 18 22:55:34 2015 -0500

    OP_ClientError provides us no useful data, disabled output of it.
    EQStream fixes.

Author: Arthur Ice
Date:   Tue Nov 25 23:24:17 2014 -0800

    cur_wp_x, cur_wp_y, cur_wp_z, cur_wp_heading replaced with m_CurrentWayPoint

Author: Arthur Ice
Date:   Tue Nov 25 21:45:41 2014 -0800

    Removed use of initializer lists. so less pretty

Author: Arthur Ice
Date:   Tue Nov 25 21:06:13 2014 -0800

    spell_x,spell_y, spell_z converted to m_SpellLocation, xyz_location

Author: Arthur Ice
Date:   Tue Nov 25 20:43:09 2014 -0800

    delta_x, delta_y, delta_z, and int delta_heading converted to m_Delta

Author: Arthur Ice
Date:   Tue Nov 25 20:16:04 2014 -0800

    heading, x_pos, y_pos, and z_pos replaced with m_Position in Mob

Author: JJ
Date:   Sun Jan 18 19:48:32 2015 -0500

    VS would like us to return values.

Author: KayenEQ
Date:   Sun Jan 11 00:45:37 2015 -0500

    New Command
    #tune
    Used to return ideal values for tuning NPC/Client combat statistics.

Author: Speedz
Date:   Sun Jan 18 16:11:19 2015 -0800

    Redid the petition system.
    Added a GM comment command to petitions.
    Started work on #testcopy

Author: Arthur Ice
Date:   Mon Nov 24 23:22:10 2014 -0800

    xyz_heading, xyz_location, and xy_location built

Author: Mackal
Date:   Sun Jan 18 18:29:37 2015 -0500

    We don't need to cast these anymore

Author: Robregen
Date:   Sun Jan 18 14:05:44 2015 -0800

    fixed linux compile

Author: Kinglykrab
Date:   Wed Dec 24 01:26:07 2014 -0500

    Update npc_types table.
    - d_meele_texture1 -> d_melee_texture1
    - d_meele_texture2 -> d_melee_texture2
    - Required SQL: 2014_12_24_npc_types_update.sql

Author: Mackal
Date:   Sun Jan 18 14:40:50 2015 -0500

    Fix overflow error in lua_create_npc

Author: Mackal
Date:   Sat Jan 17 19:03:13 2015 -0500

    Remove more extra and incorrect memsets

Author: Arthur Ice
Date:   Sat Jan 17 14:16:23 2015 -0800

    16 char copy not 32

Author: Mackal
Date:   Wed Jan 14 15:32:42 2015 -0500

    Fix clang compile

Author: Mackal
Date:   Sat Jan 10 02:34:06 2015 -0500

    Make the AI stopping a little less silly on zone shutdown

Author: Mackal
Date:   Fri Jan 9 13:18:49 2015 -0500

    clang-modernize -use-nullptr for ucs/worldserver.cpp

Author: Mackal
Date:   Fri Jan 9 13:18:49 2015 -0500

    clang-modernize -use-nullptr for ucs/ucs.cpp

Author: Mackal
Date:   Fri Jan 9 13:18:49 2015 -0500

    clang-modernize -use-nullptr for ucs/clientlist.cpp

Author: Mackal
Date:   Fri Jan 9 12:59:13 2015 -0500

    Minor tweaking to zone/entity.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:15 2015 -0500

    clang-modernize -use-auto convert for world/zoneserver.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:15 2015 -0500

    clang-modernize -use-auto convert for world/zonelist.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:15 2015 -0500

    clang-modernize -use-auto convert for world/wguild_mgr.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:15 2015 -0500

    clang-modernize -use-auto convert for world/ucs.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:15 2015 -0500

    clang-modernize -use-auto convert for world/queryserv.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/net.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/login_server_list.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/login_server.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/launcher_list.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/launcher_link.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/eqw_parser.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/eqw_http_handler.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/console.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/clientlist.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/cliententry.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/client.cpp

Author: Arthur Ice
Date:   Sun Jan 18 12:38:27 2015 -0800

    Switched to position based GetReciprocalHeading instead of Mob::GetReciprocalHeading

Author: Mackal
Date:   Fri Jan 9 02:57:00 2015 -0500

    clang-modernize -use-auto convert for ucs/worldserver.cpp

Author: Mackal
Date:   Fri Jan 9 02:57:00 2015 -0500

    clang-modernize -use-auto convert for ucs/database.cpp

Author: Mackal
Date:   Fri Jan 9 02:57:00 2015 -0500

    clang-modernize -use-auto convert for ucs/clientlist.cpp

Author: Mackal
Date:   Fri Jan 9 02:50:13 2015 -0500

    Ranged-based for for ucs/clientlist.cpp

Author: Arthur Ice
Date:   Sun Jan 18 12:22:37 2015 -0800

    Added 'GetReciprocalHeading' to position.cpp/h

Author: Mackal
Date:   Sun Jan 18 14:40:50 2015 -0500

    Fix overflow error in lua_create_npc

Author: Robregen
Date:   Sun Jan 18 11:35:03 2015 -0800

    indent in command.cpp

Author: Robregen
Date:   Sun Jan 18 10:57:35 2015 -0800

    Update command.cpp

Author: Cavedude
Date:   Sun Jan 18 10:06:10 2015 -0800

    Fixed #path shownodes and #spawn.
    
    Item links will now show an item's max charges.
    
    Removed some unnecessary disarm code from AddLootDrop.
    
    Further tweaks to groups to make sure they disband correctly.
    
    Fixed another crash in group splitting.

Author: Arthur Ice
Date:   Sun Jan 18 03:54:49 2015 -0800

    Removed Mob::DistNoRootNoZ

Author: Arthur Ice
Date:   Sun Jan 18 03:52:17 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:49:40 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:44:08 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:37:26 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:35:20 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:32:28 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:31:07 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:25:54 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:24:40 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:12:08 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:09:08 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:05:35 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 03:03:46 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:59:27 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:49:44 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:46:30 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:44:49 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:43:16 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:41:11 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Akkadius
Date:   Sun Jan 18 04:33:04 2015 -0600

    Add crashtest command back in for crash log testing

Author: Arthur Ice
Date:   Sun Jan 18 02:25:09 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:21:13 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:16:56 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Akkadius
Date:   Sun Jan 18 04:15:26 2015 -0600

    Remove eqemu_error.cpp/.h as they are useless

Author: Arthur Ice
Date:   Sun Jan 18 02:14:59 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:10:42 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:08:18 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:07:01 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:05:09 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Akkadius
Date:   Sun Jan 18 04:03:45 2015 -0600

    Removal of logsys.h from #include(s)

Author: Arthur Ice
Date:   Sun Jan 18 02:03:44 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 02:01:20 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Akkadius
Date:   Sun Jan 18 03:59:51 2015 -0600

    Delete logsys.cpp and logsys.h

Author: Arthur Ice
Date:   Sun Jan 18 01:54:54 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Akkadius
Date:   Sun Jan 18 03:53:35 2015 -0600

    Buildable state with converting hex packet dumps

Author: Arthur Ice
Date:   Sun Jan 18 01:51:36 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 01:43:33 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 01:39:17 2015 -0800

    Removed Mob::DistNoRootNoZ

Author: Arthur Ice
Date:   Sun Jan 18 01:38:30 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 01:33:54 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 01:31:24 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Arthur Ice
Date:   Sun Jan 18 01:27:47 2015 -0800

    Removed a usage of Mob::DistNoRootNoZ and used ComparativeDistanceNoZ instead

Author: Akkadius
Date:   Sun Jan 18 03:25:52 2015 -0600

    Remove occurrences of _pkt

Author: Akkadius
Date:   Sun Jan 18 03:23:36 2015 -0600

    Bunch of crazy changes to remove logsys

Author: Arthur Ice
Date:   Sun Jan 18 01:22:59 2015 -0800

    Removed mob:DistNoRoot

Author: Arthur Ice
Date:   Sun Jan 18 01:21:19 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:19:45 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:18:20 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:17:17 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:12:15 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:09:21 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:07:35 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:04:37 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:01:44 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 01:00:00 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 00:58:53 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 00:57:34 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sun Jan 18 02:56:51 2015 -0600

    More gutting of logsys.cpp/h

Author: Arthur Ice
Date:   Sun Jan 18 00:53:24 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sun Jan 18 02:52:32 2015 -0600

    Rip out load_log_settings in all projects

Author: Arthur Ice
Date:   Sun Jan 18 00:51:25 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sun Jan 18 00:48:51 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sun Jan 18 02:46:34 2015 -0600

    Delete zone/zone_logsys.cpp

Author: Akkadius
Date:   Sun Jan 18 02:45:18 2015 -0600

    Delete logsys_eqemu.cpp

Author: Akkadius
Date:   Sun Jan 18 02:43:11 2015 -0600

    Gut some more debug functions

Author: Akkadius
Date:   Sun Jan 18 02:40:58 2015 -0600

    delete world/world_logsys.cpp

Author: Akkadius
Date:   Sun Jan 18 02:35:15 2015 -0600

    Update debug levels

Author: Mackal
Date:   Thu Jan 8 22:01:37 2015 -0500

    Range-based for for world/zonelist.cpp

Author: Akkadius
Date:   Thu Jan 8 19:46:28 2015 -0600

    Renamed EQEMuLog class to EQEmuLog

Author: Cavedude
Date:   Sun Jan 18 00:27:36 2015 -0800

    Fixed #listpetition

Author: Kemmler
Date:   Thu Jan 8 09:49:46 2015 -0500

    Work-around for "strange ADL issues" not needed if using Boost 1.57.0 (was required through 1.56.0, thus test for less than 1.57.0). Tested on VS2013.

Author: Akkadius
Date:   Sun Jan 18 02:20:16 2015 -0600

    Moved all EQEmuLogSys:: enum references used in Log.Out to a namespace 'Logs' for shortening of syntax

Author: Mackal
Date:   Sun Jan 4 01:52:46 2015 -0500

    Fix account_creation

Author: Mackal
Date:   Sat Jan 3 15:14:12 2015 -0500

    Need to set this to 1 again before the perl_destruct

Author: Mackal
Date:   Sat Jan 3 13:54:31 2015 -0500

    Perl memleak fix
    
    This may need more test!!

Author: Mackal
Date:   Sat Jan 3 01:26:46 2015 -0500

    Memleak in Map

Author: Kemmler
Date:   Sun Jan 18 03:08:12 2015 -0500

    MS Visual Studio needs help finding std::min and std::max

Author: Cavedude
Date:   Sun Jan 18 00:08:07 2015 -0800

    Corpses will fall overboard when you die on a boat.

Author: Mackal
Date:   Mon Dec 22 01:58:54 2014 -0500

    Force changing the timer_time for attack timers
    
    Should fix issues with waiting for a slow timer after a cure

Author: Akkadius
Date:   Sun Dec 21 21:39:04 2014 -0600

    variable rename, readability

Author: Uleat
Date:   Wed Dec 17 20:09:53 2014 -0500

    Debug >= 11 compile fail fix

Author: Akkadius
Date:   Mon Dec 15 23:00:29 2014 -0600

    tcp_server.cpp linux build fix for not fake

Author: Akkadius
Date:   Mon Dec 15 22:56:55 2014 -0600

    worldconn.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 21:05:35 2014 -0600

    Another Linux fix

Author: Akkadius
Date:   Sun Jan 18 02:00:15 2015 -0600

    Renamed DoLog to Out as the aggregate logging function for simplicity of use and shortened syntax of Log.Out

Author: Akkadius
Date:   Mon Dec 15 21:01:52 2014 -0600

    eqemu_config.cpp & .h header cleanup, code style cleanup of eqemu_config.h

Author: Arthur Ice
Date:   Sat Jan 17 23:55:16 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sun Jan 18 01:54:09 2015 -0600

    Renamed DebugCategory to DoLog as the aggregate logging function for simplicity of use and shortened syntax of Log.DoLog

Author: Akkadius
Date:   Sun Jan 18 01:50:05 2015 -0600

    Compile state

Author: Arthur Ice
Date:   Sat Jan 17 23:48:44 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sun Jan 18 01:48:07 2015 -0600

    Refactor GMSayHookCallBackProcess to use category instead of type

Author: Akkadius
Date:   Sun Jan 18 01:45:58 2015 -0600

    Refactor ProcessConsoleMessage to no longer use type

Author: Akkadius
Date:   Sun Jan 18 01:42:23 2015 -0600

    Refactor ProcessLogWrite to no longer use type

Author: Akkadius
Date:   Sun Jan 18 01:41:11 2015 -0600

    Refactor ProcessGMSay to no longer use type

Author: Akkadius
Date:   Sun Jan 18 01:39:01 2015 -0600

    Remove EQEmuLogSys::Log from consolidation of types into categories

Author: Akkadius
Date:   Sun Jan 18 01:37:54 2015 -0600

    Consolidate 'LogType' Debug logs over to 'LogCategory'

Author: Akkadius
Date:   Mon Dec 15 20:32:03 2014 -0600

    eq_stream_ident.h header include cleanup

Author: Arthur Ice
Date:   Sat Jan 17 23:37:00 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Mon Dec 15 20:30:53 2014 -0600

    eq_stream_factory.cpp & .h header include cleanup/forward declare

Author: Akkadius
Date:   Sun Jan 18 01:36:10 2015 -0600

    Consolidate 'LogType' Error (Straggler) logs over to 'LogCategory'

Author: Akkadius
Date:   Mon Dec 15 20:28:27 2014 -0600

    eq_stream.cpp & .h include header cleanup

Author: Akkadius
Date:   Sun Jan 18 01:34:31 2015 -0600

    Consolidate 'LogType' Commands logs over to 'LogCategory'

Author: Arthur Ice
Date:   Sat Jan 17 23:33:34 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Mon Dec 15 20:24:38 2014 -0600

    eq_packet.cpp & .h header include cleanup

Author: Akkadius
Date:   Sun Jan 18 01:32:57 2015 -0600

    Consolidate 'LogType' Quest logs over to 'LogCategory'

Author: Cavedude
Date:   Sat Jan 17 23:32:47 2015 -0800

    Group leadership should be a bit more stable now.

Author: Akkadius
Date:   Sun Jan 18 01:32:18 2015 -0600

    Consolidate 'LogType' Normal logs over to 'LogCategory'

Author: Arthur Ice
Date:   Sat Jan 17 23:31:57 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sun Jan 18 01:30:25 2015 -0600

    Consolidate 'LogType' Error logs over to 'LogCategory'

Author: Arthur Ice
Date:   Sat Jan 17 23:30:18 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sun Jan 18 01:29:28 2015 -0600

    Consolidate 'LogType' Crash logs over to 'LogCategory'

Author: Arthur Ice
Date:   Sat Jan 17 23:27:57 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sun Jan 18 01:27:52 2015 -0600

    Port Status messages from Type to Category

Author: Arthur Ice
Date:   Sat Jan 17 23:26:22 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sun Jan 18 01:24:35 2015 -0600

    Consolidate 'LogType' over to 'LogCategory'

Author: Arthur Ice
Date:   Sat Jan 17 23:19:56 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 23:16:11 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 23:15:06 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 23:12:25 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Mon Dec 15 20:21:54 2014 -0600

    emu_tcp_connection.cpp & .h include header cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 20:09:36 2014 -0600

    linux build fix

Author: Arthur Ice
Date:   Sat Jan 17 23:08:48 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Mon Dec 15 20:04:49 2014 -0600

    dbcore.cpp * .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 20:02:55 2014 -0600

    database.cpp & .h header include cleanup and forward declaration

Author: Arthur Ice
Date:   Sat Jan 17 23:07:04 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sun Jan 18 01:04:59 2015 -0600

    Remove new log prefix from console output

Author: Akkadius
Date:   Mon Dec 15 19:49:49 2014 -0600

    condition.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 19:49:12 2014 -0600

    classes.cpp header include cleanup

Author: Akkadius
Date:   Sun Jan 18 00:56:26 2015 -0600

    Remove old function code from consolidation

Author: Arthur Ice
Date:   Sat Jan 17 22:52:33 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Mon Dec 15 19:47:08 2014 -0600

    Linux build fix

Author: Akkadius
Date:   Mon Dec 15 19:30:18 2014 -0600

    base_packet.cpp & .h header cleanup

Author: Akkadius
Date:   Mon Dec 15 19:17:31 2014 -0600

    zonedb and zoning header spacing

Author: Akkadius
Date:   Mon Dec 15 19:17:07 2014 -0600

    zone_logsys structure clean

Author: Akkadius
Date:   Mon Dec 15 19:16:53 2014 -0600

    zone_config structure clean

Author: Akkadius
Date:   Mon Dec 15 19:14:41 2014 -0600

    zone.cpp & .h include header cleanup

Author: Akkadius
Date:   Mon Dec 15 19:12:04 2014 -0600

    worldserver.cpp header include cleanup

Author: Akkadius
Date:   Sun Jan 18 00:41:18 2015 -0600

    Rename reference logger to Log

Author: Arthur Ice
Date:   Sat Jan 17 22:41:04 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 22:36:59 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Mon Dec 15 19:07:31 2014 -0600

    waypoints.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 19:05:52 2014 -0600

    water_map.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 19:01:54 2014 -0600

    trap.cpp & .h header include cleanup and forward declare

Author: Arthur Ice
Date:   Sat Jan 17 22:34:49 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Mon Dec 15 18:59:21 2014 -0600

    trading.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:57:09 2014 -0600

    tradeskills.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:56:23 2014 -0600

    titles.cpp & .h header cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 18:48:42 2014 -0600

    spells.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:47:22 2014 -0600

    spell_effects header include cleanup

Author: Akkadius
Date:   Sun Jan 18 00:32:11 2015 -0600

    Add opcode name lookup on unhandled client opcode log message

Author: Akkadius
Date:   Mon Dec 15 18:46:41 2014 -0600

    special_attacks.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 18:44:36 2014 -0600

    spawngroup.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:42:14 2014 -0600

    spawn2.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:38:54 2014 -0600

    raids.cpp & .h header include cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 18:35:27 2014 -0600

    questmgr.cpp & .h include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:33:39 2014 -0600

    queryserv.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 18:33:23 2014 -0600

    quest_parser_collection.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:22:27 2014 -0600

    qglobals.cpp & .h include header cleanup

Author: Akkadius
Date:   Mon Dec 15 18:14:56 2014 -0600

    petitions.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:14:39 2014 -0600

    pets.cpp & .h include header cleanup

Author: Akkadius
Date:   Sun Jan 18 00:25:23 2015 -0600

    Fix some unhandled opcode output messages

Author: Akkadius
Date:   Mon Dec 15 18:10:45 2014 -0600

    pathing.cpp & .h header include cleanup

Author: Arthur Ice
Date:   Sat Jan 17 22:12:36 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Robregen
Date:   Sat Jan 17 22:09:59 2015 -0800

    fixed linux compile.

Author: Arthur Ice
Date:   Sat Jan 17 22:07:17 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Mon Dec 15 18:03:33 2014 -0600

    object.cpp & .h header cleanup

Author: Akkadius
Date:   Sun Jan 18 00:06:01 2015 -0600

    Consolidate EQEmuLogsys::Debug stragglers to DebugCategory for further refactoring

Author: Akkadius
Date:   Mon Dec 15 17:57:03 2014 -0600

    mob_ai.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 17:48:18 2014 -0600

    masterentity.h include order revert for linux

Author: Akkadius
Date:   Mon Dec 15 17:44:46 2014 -0600

    map.cpp & .h header cleanup

Author: Akkadius
Date:   Mon Dec 15 17:41:14 2014 -0600

    loottables.cpp & .h header include cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 17:39:16 2014 -0600

    horse.cpp & .h header cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 17:34:19 2014 -0600

    masterentity.h header order cleanup
    hate_list.cpp & .h header cleanup and forward declare

Author: Akkadius
Date:   Sun Jan 18 00:00:03 2015 -0600

    Consolidate EQEmuLogsys::Debug General calls into DebugCategory

Author: Akkadius
Date:   Sat Jan 17 23:59:06 2015 -0600

    Consolidate EQEmuLogsys::Debug calls into DebugCategory

Author: Akkadius
Date:   Mon Dec 15 17:28:04 2014 -0600

    guild_mgr.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 17:26:51 2014 -0600

    groups.cpp & .h header cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 17:23:13 2014 -0600

    fearpath.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 17:22:13 2014 -0600

    exp.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 17:19:49 2014 -0600

    entity.cpp & .h header cleanup & forward declare

Author: Arthur Ice
Date:   Sat Jan 17 21:45:31 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 21:41:53 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Mon Dec 15 17:04:31 2014 -0600

    embparser_api.cpp header org

Author: Arthur Ice
Date:   Sat Jan 17 21:38:44 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Mon Dec 15 17:02:26 2014 -0600

    effects.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 16:53:53 2014 -0600

    doors.cpp & .h header cleanup & forward declaration

Author: Akkadius
Date:   Mon Dec 15 16:50:02 2014 -0600

    corpse.cpp & .h header cleanup & forward declarations

Author: Arthur Ice
Date:   Sat Jan 17 21:35:30 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Mon Dec 15 16:41:04 2014 -0600

    client_mods.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 16:39:01 2014 -0600

    client_logs.cpp header cleanup

Author: Cavedude
Date:   Sat Jan 17 21:24:17 2015 -0800

    Moved succor failer to a spot that won't dump you off at random coords, and fixed the message.

Author: Arthur Ice
Date:   Sat Jan 17 20:53:08 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 20:49:09 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 20:45:32 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: JJ
Date:   Mon Dec 15 11:06:53 2014 -0500

    Linux fix for Mob type in AA_SwarmPetInfo.

Author: Akkadius
Date:   Mon Dec 15 05:13:45 2014 -0600

    client.h cleanup

Author: Akkadius
Date:   Mon Dec 15 04:58:53 2014 -0600

    bonuses.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 04:56:01 2014 -0600

    beacon.h/cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 04:49:45 2014 -0600

    aa.cpp/.h cleanup

Author: Mackal
Date:   Tue Dec 9 23:41:19 2014 -0500

    Some clean ups due thanks to clang's warnings

Author: Akkadius
Date:   Sun Dec 7 03:08:27 2014 -0600

    Header cleanup of aggro.cpp

Author: Akkadius
Date:   Sun Dec 7 03:02:57 2014 -0600

    Header and code cleanup of debug.cpp

Author: Arthur Ice
Date:   Sat Jan 17 20:14:05 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Mackal
Date:   Sat Dec 6 21:56:14 2014 -0500

    Clean up common/misc_functions.h

Author: Arthur Ice
Date:   Sat Jan 17 20:08:29 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sun Nov 30 20:32:00 2014 -0600

    command.cpp #include cleanup
    command.h #include cleanup
    command.h forward declarations

Author: Arthur Ice
Date:   Sat Jan 17 20:03:11 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Mackal
Date:   Sun Nov 30 02:32:11 2014 -0500

    Fix some debug statements

Author: Akkadius
Date:   Sat Nov 29 23:12:09 2014 -0600

    Temporary revert of net.cpp to wave 1 of cleanups

Author: Akkadius
Date:   Sat Nov 29 16:55:35 2014 -0600

    mob.cpp #include cleanup
    mob.h declarations
    mob.h #include cleanup

Author: Akkadius
Date:   Sat Nov 29 16:48:48 2014 -0600

    tradeskills.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 16:46:43 2014 -0600

    forage.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 16:43:19 2014 -0600

    guild.cpp #include cleanup
    spell_effects.cpp #include cleanup

Author: Arthur Ice
Date:   Sat Jan 17 19:45:42 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sat Nov 29 16:32:49 2014 -0600

    zoning.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 16:28:48 2014 -0600

    pets.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 15:59:24 2014 -0600

    spells.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 15:56:51 2014 -0600

    mod_functions.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 15:53:17 2014 -0600

    waypoints.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 15:44:09 2014 -0600

    petitions.cpp #include cleanup
    petititons.h #include cleanup

Author: Arthur Ice
Date:   Sat Jan 17 19:35:39 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 19:32:34 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sat Nov 29 15:08:16 2014 -0600

    aa.cpp #include cleanup
    aa.h #include cleanup

Author: Arthur Ice
Date:   Sat Jan 17 19:22:59 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sat Nov 29 15:02:34 2014 -0600

    npc.cpp #include cleanup
    entity.cpp #include cleanup

Author: Arthur Ice
Date:   Sat Jan 17 19:16:45 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 19:13:47 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sat Nov 29 14:39:27 2014 -0600

    loottable.cpp #include fix, previously reliant on npc.h to get to loottable.h
    npc.cpp #include cleanup
    npc.h #include cleanup and forward declaration

Author: Arthur Ice
Date:   Sat Jan 17 19:09:32 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sat Nov 29 14:11:16 2014 -0600

    attack.cpp #include cleanup

Author: Arthur Ice
Date:   Sat Jan 17 19:07:25 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 19:00:57 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sat Nov 29 14:07:40 2014 -0600

    net.cpp #include cleanup
    net.cpp forward declaration

Author: Arthur Ice
Date:   Sat Jan 17 18:57:52 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:54:57 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:51:06 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:49:24 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sat Nov 29 05:22:27 2014 -0600

    special_attacks.cpp #include clean

Author: Akkadius
Date:   Sat Nov 29 05:01:49 2014 -0600

    Small world server cleanup

Author: Arthur Ice
Date:   Sat Jan 17 18:42:59 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sat Nov 29 04:56:42 2014 -0600

    net.h cleanup

Author: Akkadius
Date:   Sat Nov 29 04:30:03 2014 -0600

    database.h forward declaration
    database.cpp #include house-keeping

Author: Arthur Ice
Date:   Sat Jan 17 18:39:59 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:37:01 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sat Nov 29 04:18:18 2014 -0600

    zonedb.h forward declarations
    zonedb.cpp #include cleanup

Author: Arthur Ice
Date:   Sat Jan 17 18:32:41 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Akkadius
Date:   Sat Nov 29 04:08:37 2014 -0600

    inventory.cpp #include clean/remove

Author: Akkadius
Date:   Sat Nov 29 04:04:49 2014 -0600

    client_mods.cpp cleanup

Author: Akkadius
Date:   Sat Nov 29 03:54:25 2014 -0600

    command.cpp #include cleanup
    command.h forward declaration

Author: Arthur Ice
Date:   Sat Jan 17 18:26:14 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:22:48 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:20:29 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:18:35 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:15:48 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:13:34 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:09:43 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:07:16 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:05:03 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 18:01:20 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 17:57:36 2015 -0800

    Removed a usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 17:53:41 2015 -0800

    Removed Mob::DistNoZ

Author: Arthur Ice
Date:   Sat Jan 17 17:51:52 2015 -0800

    Removed a usage of Mob::DistNoZ and used DistanceNoZ instead

Author: Arthur Ice
Date:   Sat Jan 17 17:50:08 2015 -0800

    Removed a usage of Mob::DistNoZ and used DistanceNoZ instead

Author: Arthur Ice
Date:   Sat Jan 17 17:49:16 2015 -0800

    Removed Mob::Dist

Author: Akkadius
Date:   Sat Nov 29 03:48:26 2014 -0600

    client_packet.cpp #include cleanup

Author: Arthur Ice
Date:   Sat Jan 17 17:44:17 2015 -0800

    Removed usage of Mod::Dist and used Distance instead

Author: Arthur Ice
Date:   Sat Jan 17 17:41:26 2015 -0800

    Removed usage of Mod::Dist and used Distance instead

Author: Arthur Ice
Date:   Sat Jan 17 17:39:12 2015 -0800

    Removed usage of Mod::Dist and used Distance instead

Author: Akkadius
Date:   Sat Nov 29 03:24:48 2014 -0600

    questmgr.h forward declarations
    client_process.cpp #include removals

Author: Akkadius
Date:   Sat Nov 29 03:12:34 2014 -0600

    #include and forward declaration cleanup of
    client.cpp net.cpp questmgr.cpp zone.cpp zone.h

Author: Secrets
Date:   Sat Jan 17 19:57:29 2015 -0500

    Changes to groups to hopefully alleviate group bugs.

Author: Arthur Ice
Date:   Sat Jan 17 16:12:30 2015 -0800

    Overloads of xyz_heading means no longer need the static cast here

Author: Arthur Ice
Date:   Sat Jan 17 16:08:45 2015 -0800

    Added explicit xyz_heading overrides for the 4 distance functions

Author: Mackal
Date:   Sat Jan 17 19:03:13 2015 -0500

    Remove more extra and incorrect memsets

Author: Arthur Ice
Date:   Sat Jan 17 16:00:12 2015 -0800

    Removed a usage of Mob::Dist and used Distance instead

Author: Arthur Ice
Date:   Sat Jan 17 15:56:06 2015 -0800

    Removed a usage of Mob::Dist and used Distance instead

Author: Arthur Ice
Date:   Sat Jan 17 15:51:26 2015 -0800

    Removed Mob::DistNoRoot(x,y,z)

Author: Arthur Ice
Date:   Sat Jan 17 15:42:58 2015 -0800

    Removed usage of Mob::DistNoRoot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 15:37:24 2015 -0800

    removed usage of mob->distnoroot and switched to ComparativeDistance

Author: Arthur Ice
Date:   Sat Jan 17 15:32:04 2015 -0800

    removed usage of mob distnoroot and used ComparativeDistance instead

Author: Arthur Ice
Date:   Sat Jan 17 15:22:46 2015 -0800

    Added 'GetTargetRingLocation' which will eventualy replace the individual GetTargetRing methods

Author: Arthur Ice
Date:   Sat Jan 17 14:53:06 2015 -0800

    removed unused macro debug message

Author: Cavedude
Date:   Sat Jan 17 14:52:41 2015 -0800

    Fixed a divide by 0 crash in group exp code.

Author: Arthur Ice
Date:   Sat Jan 17 14:16:23 2015 -0800

    16 char copy not 32

Author: Mackal
Date:   Sat Jan 17 16:18:09 2015 -0500

    Switch NUMHIT_ enum to a strongly typed enum

Author: Akkadius
Date:   Sat Jan 17 02:59:49 2015 -0600

    Remove zlog completely

Author: Akkadius
Date:   Sat Jan 17 02:59:10 2015 -0600

    Replace all zlog calls

Author: Akkadius
Date:   Sat Jan 17 02:57:47 2015 -0600

    Remove clog completely

Author: Akkadius
Date:   Sat Jan 17 02:56:10 2015 -0600

    Replace all clog calls, (Mostly WORLD__)

Author: Cavedude
Date:   Sat Jan 17 00:55:06 2015 -0800

    Added rules to change the rate of EXP loss on death.
    
    Fixed Movement speed in #showstats to properly display current speed.

Author: Akkadius
Date:   Sat Jan 17 02:54:02 2015 -0600

    Remove mlog and _log completely

Author: Akkadius
Date:   Sat Jan 17 02:52:30 2015 -0600

    Convert skill mlog call

Author: Akkadius
Date:   Sat Jan 17 02:50:29 2015 -0600

    Convert OPGMTrainSkill mlogs

Author: Akkadius
Date:   Sat Jan 17 02:48:50 2015 -0600

    Convert Client::HandlePaclet

Author: Akkadius
Date:   Sat Jan 17 02:46:26 2015 -0600

    Convert Client unhandled incoming opcodes

Author: Akkadius
Date:   Sat Jan 17 02:33:48 2015 -0600

    port mlog '*PATHING*' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:32:45 2015 -0600

    Add 'Pathing' log category

Author: Akkadius
Date:   Sat Jan 17 02:30:58 2015 -0600

    port mlog 'CLIENT__TRADING' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:28:25 2015 -0600

    port mlog 'CLIENT__SPELLS' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:22:53 2015 -0600

    port mlog 'Combat' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:21:51 2015 -0600

    Add 'Combat' log category

Author: Akkadius
Date:   Sat Jan 17 02:20:01 2015 -0600

    port mlog 'AI' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:16:44 2015 -0600

    port mlog 'Guilds' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:04:43 2015 -0600

    port mlog 'Inventory' category to new log system

Author: Akkadius
Date:   Sat Jan 17 02:01:20 2015 -0600

    port mlog 'Spells' category to new log system

Author: Akkadius
Date:   Sat Jan 17 01:59:18 2015 -0600

    Port mlog AA category to new log system

Author: Akkadius
Date:   Sat Jan 17 01:52:12 2015 -0600

    Strip newlines that pipe from quest logs

Author: Akkadius
Date:   Fri Jan 16 22:12:36 2015 -0600

    Remove occurrences of mkpt

Author: Akkadius
Date:   Fri Jan 16 22:04:40 2015 -0600

    Delete mpkt and some calls to it

Author: Akkadius
Date:   Fri Jan 16 21:58:08 2015 -0600

    Keep mlog happy until it is completely replaced

Author: Akkadius
Date:   Fri Jan 16 21:54:51 2015 -0600

    Remove command_mlog

Author: Akkadius
Date:   Fri Jan 16 21:53:56 2015 -0600

    Remove some mlog related functions in Mob::

Author: Akkadius
Date:   Fri Jan 16 21:40:47 2015 -0600

    added debug.cpp/.h back in temporarily because of stupid dependencies

Author: Akkadius
Date:   Fri Jan 16 21:39:51 2015 -0600

    More debug changes

Author: Akkadius
Date:   Fri Jan 16 21:30:41 2015 -0600

    Remove debug.cpp/.h files and from CMakeLists.txt

Author: Akkadius
Date:   Fri Jan 16 21:26:37 2015 -0600

    Remove EQEmuLog::Dump

Author: Akkadius
Date:   Fri Jan 16 21:23:50 2015 -0600

    Remove more old Callback code

Author: Akkadius
Date:   Fri Jan 16 21:21:53 2015 -0600

    Remove EQEmuLog writebuf

Author: Akkadius
Date:   Fri Jan 16 21:19:53 2015 -0600

    Convert Perl Quest Logging to the new system

Author: Akkadius
Date:   Fri Jan 16 21:19:19 2015 -0600

    Add 'Quests' Category

Author: Akkadius
Date:   Fri Jan 16 20:58:13 2015 -0600

    Remove some more old log callbacks

Author: Cavedude
Date:   Fri Jan 16 17:47:56 2015 -0800

    Added two new columns to npc_types, combat_hp_regen and combat_mana_regen. These determine the regen for NPCs while in combat. The existing columns hp_regen and mana_regen should be used while out of combat.
    
    NPCs will now use spell/item regen bonuses at all times.
    
    I left CalcNPCRegen() intact until the DB is sorted, at which point I will remove it. The new columns default to 1.
    
    Robregen identified string type 4, and I replaced all instances of it with a name.

Author: Uleat
Date:   Fri Jan 16 18:07:19 2015 -0500

    Fix for possible race/crash condition in ItemInst::ClearByFlags()

Author: Robregen
Date:   Fri Jan 16 14:23:47 2015 -0800

    rearrange the trivial message.  It should now display properly.

Author: Uleat
Date:   Fri Jan 16 17:15:33 2015 -0500

    Pre-p'd a bot iter

Author: Cavedude
Date:   Fri Jan 16 13:15:29 2015 -0800

    More EXP fixes thanks to: http://www.takproject.net/forums/viewtopic.php?f=63&t=948
    
    Removed the AA debug messages.
    
    Fixed the Bard DOT crash.
    
    NPCs with the magical attack flag set will always use a magical attack, regardless of any equipped weapon.

Author: Akkadius
Date:   Fri Jan 16 03:22:23 2015 -0600

    Fix Callback in zone, some stragglers in the renaming of function

Author: Akkadius
Date:   Fri Jan 16 03:09:02 2015 -0600

    Rename LogDebugType to DebugCategory

Author: Akkadius
Date:   Fri Jan 16 03:02:30 2015 -0600

    Remove my test code in net.cpp

Author: Akkadius
Date:   Fri Jan 16 03:00:49 2015 -0600

    Cleaning up Zone net.cpp

Author: Akkadius
Date:   Fri Jan 16 02:56:39 2015 -0600

    Move GMSayHookCallBackProcess out of client logs and into Zone Class

Author: Akkadius
Date:   Fri Jan 16 02:51:29 2015 -0600

    Rip out Client Log functions that were used in Callbacks

Author: Akkadius
Date:   Fri Jan 16 02:49:23 2015 -0600

    Rip out Client Log Callbacks from zone

Author: Akkadius
Date:   Fri Jan 16 02:45:18 2015 -0600

    Remove command_logs

Author: Akkadius
Date:   Fri Jan 16 02:44:30 2015 -0600

    Remove command_nologs

Author: Akkadius
Date:   Fri Jan 16 02:43:24 2015 -0600

    Remove command_log

Author: Akkadius
Date:   Fri Jan 16 02:26:19 2015 -0600

    Convert Client::SendAllPackets to new debug log

Author: Akkadius
Date:   Fri Jan 16 02:25:04 2015 -0600

    Convert Bot::CalcBotFocusEffect Debug to new

Author: Akkadius
Date:   Fri Jan 16 02:18:30 2015 -0600

    Another convert

Author: Akkadius
Date:   Fri Jan 16 02:16:07 2015 -0600

    Converted mlogs in Mob::CheckHitChance to new logs

Author: Akkadius
Date:   Fri Jan 16 02:12:19 2015 -0600

    Removed #ATTACK_DEBUG Mob::CheckHitChance and converted debug

Author: Akkadius
Date:   Fri Jan 16 02:11:28 2015 -0600

    Removed #EQDEBUG Mob::CheckHitChance and converted debug

Author: Akkadius
Date:   Fri Jan 16 02:10:10 2015 -0600

    Removed #EQDEBUG Mob::AttackAnimation

Author: Akkadius
Date:   Fri Jan 16 02:09:13 2015 -0600

    Add 'Attack' Category

Author: Akkadius
Date:   Fri Jan 16 02:08:04 2015 -0600

    Removed attack.cpp #EQDEBUG

Author: Akkadius
Date:   Fri Jan 16 02:07:19 2015 -0600

    Converted more Aggro Debugs

Author: Akkadius
Date:   Fri Jan 16 02:06:22 2015 -0600

    Removed preprocessor EQDEBUG in CheckWillAggro and converted log message

Author: Akkadius
Date:   Fri Jan 16 02:04:52 2015 -0600

    Add 'Aggro' Category

Author: Akkadius
Date:   Fri Jan 16 01:59:57 2015 -0600

    astyle the terrible sin that is maxskill.h

Author: Mackal
Date:   Fri Jan 16 02:56:14 2015 -0500

    Fix loginserver

Author: Akkadius
Date:   Fri Jan 16 01:48:43 2015 -0600

    Removed preprocessor EQDEBUG from EQStream from unknown opcode to Application map for PopRawPacket

Author: Akkadius
Date:   Fri Jan 16 01:47:27 2015 -0600

    Removed preprocessor EQDEBUG from EQStream from unknown opcode to Application map

Author: Akkadius
Date:   Fri Jan 16 01:46:17 2015 -0600

    ChannelMesssageReceived debug convert from preprocessor

Author: Mackal
Date:   Fri Jan 16 02:32:05 2015 -0500

    Fix linux compile (partially)

Author: Akkadius
Date:   Fri Jan 16 01:26:36 2015 -0600

    Add Client_Server_Packet Category

Author: Akkadius
Date:   Fri Jan 16 01:21:58 2015 -0600

    ServerOP_ZAAuthFailed cout message to LogDebugType

Author: Akkadius
Date:   Fri Jan 16 01:21:02 2015 -0600

    Adjust World to zone port assignment message

Author: Akkadius
Date:   Fri Jan 16 01:16:17 2015 -0600

    Fix for 'is a GM' convert (Derp)

Author: Akkadius
Date:   Fri Jan 16 01:08:26 2015 -0600

    TCPConnection Loop add to TCP Category

Author: Akkadius
Date:   Fri Jan 16 01:07:29 2015 -0600

    TCPConnection LogCategory Add

Author: Akkadius
Date:   Fri Jan 16 01:03:15 2015 -0600

    Fix for tcp_connection.cpp logger references

Author: Akkadius
Date:   Fri Jan 16 00:54:27 2015 -0600

    Add Linux chmod mask 0755 for mkdir

Author: Akkadius
Date:   Fri Jan 16 00:53:31 2015 -0600

    Add include to eq_stream_factory.cpp for EQEmuLogSys

Author: Akkadius
Date:   Fri Jan 16 00:52:00 2015 -0600

    Comment defaults debugging

Author: Akkadius
Date:   Fri Jan 16 00:50:16 2015 -0600

    Re-Index Log Categories to avoid bugginies with index references

Author: Akkadius
Date:   Fri Jan 16 00:44:28 2015 -0600

    Comment defaults debugging

Author: Akkadius
Date:   Fri Jan 16 00:40:43 2015 -0600

    Converted 'is a GM' debug

Author: Akkadius
Date:   Fri Jan 16 00:37:36 2015 -0600

    Converted SyncWorldtime std::cout

Author: Akkadius
Date:   Fri Jan 16 00:15:34 2015 -0600

    Correct log_settings checks

Author: Akkadius
Date:   Fri Jan 16 00:14:49 2015 -0600

    Implement log_settings for ProcessConsoleMessage

Author: Akkadius
Date:   Fri Jan 16 00:14:16 2015 -0600

    Implement log_settings for ProcessLogWrite

Author: Akkadius
Date:   Fri Jan 16 00:13:56 2015 -0600

    Implement log_settings for ProcessGMSay

Author: Cavedude
Date:   Thu Jan 15 22:08:39 2015 -0800

    Corpse looting zone crash fix.

Author: Akkadius
Date:   Fri Jan 16 00:07:30 2015 -0600

    Rename LoadLogSettings to LoadLogSettingsDefaults

Author: Akkadius
Date:   Fri Jan 16 00:06:12 2015 -0600

    zone LoadLogSysSettings

Author: Akkadius
Date:   Thu Jan 15 23:49:20 2015 -0600

    Add Database::LoadLogSysSettings function

Author: Cavedude
Date:   Thu Jan 15 21:13:50 2015 -0800

    Typo

Author: Akkadius
Date:   Thu Jan 15 23:10:45 2015 -0600

    Added 2015_1_15_logsys_categories_table.sql

Author: Cavedude
Date:   Thu Jan 15 20:46:49 2015 -0800

    Fixed low level group 0 exp bug.
    
    Group members will no longer receive experience if the NPC killed is green to any member of the group.
    
    Group members who are far below the highest member of the group by level will no longer receive XP (their XP is dropped, it is not re-added to the split.)

Author: Akkadius
Date:   Thu Jan 15 22:44:27 2015 -0600

    Add category processing to ProcessGMSay so we don't get a zone crash from feedback loop of GMSay outputting packets, then those packets going to GMSay. This would make a log inside of a log inside of a log, I call it, log inception

Author: Akkadius
Date:   Thu Jan 15 22:38:24 2015 -0600

    Add category to ProcessLogWrite

Author: Akkadius
Date:   Thu Jan 15 22:37:36 2015 -0600

    Add category to ProcessConsoleMessage

Author: Akkadius
Date:   Thu Jan 15 22:35:58 2015 -0600

    Add category to ProcessGMSay

Author: Akkadius
Date:   Thu Jan 15 22:17:37 2015 -0600

    Some EQEmuLogSys changes

Author: Dong Shin
Date:   Thu Jan 15 19:58:04 2015 -0700

    
    Removed Copy Error (Fat fingers)
    Took out bard beneficial condition.

Author: Dong Shin
Date:   Thu Jan 15 19:53:39 2015 -0700

    Bard Group Song target range fix
    
    Beneficial Bard song target all group members irregardless of range.
    Bad for FD Pullers / Invis-ers / etc.
    
    http://www.takproject.net/forums/viewtopic.php?f=7&t=2180

Author: Uleat
Date:   Thu Jan 15 21:24:26 2015 -0500

    Patchwork of changes..mostly related tracing a cursor queue bug (see changelog)

Author: Dong Shin
Date:   Thu Jan 15 17:01:37 2015 -0700

    Update npc.cpp
    
    PickPocket has 2 conditions
    1-50 (Legacy) : Up to level 45, based on skill success rate
    50+ (Kunark+) : Level - 5 max.

Author: Dong Shin
Date:   Thu Jan 15 16:47:23 2015 -0700

    Update inventory.cpp
    
    Do not auto-equip Primary when Bard Equipment is in Secondary.

Author: Ricardocampas
Date:   Thu Jan 15 21:03:06 2015 +0000

    corrected comment

Author: Cavedude
Date:   Thu Jan 15 11:51:01 2015 -0800

    Quests will no longer be subject to the XP cap or modifiers. (The number in the script will be what you get.)
    
    Added e.other::AddEXPPercent(percentage, level);
    
    This allows script writers to set XP to a percentage of a level. For example:
    
    e.other:AddEXPPercent(20, e.other:GetLevel());
    
    Will set XP to 20% towards their next level.
    
    e.other:AddEXPPercent(50, 5);
    
    Will set XP to 50% towards level 6. (Since 5 is the level you're currently "on").

Author: Cavedude
Date:   Thu Jan 15 10:28:33 2015 -0800

    Fixed hell levels for real this time.
    
    Removed Z coord in group range check until general issues with Z are worked out.

Author: Cavedude
Date:   Thu Jan 15 09:40:35 2015 -0800

    Fixed a couple of problems with group exp range that could cause 0 exp gain.
    
    Fixed hell level calculation. (XP formula is changed again, but very minor this time compared to last - there should be no need for another round of conversion. The first time you lose/gain XP should sync you up.)
    
    Added a couple more Al'Kabor rules.
    
    Bard Charm songs should be less spammy.

Author: Robregen
Date:   Wed Jan 14 22:43:30 2015 -0800

    Added Pet Pull rule.

Author: Cavedude
Date:   Wed Jan 14 21:30:00 2015 -0800

    Added XP info message for all players to help debug issues, and to help us figure out the correct XP gain formula. You can either /log on and copy and paste, to post in the forums or type it out if you wish. Also, feel free to do your own math and offer suggestions that way as well.
    
    GMs will now be exempt from the XP conversion process, but you WILL have to set your xp using #level or #addxp manually. Being a GM doesn't exempt you from client desyncs!
    
    The XP conversion process will no longer occur on new toons ;)

Author: KayenEQ
Date:   Wed Jan 14 23:47:33 2015 -0500

    Fix for beneficial spells that do decrease hit point over time to start working again.

Author: Cavedude
Date:   Wed Jan 14 15:52:16 2015 -0800

    Target weirdness that occurs with charmed pets should be better now.
    
    Spell worn off messages should no longer be sent for buffs and the message has been corrected to no longer include the target's name.
    
    Moved the Gate failure check to a better spot.
    
    /pet health will no longer tell you how many tics each buff/debuff has left.

Author: JJ
Date:   Wed Jan 14 18:32:53 2015 -0500

    Fix in npc save feature sql. (iluvseq)

Author: Secrets
Date:   Wed Jan 14 18:26:51 2015 -0500

    OP_MobUpdate change to help alleviate too many acks going out on the wire.
    Fixed gating under the new predisconnect code.

Author: Mackal
Date:   Wed Jan 14 15:32:42 2015 -0500

    Fix clang compile

Author: Speedz
Date:   Wed Jan 14 11:42:15 2015 -0800

    Added forgotten scripts.

Author: Speedz
Date:   Wed Jan 14 11:36:37 2015 -0800

    Reorganized the update commands.
    Added reboot and rebootNOW commands.
    Commented out what looks like orphaned code in zonedb.h

Author: Akkadius
Date:   Wed Jan 14 05:12:01 2015 -0600

    More moving around of internal EQEmuLogSys functions

Author: Cavedude
Date:   Tue Jan 13 22:05:00 2015 -0800

    Minor cleanup from previous commit.

Author: Cavedude
Date:   Tue Jan 13 21:40:27 2015 -0800

    XP overhaul.
    
    XP formula has changed. I have added code so the first time a player logs in, they will have their XP adjusted so they don't lose their level. This process will boot them, and they can then log back in normally. All XP towards their next level will be lost!! (Though technically, they never earned in the first place...)
    
    Racial modifiers have been added to the XP formula.
    
    AAs will now use the XP formula method to determine XP needed for a point instead of a rule.
    
    Solo XP gain has the base formula changed, ZEM modifier corrected, rules cleaned up, racial/class modifiers removed, 20% AK bonus added, and 12.5% per kill cap added.
    
    Group XP gain had the base formula removed, member bonus percentages corrected, out of range players will no longer receive XP. They will count towards the bonus, but will not count towards the split. The 6th member of a group will also no longer counts towards the split.
    
    Added #xpinfo command.
    
    Removed unused XP rules, and set XP rules to use 1.0 as the default. That can be changed if need be.
    
    Cleaned up the bind coords section of the PP struct a bit more.

Author: Trevius
Date:   Tue Jan 13 23:37:35 2015 -0600

    (RoF2) Guild invites now add new members as members instead of recruits, and /guild chat works properly.
    (RoF2) Guild Promote is now functional.

Author: Uleat
Date:   Tue Jan 13 23:48:34 2015 -0500

    Placed an upper limit on the cursor queue save loop

Author: Secrets
Date:   Tue Jan 13 23:44:44 2015 -0500

    Fix for bind wound crash. (no idea how this is happening)
    
    goto/zone fixed up to behave with the new zoning logic.

Author: RicardoCampos
Date:   Tue Jan 13 21:47:51 2015 +0000

    Altered the way that start zone overrides work. These now no longer use an entry in the variables table, but rather use TitaniumStartZoneID, and SofStartZoneID in the rule_values table.
    If this is set, it will look for a match in the start_zones based on race/class/deity and the zone id. If it finds a matching row (by zone_id), it will use that row's details. If not, it will use a default.

Author: Akkadius
Date:   Tue Jan 13 15:13:12 2015 -0600

    Removal of rule based settings, moving to separate DB table

Author: Akkadius
Date:   Tue Jan 13 15:11:01 2015 -0600

    EQEmuLogSys internal function consolidation

Author: Akkadius
Date:   Tue Jan 13 13:43:41 2015 -0600

    Debug message function updates

Author: Cavedude
Date:   Tue Jan 13 11:20:06 2015 -0800

    Fixed #zone and spell ports.

Author: Cavedude
Date:   Tue Jan 13 10:08:10 2015 -0800

    Fixed intrazone gating.

Author: Speedz
Date:   Tue Jan 13 04:26:34 2015 -0800

    Fixed some issues with thread locking and crashing the zone these commands are issued in.

Author: Mackal
Date:   Tue Jan 13 00:36:25 2015 -0500

    Fix out of bounds in Mob::ResourceTap

Author: Akkadius
Date:   Mon Jan 12 23:08:35 2015 -0600

    _log replacements in various spots

Author: Akkadius
Date:   Mon Jan 12 23:01:01 2015 -0600

    Convert 'COMMON' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:58:13 2015 -0600

    Convert 'TASKS' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:57:38 2015 -0600

    Convert 'Skills' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:57:04 2015 -0600

    Convert 'AA' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:55:44 2015 -0600

    Convert 'TRADESKILLS' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:54:16 2015 -0600

    Convert 'DOORS' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:53:46 2015 -0600

    Convert 'INVENTORY' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:53:17 2015 -0600

    Convert 'TRIBUTE' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:52:46 2015 -0600

    Convert 'SPAWNS' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:52:11 2015 -0600

    Convert 'SPELLS' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:51:35 2015 -0600

    Convert 'TRADING' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:50:09 2015 -0600

    Convert 'LAUNCHER' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:47:37 2015 -0600

    Convert 'ZoneServer' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:44:47 2015 -0600

    Convert 'UCS' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:37:20 2015 -0600

    Convert 'QueryServ' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:32:44 2015 -0600

    Convert 'Guilds' debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:29:56 2015 -0600

    Convert rules debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:28:16 2015 -0600

    Convert world debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:20:11 2015 -0600

    More netcode debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 22:07:16 2015 -0600

    More netcode debugging _log to logger.LogDebugType

Author: Akkadius
Date:   Mon Jan 12 21:45:49 2015 -0600

    Convert netcode debugging _log to logger.LogDebugType

Author: Uleat
Date:   Mon Jan 12 22:26:33 2015 -0500

    Fix for missing names in StringID-based messages

Author: Akkadius
Date:   Mon Jan 12 21:19:19 2015 -0600

    Convert _log from TASKS category

Author: Akkadius
Date:   Mon Jan 12 20:58:17 2015 -0600

    Remove Save from LogTypes

Author: Uleat
Date:   Mon Jan 12 21:15:12 2015 -0500

    Changed OP_FormattedMessage code to eliminate possible oob error

Author: Akkadius
Date:   Mon Jan 12 20:11:23 2015 -0600

    Add zone callback for client messages so log messages can be piped to it

Author: Secrets
Date:   Mon Jan 12 20:27:08 2015 -0500

    comment for cavedude

Author: Secrets
Date:   Mon Jan 12 20:17:11 2015 -0500

    Swapped PlayerProfile bind location. This makes gating to the same zone work.
    
    Evac, Death, and other forms of inter-process zoning have been revamped to include a pre-disconnecting state. This ensures that the client is only sent the packets it cares about while zoning. Should clear up zone changing issues significantly.

Author: Mackal
Date:   Mon Jan 12 16:57:41 2015 -0500

    Fix issue with SharedDatabase::LoadCharacterInspectMessage

Author: Uleat
Date:   Mon Jan 12 15:53:33 2015 -0500

    Fix for load_bots.sql using '\\' as a delimiter (Changed to '$$')

Author: Uleat
Date:   Mon Jan 12 14:35:38 2015 -0500

    Added text link translators for OP_TaskDescription (RoF+ -- all clients current)

Author: Akkadius
Date:   Mon Jan 12 12:37:33 2015 -0600

    Make some log functions less process specific in naming

Author: Akkadius
Date:   Mon Jan 12 05:15:31 2015 -0600

    logger.LoadLogSettings() added after each platform executable registry
    Added int return for platform executable

Author: Akkadius
Date:   Mon Jan 12 05:14:46 2015 -0600

    static const char* LogCategoryName[EQEmuLogSys::LogCategory::MaxCategoryID]
    enum LogCategory

Author: Akkadius
Date:   Mon Jan 12 02:16:57 2015 -0600

    Preliminary addition of log settings map

Author: Uleat
Date:   Mon Jan 12 01:42:27 2015 -0500

    Fix for OP_FormattedMessage text link server crashes

Author: Akkadius
Date:   Sun Jan 11 22:41:44 2015 -0600

    Fix double construction of EQEmuLogSys

Author: Mackal
Date:   Sun Jan 11 23:34:00 2015 -0500

    Remove unnecessary and incorrect memset

Author: KayenEQ
Date:   Sun Jan 11 23:09:28 2015 -0500

    #tune command fix

Author: Uleat
Date:   Sun Jan 11 22:51:31 2015 -0500

    Fixed conditional criteria for size mismatch check

Author: Uleat
Date:   Sun Jan 11 20:57:04 2015 -0500

    Added text link body size mismatch checks to translators

Author: Akkadius
Date:   Sun Jan 11 19:13:38 2015 -0600

    Added host parameter for folks using different hosts cause one is not enough

Author: Uleat
Date:   Sun Jan 11 15:49:54 2015 -0500

    Added text link translators for OP_TaskDescription (Ti thru UF..RoF+ in-work)

Author: Uleat
Date:   Sun Jan 11 12:25:58 2015 -0500

    Tweaked client text link translators

Author: Akkadius
Date:   Sun Jan 11 00:20:43 2015 -0600

    Quote fix

Author: KayenEQ
Date:   Sun Jan 11 00:45:37 2015 -0500

    New Command
    #tune
    Used to return ideal values for tuning NPC/Client combat statistics.

Author: Akkadius
Date:   Sat Jan 10 23:26:10 2015 -0600

    RULE_BOOL(Logging, EnableConsoleLogging, true)  /* Turns on or off ALL logging to console */
    RULE_BOOL(Logging, EnableFileLogging, true)     /* Turns on or off ALL forms of file logging */

Author: Akkadius
Date:   Sat Jan 10 23:25:50 2015 -0600

    Add log test command #logtest

Author: Robregen
Date:   Sat Jan 10 21:17:25 2015 -0800

    removed potion belt and bandolier code.

Author: Akkadius
Date:   Sat Jan 10 20:52:51 2015 -0600

    linux compile fix

Author: Akkadius
Date:   Sat Jan 10 20:14:27 2015 -0600

    Add LogDebugType(DebugLevel debug_level, uint16 log_type, std::string message, ...)

Author: Akkadius
Date:   Sat Jan 10 19:36:15 2015 -0600

    Replace rest of EQEmuLog->write with EQEmuLogSys Log

Author: Akkadius
Date:   Sat Jan 10 19:32:07 2015 -0600

    Log Message reword for zone and world bootup failure

Author: Akkadius
Date:   Sat Jan 10 19:05:46 2015 -0600

    _log error convert to logger.Log(EQEmuLogSys::Error

Author: Akkadius
Date:   Sat Jan 10 18:52:27 2015 -0600

    More _log Client replacements

Author: Akkadius
Date:   Sat Jan 10 18:38:04 2015 -0600

    replace mlog with logger.LogDebug

Author: Akkadius
Date:   Sat Jan 10 18:29:27 2015 -0600

    pathing _log to logger.LogDebug

Author: Akkadius
Date:   Sat Jan 10 18:12:58 2015 -0600

    Added EQEmuLogSys logger; pointer to the rest of the projects

Author: Akkadius
Date:   Sat Jan 10 17:27:24 2015 -0600

    EQEmuLog::Dump preprocessor remove

Author: Akkadius
Date:   Sat Jan 10 16:01:43 2015 -0600

    More log replacements

Author: Akkadius
Date:   Sat Jan 10 15:59:32 2015 -0600

    Replaced various other log calls in zone

Author: Akkadius
Date:   Sat Jan 10 15:56:09 2015 -0600

    Replaced Error calls

Author: Akkadius
Date:   Sat Jan 10 15:55:10 2015 -0600

    Replaced Normal calls

Author: Akkadius
Date:   Sat Jan 10 15:54:37 2015 -0600

    Replaced Status log calls

Author: Akkadius
Date:   Sat Jan 10 15:47:36 2015 -0600

    Fix spacing

Author: Akkadius
Date:   Sat Jan 10 15:44:35 2015 -0600

    Replace LogFile->write(EQEmuLog::Error, with logger.logevents(EQEmuLogSys::Error

Author: Akkadius
Date:   Sat Jan 10 15:26:38 2015 -0600

    Replaced Debug messages: LogFile->write with logger.LogDebug

Author: Akkadius
Date:   Sat Jan 10 15:08:30 2015 -0600

    Line changes

Author: Akkadius
Date:   Sat Jan 10 14:59:32 2015 -0600

    RULE_INT(Logging, DebugLogLevel, 0) /* Sets Debug Level, -1 = OFF, 0 = Low Level, 1 = Info, 2 = Extreme */

Author: Akkadius
Date:   Sat Jan 10 14:40:47 2015 -0600

    log_sys to logger
    
    enum DebugLevel {
                    General = 0,    /* 0 - Low-Level general debugging, useful info on single line */
                    Moderate,               /* 1 - Informational based, used in functions, when particular things load */
                    Detail,                 /* 2 - Use this for extreme detail in logging, usually in extreme debugging in the stack or interprocess communication */
            };
    void EQEmuLogSys::LogDebug(DebugLevel debug_level, std::string message, ...)

Author: Akkadius
Date:   Sat Jan 10 14:37:33 2015 -0600

    Add RULE_CATEGORY(Logging)
    RULE_BOOL(Logging, ConsoleLogCommands, false)  /* Turns on or off console logs */
    RULE_BOOL(Logging, LogFileCommands, false)
    RULE_CATEGORY_END()

Author: Akkadius
Date:   Sat Jan 10 13:35:02 2015 -0600

    Remove debugging and generalize the Log function

Author: Akkadius
Date:   Sat Jan 10 13:34:39 2015 -0600

    Changed some console colors

Author: Uleat
Date:   Sat Jan 10 13:50:48 2015 -0500

    Added text link translators for OP_Emote

Author: Speedz
Date:   Sat Jan 10 05:25:23 2015 -0800

    Fixed linux zone crash in #updatequests. Verified on dev and windows.

Author: Akkadius
Date:   Sat Jan 10 03:56:52 2015 -0600

    Create console colors type map from Console::Color LogColors

Author: Akkadius
Date:   Sat Jan 10 03:44:49 2015 -0600

    Backport logging from debug.cpp EQEmuLog::write back to EQEmuLogSys::WriteZoneLog
    Logs being written to logs/zone/ currently

Author: Akkadius
Date:   Sat Jan 10 03:43:44 2015 -0600

    Added eqemu_logsys.cpp/.h

Author: Mackal
Date:   Sat Jan 10 02:34:06 2015 -0500

    Make the AI stopping a little less silly on zone shutdown

Author: Cavedude
Date:   Fri Jan 9 22:19:28 2015 -0800


Author: KayenEQ
Date:   Fri Jan 9 22:33:41 2015 -0500

    Fix for spell projectiles (target type 1) being applied as melee damage.
    Resolves those random 1 million damage hits that have been reported

Author: Trevius
Date:   Fri Jan 9 20:16:23 2015 -0600

    Changed some console logging for slot and group errors.

Author: Uleat
Date:   Fri Jan 9 17:56:46 2015 -0500

    Added text link translators for OP_FormattedMessage

Author: Robregen
Date:   Fri Jan 9 13:50:03 2015 -0800

    *removed tribute codes.
    *removed deblob-conversion functions.

Author: Cavedude
Date:   Fri Jan 9 13:27:55 2015 -0800

    Removed REVERSE_AGGRO define, since at this point it doesn't need to be disabled.
    
    NPCs will no longer aggro players while engaged unless they have done something to get on the hate list. Added the PROX_AGGO (42) special_ability to override that.
    
    Summoned pets will no longer generate aggro on their own.
    
    Tweaked the calculations for charm/pacify resists, also moved it to the resist check method so it's much less hackish.

Author: Speedz
Date:   Fri Jan 9 10:33:10 2015 -0800

    * Added #updateserver
    This will fire off a 10 min warning broadcast and then update git, build and start server.
    Included needed scripts to facilitate this. All in utils/updateserver folder. Usernames and passwords need to be set.
    * Renamed #questupdate to #Updatequests to have all server update commands grouped together.
    * Added a output to the client of exactly what #updatequests has done.

Author: Mackal
Date:   Fri Jan 9 13:18:49 2015 -0500

    clang-modernize -use-nullptr for ucs/worldserver.cpp

Author: Mackal
Date:   Fri Jan 9 13:18:49 2015 -0500

    clang-modernize -use-nullptr for ucs/ucs.cpp

Author: Mackal
Date:   Fri Jan 9 13:18:49 2015 -0500

    clang-modernize -use-nullptr for ucs/clientlist.cpp

Author: Mackal
Date:   Fri Jan 9 12:59:48 2015 -0500

    Packets are already memset to 0

Author: Mackal
Date:   Fri Jan 9 12:59:13 2015 -0500

    Minor tweaking to zone/entity.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:15 2015 -0500

    clang-modernize -use-auto convert for world/zoneserver.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:15 2015 -0500

    clang-modernize -use-auto convert for world/zonelist.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:15 2015 -0500

    clang-modernize -use-auto convert for world/wguild_mgr.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:15 2015 -0500

    clang-modernize -use-auto convert for world/ucs.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:15 2015 -0500

    clang-modernize -use-auto convert for world/queryserv.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/net.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/login_server_list.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/login_server.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/lfplist.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/launcher_list.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/launcher_link.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:14 2015 -0500

    clang-modernize -use-auto convert for world/eqw_parser.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/eqw_http_handler.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/console.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/clientlist.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/cliententry.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/client.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/adventure_manager.cpp

Author: Mackal
Date:   Fri Jan 9 03:05:13 2015 -0500

    clang-modernize -use-auto convert for world/adventure.cpp

Author: Mackal
Date:   Fri Jan 9 02:57:00 2015 -0500

    clang-modernize -use-auto convert for ucs/worldserver.cpp

Author: Mackal
Date:   Fri Jan 9 02:57:00 2015 -0500

    clang-modernize -use-auto convert for ucs/database.cpp

Author: Mackal
Date:   Fri Jan 9 02:57:00 2015 -0500

    clang-modernize -use-auto convert for ucs/clientlist.cpp

Author: Mackal
Date:   Fri Jan 9 02:50:13 2015 -0500

    Ranged-based for for ucs/clientlist.cpp

Author: Mackal
Date:   Fri Jan 9 02:44:20 2015 -0500

    Optimize EntityList::RemoveGroup/RemoveRaid
    
    lambdas are cheating btw.

Author: Cavedude
Date:   Thu Jan 8 22:09:22 2015 -0800

    Several Bard fixes:
    
    Bards will now receive messages as detrimental spells pulse. (If too many songs are spamming, please let me know which ones should and shouldn't - I've never played a Bard.)
    
    Detrimental Bard songs will now display the yellow worn off message when the song wears off (unless the target died.)
    
    Bard Charm will now be castable over Bard Mez. The new pet will be mezzed until that song wears off, and then function normally for the duration of the charm.
    
    Bard group beneficial AEs no longer have a range check.
    ---
    
    Fixed the SPELLS__STACKING log category. DO NOT enable this category unless you need to work with the stacking code. It creates HUGE logs!!!
    
    Removed the newline tacked on the end of logs that were royally pissing me off. Added some more misc spell logging.
    
    More changes to Knockback to handle pull, and for further accuracy.

Author: Trevius
Date:   Thu Jan 8 23:28:22 2015 -0600

    Potential crash/bug fixes for Groups and Mercs.

Author: Arthur Ice
Date:   Thu Jan 8 20:34:38 2015 -0800

    modified mysql results/row to be ready for range based for

Author: Mackal
Date:   Thu Jan 8 22:01:37 2015 -0500

    Range-based for for world/zonelist.cpp

Author: Mackal
Date:   Thu Jan 8 22:01:21 2015 -0500

    Range-based for for world/lfplist.cpp

Author: Mackal
Date:   Thu Jan 8 22:01:02 2015 -0500

    Range-based for for world/adventure_manager.cpp

Author: Mackal
Date:   Thu Jan 8 22:00:36 2015 -0500

    Range-based for for world/adventure.cpp

Author: Akkadius
Date:   Thu Jan 8 19:46:28 2015 -0600

    Renamed EQEMuLog class to EQEmuLog

Author: Robregen
Date:   Thu Jan 8 16:48:35 2015 -0800

    Added message to client for commands with questupdate, motd, and core.

Author: Trevius
Date:   Thu Jan 8 17:08:20 2015 -0600

    Added some extra checks and clean-up related to Groups and Mercenaries.

Author: Robregen
Date:   Thu Jan 8 10:37:44 2015 -0800

    removed the LDoN lua related code.

Author: Kemmler
Date:   Thu Jan 8 09:49:46 2015 -0500

    Work-around for "strange ADL issues" not needed if using Boost 1.57.0 (was required through 1.56.0, thus test for less than 1.57.0). Tested on VS2013.

Author: Speedz
Date:   Wed Jan 7 22:11:27 2015 -0800


Author: Trevius
Date:   Wed Jan 7 23:45:44 2015 -0600

    Query fix for group_leaders table.  This may resolve some crashes/bugs related to Mercs/Bots and Groups.

Author: Speedz
Date:   Wed Jan 7 21:31:09 2015 -0800

    Refined #path process a bit.
    you now have to make a folder in the server dir called "newmaps"
    it will save the file as a .path there is no need to add .path to the process.
    So usage is #path process poknowledge
    This will create a poknowledge.path in newmaps.

Author: Cavedude
Date:   Wed Jan 7 21:20:53 2015 -0800

    Fixed most cases where groups were not properly disbanding when the last player disbanded.

Author: Cavedude
Date:   Wed Jan 7 21:06:00 2015 -0800

    Implemented push for all forms of stuns for both NPCs and players.
    
    Added #push command for testing (and fun.) #stun will also inherently push as well.
    
    Re-factored KnockBack to use the same calculations as Push, and the method will now work on NPCs.

Author: Trevius
Date:   Wed Jan 7 22:20:44 2015 -0600

    Mercenaries now load directly from tables only.  The vwMercNpcTypes view is no longer required and can be deleted.

Author: Cavedude
Date:   Wed Jan 7 08:18:00 2015 -0800

    (Secrets): World crash fix observed in TAKP.

Author: Uleat
Date:   Wed Jan 7 11:13:48 2015 -0500

    Excluded text link body from message scrambling in Client::GarbleMessage()

Author: Akkadius
Date:   Wed Jan 7 08:45:04 2015 -0600

    Added colors to windows consoles, the logging system still needs to be overhauled but this crap code should make debugging easier until the rest of it is cleaned up

Author: Secrets
Date:   Wed Jan 7 05:11:32 2015 -0500

    -Fixed an issue where a client could potentially go linkdead on death or zoning (OP_DeleteSpawn is sent by the client in these cases, and we were clearing all data without letting the client catch up, so potentially, we get out of sync with the packet sequence. I noticed this when I died on my TAKP character.)
    
    -General packet struct size hardening. This NEEDS to go through lots more testing before being pushed out to a server such as TAKP, but I wanted to get it done and on Github so we all can crowdsource edge cases where packets do not need their length fully checked (variable length packets come to mind)
    
    -General cleanup on EQOldStream/StreamFactory. Should only disconnect when the client or server REALLY want to, but don't be surprised if people still random LD. Still investigating that.

Author: Cavedude
Date:   Tue Jan 6 22:34:19 2015 -0800

    Hopefully fixed an issue with merchants that sell no drop items.

Author: Speedz
Date:   Tue Jan 6 21:51:59 2015 -0800

    Fixed core dump script to handle multiple dumps.

Author: Uleat
Date:   Tue Jan 6 23:19:41 2015 -0500

    Rework of the text link translator code (Known bug with broadcast message link size not in OP_ChannelMessage or OP_SpecialMesg)

Author: Trevius
Date:   Tue Jan 6 19:14:06 2015 -0600

    Added defines for all remaining pet commands and some support for them as well.

Author: Speedz
Date:   Tue Jan 6 16:34:35 2015 -0800

    Removed a wrong pointer check from a previous PR I did.
    Updated #coredump.

Author: Cavedude
Date:   Tue Jan 6 14:51:04 2015 -0800

    XP loss on death should be closer to AK values.
    
    Added options to #setxp to set XP by percentage, to subtract the XP you'd lose on death, and to rez a death.
    
    Added XP stats to #showstats.
    
    Fixed the bogus item error when you interact with a merchant who is full.
    
    Hide will now always make your character appear invisible to yourself, whether it succeeds or not. Other players will only see you disappear if it succeeds.
    
    Charm and Pacify will now almost always fail on reds and yellows.

Author: JJ
Date:   Tue Jan 6 16:10:29 2015 -0500

    Lua declaration as well...

Author: JJ
Date:   Tue Jan 6 15:09:18 2015 -0500


Author: JJ
Date:   Tue Jan 6 13:51:36 2015 -0500

    Add PhR to #showstats and a few places that can/should be implemented in the future.

Author: Trevius
Date:   Tue Jan 6 01:19:33 2015 -0600

    Changed the pet command #defines to be based on RoF2 list of pet commands and added decodes to Titanium, SoF and SoD.
    (RoF+) The /pet focus on/off and /pet hold on/off commands are now functional.
    Added more toggle and on/off support for pet commands.

Author: Uleat
Date:   Mon Jan 5 23:11:38 2015 -0500

    Fix for text link issues with items whose loregroup is '-1'

Author: Robregen
Date:   Mon Jan 5 15:34:56 2015 -0800

    removed most LDoN related code.

Author: Cavedude
Date:   Mon Jan 5 15:11:25 2015 -0800

    Mend will no longer require a point trained to skill up.
    
    #reloadworld will now automatically repop and broadcast a warning to players.
    
    Fixed a problem that was causing NPCs in a roambox or on a grid from never walking again after aggro.
    
    Added skip_los field to zone, so we can specify which zones skip LOS check for spells easily. Required DB changes are already merged into the datbase.

Author: Speedz
Date:   Mon Jan 5 10:56:45 2015 -0800

    * Included the back end scripts to #coredump

Author: Uleat
Date:   Mon Jan 5 13:50:03 2015 -0500

    It helps if you actually push more than the changelog message...

Author: Speedz
Date:   Mon Jan 5 10:46:33 2015 -0800

    * Added #coredump so admins and devs can readily do core dumps that output to a web page on the fly.

Author: Uleat
Date:   Mon Jan 5 13:44:16 2015 -0500

    Added text link translators for all supported clients - currently, only OP_ChannelMessage and OP_SpecialMesg are translated.

Author: Cavedude
Date:   Mon Jan 5 10:26:05 2015 -0800

    #reloadworld will now also reload rules in all running zones by default.

Author: Cavedude
Date:   Mon Jan 5 09:08:24 2015 -0800

    Fixed trade error where items were deleted when multiple bags were traded.
    
    Fixed trade issue causing dupes/bags within bags/more deletions.
    
    GMs with #invul on can now be the target of beneficial spells.
    
    Cleaned up races.h.

Author: Trevius
Date:   Sun Jan 4 20:42:45 2015 -0600

    RoF+ - Added the "Your race, class, or deity cannot use this item." message since it no longer exists in the eqstr_us.txt file.

Author: Robregen
Date:   Sun Jan 4 14:48:30 2015 -0800

    removed Rad and Ebon Crstals code.

Author: Cavedude
Date:   Sun Jan 4 11:06:18 2015 -0800

    NPCs in combat with others on the same faction will no longer flee.
    
    Changed NPC movement speed logic. We can now change a NPC's speed multiplier without causing warping or funky animations for the most part.
    
    NPCs will now SetRunning to true when they start running (aggro, pet out of following range, etc)
    
    Added speed variables to #showstats, and cleaned up/re-oredered NPC output.

Author: Akkadius
Date:   Sun Jan 4 07:01:16 2015 -0600

    Readability: embparser_api.cpp macro section A-Z sort

Author: Akkadius
Date:   Sun Jan 4 06:58:30 2015 -0600

    Pro-active adjustment of quest::updatetaskactivity to include ignore_quest_update
    quest::updatetaskactivity(task, activity, [count], [ignore_quest_update])

Author: Secrets
Date:   Sun Jan 4 06:39:36 2015 -0500

    Fixed an infinite loop on invalid login that was introduced by mistake.

Author: Secrets
Date:   Sun Jan 4 06:34:39 2015 -0500

    FatalError should no longer infinite loop the client.

Author: Secrets
Date:   Sun Jan 4 06:30:36 2015 -0500

    Netcode emergency fix :S

Author: Secrets
Date:   Sun Jan 4 06:19:57 2015 -0500

    Netcode emergency fix

Author: Akkadius
Date:   Sun Jan 4 02:55:38 2015 -0600

    Remove iostream from debug output

Author: Akkadius
Date:   Sun Jan 4 02:54:50 2015 -0600

    True fix for $client->UpdateTaskActivity(TaskID, ActivityID, Count, [ignore_quest_update])

Author: Secrets
Date:   Sun Jan 4 03:01:53 2015 -0500

    loginserver will now free timed out connections. actually, this should help eqstreams timing out in general. but yeah.

Author: Mackal
Date:   Sun Jan 4 01:52:46 2015 -0500

    Fix account_creation

Author: Mackal
Date:   Sun Jan 4 01:48:31 2015 -0500

    Fix EVENT_CONNECT

Author: Speedz
Date:   Sat Jan 3 19:23:57 2015 -0800

    Reverted a change with failed logic.
    Applied a couple fixes to avoid dereferencing a NULL pointer.

Author: Robregen
Date:   Sat Jan 3 17:32:24 2015 -0800

    removed the rest of Drakkin codes.

Author: Mackal
Date:   Sat Jan 3 18:48:38 2015 -0500

    Fix memleak in Mob::TypesTemporaryPets

Author: Mackal
Date:   Sat Jan 3 18:42:28 2015 -0500

    Fix memleak in Mob::TemporaryPets

Author: Mackal
Date:   Sat Jan 3 18:48:38 2015 -0500

    Fix memleak in Mob::TypesTemporaryPets

Author: Mackal
Date:   Sat Jan 3 18:42:28 2015 -0500

    Fix memleak in Mob::TemporaryPets

Author: Cavedude
Date:   Sat Jan 3 14:33:53 2015 -0800

    Overflow items from trades will now fall to the ground, instead of creating havoc.

Author: Cavedude
Date:   Sat Jan 3 13:06:00 2015 -0800

    Brackets

Author: Cavedude
Date:   Sat Jan 3 12:34:23 2015 -0800

    Possible memleak fix.

Author: Mackal
Date:   Sat Jan 3 15:14:12 2015 -0500

    Need to set this to 1 again before the perl_destruct

Author: Cavedude
Date:   Sat Jan 3 11:41:29 2015 -0800

    Group overhaul:
    ---
    Groups with 3 players will no longer disband when a member quits or disbands. (Leader can still disband at any time.)
    
    Leader updates will now be sent to players in every zone.
    
    Leadership should now always transfer to another player if the leader quits/LDs.
    
    Players can now join another group (or the same one again) if they disband or are kicked without having to zone first.
    
    General cleanup and logic changes to prevent crashes and problems due to out of date pointers.
    
    Added group information to #showstats.
    ---
    
    Corrected the crash caused by buying arrows without having a container in your inventory.cpp
    
    PoK will now no longer use the hardcoded forage array, and instead will just pick roots if the DB check fails.
    
    Cleaned up logging messages. Added two new types, _GROUP__LOG and DATABASE__LOG
    
    Decreased change for swimming to skill up.

Author: Mackal
Date:   Sat Jan 3 13:54:31 2015 -0500

    Perl memleak fix
    
    This may need more test!!

Author: Mackal
Date:   Sat Jan 3 12:33:53 2015 -0500

    Virtualize WaterMap's destructor (memleak fix)

Author: Mackal
Date:   Sat Jan 3 12:33:53 2015 -0500

    Virtualize WaterMap's destructor (memleak fix)

Author: Speedz
Date:   Sat Jan 3 02:12:34 2015 -0800

    * Added some performance tweaks based on cppcheck results.
    * Added demonstar's memleak fix for groups and raids.
    Slightly edited it for performance.
    * Added a GM no combat range feature to be expanded on.

Author: Mackal
Date:   Sat Jan 3 02:57:55 2015 -0500

    Group/raid memleaks

Author: Mackal
Date:   Sat Jan 3 02:38:55 2015 -0500

    Fix memleak in OP_RaidJoin

Author: Trevius
Date:   Sat Jan 3 01:31:44 2015 -0600

    (RoF2) /shield (shielding) and /key (key ring) are both now functional after opcode updates.

Author: Mackal
Date:   Sat Jan 3 01:52:24 2015 -0500

    Fix memleak in OP_RaidUpdate

Author: Mackal
Date:   Sat Jan 3 01:26:46 2015 -0500

    Memleak in Map

Author: Akkadius
Date:   Fri Jan 2 17:51:55 2015 -0600

    True optional fix for UpdateTaskActivity now that I've had time to take care of it

Author: Trevius
Date:   Fri Jan 2 01:42:52 2015 -0600

    (RoF2) *Hopefully* Fixed looting incorrect items from NPCs.  Please report any issues!
    (RoF2) Now able to loot items past the 10th slot on NPC corpses.
    Attuned Items can now be auto-looted and will equip properly.
    Mercenaries and Bots will no longer take a share from /split or /autosplit.

Author: Trevius
Date:   Thu Jan 1 20:00:16 2015 -0600

    Aug Type 21 fix for RoF client.

Author: Robregen
Date:   Thu Jan 1 12:16:39 2015 -0800

    fixed a small typo in npctype

Author: Cavedude
Date:   Thu Jan 1 12:07:08 2015 -0800

    Players will now be properly removed from the group when they LD.

Author: Robregen
Date:   Thu Jan 1 11:51:31 2015 -0800

    removed more Drakken codes.

Author: Robregen
Date:   Thu Jan 1 11:19:04 2015 -0800

    removed most drakken codes.

Author: Speedz
Date:   Wed Dec 31 20:23:26 2014 -0800

    Lowered min status to get on locked server based off of change in default rule sets.

Author: Speedz
Date:   Wed Dec 31 19:49:24 2014 -0800

    Fixed duplicate lines that voided status check.

Author: JJ
Date:   Wed Dec 31 20:53:12 2014 -0500

    Update default npc_types values for previous NULL entries.

Author: Cavedude
Date:   Wed Dec 31 16:33:18 2014 -0800

    Small fix for invis.

Author: Cavedude
Date:   Wed Dec 31 15:30:19 2014 -0800

    Flipped the logic for rule Watermap:CheckWaypointsInWaterWhenLoading as it was backwards. This fixes an issue where boats would appear underwater and other NPCs could get stuck in the sea floor.
    
    Implemented OP_Feedback. New DB table is created automatically if needed. (patch_Mac.conf has been updated, so please copy it over.)
    
    Fixed Invis Vs Undead and Animal so they no longer function as a normal invis spell.
    
    Added falltest command to aid in troubleshooting fall damage.
    
    Moved OP_Animation from encode/decode to native code.
    
    Added locs and bodytype to #showstats.

Author: Speedz
Date:   Wed Dec 31 15:20:06 2014 -0800

    We don't have a default over-ride,
    so I set all defaults in here to match the list on the site and database for now.

Author: Mackal
Date:   Wed Dec 31 17:49:12 2014 -0500

    Make NPCs less jumpy
    
    We actually didn't want that +2.0f

Author: Cavedude
Date:   Tue Dec 30 19:39:59 2014 -0800

    Fixed everything defaulting to Damage Shield filter. (NPC Spells will always be on. Clicking the button does nothing, unfortunately)

Author: Cavedude
Date:   Tue Dec 30 18:02:52 2014 -0800

    World containers (forges, ovens, etc) will now remember items stored in them after they have closed. No drop items will be deleted if a different player opens the object. No rent will be deleted once the object closes.
    
    patch_Mac.conf was changed, please remember to update it!

Author: Cavedude
Date:   Tue Dec 30 12:53:16 2014 -0800

    Fixed the issue where multiple identical keys in your inventory will prevent a locked door from being opened.

Author: Cavedude
Date:   Tue Dec 30 11:46:24 2014 -0800

    Added 3 new rules to the Groundspawn ruleset. Disarmed item decay timer, full inventory decay timer, and a bool determining if random groundspawns will move around or not while the zone is booted.
    
    Moved the character save logs from Debug to a new log category CLIENT__CHARACTER
    
    Properly fixed the % s character zone crash. We will no longer be replacing the % character server side.
    
    Cleaned up some more log messages and other misc code.
    
    Spells with long recast times will no longer be castable immediately after zoning when the spell is first memorized. (Unless the spell itself is bugged such as Harvest)
    
    Added conecting handle so LFG will persist over zone. (Not sure if that's correct or not, but the client seems to want it.)
    
    Added Checksum handle so the logs stop complaining about the unhandled packets. Actual implementation is not open source.

Author: Speedz
Date:   Tue Dec 30 06:34:38 2014 -0800

    Both Windows and I share a tard moment.
    It built but I missed my obvious error.
    Verified built and working on dev.

Author: Speedz
Date:   Tue Dec 30 01:53:15 2014 -0800

    Fixed command note and status level of last commit.

Author: Speedz
Date:   Tue Dec 30 01:29:37 2014 -0800

    Implemented #questupdate
    If you are default status 250 or higher you can issue this on the server if the quest folder is tied to a svn.

Author: Speedz
Date:   Tue Dec 30 01:29:37 2014 -0800

    Implemented #questupdate
    If you are default status 250 or higher you can issue this on the server if the quest folder is tied to a svn.

Author: Speedz
Date:   Mon Dec 29 23:36:20 2014 -0800

    Added loginserver connect status.
    There is a log delay in accurate reporting of it going offline, but it does eventually report correctly.

Author: Trevius
Date:   Tue Dec 30 00:27:23 2014 -0600

    (RoF2) Aug Type 21 no longer shows the "Buy Now" button in the aug slot of items.
    (RoF2) Identified the "Copied" item flag with the help of Uleat.

Author: Cavedude
Date:   Mon Dec 29 20:57:51 2014 -0800

    Changed messages to use CC_Red for chat color instead of 13.
    
    Added player dropped item rule for real this time :P

Author: Cavedude
Date:   Mon Dec 29 20:16:38 2014 -0800

    Bags with items on your cursor will now show up properly once placed in your inventory. (Including zoning with a bag, summoning a bag full of items, or picking up a bag from the ground.)
    
    Overhauled groundspawns - Items players drop are now saved properly to the DB, and deleted properly when the timer expires (including any items within container items.) Player dropped items will now spawn again after the zone has gone down presuming they haven't already expired. Added a rule to control the expiration period of player dropped items. Groundspawns with a random spawn area will now despawn and respawn at a new location once their timer is up (already configurable in the DB.)
    
    Spells will now cast on entities in a different region (land vs water) but will fail silently. The target if in pvp/duel will receive the protected spell interrupt message.

Author: Kinglykrab
Date:   Mon Dec 29 17:29:45 2014 -0500

    Made fifth argument of UpdateTaskActivity truly optional.

Author: Speedz
Date:   Mon Dec 29 13:50:15 2014 -0800

    Typos in log writes fixed *facepalm

Author: Speedz
Date:   Mon Dec 29 05:03:59 2014 -0800

    Modified my previous commit.
    Moved my additions to a different and new table reverting the modifications made there.
    Also added a zone status tracker table.
    Can hook a web application to this easily to have real time monitoring of zone up/down status.
    CD was brainstorming a way to make a mobile app that showed something like this.
    So my present to you CD, we now have a backend that is easy as pie to tie into :-)

Author: Akkadius
Date:   Mon Dec 29 05:35:50 2014 -0600

    Updated $client->UpdateTaskActivity to have optional argument ignore_quest_update IE: Client::UpdateTaskActivity(THIS, TaskID, ActivityID, Count, [ignore_quest_update])
    Also updated internal UpdateTaskActivity methods to optionally ignore quest based task updates to prevent feedback

Author: Trevius
Date:   Mon Dec 29 00:29:49 2014 -0600

    (RoF2) Identified a few Item Fields and resolved an issue with cloth armor not accepting certain augments that they should.

Author: Cavedude
Date:   Sun Dec 28 21:42:09 2014 -0800

    Trading items within bags now works properly.
    
    Updated ApplySpecialAttackMod to use new slotids for NPC loot.

Author: Uleat
Date:   Sun Dec 28 12:49:14 2014 -0500

    Implemented class Client::TextLink

Author: Akkadius
Date:   Sun Dec 28 00:06:51 2014 -0600

    Change SetOwner to SetHateOwner refactor

Author: Akkadius
Date:   Sat Dec 27 23:52:44 2014 -0600

    Some more refactoring of hate_list

Author: Akkadius
Date:   Sat Dec 27 23:44:15 2014 -0600

    Re-Push Refactoring changes before without broken functionality

Author: Akkadius
Date:   Sat Dec 27 23:19:48 2014 -0600

    Reverting some hate stuff so things work again

Author: Akkadius
Date:   Sat Dec 27 20:25:20 2014 -0600

    Remove debugging from hate changes

Author: Akkadius
Date:   Sat Dec 27 20:23:49 2014 -0600

    More hate changes

Author: Cavedude
Date:   Sat Dec 27 16:59:06 2014 -0800

    Magical items an NPC is wielding will no longer drop to the ground when disarmed is used, instead they will go to their general loottable.

Author: Cavedude
Date:   Sat Dec 27 16:49:26 2014 -0800

    Fixed the zone crash when % is used in chat channels. The % character will now be replaced with "percent"
    
    Moved OP_ChannelMessage encode/decode to native code.
    
    Implemented Disarm for both NPCs and clients (duel/pvp). (Some NPCs only have weapon textures, they will not drop any weapon to the ground as there is no weapon to drop. That is a DB issue which Rob is working on.)
    
    NPCs will now use the same slotids for their equipped items that PCs do in their loottables.
    
    Charmed pets will no longer be assisted by other NPCs on their faction.
    
    Fixed the Intel client crash that occurs when a bag is purchased but you have a full inventory.
    
    Added more goodies to #showstats

Author: Akkadius
Date:   Sat Dec 27 18:24:42 2014 -0600

    Changed hate counter to uint32 to prevent negative rollback, this most likely can will be an issue but more uncommon
    Renamed and refactored most functions and variables in hate_list.h/cpp for readability
    Refactored how hate works in some local functions mixing the use of hate variable and split it out into different status variables
    hate_list.cpp/.h style cleanup
    hate_list.h header function sort, comment erase
    functions should clearly state their function

Author: KayenEQ
Date:   Sat Dec 27 18:43:59 2014 -0500

    Implemened npc special ability (43) CASTING_RESIST_DIFF which sets innate resist modifier on
    ALL spells used by that NPC. Ie. 43,1,-200 will set a -200 innate resist diff, so if your npc cast
    a spell that has a -10 resist modifier the final resist diff would be -210.

Author: Trevius
Date:   Sat Dec 27 15:46:30 2014 -0600

    (RoF2) Fixed dropping items on the ground so they go to ground level instead of camera height.
    Show Helm Option should be functional again.

Author: Akkadius
Date:   Sat Dec 27 01:09:14 2014 -0600

    Fix changelog.txt merge

Author: Akkadius
Date:   Sat Dec 27 01:07:58 2014 -0600

    Add option to automatic database upgrade script 5) Download latest Opcodes from Github

Author: Trevius
Date:   Fri Dec 26 00:11:51 2014 -0600

    Fixed Mercenaries so they can spawn again after table field renames from recent change.

Author: Speedz
Date:   Thu Dec 25 21:35:35 2014 -0800

    Changed GM titles a bit, they always bugged me.

Author: Uleat
Date:   Thu Dec 25 21:45:38 2014 -0500

    Thought something looked like it was missing!

Author: Uleat
Date:   Thu Dec 25 11:04:01 2014 -0500

    Updated item/say links for all clients. They should be a little easier to keep track of now.

Author: Speedz
Date:   Thu Dec 25 06:21:28 2014 -0800

    Minor adjustment to clear logout time for new logins

Author: Speedz
Date:   Thu Dec 25 06:04:11 2014 -0800

    Implemented a 'last seen' with online/offline logging for characters.
     This will be used by the web page after redoing how it handles showing who is online.
     This will give us a more broad set of display options without exposing telnet to a web page.
    Implemented an automated bootstrap database updater so we aren't tied to mistakes made by manually sourcing updates.
     The structure is set up with comments. Only part not covered yet is the login server.
     It should have it's own database builder as it should never have game db access.
    Removed 2 unfinished and unused commands.
    Fixed a text error in logging eq_stream to distinguish where it is logging in it.
    Adjusted SaveCharacterData to accommodate the 'last seen' logging.
     This will also allow for any other things to be added to the character_data table without Save() overwriting them making them fail.
    Cleaned SaveCharacterData up quite a bit for more sane reading.

Author: Uleat
Date:   Thu Dec 25 00:00:57 2014 -0500

    Added a new Client::MakeItemLink() method that uses Item_Struct instead of ItemInst. Changed the way that NPC::QueryLoot() builds its links.

Author: Mackal
Date:   Wed Dec 24 18:29:23 2014 -0500

    Use lambdas in sort functions (for zone at least)

Author: Mackal
Date:   Wed Dec 24 17:42:35 2014 -0500

    Rework Bot::GetBotArcheryRange

Author: Cavedude
Date:   Wed Dec 24 14:24:00 2014 -0800

    Implemented LFG.

Author: KLS
Date:   Sat Dec 20 19:34:56 2014 -0800

    Added __STDC_CONSTANT_MACROS to cmake defines, this should make C++ export the C99 macros even if the standard library isn't quite up to the c++11 standard yet

Author: Mackal
Date:   Thu Dec 18 02:20:03 2014 -0500

    std::deque is a much better fit, should have bit better performance

Author: Cavedude
Date:   Wed Dec 24 10:16:18 2014 -0800

    NPCs will no longer assist if the only attacker in range is a green pet.

Author: Trevius
Date:   Wed Dec 24 12:02:30 2014 -0600

    (RoF+) Implemented Hero's Forge Armor for NPCs.  Set the herosforgemodel field in npc_types table to the model (example: 84 for full set, or 12107 for robe).
    (RoF+) Hero's Forge Armor now overrides NPC texture settings.  To display Hero's Forge Armor Helms, set helmtexture field to anything other than 0.
    Fixed some NPC loading from the database that was incorrect after adding herosforgemodel.

Author: Cavedude
Date:   Wed Dec 24 09:27:20 2014 -0800

    Damage from damage shields will now filter under non-melee, using the Damage Shields server filter.

Author: Cavedude
Date:   Wed Dec 24 08:54:10 2014 -0800

    Pathing NPCs with a SAY lua event will now properly stop and face the player when hailed.
    
    Changed NPC kick to use the same formula as bash.

Author: Kinglykrab
Date:   Wed Dec 24 04:46:00 2014 -0500

    Edited #npcedit to include more options and changed a few to be multiple arguments rather than separate commands.
    - #npcedit wep1/#npcedit wep2 is now #npcedit weapon [primary] [secondary]
    - #npcedit mindmg/#npcedit maxdmg is now #npcedit damage [minimum] [maximum]
    - #npcedit meleetype [primary] [secondary]
    - #npcedit rangedtype
    - #npcedit ammoidfile
    - #npcedit trackable
    - #npcedit attackcount
    - #npcedit avoidance
    - #npcedit walkspeed
    - #npcedit armtexture
    - #npcedit bracertexture
    - #npcedit handtexture
    - #npcedit legtexture
    - #npcedit feettexture
    - #npcedit herosforgemodel
    - #npcedit slow_mitigation

Author: Trevius
Date:   Wed Dec 24 02:31:37 2014 -0600

    (RoF+) Added herosforgemodel field to the npc_types table.  Not fully functional yet for NPCs (currently only displays helm correctly).
    (RoF2) Updated item links from #npcstat command output.

Author: Kinglykrab
Date:   Wed Dec 24 01:26:07 2014 -0500

    Update npc_types table.
    - d_meele_texture1 -> d_melee_texture1
    - d_meele_texture2 -> d_melee_texture2
    - Required SQL: 2014_12_24_npc_types_update.sql

Author: Akkadius
Date:   Mon Dec 22 14:12:26 2014 -0600

    Script used to parse crashes in logs folder and give an ordered summary

Author: Kinglykrab
Date:   Mon Dec 22 04:39:41 2014 -0500

    Modified #reloadworld. Example: #reloadworld 1 - repops globally and reloads quests globally. #reloadworld or #reloadworld 0 - reloads quests globally.

Author: Trevius
Date:   Tue Dec 23 23:18:59 2014 -0600

    Clean up of RoF+ Item Packets.

Author: Trevius
Date:   Tue Dec 23 23:15:05 2014 -0600

    Updated changelog.txt

Author: Trevius
Date:   Tue Dec 23 12:10:54 2014 -0600

    (RoF+) Added support for Hero's Forge Robe Models.  Set herosforgemodel field in items table to exact model such as 11607, 11707, etc.

Author: Uleat
Date:   Tue Dec 23 23:01:59 2014 -0500

    Added item information to logfile writes for failed ItemInst creations

Author: Mackal
Date:   Tue Dec 23 22:26:22 2014 -0500

    Fix issue with Mob::MakeNewPositionAndSendUpdate

Author: Kinglykrab
Date:   Tue Dec 23 22:10:35 2014 -0500

    Two bot crash fixes (#bot bardoutofcombat and #bot setinspectmessage).

Author: Cavedude
Date:   Tue Dec 23 16:04:49 2014 -0800

    Arrows bought from vendors will now prefer quivers.
    
    Items with non-expendable charges will no longer poof until zone when all the charges are used.
    
    Fixed an issue in Handle_OP_ShopPlayerBuy where we were incorrectly sending an item update. Did a general cleanup of the method.

Author: Uleat
Date:   Tue Dec 23 10:22:03 2014 -0500

    Hack fix for zone shutdown crashes involving HateList::GetTop()

Author: Uleat
Date:   Tue Dec 23 10:14:45 2014 -0500

    Added some nullptr checks for ItemInst* in a few places (tradeskills.cpp - particularly augments - needs a better review)

Author: Cavedude
Date:   Mon Dec 22 19:56:08 2014 -0800

    Removed the ServerFilter decode and replaced the EQEmu method with our struct. Removed filters that do not exist for our client.
    
    Corrected the double message caused by damage spells.
    
    Non-melee spell damage will now filter correctly.
    
    Cleaned up healing spell messages.
    
    Cleaned up NPC dual wield and double attack code.
    
    Vendors will now recharge items sold to them.
    
    Removed some unnecessary and/or shitty code.

Author: Trevius
Date:   Mon Dec 22 20:51:56 2014 -0600

    (RoF+) Added a work-around for the cursor buffer issue.

Author: Trevius
Date:   Sun Dec 21 12:14:37 2014 -0600

    More work on RoF+ Cursor Buffer.

Author: Trevius
Date:   Sat Dec 20 01:52:58 2014 -0600

    RoF+ Cursor Buffer SummonItem Initial Test Change

Author: Mackal
Date:   Mon Dec 22 17:51:59 2014 -0500

    Use lambda expression for compare instead

Author: Trevius
Date:   Mon Dec 22 16:09:11 2014 -0600

    (RoF2) Fixed Tracking.

Author: Akkadius
Date:   Mon Dec 22 14:12:26 2014 -0600

    Script used to parse crashes in logs folder and give an ordered summary

Author: Mackal
Date:   Mon Dec 22 13:42:22 2014 -0500

    Fix RoF2 rez response

Author: Kinglykrab
Date:   Mon Dec 22 04:39:41 2014 -0500

    Modified #reloadworld. Example: #reloadworld 1 - repops globally and reloads quests globally. #reloadworld or #reloadworld 0 - reloads quests globally.

Author: Mackal
Date:   Mon Dec 22 01:58:54 2014 -0500

    Force changing the timer_time for attack timers
    
    Should fix issues with waiting for a slow timer after a cure

Author: Trevius
Date:   Sun Dec 21 23:00:06 2014 -0600

    (RoF/RoF2) Fixed Guild Rank in the Player Profile, which prevents the guild rank message on login/zone.

Author: Cavedude
Date:   Sun Dec 21 20:59:19 2014 -0800

    Re-ordered charm target checks so they make more sense and work better.

Author: Mackal
Date:   Sun Dec 21 23:53:02 2014 -0500

    Add a few missing bonus recalcs

Author: Mackal
Date:   Sun Dec 21 23:48:18 2014 -0500

    Fix missing {} in SE_*Counter bonus processing

Author: Akkadius
Date:   Sun Dec 21 21:39:04 2014 -0600

    variable rename, readability

Author: Cavedude
Date:   Sun Dec 21 17:31:03 2014 -0800

    #npcloot will now add charged items with max charges automatically.

Author: Cavedude
Date:   Sun Dec 21 16:52:57 2014 -0800

    Changed NPC bash formula to use Torven's
    
    Songs with instrument regents will no longer require them to be played.
    
    Fixed spell formula 110.

Author: Trevius
Date:   Sun Dec 21 12:23:11 2014 -0600

    (RoF2) Fixed Extended Targets Window by correcting opcodes.

Author: Cavedude
Date:   Sun Dec 21 09:27:52 2014 -0800

    Fixed combat abilities broken in EQEmu merge.
    
    Fixed a problem with boats using maximum allowed names on Windows servers.

Author: Secrets
Date:   Sun Dec 21 11:46:34 2014 -0500

    enabled ack request on HP updates. may solve combat ld, not sure, grasping at straws here for results

Author: Trevius
Date:   Sun Dec 21 00:32:01 2014 -0600

    Fix for RoF2 Selling to Merchant.

Author: Cavedude
Date:   Sat Dec 20 18:38:04 2014 -0800

    Fixed the quantity of summon item spells.

Author: Cavedude
Date:   Sat Dec 20 15:57:49 2014 -0800

    NPCs will no longer respond to hails or text triggers when the player is invisible.

Author: Robregen
Date:   Sat Dec 20 15:56:14 2014 -0800

    Interface merge

Author: Cavedude
Date:   Sat Dec 20 15:42:10 2014 -0800

    Changed Bash/Slam damage so it is a bit more correct.
    
    Items will now loot with max charges, unless charges is set > 1 in lootdrop_entries. (That value will be used instead.)

Author: Trevius
Date:   Sat Dec 20 17:34:47 2014 -0600

    Potential fix for RoF2 random crashes during zoning.

Author: Akkadius
Date:   Mon Dec 8 05:40:59 2014 -0600

    Added "heading" to Zone.SetEntityAttribute

Author: Akkadius
Date:   Mon Dec 8 05:40:38 2014 -0600

    Added "weapon_1" and "weapon_2" to Zone.SetEntityAttribute

Author: Akkadius
Date:   Mon Dec 8 05:39:54 2014 -0600

    Add "gender" to Zone.SetEntityAttribute

Author: Akkadius
Date:   Mon Dec 8 05:39:29 2014 -0600

    Add "texture" to Zone.SetEntityAttribute

Author: Akkadius
Date:   Mon Dec 8 05:38:52 2014 -0600

    Add "size" to Zone.SetEntityAttribute

Author: Akkadius
Date:   Mon Dec 8 05:38:03 2014 -0600

    Add Objects entities to Zone.GetInitialEntityPositions

Author: Akkadius
Date:   Mon Dec 8 05:37:10 2014 -0600

    NPC aggro_range return on handle_rc_get_initial_entity_positions

Author: Akkadius
Date:   Tue Dec 16 00:29:38 2014 -0600

    post merge fixing

Author: KLS
Date:   Fri Dec 19 17:52:53 2014 -0800

    Wrong iter type fails on gcc 4.6

Author: KLS
Date:   Fri Dec 19 18:11:35 2014 -0800

    Fix for websockets linking

Author: KLS
Date:   Sat Oct 11 15:44:27 2014 -0700

    Fix for crash when sending too large a response packet, less efficient but should handle every packet type now.  Can retool if allocations end up being a problem.

Author: KLS
Date:   Sun Oct 12 14:49:04 2014 -0700

    Wanted test to account for quest request

Author: Akkadius
Date:   Mon Dec 8 05:40:59 2014 -0600

    Added "heading" to Zone.SetEntityAttribute
    
    Conflicts:
            zone/remote_call.cpp

Author: Akkadius
Date:   Sun Dec 7 19:43:00 2014 -0600

    Zone.GetEntityAttributes
    Zone.SetEntityAttribute

Author: KLS
Date:   Thu Oct 23 14:35:16 2014 -0700

    First implementation of read/write file access.  We need better security for this though, you could potentially overwrite any file on the local machine the user of world has write access to atm.

Author: Akkadius
Date:   Fri Oct 3 18:45:32 2014 -0500

    A few calls added, forget where I was but just pushing so KLS can start looking at the quest stuff

Author: Akkadius
Date:   Sat Dec 20 00:49:14 2014 -0600

    Updated #cvs to display RoF2 Client Stream count

Author: Trevius
Date:   Fri Dec 19 23:20:10 2014 -0600

    Fixed Selling for Alternate Currency Merchants for RoF and RoF2.

Author: Speedz
Date:   Fri Dec 19 20:40:50 2014 -0800

    Added corpse check to Command targetting.

Author: Speedz
Date:   Fri Dec 19 20:36:39 2014 -0800

    Fixed zone crash in Command logging.

Author: Mackal
Date:   Fri Dec 19 23:08:44 2014 -0500

    Revert "Cleared clientversions.h and eq_dictionary files of Client6.2 references"
    

Author: Cavedude
Date:   Fri Dec 19 19:50:51 2014 -0800

    Monks will now dual wield with 0 skill.
    
    Ogre, Troll, and Iksar will now start with 100 in common.
    
    Being drunk will no longer garble ooc.
    
    Added more client states to #showstats (AFK, LD, GM, Anon, etc)
    
    Fixed elemental illusion spells.
    
    Lyssa`s Solidarity of Vision is now castable on players.
    
    Spell worn off messages will now display in all cases except death.
    
    Work on LFG. (Non functional - I believe I am missing an opcode.)

Author: Uleat
Date:   Fri Dec 19 21:25:44 2014 -0500

    Cleared clientversions.h and eq_dictionary files of Client6.2 references

Author: Trevius
Date:   Fri Dec 19 19:42:55 2014 -0600

    (RoF2) Fixed Rest Timer, Show Helm Option, Auto-Consent Options, and identified Krono in the PP.

Author: Mackal
Date:   Fri Dec 19 17:22:05 2014 -0500

    Fix eq_dictionary.cpp from 62 removal
    
    Note: 62 references in clientversion.h need to be cleaned up
    before we can remove them from other files

Author: Trevius
Date:   Fri Dec 19 15:46:01 2014 -0600

    Fixed Armor Tinting (players and NPCs) that was broken during a previous update.

Author: Trevius
Date:   Fri Dec 19 02:02:31 2014 -0600

    (RoF2) Fixed Leadership AA Purchasing and Recipe Search by correcting opcodes.

Author: Cavedude
Date:   Thu Dec 18 20:51:44 2014 -0800

    NPCs should no longer warp when fleeing.
    
    Added fleespeed to #showstats when an NPC is fleeing.
    
    Changed NPCs spell recast timing.
    
    recast_delay = -2 no delay at all, be very careful with this!
    recast_delay = -1 (default) NPC will use spell recast time.
    recast_delay = 0 NPC will only use a randomly selected delay.
    recast_delay > 0 NPC will use this delay instead of the normal spell recast time.
    
    I also added a rule: Spell:NPCUseRecastVariance which adds a variance when recast_delay > 0. This can be set per zone if needed.

Author: Mackal
Date:   Thu Dec 18 18:49:57 2014 -0500

    Check DivineAura in TryWeaponProc, should resolve #321

Author: Trevius
Date:   Thu Dec 18 17:48:15 2014 -0600

    Fixed zoning after death for RoF2.

Author: Cavedude
Date:   Thu Dec 18 14:21:40 2014 -0800

    Fixed the broken bind sight spells and songs.

Author: Speedz
Date:   Thu Dec 18 13:16:11 2014 -0800

    Added back requested tutorial code.

Author: Cavedude
Date:   Thu Dec 18 11:43:52 2014 -0800

    Harmony will now hit all targets in range.

Author: Trevius
Date:   Thu Dec 18 13:13:03 2014 -0600

    Finished lining up the RoF2 Player Profile Struct.  Zone times are now normal, and everything from the PP is accurate in game now.

Author: Cavedude
Date:   Thu Dec 18 10:33:27 2014 -0800

    Fixed unknown string error when mez wears off.

Author: Speedz
Date:   Thu Dec 18 03:33:02 2014 -0800

    Forgot to remove something I used for troubleshooting.

Author: Speedz
Date:   Thu Dec 18 03:05:31 2014 -0800

    Moved #commands logging to the database.
    Added much more info to it as well.
    If commands_log table doesn't exist, it auto creates.
    I left the old logger in but commented in case someone prefers it.

Author: Mackal
Date:   Thu Dec 18 02:20:03 2014 -0500

    std::deque is a much better fit, should have bit better performance

Author: Cavedude
Date:   Wed Dec 17 22:06:08 2014 -0800

    Fixed double messages from damage shields.

Author: Speedz
Date:   Wed Dec 17 21:55:47 2014 -0800

    Removed tutorial and gohome since those are out of era.

Author: Cavedude
Date:   Wed Dec 17 21:43:48 2014 -0800

    Pet taunt button will now toggle between turning taunt on and off.
    
    Feign Death now always has at least a 5% failure rate.

Author: Uleat
Date:   Wed Dec 17 20:09:53 2014 -0500

    Debug >= 11 compile fail fix

Author: KayenEQ
Date:   Wed Dec 17 20:09:41 2014 -0500

    Clients will now receive exp / faction from their swarm pets kills ect.

Author: Secrets
Date:   Wed Dec 17 17:55:21 2014 -0500

    EQStream changes as recommended by a community member in private.

Author: Mackal
Date:   Wed Dec 17 01:52:00 2014 -0500

    Switch path stuff to vectors
    
    This should be more CPU cache friendly compared to lists so should
    be faster. (profiling looked promising)
    
    Conflicts:
            changelog.txt
            zone/client_packet.cpp
            zone/pathing.h

Author: Cavedude
Date:   Wed Dec 17 09:23:15 2014 -0800

    Lowered kick damage. (Still may need to be tweaked, feedback welcome - I'll need your race, class, kick level, str, and level.)
    
    Added Bash and Kick damage to #showstats. It'll show for all NPCs, but for clients it'll only show for classes who get the skill.

Author: KayenEQ
Date:   Wed Dec 17 10:59:23 2014 -0500

    NPC ranged attack projectiles will now do damage on impact.
    Uses same rule as the client version.

Author: KayenEQ
Date:   Wed Dec 17 06:09:04 2014 -0500

    update

Author: KayenEQ
Date:   Wed Dec 17 05:57:16 2014 -0500

    Perl: NPC AddRangedProc(spellid, chance)
    Perl: NPC AddDefensiveProc(spellid, chance)

Author: Trevius
Date:   Wed Dec 17 01:27:30 2014 -0600

    RoF2 fix for being unable to close bags by right clicking or open multiple bags.

Author: Mackal
Date:   Wed Dec 17 01:52:00 2014 -0500

    Switch path stuff to vectors
    
    This should be more CPU cache friendly compared to lists so should
    be faster. (profiling looked promising)

Author: Cavedude
Date:   Tue Dec 16 21:57:00 2014 -0800

    Removed the level requirement on clickies with an instant casttime.
    
    Casters can now bind other players in the gypsy camps in northkarana and rathemtn. Let me know if there are other special areas like this that need to be added.

Author: KayenEQ
Date:   Tue Dec 16 20:20:22 2014 -0500

    Fix for NPC ranged procs

Author: KayenEQ
Date:   Tue Dec 16 18:53:15 2014 -0500

    Fix for special attack NPC_CHASE_DISTANCE to now work correctly
    Perl export: NPC GetAttackDelay
    Perl export: NPC GetAvoidanceRating
    Perl export: NPC AddMeleeProc
    Special Attacks will no longer be able to hit immune to melee / bane only flagged NPCs.

Author: Leere
Date:   Wed Dec 17 00:24:47 2014 +0100

    Fix for stackable items being unmoveable when charges=0

Author: Cavedude
Date:   Tue Dec 16 15:03:33 2014 -0800

    All NPCs (including pets) will now check to see if they are allowed to equip primary and secondary items based on slot and type. This will prevent NPCs from dual wielding with 2H weapons, misc items, or shields.

Author: Cavedude
Date:   Mon Dec 15 21:49:59 2014 -0800

    Added a check preventing NPCs from wielding a 2H weapon when they already have a 1H equipped and vice versa from loot tables. This does not effect pets or items handed to NPCs.
    
    Removed some unnecessary features and fixed the DW level in the loot check.

Author: Akkadius
Date:   Mon Dec 15 23:14:55 2014 -0600

    Dropping client 6.2 support

Author: Akkadius
Date:   Mon Dec 15 23:00:29 2014 -0600

    tcp_server.cpp linux build fix for not fake

Author: Akkadius
Date:   Mon Dec 15 22:56:55 2014 -0600

    worldconn.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 22:56:44 2014 -0600

    timer.cpp include header cleanup

Author: Akkadius
Date:   Mon Dec 15 22:56:29 2014 -0600

    string_util linux build fix

Author: Akkadius
Date:   Mon Dec 15 22:52:03 2014 -0600

    tcp_server.cpp include header cleanup

Author: Akkadius
Date:   Mon Dec 15 22:50:33 2014 -0600

    tcp_connection.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 22:47:48 2014 -0600

    string_util.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 22:45:37 2014 -0600

    spdat.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 22:43:58 2014 -0600

    shareddb.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 22:42:59 2014 -0600

    rdtsc.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 22:42:44 2014 -0600

    races.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 22:42:34 2014 -0600

    shareddb.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 22:42:19 2014 -0600

    ptimer.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 22:28:15 2014 -0600

    packet_dump_file cleanup

Author: Akkadius
Date:   Mon Dec 15 22:26:58 2014 -0600

    packet_dump cleanup

Author: Akkadius
Date:   Mon Dec 15 22:25:46 2014 -0600

    opcodemgr.cpp cleanup

Author: Akkadius
Date:   Mon Dec 15 22:23:49 2014 -0600

    opcode_map.cpp readability

Author: Akkadius
Date:   Mon Dec 15 22:21:57 2014 -0600

    misc cleanup

Author: Akkadius
Date:   Mon Dec 15 22:21:44 2014 -0600

    misc_functions cleanup

Author: Akkadius
Date:   Mon Dec 15 22:16:30 2014 -0600

    add <string> back in for linux

Author: Akkadius
Date:   Mon Dec 15 22:15:17 2014 -0600

    logsys_eqemu .cpp & .h include cleanup

Author: Akkadius
Date:   Mon Dec 15 22:12:56 2014 -0600

    faction linux build fix for real

Author: Akkadius
Date:   Mon Dec 15 22:10:06 2014 -0600

    item.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 22:04:39 2014 -0600

    faction.cpp linux build fix

Author: Akkadius
Date:   Mon Dec 15 21:59:23 2014 -0600

    guild_base.cpp & .h include header cleanup

Author: Akkadius
Date:   Mon Dec 15 21:57:07 2014 -0600

    faction.cpp & .h header include cleanup and faction.cpp code structure style change

Author: Akkadius
Date:   Mon Dec 15 21:10:14 2014 -0600

    db_update_manifest.txt fix

Author: Akkadius
Date:   Mon Dec 15 21:05:35 2014 -0600

    Another Linux fix

Author: Akkadius
Date:   Mon Dec 15 21:03:09 2014 -0600

    eqemu_config.cpp code structure cleanup

Author: Akkadius
Date:   Mon Dec 15 21:01:52 2014 -0600

    eqemu_config.cpp & .h header cleanup, code style cleanup of eqemu_config.h

Author: Akkadius
Date:   Mon Dec 15 20:32:03 2014 -0600

    eq_stream_ident.h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 20:30:53 2014 -0600

    eq_stream_factory.cpp & .h header include cleanup/forward declare

Author: Akkadius
Date:   Mon Dec 15 20:28:27 2014 -0600

    eq_stream.cpp & .h include header cleanup

Author: Akkadius
Date:   Mon Dec 15 20:24:38 2014 -0600

    eq_packet.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 20:21:54 2014 -0600

    emu_tcp_connection.cpp & .h include header cleanup and forward declare

Author: Robregen
Date:   Mon Dec 15 18:11:16 2014 -0800

    moved window specific header file to #ifdef _WINDOWS

Author: Akkadius
Date:   Mon Dec 15 20:09:36 2014 -0600

    linux build fix

Author: Akkadius
Date:   Mon Dec 15 20:04:49 2014 -0600

    dbcore.cpp * .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 20:02:55 2014 -0600

    database.cpp & .h header include cleanup and forward declaration

Author: Akkadius
Date:   Mon Dec 15 19:49:49 2014 -0600

    condition.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 19:49:12 2014 -0600

    classes.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 19:47:08 2014 -0600

    Linux build fix

Author: Trevius
Date:   Mon Dec 15 19:34:42 2014 -0600

    Corrected check in db_update_manifest.txt

Author: Akkadius
Date:   Mon Dec 15 19:30:18 2014 -0600

    base_packet.cpp & .h header cleanup

Author: Akkadius
Date:   Mon Dec 15 19:17:31 2014 -0600

    zonedb and zoning header spacing

Author: Akkadius
Date:   Mon Dec 15 19:17:07 2014 -0600

    zone_logsys structure clean

Author: Akkadius
Date:   Mon Dec 15 19:16:53 2014 -0600

    zone_config structure clean

Author: Akkadius
Date:   Mon Dec 15 19:14:41 2014 -0600

    zone.cpp & .h include header cleanup

Author: Akkadius
Date:   Mon Dec 15 19:12:04 2014 -0600

    worldserver.cpp header include cleanup

Author: Mackal
Date:   Mon Dec 15 20:08:46 2014 -0500

    Bot compile fix

Author: Akkadius
Date:   Mon Dec 15 19:07:31 2014 -0600

    waypoints.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 19:05:52 2014 -0600

    water_map.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 19:03:24 2014 -0600

    tribute.cpp header include cleanup

Author: Secrets
Date:   Mon Dec 15 20:02:36 2014 -0500

    Changed the way incoming packets are buffered to increase performance (also different locking to help alleviate a crash/unallocated packet issue)
    
    Some memory allocation cleanup in EQOldStream.

Author: Akkadius
Date:   Mon Dec 15 19:01:54 2014 -0600

    trap.cpp & .h header include cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 18:59:21 2014 -0600

    trading.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:57:09 2014 -0600

    tradeskills.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:56:23 2014 -0600

    titles.cpp & .h header cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 18:54:23 2014 -0600

    tasks.cpp & .h header include cleanup

Author: Cavedude
Date:   Mon Dec 15 16:50:22 2014 -0800

    Changed double attack to use new random method.

Author: Akkadius
Date:   Mon Dec 15 18:48:42 2014 -0600

    spells.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:47:22 2014 -0600

    spell_effects header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:46:41 2014 -0600

    special_attacks.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 18:44:36 2014 -0600

    spawngroup.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:42:14 2014 -0600

    spawn2.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:38:54 2014 -0600

    raids.cpp & .h header include cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 18:35:27 2014 -0600

    questmgr.cpp & .h include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:33:39 2014 -0600

    queryserv.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 18:33:23 2014 -0600

    quest_parser_collection.cpp & .h header include cleanup

Author: Robregen
Date:   Mon Dec 15 16:32:44 2014 -0800

    replace makerandomint with new random.

Author: Akkadius
Date:   Mon Dec 15 18:22:27 2014 -0600

    qglobals.cpp & .h include header cleanup

Author: Cavedude
Date:   Mon Dec 15 16:21:33 2014 -0800

    We will now determine if a boat is available for us before sending the player profile, which should prevent client crashes due to boat data. However, there may be times when we land at the zone's safe coords when we could have been on the boat without this added code. It seemed to work fine in local tests, will need more testing on TAK.
    
    Removed some more unnecessary code.
    
    Converted some more zoneids to use the short_name enum.

Author: Cavedude
Date:   Mon Dec 15 16:16:37 2014 -0800

    Added enum for zoneids so we can use short_name instead of looking up the zoneidnumber in the code.
    
    Added CanBindOthers() to zone, to allow us to bind other players in certain zones without being forced to mark them as city zones. Database change already sourced.
    
    Added methods to determine if zone can have boats or is a desert.

Author: Akkadius
Date:   Mon Dec 15 18:14:56 2014 -0600

    petitions.cpp & .h header include cleanup

Author: Akkadius
Date:   Mon Dec 15 18:14:39 2014 -0600

    pets.cpp & .h include header cleanup

Author: Akkadius
Date:   Mon Dec 15 18:10:45 2014 -0600

    pathing.cpp & .h header include cleanup

Author: Cavedude
Date:   Mon Dec 15 16:08:06 2014 -0800

    Changes to dual wield and double attack to make them more accurate. All data and work done by Torven and wharhogg.

Author: Mackal
Date:   Mon Dec 15 19:06:38 2014 -0500

    Fix build failure

Author: Akkadius
Date:   Mon Dec 15 18:03:33 2014 -0600

    object.cpp & .h header cleanup

Author: Akkadius
Date:   Mon Dec 15 17:57:03 2014 -0600

    mob_ai.cpp header cleanup

Author: Trevius
Date:   Mon Dec 15 17:55:23 2014 -0600

    (RoF+) Implemented the 6th Augment Slot for Items.
    Player Corpses now saved attuned settings for Items.
    Renamed IsInstNoDrop() and SetInstNoDrop() to IsAttuned() and SetAttuned() respectively.

Author: Akkadius
Date:   Mon Dec 15 17:54:23 2014 -0600

    merc.cpp header include cleanup

Author: Akkadius
Date:   Mon Dec 15 17:48:18 2014 -0600

    masterentity.h include order revert for linux

Author: Akkadius
Date:   Mon Dec 15 17:47:52 2014 -0600

    merc.h header cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 17:44:46 2014 -0600

    map.cpp & .h header cleanup

Author: Akkadius
Date:   Mon Dec 15 17:41:14 2014 -0600

    loottables.cpp & .h header include cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 17:39:16 2014 -0600

    horse.cpp & .h header cleanup and forward declare

Author: Mackal
Date:   Mon Dec 15 02:53:58 2014 -0500

    Add Random::Shuffle
    
    This is just a wrapper to std::shuffle since it requires a random
    engine and ours lives in a class
    
    Must pass random access iterators (array, vector, deque, etc)
    
    ex:
    
    std::vector<int> v;
    /* init ... */
    random.Shuffle(v.begin(), v.end());

Author: Akkadius
Date:   Mon Dec 15 17:34:19 2014 -0600

    masterentity.h header order cleanup
    hate_list.cpp & .h header cleanup and forward declare

Author: Mackal
Date:   Sun Dec 14 19:38:23 2014 -0500

    Adjust common/random.h based on N3551

Author: Mackal
Date:   Mon Dec 1 19:50:05 2014 -0500

    Add license info

Author: Mackal
Date:   Mon Dec 1 18:13:12 2014 -0500

    Switch random function to std::mt19937
    
    Added class EQEmu::Random
    Functions:
    EQEmu::Random::Int(int low, int high)
    EQEmu::Random::Real(double low, double high)
    EQEmu::Random::Roll(int required)
    EQEmu::Random::Roll(double required)
    EQEmu::Random::Reseed()
    
    For zone, you will access the random object through the zone object
    ex.
            zone->random.Int(0, 100);
    
    Int returns a random int between low and high
    Real returns a random double between low and high
    Roll(int) returns true if Int(0, 99) < required is true
    Roll(double) returns true if Real(0.0, 1.0) <= required is true
    
    Conflicts:
            loginserver/client.h
            world/adventure.cpp
            world/adventure_manager.cpp
            world/net.cpp
            zone/attack.cpp
            zone/bot.cpp
            zone/botspellsai.cpp
            zone/client.cpp
            zone/client_packet.cpp
            zone/client_process.cpp
            zone/command.cpp
            zone/entity.cpp
            zone/merc.cpp
            zone/npc.cpp
            zone/special_attacks.cpp
            zone/spell_effects.cpp
            zone/spells.cpp
            zone/tradeskills.cpp
            zone/zone.cpp
            zone/zone.h

Author: Akkadius
Date:   Mon Dec 15 17:28:04 2014 -0600

    guild_mgr.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 17:26:51 2014 -0600

    groups.cpp & .h header cleanup and forward declare

Author: Akkadius
Date:   Mon Dec 15 17:23:13 2014 -0600

    fearpath.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 17:22:13 2014 -0600

    exp.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 17:19:49 2014 -0600

    entity.cpp & .h header cleanup & forward declare

Author: Akkadius
Date:   Mon Dec 15 17:04:31 2014 -0600

    embparser_api.cpp header org

Author: Akkadius
Date:   Mon Dec 15 17:02:26 2014 -0600

    effects.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 16:53:53 2014 -0600

    doors.cpp & .h header cleanup & forward declaration

Author: Akkadius
Date:   Mon Dec 15 16:50:02 2014 -0600

    corpse.cpp & .h header cleanup & forward declarations

Author: Akkadius
Date:   Mon Dec 15 16:41:04 2014 -0600

    client_mods.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 16:39:01 2014 -0600

    client_logs.cpp header cleanup

Author: Cavedude
Date:   Mon Dec 15 09:50:43 2014 -0800

    Removed attack_speed from our code.
    
    Changed #showstats to use the attack_delay calculation.
    
    Added a rule to determine if we see spell wore off messages. Defaults to false.
    
    Added a band-aid hack to allow casting in kedge.

Author: JJ
Date:   Mon Dec 15 11:06:53 2014 -0500

    Linux fix for Mob type in AA_SwarmPetInfo.

Author: Akkadius
Date:   Mon Dec 15 05:13:45 2014 -0600

    client.h cleanup

Author: Akkadius
Date:   Mon Dec 15 04:58:53 2014 -0600

    bonuses.cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 04:56:01 2014 -0600

    beacon.h/cpp header cleanup

Author: Akkadius
Date:   Mon Dec 15 04:49:45 2014 -0600

    aa.cpp/.h cleanup

Author: Mackal
Date:   Mon Dec 15 02:53:58 2014 -0500

    Add Random::Shuffle
    
    This is just a wrapper to std::shuffle since it requires a random
    engine and ours lives in a class
    
    Must pass random access iterators (array, vector, deque, etc)
    
    ex:
    
    std::vector<int> v;
    /* init ... */
    random.Shuffle(v.begin(), v.end());

Author: Cavedude
Date:   Sun Dec 14 20:24:23 2014 -0800

    Guild updates no longer require a zone to take effect.

Author: Mackal
Date:   Sun Dec 14 19:38:23 2014 -0500

    Adjust common/random.h based on N3551

Author: Secrets
Date:   Sun Dec 14 19:33:22 2014 -0500

    Fixed a race condition that only appeared in high traffic scenarios.

Author: Cavedude
Date:   Sun Dec 14 16:10:47 2014 -0800

    Charm spells will now be interrupted if the intended target already is a pet.

Author: Cavedude
Date:   Sun Dec 14 12:13:47 2014 -0800

    Fixed the string error message when a merchant refuses to sell to you.

Author: Cavedude
Date:   Sun Dec 14 09:44:31 2014 -0800

    Fixed vendors incorrectly dropping partial stacks of items.

Author: Cavedude
Date:   Sat Dec 13 17:00:20 2014 -0800

    Changed a comment that got mistakenly caught up in my charges to quantity replace.

Author: Cavedude
Date:   Sat Dec 13 16:43:04 2014 -0800

    Added a packet size check to the OP_AAAction handle to prevent a zone crash.
    
    Revert "Commented out AA handling to stop zone crashing until we get to working with them."
    
    
    Fixed quest methods summoning full stacks by default.
    
    Changed the name of the "charges" variable to "quantity" in SummonItem for clarity. We'll have to go through and change the name in the code as we come across them.
    
    Removed some senseless comments in SummonItem.

Author: Secrets
Date:   Sat Dec 13 15:53:06 2014 -0500

    More netcode changes. Won't fix the issue but will make the loop around less horrible (currently it wasn't even working) - not sure why 120 is a magic number that works.
    
    Added the auth method into my clientsided DLL + the needed server components to login without the LS, let me know if this breaks anything.

Author: Trevius
Date:   Sat Dec 13 14:09:44 2014 -0600

    Fixed bots build.

Author: Trevius
Date:   Sat Dec 13 14:01:12 2014 -0600

    Added required SQL.  Without it, there will be item loss using the last commit!

Author: Trevius
Date:   Sat Dec 13 13:53:55 2014 -0600

    (RoF+) Implemented Armor Ornamentation using Hero's Forge Armor Models.  To use, create an ornamentation augment and set the herosforgemodel field in the items table.
    (RoF+) Added command #heromodel (#hm for short) - Usage: #heromodel [hero forge model] [ [slot] ] (example: #heromodel 63)

Author: Mackal
Date:   Sat Dec 13 03:18:30 2014 -0500

    Fix guild rank spam

Author: Mackal
Date:   Fri Dec 12 18:55:43 2014 -0500

    Implement IGNORE_ROOT_AGGRO_RULES (special attack 42)
    
    This allows you to have a mob be rooted but still try to attack the
    target with the most amount of hate instead of attacking the closest

Author: Mackal
Date:   Wed Dec 10 02:18:57 2014 -0500

    Set the no_target_hotkey data as well

Author: Mackal
Date:   Wed Dec 10 02:15:15 2014 -0500

    Clean up SoF+ swarm pet F8 hack

Author: Mackal
Date:   Wed Dec 10 01:19:44 2014 -0500

    Make use of the targetable_with_hotkey flag for SoF+

Author: Mackal
Date:   Wed Dec 10 00:59:54 2014 -0500

    Update version too

Author: Mackal
Date:   Tue Dec 9 23:41:19 2014 -0500

    Some clean ups due thanks to clang's warnings

Author: Mackal
Date:   Tue Dec 9 22:33:09 2014 -0500

    Fix compile error

Author: Trevius
Date:   Tue Dec 9 21:18:56 2014 -0600

    (RoF+) Implemented Hero's Forge Armor Models for Items.  To use, set herosforgemodel field in the item table to a model number such as 63 (for example).

Author: KayenEQ
Date:   Tue Dec 9 00:38:20 2014 -0500

    Fix for completely broken skill proc function.

Author: Robregen
Date:   Mon Dec 8 19:16:27 2014 -0800

    fixed for spell delete from spellbook.

Author: Mackal
Date:   Mon Dec 8 20:58:49 2014 -0500

    Be more explicit about what we are checking
    
    (This removes a crap ton of clang warnings)

Author: Stairs
Date:   Tue Dec 9 00:19:11 2014 +0000

    summon items with charges from lua

Author: Stairs
Date:   Tue Dec 9 00:18:53 2014 +0000

    Revert "summoned items will always have max charges"
    

Author: Stairs
Date:   Mon Dec 8 23:59:52 2014 +0000

    summoned items will always have max charges

Author: KayenEQ
Date:   Mon Dec 8 18:55:23 2014 -0500

    NPC Focus Effects Optional Rules SQL

Author: KayenEQ
Date:   Mon Dec 8 18:44:37 2014 -0500

    ADD FD check before adding projectile generated hate.

Author: Stairs
Date:   Mon Dec 8 21:42:13 2014 +0000

    More pet focus item fixes
    * Pets were not being focused on the correct spell base level instead it was thinking that the spell level was the base... this was not the case.
    * Broom of trilojn had the shovel of ponz item id so the shovel was only focusing air pets! and no earth pets this is fixed

Author: Secrets
Date:   Mon Dec 8 05:46:10 2014 -0500

    Added a feature that allows an EQ client to log in directly to World without having to enter the LoginServer, provided the 'password' field is set in WorldServer.
    
    Mainly used for administration purposes. A DLL hack is needed to utilize this feature, and the DLL itself will be posted (source included) on the EQEmulator forums. It uses Microsoft Detours 1.5. Up to you guys if you want to add the source to this program here.

Author: KayenEQ
Date:   Mon Dec 8 01:47:29 2014 -0500

    update

Author: KayenEQ
Date:   Mon Dec 8 01:22:01 2014 -0500

    Implemented support for allowing most focus effects to now be usable
    by NPCs (ie Heal/Damage focus, cast time, spell range ect) from
    both spell buffs and items.
    Rule for enabling spell focus is TRUE by default
    Rule for enabling item focus is FALSE by default.
    
    Consilidated a number of redundant client / mob functions
    to use the same pathway for calculating effect values.

Author: Akkadius
Date:   Sun Dec 7 03:08:27 2014 -0600

    Header cleanup of aggro.cpp

Author: Akkadius
Date:   Sun Dec 7 03:02:57 2014 -0600

    Header and code cleanup of debug.cpp

Author: Mackal
Date:   Sat Dec 6 21:56:14 2014 -0500

    Clean up common/misc_functions.h

Author: Mackal
Date:   Sat Dec 6 20:12:19 2014 -0500

    OP_ClearAA and OP_ClearLeadershipAbilities for RoF2

Author: Natedog
Date:   Tue Sep 23 19:10:52 2014 -0700

    Don't allow AA to be bought that you cant use

Author: Trevius
Date:   Sat Dec 6 18:18:49 2014 -0600

    Guild Names now display properly in RoF2.

Author: Trevius
Date:   Sat Dec 6 14:53:05 2014 -0600

    More RoF2 Opcodes identified.

Author: Trevius
Date:   Sat Dec 6 14:38:34 2014 -0600

    The RoF2 client is now enabled by default.  It is almost caught up to RoF Client compatibility.

Author: sSpeedz
Date:   Fri Dec 5 22:05:31 2014 -0800

    Commented out AA handling to stop zone crashing until we get to working with them.

Author: Mackal
Date:   Fri Dec 5 22:31:36 2014 -0500

    Fix previous commit

Author: Mackal
Date:   Fri Dec 5 22:29:41 2014 -0500

    Implement OP_ClearAA and OP_ClearLeadershipAbilities for SoF+
    
    This is nice since #resetaa will no longer require a kick

Author: Mackal
Date:   Fri Dec 5 22:27:39 2014 -0500

    Add OP_ClearLeadershipAbilties

Author: Mackal
Date:   Fri Dec 5 22:26:01 2014 -0500

    Rename OP_ShroudClearAA to OP_ClearAA

Author: Arthur Ice
Date:   Fri Dec 5 17:57:07 2014 -0800

    GetClosestZonePoint converted to xyz_location

Author: Uleat
Date:   Fri Dec 5 19:33:25 2014 -0500

    Added MapKrono entry to RoF2::InventoryMaps enumeration

Author: sSpeedz
Date:   Fri Dec 5 13:39:47 2014 -0800

    Further bounce fixes.
    No more bounce when you first zone or log in.
    Added an arbitrary lift to the Z on database save. Needed this to avoid underworld spawning after the bounce fix.
    Fixed line number reporting in char creation logging.
    Reorganized the size and race check in ENCODE(OP_ZoneEntry). It cancelled out prior and did not carry a value for the bounce fix.

Author: Mackal
Date:   Fri Dec 5 16:26:55 2014 -0500

    Added Shroud ops for UF

Author: Mackal
Date:   Fri Dec 5 15:59:03 2014 -0500

    OP_Untargetable for SoF

Author: Mackal
Date:   Fri Dec 5 14:40:41 2014 -0500

    OP_CrystalCreate and OP_CrystalReclaim for SoF

Author: Mackal
Date:   Fri Dec 5 14:29:54 2014 -0500

    OP_DzChooseZone for RoF and UF

Author: Mackal
Date:   Fri Dec 5 14:13:05 2014 -0500

    OP_ShroudClearAA for RoF, UF, and SoF
    
    This should actually be usable to just straight clear AA data

Author: Mackal
Date:   Fri Dec 5 14:00:51 2014 -0500

    OP_PVPStats for Underfoot

Author: Mackal
Date:   Fri Dec 5 13:56:20 2014 -0500

    Fix OP_GMEmoteWorld for SoD

Author: Mackal
Date:   Fri Dec 5 13:23:37 2014 -0500

    OP_IncreaseStats for SoF

Author: KayenEQ
Date:   Fri Dec 5 03:47:41 2014 -0500

    Range attack clean up, prevent possible nullptr checks.

Author: Mackal
Date:   Fri Dec 5 02:48:54 2014 -0500

    OP_PlayMP3 for SoF

Author: Trevius
Date:   Thu Dec 4 23:06:43 2014 -0600

    Updated a large number of RoF2 opcodes.

Author: sSpeedz
Date:   Thu Dec 4 11:35:38 2014 -0800

    Added #unmemspell and #unmemspells commands.
    They work exactly the same as their unscribe counterparts.
    Optional sql is included for status setting.

Author: Trevius
Date:   Thu Dec 4 02:13:01 2014 -0600

    Initial addition of the RoF2 client from May 10th 2013 (currently available on Steam as the F2P client).
    RoF2 is disabled by default, but you can enable by editing /common/patches/patches.cpp (see comments)

Author: KayenEQ
Date:   Thu Dec 4 02:40:51 2014 -0500

    Ranged attacks will now much more accurately calculate max distance server side
    via accounting for differences in attacker/target size. This
    fixes a very common issue of player hitting range attack and
    nothing happening due to server improperly calculating
    max range.

Author: Mackal
Date:   Wed Dec 3 17:04:26 2014 -0500

    Rework raid invite handling, shouldn't break rsay being invited to raid anymore

Author: Mackal
Date:   Wed Dec 3 16:55:43 2014 -0500

    Fix DB manifest

Author: Robregen
Date:   Wed Dec 3 13:27:32 2014 -0800

    Changed the minimum char for surname to 3.

Author: sSpeedz
Date:   Wed Dec 3 05:06:45 2014 -0800

    Fixed the remaining bounce when viewing other toons.
    I verified this by removing the modification and recompiling. The bounce was back.

Author: Arthur Ice
Date:   Tue Dec 2 21:27:22 2014 -0800

    GetClosestZonePoint converted to xyz_location (id version)

Author: Arthur Ice
Date:   Tue Dec 2 21:00:31 2014 -0800

    graveyard_x(), graveyard_y(), graveyard_z(), and graveyard_heading() converted to GetGraveyardPoint()

Author: Arthur Ice
Date:   Tue Dec 2 20:25:38 2014 -0800

    Added GetGraveyardPoint() to Zone

Author: Arthur Ice
Date:   Tue Dec 2 20:17:14 2014 -0800

    Removed safe_x(), safe_y(), safe_z() from Zone

Author: Arthur Ice
Date:   Tue Dec 2 19:55:29 2014 -0800

    Added GetSafePoint to Zone

Author: Arthur Ice
Date:   Tue Dec 2 19:38:15 2014 -0800

    Converted Corpse constructor to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 19:29:43 2014 -0800

    simplified SummonAllCorpses

Author: Arthur Ice
Date:   Tue Dec 2 19:28:28 2014 -0800

    Added distance functions for position

Author: Arthur Ice
Date:   Tue Dec 2 18:24:56 2014 -0800

    ModifyWP converted to xyz_location

Author: Arthur Ice
Date:   Tue Dec 2 18:15:51 2014 -0800

    AddWPForSpawn converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 17:41:01 2014 -0800

    AddWP converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 16:53:52 2014 -0800

    CreateSpawn2 converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 16:42:19 2014 -0800

    UpdateZoneSafeCoords converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 16:21:20 2014 -0800

    UpdateCharacterCorpse converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 16:02:12 2014 -0800

    SaveCharacterCorpse converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 15:42:30 2014 -0800

    CreateGraveyardRecord converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 15:27:43 2014 -0800

    SendCharacterCorpseToGraveyard to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 15:18:16 2014 -0800

    UnburyCharacterCorpse converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 15:04:13 2014 -0800

    SummonAllGraveyardCorpses converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 14:50:48 2014 -0800

    SummonAllCorpses converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 14:36:51 2014 -0800

    QuestManager::unique_spawn converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 13:26:55 2014 -0800

    QuestManager::spawn2 converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 13:13:04 2014 -0800

    CorpseLoadFromDBData converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 12:52:40 2014 -0800

    SummonAllCharacterCorpses converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 12:42:47 2014 -0800

    summonallplayercorpses converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 12:04:21 2014 -0800

    SummonBuriedCharacterCorpses converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 12:00:45 2014 -0800

    summonburriedplayercorpse converted to xyz_heading

Author: Arthur Ice
Date:   Tue Dec 2 11:20:10 2014 -0800

    moveto converted to xyz_heading

Author: Mackal
Date:   Tue Dec 2 14:09:14 2014 -0500

    Update to new random functions

Author: Arthur Ice
Date:   Tue Dec 2 10:56:02 2014 -0800

    rebind converted to xyz_location

Author: Arthur Ice
Date:   Tue Dec 2 10:47:46 2014 -0800

    SetBindPoint converted to xyz_location

Author: Mackal
Date:   Tue Dec 2 13:44:23 2014 -0500

    Crash fix, this check got removed accidentally

Author: Arthur Ice
Date:   Tue Dec 2 10:29:35 2014 -0800

    SaveCharacterBindPoint converted to xyz_heading

Author: KayenEQ
Date:   Tue Dec 2 03:42:35 2014 -0500

    Fix for error introduced in projectile update for throwing/archery
    to do hit chance check 2x resulting in much greater chance to miss.

Author: Arthur Ice
Date:   Mon Dec 1 23:34:41 2014 -0800

    SetGraveyard to xyz_header

Author: Arthur Ice
Date:   Mon Dec 1 23:12:19 2014 -0800

    pgraveyard_x, pgraveyard_y, pgraveyard_z, and pgraveyard_heading converted to xyz_heading as m_Graveyard

Author: Arthur Ice
Date:   Mon Dec 1 22:35:46 2014 -0800

    psafe_x, psafe_y, and psafe_z replaced with xyz_location m_SafePoint

Author: Trevius
Date:   Tue Dec 2 00:07:09 2014 -0600

    Fixed Mercenary Depop Crash in Windows.

Author: Trevius
Date:   Mon Dec 1 19:54:01 2014 -0600

    Mercenaries now spawn as the same Gender and Size of the Merchant they are purchased from.
    Mercenaries now spawn with randomized facial features when purchased.
    Setting a lastname for NPCs will now override any hard coded lastname (such as GM Trainers).

Author: Mackal
Date:   Mon Dec 1 19:50:05 2014 -0500

    Add license info

Author: Arthur Ice
Date:   Mon Dec 1 16:00:48 2014 -0800

    IsSpellBlocked converted to use xyz_location

Author: Arthur Ice
Date:   Mon Dec 1 15:48:59 2014 -0800

    Zone::GetSpellBlockedMessage convered to use IsWithinAxisAlignedBox

Author: Arthur Ice
Date:   Mon Dec 1 15:25:37 2014 -0800

    Added two axis aligned bounding box check functions

Author: Cavedude
Date:   Mon Dec 1 15:20:04 2014 -0800

    Added a killedby column to character_corpses, so we can track how the player was killed. Values are:
    
    0 - Other (Pain and suffering)
    1 - NPC killed them
    2 - Environment (Drowning, falling, burning, freezing)
    3 - Duel
    4 - Non-duel PVP
    
    Implemented a 10 minute rez timer for corpses left due to losing a duel.
    
    Fixed an issue where the rez status of a corpse would not update in the DB following the rez timer expiring.
    
    Adding some missing code from EQEmu for tell queues (completely untested by me)

Author: Mackal
Date:   Mon Dec 1 18:13:12 2014 -0500

    Switch random function to std::mt19937
    
    Added class EQEmu::Random
    Functions:
    EQEmu::Random::Int(int low, int high)
    EQEmu::Random::Real(double low, double high)
    EQEmu::Random::Roll(int required)
    EQEmu::Random::Roll(double required)
    EQEmu::Random::Reseed()
    
    For zone, you will access the random object through the zone object
    ex.
            zone->random.Int(0, 100);
    
    Int returns a random int between low and high
    Real returns a random double between low and high
    Roll(int) returns true if Int(0, 99) < required is true
    Roll(double) returns true if Real(0.0, 1.0) <= required is true

Author: Arthur Ice
Date:   Mon Dec 1 14:16:53 2014 -0800

    GetSpellBlockedMessage converted to xyz_location

Author: Arthur Ice
Date:   Mon Dec 1 13:32:19 2014 -0800

    xdiff, ydiff, and zdiff in ZoneSpellsBlocked converted to xyz_location m_Difference

Author: Arthur Ice
Date:   Mon Dec 1 13:05:40 2014 -0800

    ZoneSpellsBlocked converted x,y, and z to m_Location as xyz_location

Author: Arthur Ice
Date:   Mon Dec 1 12:30:07 2014 -0800

    ZoneDatabase::InsertDoor converted to xyz_heading

Author: Arthur Ice
Date:   Mon Dec 1 10:33:57 2014 -0800

    Lua, perl, boost, zlib, mysql, and glm include files are now being included marked as system (library) files. warnings for these libraries are now suppressed

Author: Arthur Ice
Date:   Mon Dec 1 01:23:58 2014 -0800

    aa_los_them converted to xyz_location m_AutoAttackTargetLocation

Author: Arthur Ice
Date:   Mon Dec 1 01:12:19 2014 -0800

    aa_los_me and aa_los_me_heading converted xyz_heading m_AutoAttackPosition

Author: Arthur Ice
Date:   Mon Dec 1 00:26:35 2014 -0800

    zonesummon_x, zonesummon_y, and zonesummon_z converted to xyz_location m_ZoneSummonLocation

Author: Arthur Ice
Date:   Mon Dec 1 00:03:59 2014 -0800

    proximity_x, proximity_y, and proximity_z converted to xyz_location m_Proximity

Author: Arthur Ice
Date:   Sun Nov 30 23:50:24 2014 -0800

    EntityList::ProcessMove converted to xyz_location

Author: Arthur Ice
Date:   Sun Nov 30 22:28:17 2014 -0800

    EntityList::GetRandomClient converted to xyz_location

Author: Arthur Ice
Date:   Sun Nov 30 22:14:57 2014 -0800

    QuestMgr::movePCInstance converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 22:05:34 2014 -0800

    QuestMgr::CreateObjectFromModel converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 21:42:59 2014 -0800

    QuestManager::CreateGroundObject converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 21:30:16 2014 -0800

    EntityList::CreateGroundObject converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 21:20:46 2014 -0800

    EntityList::CreateGroundObjectFromModel converted to to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 21:04:39 2014 -0800

    EntityList::CreateDoor converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 20:49:48 2014 -0800

    Doors constructor converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 20:37:43 2014 -0800

    Replaced SetX(), SetY(), SetZ(), and SetHeading() with SetPosition() on Doors

Author: Arthur Ice
Date:   Sun Nov 30 20:23:18 2014 -0800

    Replaced GetX(), GetY(), GetZ(), and GetHeading() in Doors with GetPosition()

Author: Arthur Ice
Date:   Sun Nov 30 20:05:51 2014 -0800

    replaced GetDestX(), GetDestY(), GetDestZ(), and GetDestHeading() with GetDestination in Doors

Author: Arthur Ice
Date:   Sun Nov 30 19:58:56 2014 -0800

    replaced dest_x, dest_y, dest_z, and dest_headingg in Doors with xyz_heading m_Destination

Author: Arthur Ice
Date:   Sun Nov 30 19:47:49 2014 -0800

    replaced pos_x, pos_y, pos_z, heading in Doors with xyz_heading m_Position

Author: Arthur Ice
Date:   Sun Nov 30 19:34:44 2014 -0800

    SetPreSummonX(), SetPreSummonY(), and SetPreSummonZ() converted to SetPreSummonLocation()

Author: Arthur Ice
Date:   Sun Nov 30 19:23:35 2014 -0800

    Replace GetPreSummonX(), GetPreSummonY(), GetPreSummonZ() with GetPreSummonLocation as xyz_location

Author: Arthur Ice
Date:   Sun Nov 30 19:14:24 2014 -0800

    replaced _preSummonX, _preSummonY, and _preSummonZ in bot with xyz_location m_PreSummonlocation

Author: Arthur Ice
Date:   Sun Nov 30 18:57:50 2014 -0800

    mob constructor converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 18:33:45 2014 -0800

    Horse constructor converted to xyz_heading

Author: Akkadius
Date:   Sun Nov 30 20:32:00 2014 -0600

    command.cpp #include cleanup
    command.h #include cleanup
    command.h forward declarations

Author: Arthur Ice
Date:   Sun Nov 30 18:13:28 2014 -0800

    Switched to c++11 based abs instead of hacky custom version

Author: Arthur Ice
Date:   Sun Nov 30 18:10:30 2014 -0800

    Trap converted to use xyz_location as m_Position instead of x, y, z

Author: Arthur Ice
Date:   Sun Nov 30 17:32:11 2014 -0800

    NPC constructor converted to use xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 16:30:09 2014 -0800

    MoveTo converted to xyz_heading

Author: Arthur Ice
Date:   Sun Nov 30 15:58:44 2014 -0800

    GetSpawnPointX(), GetSpawnPointY(), GetSpawnPointZ(), and GetSpawnPointH(), converted to GetSpawnPoint()

Author: Mackal
Date:   Sun Nov 30 18:56:01 2014 -0500

    Clang bots compile fix

Author: Cavedude
Date:   Sun Nov 30 15:45:22 2014 -0800

    Fixed crash when a character is deleted.

Author: Arthur Ice
Date:   Sun Nov 30 15:40:24 2014 -0800

    GetClosestWaypoint converted to xyz_location

Author: Mackal
Date:   Sun Nov 30 18:32:45 2014 -0500

    Fix clang compile error

Author: Arthur Ice
Date:   Sun Nov 30 15:29:13 2014 -0800

    GetSpawnPointX(). GetSpawnPointY(), GetSpawnPointZ(), and GetSpawnPointH() replaced with GetSpawnPoint()

Author: Arthur Ice
Date:   Sun Nov 30 15:05:50 2014 -0800

    GetGuardPointX(), GetGuardPointY(), GetGuardPointZ(), and GetGuardPointH() replaced with GetGuardPoint()

Author: Arthur Ice
Date:   Sun Nov 30 14:34:27 2014 -0800

    guard_x_saved, guard_y_saved, guard_z_saved, guard_heading_saved converted to m_GuardPointSaved

Author: Arthur Ice
Date:   Sun Nov 30 14:17:14 2014 -0800

    guard_x, guard_y, guard_z, guard_heading converted to xyz_heading as m_GuardPoint

Author: Arthur Ice
Date:   Sun Nov 30 13:51:57 2014 -0800

    org_x, org_y, org_z, and org_heading converted to xyz_heading as m_SpawnPoint

Author: Cavedude
Date:   Sun Nov 30 09:47:07 2014 -0800

    Fixed the order of the resurrection message when a corpse is conned.

Author: Cavedude
Date:   Sat Nov 29 23:55:45 2014 -0800

    "`s warder" will now be lowercase for BST pets.

Author: Mackal
Date:   Sun Nov 30 02:32:11 2014 -0500

    Fix some debug statements

Author: KayenEQ
Date:   Sun Nov 30 01:58:23 2014 -0500

    fix

Author: KayenEQ
Date:   Sun Nov 30 01:43:51 2014 -0500

    Spell Projectiles have been revamped to use new system.

Author: Arthur Ice
Date:   Sat Nov 29 21:24:57 2014 -0800

    converted Warp to xyz_location instead of x,y,z

Author: Akkadius
Date:   Sat Nov 29 23:12:09 2014 -0600

    Temporary revert of net.cpp to wave 1 of cleanups

Author: Arthur Ice
Date:   Sat Nov 29 21:07:08 2014 -0800

    SetDeltas converted to SetDelta

Author: Cavedude
Date:   Sat Nov 29 20:05:16 2014 -0800

    GM rez will now check for GM flag instead of status.

Author: KayenEQ
Date:   Sat Nov 29 21:10:51 2014 -0500

    update to projectile move check

Author: Cavedude
Date:   Sat Nov 29 18:09:21 2014 -0800

    Corpse and resurrection overhaul.
    
    Corpses with more than 8 items can now be looted properly (again).
    
    Players can now be rezzed for no exp after already being rezzed or after the 3 hour rez timer has expired.
    
    GMs can now rez a player one time after normal players can no longer perform an exp rez.
    
    Added a second corpse timer for empty corpses, the rule defaults to 3 hours.
    
    Added more info to the player corpse #showstats GM command.
    
    Required SQL: utils/sql/git/required/2014_11_29_corpses.sql

Author: Arthur Ice
Date:   Sat Nov 29 16:43:24 2014 -0800

    added GetPosition to mob

Author: Arthur Ice
Date:   Wed Nov 26 21:41:14 2014 -0800

    added constness to operators

Author: Akkadius
Date:   Sat Nov 29 16:55:35 2014 -0600

    mob.cpp #include cleanup
    mob.h declarations
    mob.h #include cleanup

Author: Akkadius
Date:   Sat Nov 29 16:48:48 2014 -0600

    tradeskills.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 16:46:43 2014 -0600

    forage.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 16:43:19 2014 -0600

    guild.cpp #include cleanup
    spell_effects.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 16:32:49 2014 -0600

    zoning.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 16:28:48 2014 -0600

    pets.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 15:59:24 2014 -0600

    spells.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 15:56:51 2014 -0600

    mod_functions.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 15:53:17 2014 -0600

    waypoints.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 15:44:09 2014 -0600

    petitions.cpp #include cleanup
    petititons.h #include cleanup

Author: Akkadius
Date:   Sat Nov 29 15:08:16 2014 -0600

    aa.cpp #include cleanup
    aa.h #include cleanup

Author: Akkadius
Date:   Sat Nov 29 15:02:34 2014 -0600

    npc.cpp #include cleanup
    entity.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 14:39:27 2014 -0600

    loottable.cpp #include fix, previously reliant on npc.h to get to loottable.h
    npc.cpp #include cleanup
    npc.h #include cleanup and forward declaration

Author: Akkadius
Date:   Sat Nov 29 14:11:16 2014 -0600

    attack.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 14:07:40 2014 -0600

    net.cpp #include cleanup
    net.cpp forward declaration

Author: Cavedude
Date:   Sat Nov 29 09:38:48 2014 -0800

    Added checksum for Hobart's updated spell file.

Author: Akkadius
Date:   Sat Nov 29 05:22:27 2014 -0600

    special_attacks.cpp #include clean

Author: Akkadius
Date:   Sat Nov 29 05:01:49 2014 -0600

    Small world server cleanup

Author: Akkadius
Date:   Sat Nov 29 04:56:42 2014 -0600

    net.h cleanup

Author: Akkadius
Date:   Sat Nov 29 04:30:03 2014 -0600

    database.h forward declaration
    database.cpp #include house-keeping

Author: Akkadius
Date:   Sat Nov 29 04:18:18 2014 -0600

    zonedb.h forward declarations
    zonedb.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 04:08:37 2014 -0600

    inventory.cpp #include clean/remove

Author: Akkadius
Date:   Sat Nov 29 04:04:49 2014 -0600

    client_mods.cpp cleanup

Author: Akkadius
Date:   Sat Nov 29 03:54:25 2014 -0600

    command.cpp #include cleanup
    command.h forward declaration

Author: Akkadius
Date:   Sat Nov 29 03:48:26 2014 -0600

    client_packet.cpp #include cleanup

Author: Akkadius
Date:   Sat Nov 29 03:24:48 2014 -0600

    questmgr.h forward declarations
    client_process.cpp #include removals

Author: Akkadius
Date:   Sat Nov 29 03:12:34 2014 -0600

    #include and forward declaration cleanup of
    client.cpp net.cpp questmgr.cpp zone.cpp zone.h

Author: Trevius
Date:   Fri Nov 28 20:30:35 2014 -0600


Author: Trevius
Date:   Fri Nov 28 20:23:42 2014 -0600

    Fixed a zone crash related to numhits for spells.
    Fixed a query related to group leaders logging in.
    Fixed a world crash related to attempting to join an adventure with Mercenaries.

Author: Cavedude
Date:   Fri Nov 28 12:00:07 2014 -0800

    Server will handle the checksum packets sent by PC client and disconnect the client if one or both don't match.

Author: KayenEQ
Date:   Fri Nov 28 07:08:28 2014 -0500

    Implemented projectile on impact for Throwing

Author: KayenEQ
Date:   Fri Nov 28 05:46:23 2014 -0500

    fix

Author: KayenEQ
Date:   Fri Nov 28 05:42:36 2014 -0500

    Sanity check added before calculating distance.

Author: Mackal
Date:   Fri Nov 28 02:19:45 2014 -0500

    Fix model_name in RoF Arrow_Struct

Author: KayenEQ
Date:   Fri Nov 28 01:05:57 2014 -0500

    fixes

Author: Akkadius
Date:   Thu Nov 27 23:24:32 2014 -0600

    Disabling file check for db_updater.pl temporarily to force update the update script for users. Will leave it this way for a few weeks and the nre-enable it because the latest one supports automatic update checking

Author: KayenEQ
Date:   Thu Nov 27 23:14:49 2014 -0500

    Fix for better ammo slot sync check.

Author: Mackal
Date:   Thu Nov 27 22:56:40 2014 -0500

    Spelling matters!

Author: Mackal
Date:   Thu Nov 27 22:30:44 2014 -0500

    Crash fixes

Author: KayenEQ
Date:   Thu Nov 27 22:12:13 2014 -0500

    Projectiles (ie Arrows) fired from an archery attacks will do damage upon
    actually hitting the target, instead of instantly when fired. Consistent
    with live.
    
    Optional SQL added to disable this.
    
    Throwing will be implemented in a future update.

Author: Natedog
Date:   Thu Nov 27 13:05:50 2014 -0800

    Detransformation of mold type ornamentations.

Author: Cavedude
Date:   Thu Nov 27 09:39:03 2014 -0800

    Finally identified the location of spellSlotRefresh (stores icon refresh time benefiting spells with long recast times such as Spirit of Cheetah) and abilitySlotRefresh for Harm Touch and Lay on Hands :)
    
    I never even thought to check the Trilogy struct :I

Author: Akkadius
Date:   Thu Nov 27 00:03:49 2014 -0600

    Self patching db_update script for when new versions come out

Author: Akkadius
Date:   Thu Nov 27 00:01:26 2014 -0600

    Renamed back the db_update.pl file

Author: Akkadius
Date:   Wed Nov 26 23:50:08 2014 -0600

    Renamed db_update.pl to db_updater.pl

Author: Akkadius
Date:   Wed Nov 26 23:45:08 2014 -0600

    db_update.pl self update routine
    Some linux adjustments

Author: Arthur Ice
Date:   Wed Nov 26 21:25:09 2014 -0800

    added automatic conversion of Map::Vertex into xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:39:39 2014 -0800

    InLiquid converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:38:53 2014 -0800

    InLava converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:37:32 2014 -0800

    InVWater converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:36:47 2014 -0800

    ReturnRegionType converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:32:46 2014 -0800

    InLiquid converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:24:28 2014 -0800

    InLava converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:22:41 2014 -0800

    InVWater converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:20:41 2014 -0800

    ReturnRegionType converted to xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 19:18:06 2014 -0800

    InWater(y,x,z) converted to InWater(xyz_location)

Author: Uleat
Date:   Wed Nov 26 21:05:43 2014 -0500

    Added versioning for required ornament inventory sql

Author: Cavedude
Date:   Wed Nov 26 18:01:23 2014 -0800

    Added hunger/thirst/famished and boats to #showstats

Author: Arthur Ice
Date:   Wed Nov 26 17:34:45 2014 -0800

    GetCWPX(), GetCWPY(), GetCWPZ(), GetCWPH() converted to GetCurrentWayPoint

Author: Arthur Ice
Date:   Wed Nov 26 17:21:33 2014 -0800

    Added overloads for to_string to handle xyz_heading, xyz_location, and xy_location

Author: Kemmler
Date:   Wed Nov 26 19:55:46 2014 -0500

    Typo?

Author: Mackal
Date:   Wed Nov 26 19:12:04 2014 -0500

    Flipped logic wrong :P

Author: Mackal
Date:   Wed Nov 26 19:04:20 2014 -0500

    Fix for compilers w/o C++11 uniform initialization

Author: Arthur Ice
Date:   Wed Nov 26 15:58:29 2014 -0800

    tarv_x, tarv_y. tarv_z converted to xyz_location

Author: Mackal
Date:   Wed Nov 26 18:29:07 2014 -0500

    Minor bug fixes

Author: Arthur Ice
Date:   Wed Nov 26 15:10:49 2014 -0800

    tarx, tary, tarz converted to m_TargetLocation as xyz_location

Author: Arthur Ice
Date:   Wed Nov 26 14:57:12 2014 -0800

    fear_walkto_x, fear_walkto_y, fear_walkto_z replaced with m_FearWalkTarget converted to xyz_location

Author: Cavedude
Date:   Wed Nov 26 14:51:29 2014 -0800

    Converted the remaining RunQuery entries and removed RunQuery.
    
    Merged tell queue from EQEmu.
    
    Fixed a crash when a player buys an item off another player trader.
    
    Created a rule to determine if the Perl DB update script will run. Defaults to off.

Author: Natedog
Date:   Wed Nov 26 13:57:18 2014 -0800

    Item Transformation now works!

Author: Arthur Ice
Date:   Wed Nov 26 00:56:07 2014 -0800

    rewind_x, rewind_y,rewind_z replaced with m_RewindLocation of type xyz_location

Author: Arthur Ice
Date:   Tue Nov 25 23:44:02 2014 -0800

    targetring_x, targetring_y, targetring_z replaced with m_TargetRing as an xyz_location

Author: Arthur Ice
Date:   Tue Nov 25 23:24:17 2014 -0800

    cur_wp_x, cur_wp_y, cur_wp_z, cur_wp_heading replaced with m_CurrentWayPoint

Author: Robregen
Date:   Tue Nov 25 22:35:50 2014 -0800

    Update database.cpp

Author: Akkadius
Date:   Wed Nov 26 00:31:50 2014 -0600

    Database::GetGroupLeaderForLogin fix

Author: Akkadius
Date:   Wed Nov 26 00:24:31 2014 -0600

    Replaced atoll with more appropriate macro atoul

Author: Akkadius
Date:   Tue Nov 25 23:54:59 2014 -0600

    Renamed SetPKItem to SetPlayerKillItemID
    Renamed AllowMobLoot to AllowPlayerLoot
    Renamed DepopCorpse (PC) to DepopPlayerCorpse
    Renamed GetPKItem to GetPlayerKillItem
    Renamed Corpse class variable 'orgname' to 'corpse_name'
    Renamed CompleteRezz to CompleteResurrection
    Renamed GetDBID to GetCorpseDBID
    
    Removed CorpseToServerSlot as it is unnecessary
    Removed ServerToCorpseSlot as it is unnecessary
    
    Reogrganized corpse.h header

Author: Arthur Ice
Date:   Tue Nov 25 21:45:41 2014 -0800

    Removed use of initializer lists. so less pretty

Author: Akkadius
Date:   Tue Nov 25 23:17:08 2014 -0600

    Renamed Corpse::LoadFromDBData to Corpse* Corpse::LoadCharacterCorpseEntity
    Corpse Private class descriptors added
    General cleanup

Author: Arthur Ice
Date:   Tue Nov 25 21:06:13 2014 -0800

    spell_x,spell_y, spell_z converted to m_SpellLocation, xyz_location

Author: Akkadius
Date:   Tue Nov 25 22:47:50 2014 -0600

    Fixed an issue that has surfaced with new code behaving how it should, breaking old code. Naked corpses were not despawning on their decay timers because of incorrect return logic on a database function
    Removed ClearCorpseItems as it is no longer necessary as corpses deleted items appropriately when they are removed from the corpse
    General cleanup of functions and variables in corpse code

Author: Arthur Ice
Date:   Tue Nov 25 20:43:09 2014 -0800

    delta_x, delta_y, delta_z, and int delta_heading converted to m_Delta

Author: Arthur Ice
Date:   Tue Nov 25 20:16:04 2014 -0800

    heading, x_pos, y_pos, and z_pos replaced with m_Position in Mob

Author: Arthur Ice
Date:   Mon Nov 24 23:22:10 2014 -0800

    xyz_heading, xyz_location, and xy_location built

Author: Trevius
Date:   Tue Nov 25 02:54:02 2014 -0600

    Compile Fix and fix to prevent Mercenaries from being set as Group Leader.

Author: Trevius
Date:   Tue Nov 25 02:22:58 2014 -0600

    Spells that modify model size are now limited to 2 size adjustments from the base size.

Author: Cavedude
Date:   Mon Nov 24 16:16:46 2014 -0800

    Fixed the issue where focus reagents were not being checked on gcc 4.8. This may also fix the Godzilla bug we are seeing now. sizeof was returning the size of the struct in one case and total data size in the others, where in all cases we were expecting the number of entries within the arrays. So, we were evaluating past where the data ended which caused funky values to be returned.
    
    Moved the powered pet message so it should only display when a powered pet is cast. It'll be removed once we're sure the Godzilla bug is gone.

Author: Trevius
Date:   Mon Nov 24 02:32:33 2014 -0600

    Added Rule NPC:EnableMeritBasedFaction (disabled by default) - Allows faction gain to work similar to experience.

Author: Akkadius
Date:   Mon Nov 24 02:06:51 2014 -0600

    Fix for bot build

Author: Akkadius
Date:   Mon Nov 24 01:53:21 2014 -0600

    Finish of automatic corpse convert routine

Author: Akkadius
Date:   Mon Nov 24 01:12:12 2014 -0600

    Added namespace Convert:: to contain all of the player profile and corpse related structs so that when any of the structs change else where in the code, it does not break the conversion scripts. These are self contained structs just for the conversion scripts.

Author: Akkadius
Date:   Sun Nov 23 23:46:06 2014 -0600

    Restructure and refactoring of database convert/upgrade check routine, breaking out to individual functions

Author: Trevius
Date:   Sun Nov 23 23:17:57 2014 -0600

    Fixing my Swarm Pet "fix".

Author: Cavedude
Date:   Sun Nov 23 21:08:23 2014 -0800

    Changes to cmake defaults. Building the login now defaults to on, client files is off, and disable logging is off.

Author: Akkadius
Date:   Sun Nov 23 22:57:46 2014 -0600

    Removed DBCore::RunQuery
    Converted last corpse.cpp function that mixed database code with corpse code

Author: KayenEQ
Date:   Sun Nov 23 23:44:14 2014 -0500

    Swarm pets will no longer assist owners if special ability '34' IMMUNE_AGGRO
    is set.

Author: Akkadius
Date:   Sun Nov 23 22:33:57 2014 -0600

    Rest of ZoneDB Corpse functions converted to new API

Author: Akkadius
Date:   Sun Nov 23 21:37:42 2014 -0600

    Corpse Class Private scope variables renamed for understandability across the source
    Removed ThrowDBError from the source
    Implemented MySQL query error log at the root of the MySQL API
    Readability changes

Author: KayenEQ
Date:   Sun Nov 23 22:06:15 2014 -0500

    Fix for numhits counter not working where buffslot was 0 in some situations.

Author: bwilliams
Date:   Sun Nov 23 21:54:27 2014 -0500

    removed formatting. added changes, again.

Author: KayenEQ
Date:   Sun Nov 23 21:41:05 2014 -0500

    Removal of 2x numhits outgoing hit success call from special attack.

Author: bwilliams
Date:   Sun Nov 23 21:20:20 2014 -0500

    spell reagent and bard instrument refactoring after the document formatting

Author: bwilliams
Date:   Sun Nov 23 21:03:41 2014 -0500

    reformatting doc with latest changes from upstream/master

Author: KayenEQ
Date:   Sun Nov 23 20:52:24 2014 -0500

    string

Author: Akkadius
Date:   Sun Nov 23 19:51:01 2014 -0600

    Increased Max charge or stack count on corpses to uint16 (Beyond 1k)
    Fixed the deletion of items so that they occur immediately when removed from corpse instead of clicking 'Done'
    Fixed loading of item tints and other fields since atoi caps at 2147483647

Author: KayenEQ
Date:   Sun Nov 23 20:48:07 2014 -0500

    Fix for target type 39 GroupNoPets.
    Should no longer take hold on a pet if your targeting it when
    casting spell.

Author: bwilliams
Date:   Sun Nov 23 20:36:19 2014 -0500

    rollback mob.h with formatting changes

Author: bwilliams
Date:   Sun Nov 23 20:33:00 2014 -0500

    undo last changes and reformat only.

Author: KayenEQ
Date:   Sun Nov 23 20:19:54 2014 -0500

    Fix for numhits counter being decreased 2x for Outgoing Hit Success from client melee attacks.

Author: bwilliams
Date:   Sun Nov 23 20:16:59 2014 -0500

    reformatted spells.cpp. refactored reagent code for bard instruments, pet reagents and pet focus items. This splits the loop for focus items and consumable components so that Greater Conjuration: pets do not require their associated elemental mastery staff. This happens because the second component is -1 and the second focus item is the staff in the db.

Author: Akkadius
Date:   Sun Nov 23 17:49:56 2014 -0600

    More load and delete changes for corpses

Author: Cavedude
Date:   Sun Nov 23 15:18:40 2014 -0800

    Fixed Extended Enhancement.
    
    Removed ppdump as it's no longer needed or relevant.
    
    Added walkspeed and runspeed to client #showstats.

Author: Akkadius
Date:   Sun Nov 23 15:55:38 2014 -0600

    Corpses properly loading now

Author: Secrets
Date:   Sun Nov 23 14:18:37 2014 -0500

    Removed some Mutex locks that were locking the inbound thread when processing outgoing packets. In theory you should lock the inbound and outbound queues when sending/receiving data... may experiment with that later. It's what the EQ client does.

Author: Secrets
Date:   Sun Nov 23 05:43:41 2014 -0500

    ACK sequence fixes. Should now persist if it rolls over past 65535.

Author: Akkadius
Date:   Sun Nov 23 01:04:50 2014 -0600

    ...

Author: Akkadius
Date:   Sat Nov 22 23:28:20 2014 -0600

    More restructures, non-working state

Author: Cavedude
Date:   Sat Nov 22 19:28:03 2014 -0800

    Changed the item focus code slightly to hopefully make it work better, and to put in a stop gap to prevent Godzilla pets until I can fix it (I can now replicate it locally.) In the event that a godzilla pet still does spawn, there will be a message in yellow sent to the client for all focus pets. Please post that message on the forums. You do not need to post the message if your pet spawns normally :)

Author: Akkadius
Date:   Sat Nov 22 18:43:23 2014 -0600

    Changing corpse loading structure

Author: Akkadius
Date:   Sat Nov 22 17:55:48 2014 -0600

    Moved zonedatabase functions out of corpse.cpp
    Conversion portion mostly complete
    Some header readability cleanup
    Some function renaming
    Struct renaming
    Many variable renaming
    MySQL error log for all of QueryDatabase
    Corpse table renaming
    Corpse table field renaming
    Most corpse database functions redone

Author: Cavedude
Date:   Sat Nov 22 10:55:38 2014 -0800

    Removed the various Intel duplicate packet workarounds since it appears the de-syncs have been fixed.

Author: Trevius
Date:   Sat Nov 22 12:53:49 2014 -0600

    Crash fix for Swarm Pets.

Author: KLS
Date:   Sat Nov 22 03:20:39 2014 -0800

    Lua parser: script_init.lua for zones will now follow script_init_v[0-9]+\.lua similar to player quests.

Author: Trevius
Date:   Sat Nov 22 00:22:12 2014 -0600

    Grouping with Mercenaries is considerably less buggy.

Author: Cavedude
Date:   Fri Nov 21 21:43:18 2014 -0800

    Implemented penalties if your character goes too long without food and/or water. (After 1.5 to 3.5 hours without either you will stop regenerating health, mana, and endurance and your endurance will slowly drop to 0 causing -10 to some stats.)
    
    The above change forced me to correct endurance updates.
    
    Changed the way food bonuses and penalties in regards of consumption are handled also due to the first change.
    
    Removed the OP_Stamina encode.
    
    REQUIRED SQL:
    utils\sql\git\required\2014_11_21_food.sql

Author: Mackal
Date:   Fri Nov 21 22:50:08 2014 -0500

    Fix issue with PendingTranslocateData

Author: Cavedude
Date:   Fri Nov 21 13:18:13 2014 -0800

    Bind wound should work properly now.

Author: Secrets
Date:   Thu Nov 20 18:58:43 2014 -0500

    Mac clients are picky about 0xFFFF as an opcode :X

Author: Secrets
Date:   Thu Nov 20 13:11:37 2014 -0500

    why does windows even allow this? :/

Author: Secrets
Date:   Thu Nov 20 13:01:37 2014 -0500

    linux fix?

Author: Secrets
Date:   Thu Nov 20 12:45:48 2014 -0500

    Netcode overhaul. Break all the things!
    
    If this works you can thank Shards of Dalaya for being generous enough to allow me to use some of their old networking code for the new framework. Generally, it's the same though.

Author: KayenEQ
Date:   Thu Nov 20 05:53:59 2014 -0500

    Fix to remove double CastSpell calls from use disc function.

Author: KayenEQ
Date:   Thu Nov 20 05:05:15 2014 -0500

    revert

Author: Mackal
Date:   Thu Nov 20 01:10:24 2014 -0500

    Fix RoF Raid opcodes

Author: Arthur Ice
Date:   Wed Nov 19 21:22:37 2014 -0800

    warning from library file SocketLib\Mime.cpp disabled

Author: Arthur Ice
Date:   Wed Nov 19 21:01:57 2014 -0800

    luabind now compiles with warnings disabled for this library

Author: Trevius
Date:   Wed Nov 19 22:52:49 2014 -0600

    Minor Merc Correction.

Author: Trevius
Date:   Wed Nov 19 22:46:15 2014 -0600

    Mercenaries now Dismiss, Suspend, Unsuspend, and Die correctly.

Author: Trevius
Date:   Wed Nov 19 22:43:19 2014 -0600

    Mercenaries now Dismiss, Suspend, Unsuspend, and Die correctly.

Author: Cavedude
Date:   Wed Nov 19 18:02:59 2014 -0800

    Fixed a client crash created by a merge from EQEmu.
    
    Merchants will no longer give you a price for NoDrop items.

Author: bwilliams
Date:   Wed Nov 19 18:10:25 2014 -0500

    updated one of the duplicate 6361's to be 6360 (Broom of Trilon) which was missing.

Author: Leere
Date:   Wed Nov 19 09:40:08 2014 +0100

    Fix for GetTradeRecipe results variable overload instead of reuse

Author: Mackal
Date:   Wed Nov 19 15:00:09 2014 -0500

    Add see invis check to tracking packet

Author: Cavedude
Date:   Wed Nov 19 11:35:26 2014 -0800

    Food and drink consumption should be more accurate now.
    
    Identified the last unknowns in the spawn struct.
    
    Removed some irrelevant code in inventory.cpp due to an EQEmu merge.

Author: Akkadius
Date:   Wed Nov 19 02:40:33 2014 -0600

    PEQ AA Download option 4 implemented - http://i.imgur.com/OBrIOCM.png

Author: Leere
Date:   Wed Nov 19 09:40:08 2014 +0100

    Fix for GetTradeRecipe results variable overload instead of reuse

Author: Akkadius
Date:   Wed Nov 19 02:30:59 2014 -0600

    Upload of peq_aa_tables.sql for db management interface

Author: Akkadius
Date:   Wed Nov 19 02:16:48 2014 -0600

    Slight fixes to upgrade logic - If you ran updates manually yourself, and you don't have a local version that matches the binary version yet. It will go through and get you up to date.
    Manifest changes - Removed AA 'Required' updates. We will soon have an option to pull them down from PEQ in the prompt menu

Author: KayenEQ
Date:   Wed Nov 19 00:39:42 2014 -0500

    Fix to allow discipline reuse timers to be set on client correclty
    and therefore have the client return the time remaining instead
    of the server.
    
    Hopefully may resolve some bugs reselated to discipline use.

Author: KLS
Date:   Tue Nov 18 21:00:59 2014 -0800

    Added special ability functions to perl, removed some of the less used commands (and a few duplicates)

Author: KLS
Date:   Tue Nov 18 21:12:48 2014 -0800

    Fixed merge

Author: Secrets
Date:   Tue Nov 18 20:18:48 2014 -0500

    Changed optest to a flooding test command.
    More netcode fixes to help prevent random linkdeath.

Author: Trevius
Date:   Tue Nov 18 17:32:59 2014 -0600

    Fixed bad formatting of client.h and merc.h caused by my last commit.

Author: Cavedude
Date:   Tue Nov 18 12:12:40 2014 -0800

    (GMs) If #hideme is on, lower GMs can no longer summon you.

Author: Cavedude
Date:   Tue Nov 18 11:04:53 2014 -0800

    Removed unknown strings caused by flame lick.

Author: Secrets
Date:   Tue Nov 18 03:11:42 2014 -0500

    Fixed an issue where the packet's ack flags were set incorrectly, this should eliminate the random LD from earlier

Author: Trevius
Date:   Tue Nov 18 01:02:11 2014 -0600

    Trevius: Mercenaries can now zone once again.

Author: Mackal
Date:   Mon Nov 17 16:41:37 2014 -0500

    Correct OP_AugmentInfo reply
    
    This fixes the display issue for RoF
    SoF/SoD/UF still won't show the charm info on Adventurer's Stone,
    probably a client bug.

Author: Secrets
Date:   Mon Nov 17 03:55:01 2014 -0500

    More EQStream fixes, hopefully a fix for random linkdeath?

Author: Akkadius
Date:   Sun Nov 16 21:37:47 2014 -0600

    Fix for invalid input error when script is ran from world during bootup.

Author: Akkadius
Date:   Sun Nov 16 21:22:09 2014 -0600

    Turn off potential warning garbage for different versions of perl

Author: Akkadius
Date:   Sun Nov 16 21:00:19 2014 -0600

    db_update.pl DB upgrade script - Linux Fixes

Author: Cavedude
Date:   Sun Nov 16 17:37:20 2014 -0800

    Old faces will now work properly. This does not affect already existing characters, but you can switch to new models, use /face to change your face, then switch back to old. The column in the DB is the same for both.

Author: Akkadius
Date:   Sun Nov 16 19:26:59 2014 -0600

    Implemented Automatic Database update and versioning system
    Created database revision define, this is located in version.h in common #define CURRENT_BINARY_DATABASE_VERSION 9057
            - This revision define will need to be incremented each time a database update is made
            - Along with a revision define increment, you will need to update the db_update manifest located in:
                    - https://raw.githubusercontent.com/EQEmu/Server/master/utils/sql/db_update_manifest.txt
                    - An entry needs to be made at the bottom of the manifest, the entry is quite simple
                    - Example: 9057|2014_11_13_spells_new_updates.sql|SHOW COLUMNS FROM `spells_new` LIKE 'disallow_sit'|empty|
                            - This latest example is checking to see if the spells_new table contains the column 'disallow_sit', if its empty, the update needs to be ran
                                    - More examples of match types below:
                    # Example: Version|Filename.sql|Query_to_Check_Condition_For_Needed_Update|match type|text to match
                    #       0 = Database Version
                    #       1 = Filename.sql
                    #       2 = Query_to_Check_Condition_For_Needed_Update
                    #       3 = Match Type - If condition from match type to Value 4 is true, update will flag for needing to be ran
                    #               contains = If query results contains text from 4th value
                    #               match = If query results matches text from 4th value
                    #               missing = If query result is missing text from 4th value
                    #               empty = If the query results in no results
                    #               not_empty = If the query is not empty
                    #       4 = Text to match
            - The manifest contains all database updates 'Required' to be made to the schema, and it will contain a working backport all the way back to SVN -
                    currently it is tested and backported through the beginning of our Github repo
            - On world bootup or standalone run of db_update.pl, users will be prompted with a simple menu that we will expand upon later:
    
                    ============================================================
                               EQEmu: Automatic Database Upgrade Check
                    ============================================================
                                    Operating System is: MSWin32
                                    (Windows) MySQL is in system path
                                    Path = C:\Program Files\MariaDB 10.0\bin/mysql
                    ============================================================
                                    Binary Database Version: (9057)
                                    Local Database Version: (9057)
    
                                    Database up to Date: Continuing World Bootup...
                    ============================================================
                    Retrieving latest database manifest...
            URL:    https://raw.githubusercontent.com/EQEmu/Server/master/utils/sql/db_update_manifest.txt
            Saved:  db_update/db_update_manifest.txt
    
    Database Management Menu (Please Select):
            1) Backup Database - (Saves to Backups folder)
                    Ideal to perform before performing updates
            2) Backup Database Compressed - (Saves to Backups folder)
                    Ideal to perform before performing updates
            3) Check for pending Database updates
                    Stages updates for automatic upgrade...
            0) Exit
    
    Created db_update.pl, placed in utils/scripts folder, used for the automatic database update routine (Linux/Windows)
            - db_update.pl script created db_version table if not created, if old one is present it will remove it
    Created db_dumper.pl, placed in utils/scripts folder, used for the automatic database update routine backups and standalone backups (Linux/Windows)
    World will now check the db_update.pl script on bootup, if the db_update.pl script is not present, it will fetch it remotely before running -
            when db_update.pl is done running, world will continue with bootup
    world.exe db_version - will report database binary version

Author: Akkadius
Date:   Sun Nov 16 19:04:33 2014 -0600

    db_update.pl update

Author: Akkadius
Date:   Sun Nov 16 18:32:13 2014 -0600

    SQL Source update fixes for newer DB versions

Author: Akkadius
Date:   Sun Nov 16 18:17:04 2014 -0600

    db_update.pl update
    db_update_manifest.txt update
    2014_09_20_ban_messages.sql fix for non PEQ account tables missing expansion column

Author: JJ
Date:   Sun Nov 16 19:04:15 2014 -0500

    Temp merchant items could duplicate slots also...

Author: Akkadius
Date:   Sun Nov 16 17:48:50 2014 -0600

    Special Abilities column fix for older updates and newer database engines for the automatic database updater.
    db_update.pl changes
    Manifest update

Author: Mackal
Date:   Sun Nov 16 17:42:15 2014 -0500

    Fix issue with ControlBoat_Struct and OP_BoardBoat

Author: Cavedude
Date:   Sun Nov 16 11:59:51 2014 -0800

    Invisible/hidden NPCs will no longer show on track.
    
    Removed track packet creation since our client does not require it.
    
    "trackable" column in npc_types if set to false will now make the NPC invisible and will not show on track. I have not figured out a way to make a visible NPC untrackable. I am not sure if it is possible.
    
    Removed some destructible object code and the track rules since they don't actually do anything.

Author: Robregen
Date:   Sun Nov 16 10:57:09 2014 -0800

    fixed tradeskill modifier from previous commit.

Author: bwilliams
Date:   Sun Nov 16 11:24:16 2014 -0500

    fixed bug in reagent check.
    The focus component check is for spells like Flame Lick that require a fire beetle eye.
    However this should be bypassed if the focus component is for a pet, since you don't need the focus item to cast a pet.
    the flaw in the original logic was that !petfocuscomponent was causing the logical condition to be false for all pet casts which negated the need for a reagent.

Author: bwilliams
Date:   Sun Nov 16 09:46:01 2014 -0500

    mobs will now face their target while rooted when their movement timer is up.

Author: KayenEQ
Date:   Sun Nov 16 09:37:26 2014 -0500

    Fix for perl CastSpell function so it will use a spells innate resist diff
    settings if no override value is put in the function.
    
    Due to recent changes in
    how we defined that variable it would set it to 0 resist diff by default
    when called from perl.

Author: bwilliams
Date:   Sun Nov 16 08:34:47 2014 -0500

    fix bug where lesser movement speed debuffs wouldn't remove movement speed buffs with greater absolute values

Author: Akkadius
Date:   Sun Nov 16 05:31:19 2014 -0600

    db_update.pl changes

Author: Akkadius
Date:   Sun Nov 16 05:09:58 2014 -0600

    Manifest changes, initial db_update script upload. Source changes on its way.

Author: sSpeedz
Date:   Sun Nov 16 02:52:31 2014 -0800

    * Tradeskill adjustments

Author: KayenEQ
Date:   Sun Nov 16 05:46:46 2014 -0500

    SUB EVENT CAST ON will now be parsed in player.pl
    (note: exports $spell_id)

Author: Akkadius
Date:   Sun Nov 16 00:10:09 2014 -0600

    Manifest update, removal of duplicate AA SQL update file

Author: Akkadius
Date:   Sat Nov 15 23:29:37 2014 -0600

    Uploading utility script db_dumper.pl - Cross platform database dumper utility that supports compression
    
    ############################################################
    #::: Script: DB_Dumper.pl
    #::: Purpose: Utility to easily manage database backups and compress.
    #:::    Export Individual DB Tables...
    #:::    Export specific databases...
    #:::    Built for both Windows and Linux
    #::: Windows uses WinRar or 7-Zip for compression
    #::: Linux uses tar for compression
    #::: Author: Akkadius
    ############################################################

Author: KayenEQ
Date:   Sat Nov 15 23:42:10 2014 -0500

    i hate the change log

Author: KayenEQ
Date:   Sat Nov 15 23:40:13 2014 -0500

    Implemented NPC Special Ability 41 'Allow To Tank', gives NPC opportunity to take aggro over a client in melee range.

Author: Uleat
Date:   Sat Nov 15 23:16:24 2014 -0500

    Non-buggy fix for OP_ShopPlayerBuy (thanks Natedog!)

Author: KayenEQ
Date:   Sat Nov 15 23:01:26 2014 -0500

    Updated swarm pet AI to be consistent with live.
    
    *OLD AI: Swarm pet would lock on to target until target died, then depop as soon as target died.
    
    *NEW AI: Swarm pet will attack cast on target, NOT perma locked it can change targets if attacked
    by something else that generate more hate. When target dies swarm pet will follow owner, if owner is
    attacked by something else the swarm pet will attack it (until duration timer despawns the pet).
    
    Updated perl quest function: MakeTempPet(Tspell_id, name=nullptr, duration=0, target=nullptr, sticktarg=0)
    Implemented perl quest function:  Mob::TypesTempPet(npctypesid, name=nullptr, duration=0, follow=0, target=nullptr, sticktarg=0)
    Note: 'sticktarg' field will cause the swarm pet to use the OLD AI
    
    Rule to use OLD AI only - default is disabled.
    Optional SQL: utils/sql/git/optional/2014_11_15_SwarmPetTargetLock.sql

Author: Akkadius
Date:   Sat Nov 15 21:53:33 2014 -0600

    Initial upload of db_update_manifest.txt

Author: Cavedude
Date:   Sat Nov 15 19:27:28 2014 -0800

    Added Trackable to #showstats

Author: bwilliams
Date:   Sat Nov 15 17:54:06 2014 -0500

    movement speed debuffs will replace any movement speed buff. movement speed buffs cannot remove movement speed debuffs. fixed issue with dispell where you cannot dispell yourself out of a group.

Author: Cavedude
Date:   Sat Nov 15 11:12:59 2014 -0800

    Revert "Tracking default order should now be correct"
    

Author: Cavedude
Date:   Sat Nov 15 11:08:58 2014 -0800

    More duplicate packet repression. (This packet was sent 40 times in a row locally this morning, it nearly LDed my PC client.)

Author: Mackal
Date:   Sat Nov 15 01:01:57 2014 -0500

    Remove scaling hack for client 62 (untested)

Author: Mackal
Date:   Sat Nov 15 01:00:38 2014 -0500

    Remove scaling hack for SoD

Author: Mackal
Date:   Sat Nov 15 00:54:21 2014 -0500

    Remove scaling hack for SoF

Author: Mackal
Date:   Sat Nov 15 00:29:56 2014 -0500

    Remove scaling hack for Titanium

Author: Mackal
Date:   Sat Nov 15 00:08:16 2014 -0500

    Also stop using hack on UF

Author: Mackal
Date:   Fri Nov 14 23:45:56 2014 -0500

    Correct charm scaling for RoF
    
    Other clients should actually work the same as well

Author: Secrets
Date:   Fri Nov 14 18:29:30 2014 -0500

    I accidentally the whole Uleat

Author: Secrets
Date:   Fri Nov 14 18:22:06 2014 -0500

    Identified object size and solidtype as flags. Exported them as functions to Perl.

Author: Uleat
Date:   Fri Nov 14 17:57:55 2014 -0500

    Updated #peekinv to use MakeItemLink (per Natedog's suggestion)

Author: Cavedude
Date:   Fri Nov 14 12:40:11 2014 -0800

    Fixed an issue with items being sent on the cursor using the wrong packet type.

Author: Cavedude
Date:   Fri Nov 14 10:34:54 2014 -0800

    NPC walkspeed is now pulled from the DB instead of being derived from runspeed. I changed boats walkspeed in the DB so they are not broken again for now.
    
    Client walk and runspeed should now be correct. Character:BaseRunSpeed rule should be 0.7, and Character:BaseWalkSpeed rule should be 0.46.

Author: Cavedude
Date:   Fri Nov 14 08:23:04 2014 -0800

    Added the two boat PP fields to character_data. (SQL 2014_11_13_boats.sql is REQUIRED.)
    
    Conversion from the old BLOB format now handles these added columns automagically.
    
    Properly implemented the mac client version system without touching the DB.
    
    Added new Unused client to clientversions and eq_dictionary. My next longterm project is to add basic Trilogy support, at least for reference.
    
    Changed the #cvs command to report our clients instead of EQEmu's
    
    Used new MacIntel bit to exclude other clients from being affected by the Intel client's crude duplicate packet workaround.
    
    Removed some versioning code which was preventing LogServer from being sent to clients properly.
    
    Some code cleanup and removal.

Author: KayenEQ
Date:   Fri Nov 14 00:34:17 2014 -0500

    fix

Author: KayenEQ
Date:   Fri Nov 14 00:26:14 2014 -0500

    add

Author: KayenEQ
Date:   Fri Nov 14 00:23:26 2014 -0500

    Support for spell field to determine if a spell can be blocked or not.
    Numerous other spell fields defined.
    
    Required sql added for updating spells_new field definations.

Author: KayenEQ
Date:   Thu Nov 13 21:45:19 2014 -0500

    Spell field defined that determines if must be sneaking to use this ability.
    This is handled by client under normal conditions, however if you
    force cast this effect in situations like 'procs' you can cause
    zone crashes, therefore a failsafe check is added in 'SpellOnTarget'

Author: Uleat
Date:   Thu Nov 13 13:17:29 2014 -0500

    Added exclusion check for PlayerLogMerchantTransactions partial stack purchase logging

Author: KayenEQ
Date:   Thu Nov 13 06:00:01 2014 -0500

    Further support for spell field 'aemaxtargets'

Author: KayenEQ
Date:   Thu Nov 13 05:19:01 2014 -0500

    Support for all remaining known spell target types.
    Implemented target type (32) AE Target HateList
    Implemented target type (36) Area Client Only
    Implemented target type (37) Area PC Only
    Implemented target type (39) Group No Pet

Author: KayenEQ
Date:   Thu Nov 13 02:46:22 2014 -0500

    Implemented target type (50) which excludes players pets from target AE's.

Author: KayenEQ
Date:   Thu Nov 13 02:25:18 2014 -0500

    Implemented target type (44) 'Beams' (which projects an AE infront of caster with a specified length and width).
    Clean up of target type direction code, implemented use of aemaxtargets field for it.

Author: Uleat
Date:   Wed Nov 12 23:41:38 2014 -0500

    Added remarked #pragma comments around the OPGMTraining problem code (more for a reminder..but, can be enabled if you are having crash issues involving the for-loop)

Author: Secrets
Date:   Wed Nov 12 23:08:53 2014 -0500

    Duel Struct change to avoid needing an encode

Author: JJ
Date:   Wed Nov 12 19:50:53 2014 -0500

    Not an error if there isn't merchant data to load...

Author: Uleat
Date:   Wed Nov 12 18:17:03 2014 -0500

    Updated 'GMTrainee' structs to reflect the proper size of skills (100)

Author: Robregen
Date:   Wed Nov 12 13:42:02 2014 -0800

    more clean ups from merge.

Author: Cavedude
Date:   Wed Nov 12 12:48:40 2014 -0800

    Merge clean up.

Author: Cavedude
Date:   Wed Nov 12 11:29:10 2014 -0800

    Fixed npc_types_tint not being loaded properly.

Author: Robregen
Date:   Wed Nov 12 10:11:06 2014 -0800

    revert gate from previous commit.  Still droppign you in random places.

Author: KayenEQ
Date:   Wed Nov 12 02:03:24 2014 -0500

    code fix

Author: KayenEQ
Date:   Wed Nov 12 01:54:21 2014 -0500

    Added a simple check to prevent DoEnduranceUpkeep (1 sec persistent timer)
    from constantly checking when client has no endurance drain effects.
    This was running 24/7 for all classes.

Author: Uleat
Date:   Tue Nov 11 18:01:21 2014 -0500

    Removed type qualifier for SkillUseTypes enum

Author: Uleat
Date:   Tue Nov 11 00:11:44 2014 -0500

    Real fix for GM trainer crash..evidently the problem went deeper than an undefined condition...

Author: JJ
Date:   Mon Nov 10 22:11:23 2014 -0500

    Yellow faction messages.

Author: Uleat
Date:   Mon Nov 10 21:41:39 2014 -0500

    Fix for GM Trainer crashing server (undefined behavior on enum cast)

Author: JJ
Date:   Mon Nov 10 10:52:17 2014 -0500

    Fix changelog. [skip ci]

Author: KayenEQ
Date:   Mon Nov 10 10:11:29 2014 -0500

    Implemented support for using target rings from item clicks.
    (Thanks again to Lecht for the help)

Author: JJ
Date:   Mon Nov 10 10:00:53 2014 -0500

    Manual merge of TargetRing pull request #286.

Author: JJ
Date:   Sun Nov 9 23:54:01 2014 -0500

    Implement new Live-like faction adjustment message through optional rule.

Author: KayenEQ
Date:   Sun Nov 9 22:37:12 2014 -0500

    Implemented spell Target Type (45) 'Target Rings' on Underfoot.
    Thanks to Lecht for figuring out op code side of it.

Author: Robregen
Date:   Sun Nov 9 15:50:35 2014 -0800

    readjust hp_regen  (again)

Author: Robregen
Date:   Sun Nov 9 15:19:43 2014 -0800

    Gate should no longer zone you if you are in the same zone.

Author: Arthur Ice
Date:   Sun Nov 9 15:12:31 2014 -0800

    Removed two unused functions

Author: Secrets
Date:   Sun Nov 9 03:40:33 2014 -0500

    Indentation fix. Ornamentation Augments are integrated now.

Author: Natedog
Date:   Sat Nov 8 21:29:14 2014 -0800

    fix for copy paste error that linux didnt like

Author: Natedog
Date:   Sat Nov 8 21:11:21 2014 -0800

    Implement RoF + UF ornament augmentation.. thanks for the help Drajor!

Author: KLS
Date:   Sat Nov 8 15:22:54 2014 -0800

    Missed the actual sql

Author: KLS
Date:   Sat Nov 8 15:22:03 2014 -0800

    Added transactions for corpse creation, added sql to fix a bug in raid member saving in some situations, fixed a bug in encounters

Author: KayenEQ
Date:   Sat Nov 8 02:07:05 2014 -0500

    Mez spells will no longer attempt memblur each tic, just on initial cast.
    reverted change to calcmaxhp due to potential overflow issues.

Author: Robregen
Date:   Fri Nov 7 13:48:35 2014 -0800

    an attempt to fix the server select bug.

Author: Trevius
Date:   Thu Nov 6 21:41:51 2014 -0600

    Fixed dynamic merchant list loading.  Allows any merchant to be used in any zone.

Author: Mackal
Date:   Thu Nov 6 21:48:07 2014 -0500

    Tracking default order should now be correct
    
    Reworked the tracking packet creation, should be better

Author: KayenEQ
Date:   Thu Nov 6 21:00:03 2014 -0500

    Fix for CalcMaxHP

Author: Robregen
Date:   Thu Nov 6 16:46:00 2014 -0800

    forgot to include an opcode for banner.

Author: Robregen
Date:   Thu Nov 6 16:43:12 2014 -0800

    implemented Banner for our LoginServer list.
    readjusted the hp regen.

Author: Secrets
Date:   Thu Nov 6 03:12:55 2014 -0500

    More netcode fixes. Seems a TON better.

Author: KayenEQ
Date:   Thu Nov 6 01:30:05 2014 -0500

    Fix to SE_PercentHeal to allow it to work if no max value set.

Author: Robregen
Date:   Wed Nov 5 15:23:48 2014 -0800

    remove the #ifndef weapon option

Author: Secrets
Date:   Wed Nov 5 03:15:37 2014 -0500

    At this point i'm trying anything, really, to fix the netcode issues :/

Author: KLS
Date:   Tue Nov 4 21:01:20 2014 -0800

    Small changes to encounter stuff

Author: Secrets
Date:   Mon Nov 3 23:01:55 2014 -0500

    Linux fix.

Author: Secrets
Date:   Mon Nov 3 22:43:00 2014 -0500

    int16/32 mismatch fixes. see changelog.txt

Author: Secrets
Date:   Mon Nov 3 19:30:41 2014 -0500

    Merc/bot fix changelog.txt

Author: Secrets
Date:   Mon Nov 3 19:30:11 2014 -0500

    because fuck you mercs and bots

Author: Secrets
Date:   Mon Nov 3 19:14:58 2014 -0500

    Fixed overflow on AC and ATK values that can go out of range.

Author: Secrets
Date:   Mon Nov 3 16:47:26 2014 -0500

    changelog.txt

Author: Secrets
Date:   Mon Nov 3 16:45:36 2014 -0500

    Fixed melee lifetap overflows - Because being healed for uint16s is not cool.

Author: Robregen
Date:   Mon Nov 3 12:17:38 2014 -0800

    Fixed the error item desynced error and revert the unneeded instance perl export.

Author: sSpeedz
Date:   Mon Nov 3 11:04:38 2014 -0800

    *Removed newlines from WORLD__ZONE log entries. It made the logs obnoxious to scroll through.

Author: JJ
Date:   Mon Nov 3 12:35:07 2014 -0500

    Make output of GetCharactersInInstance for perl more user-friendly.

Author: Robregen
Date:   Sun Nov 2 23:56:50 2014 -0800

    replace PlayerPositionUpdateServer_Struct / PlayerPositionUpdateClient_Struct with SpawnPositionUpdate_Struct.
    it seems to stop characters from bouncing / jumpy when not moving.

Author: Akkadius
Date:   Sun Nov 2 22:43:08 2014 -0600

    Weird text characters making it into commit

Author: Akkadius
Date:   Sun Nov 2 22:37:16 2014 -0600

    Tell queue sanity checks

Author: Akkadius
Date:   Sun Nov 2 22:30:29 2014 -0600

    Cleaner way to handle out of range and swaps

Author: Akkadius
Date:   Sun Nov 2 21:16:04 2014 -0600

    Added out of range checking for Spell Save/Loads

Author: JJ
Date:   Sun Nov 2 20:43:47 2014 -0500

    Export of additional instance functions to perl as per #128.
    Change QuestManager RemoveAllFromInstance function to use existing function to remove all clients from instance.

Author: KayenEQ
Date:   Sun Nov 2 20:14:44 2014 -0500

    Minor code and compiler warning fixes.

Author: Mackal
Date:   Sun Nov 2 18:50:02 2014 -0500

    Size check on ServerOP_ChannelMessage

Author: KayenEQ
Date:   Sun Nov 2 18:34:22 2014 -0500

    Revert for checking buffs if virus, a couple of spells don't require a buff.

Author: KayenEQ
Date:   Sun Nov 2 05:35:09 2014 -0500

    Make sure virus is an actual buff before starting timer

Author: KayenEQ
Date:   Sun Nov 2 00:43:01 2014 -0400

    Few more minor compilier warnings and code clean up.

Author: JJ
Date:   Sun Nov 2 00:10:19 2014 -0400

    (RicardoCampos) End looting before zoning.

Author: JJ
Date:   Sat Nov 1 23:27:23 2014 -0400

    Manual merge of new faction system (#256).
    Clean up some personal signatures.

Author: KayenEQ
Date:   Sat Nov 1 20:57:26 2014 -0400

    minor clear up of 2handstaff block effect code.

Author: JJ
Date:   Sat Nov 1 13:37:06 2014 -0400

    Fix for duplicate merchant items when same merchant types are in same spawngroup.

Author: Trevius
Date:   Sat Nov 1 11:50:55 2014 -0500

    Fixed potential crash related to Pets/Mercs buffs when targeting themselves.

Author: KLS
Date:   Fri Oct 31 22:09:09 2014 -0700

    Small bug fixes with encounters, also added eq.load_encounter_with_data(encounter_name, data_string) and unload as well.  Allows you to send a message via the encounter system load

Author: KayenEQ
Date:   Fri Oct 31 22:40:49 2014 -0400

    Fixed most of the compiler warnings and cleaned up some code in spells_effects.cpp

Author: KayenEQ
Date:   Fri Oct 31 21:47:07 2014 -0400

    merge

Author: Mackal
Date:   Fri Oct 31 00:02:05 2014 -0400

    Allow to set/del qglobals in encounters scripts

Author: KLS
Date:   Thu Oct 30 19:38:13 2014 -0700

    Fixed SQL to be current date, also it will no longer rely on a field that we removed from the db [skip ci]

Author: Mackal
Date:   Thu Oct 30 22:08:45 2014 -0400

    Fix error with commit

Author: KayenEQ
Date:   Thu Oct 30 21:40:46 2014 -0400

    fix

Author: KayenEQ
Date:   Thu Oct 30 21:22:53 2014 -0400

    code optimization

Author: sSpeedz
Date:   Thu Oct 30 03:14:55 2014 -0700

    *Adjusted string max lengths for user/password to avoid a horrible crash.

Author: sSpeedz
Date:   Thu Oct 30 02:24:44 2014 -0700

    * Removed unneeded minilogin code.
    * Updated the server web tool.
    * Fixed a couple numerical values to reflect min/max name and password limits.
    * Added some extra character creation name based debugging messages to narrow down what the issue might be with name based crashes on OSX.
    * Will need to dev test this prior to applying to TAKP. Need to make sure OSX can log in correctly as PC was tested to be fine.

Author: Uleat
Date:   Tue Oct 28 11:35:26 2014 -0400

    Added Client::InterrogateInventory() and command #interrogateinv to manually invoke it. (GM's - use #interrogateinv help)

Author: Robregen
Date:   Mon Oct 27 15:51:05 2014 -0700

    changed hp_regen for npc with default db setting at 0.

Author: KayenEQ
Date:   Mon Oct 27 02:20:25 2014 -0400

    Added swarm pet checks to viral spreading function.

Author: KayenEQ
Date:   Sun Oct 26 02:05:36 2014 -0400

    Support for spells_new field 'viral_range'

Author: Robregen
Date:   Sat Oct 25 19:06:39 2014 -0700

    revert the MAX_HEADER_SIZE back to 18.

Author: bwilliams
Date:   Sat Oct 25 20:44:24 2014 -0400

    Placer's tweaks to Tradeskill skillups. He wants this on the DEV box so he can do more testing. I just did a fletching skillup to make sure it didn't crash

Author: bwilliams
Date:   Sat Oct 25 20:10:01 2014 -0400

    IVU IVA and Hide will now break charm. refactored the charm fade and pet depop logic

Author: Robregen
Date:   Sat Oct 25 13:44:37 2014 -0700

    implement the warning item lost and exp lost message when gaining the level that are set in rule sys.

Author: KayenEQ
Date:   Fri Oct 24 23:36:02 2014 -0400

    Added 'hit chance' extra attack option can be applied to future special attacks ect.

Author: Robregen
Date:   Fri Oct 24 19:24:34 2014 -0700

    changed the settings to match the code for our era instead of the eqc era.

Author: KLS
Date:   Fri Oct 24 19:05:04 2014 -0700

    Fix for not loading some account data on character load

Author: bwilliams
Date:   Fri Oct 24 21:43:09 2014 -0400

    moved CheckIncreaseSKill so picklock can only be increased on doors you have skill to open and only when the door is opened.

Author: Mackal
Date:   Fri Oct 24 01:05:22 2014 -0400

    Optional SQL to add AA Quick Draw

Author: Uleat
Date:   Wed Oct 22 22:57:20 2014 -0400

    Fixed stacking issue in world tradeskill containers. (Added #peekinv world)

Author: Mackal
Date:   Wed Oct 22 22:27:51 2014 -0400

    Take into account endurance bonuses from AAs

Author: Robregen
Date:   Wed Oct 22 13:55:48 2014 -0700

    removed the whoall message regarding to debugging.

Author: RicardoCampos
Date:   Tue Oct 21 22:48:42 2014 +0100

    Bugfix: Corpse stays locked when looting fails
    
    If looting fails either because of cooldown or there are items on your
    cursor, the client is sent an end loot packet- the client releases the
    corpse but no one else can loot. This simply resets BeingLootedBy in
    this instance.

Author: KayenEQ
Date:   Tue Oct 21 14:24:25 2014 -0400

    Small update to prior commit.

Author: KayenEQ
Date:   Tue Oct 21 14:14:35 2014 -0400

    Fix for bug with Discipline recast timers preventing them from
    working properly if you used a focus effect to reduce recast time
    to zero.
    
    (Specifically the recast timer failed to reset in the situation
    where you had already used the disc WIHTOUT the focus applied, then applied
    the focus and tried to have it reduced).

Author: KayenEQ
Date:   Mon Oct 20 01:16:08 2014 -0400

    Fix so NPC don't ghost when casting spells from scripts while moving.

Author: Mackal
Date:   Mon Oct 20 01:05:08 2014 -0400

    Inspect buffs rank 1 will now show NPC buffs in target window (SoD+)

Author: KayenEQ
Date:   Mon Oct 20 00:36:13 2014 -0400

    Allow npc_types field 'special_abilities' to be set as null in database.
    Changed due to issues when trying to copy npcs or remove abilities from
    the field directly in the dataabase.

Author: Uleat
Date:   Sun Oct 19 22:30:45 2014 -0400

    Missed one!

Author: Mackal
Date:   Sun Oct 19 22:30:11 2014 -0400

    Switch Inspect Buffs to use the OP code
    
    Client 6.2 is SOL until someone find the op for that client

Author: Mackal
Date:   Sun Oct 19 18:34:43 2014 -0400

    Implement Group Inspect Buffs for raids

Author: Mackal
Date:   Sun Oct 19 17:20:07 2014 -0400

    Implement group mentoring while in raids (SoF+ only)
    
    Note: This does not allow the raid leader to share raid leader XP
    and since the raid leader doesn't gain group leadership, they can't
    share that either.

Author: Uleat
Date:   Sun Oct 19 15:03:11 2014 -0400

    Fixed server<->corpse translators to reflect what actually needs to be translated (should not have affected anything in the old configuration)

Author: Uleat
Date:   Sun Oct 19 11:39:35 2014 -0400

    Updated #peekinv to display item links properly in RoF clients

Author: Mackal
Date:   Sat Oct 18 13:27:33 2014 -0400

    Enable gaining of group leadership while in raids
    
    Note: raid leaders can only gain raid leadership, so they won't
    ever gain group leadership while leading a raid, even if they don't
    end up gaining group due to the restrictions.
    
    From what I can tell, this should be in line with live

Author: Mackal
Date:   Sat Oct 18 00:17:46 2014 -0400

    Implement group mentor, leadership exp sharing (SoF+ only)
    
    Currently only works in normal groups
    Some decisions: the EXP will be rounded in the favor of the group leader
    No idea how live actually handles it.

Author: Robregen
Date:   Fri Oct 17 20:12:18 2014 -0700

    fixed for item clicky.

Author: Robregen
Date:   Fri Oct 17 19:08:26 2014 -0700

    fix for temp merchant lists not loading correctly

Author: Uleat
Date:   Fri Oct 17 21:04:29 2014 -0400

    Added clarification to 'drop_bots.sql' notes for cases of failed script

Author: Mackal
Date:   Fri Oct 17 15:10:43 2014 -0400

    ndle Leadership with leader change in RaidCommandMoveGroup

Author: Mackal
Date:   Fri Oct 17 15:05:47 2014 -0400

    Handle Leadership with leader change in RaidCommandDisband

Author: Mackal
Date:   Fri Oct 17 01:06:27 2014 -0400

    Fix issue with moving a group leader in a raid
    
    Moving a group leader to the ungrouped section was not correctly
    finding an appropriate new group leader.

Author: Mackal
Date:   Thu Oct 16 19:20:53 2014 -0400

    Fix issue with raidMakeLeader packets

Author: Uleat
Date:   Thu Oct 16 19:16:52 2014 -0400

    Fixed BOTS auto-convert code and load/drop scripts. Added a sql for fixing an existing database that was auto-converted incorrectly (located in ../bots/deprecated)

Author: Mackal
Date:   Thu Oct 16 17:01:06 2014 -0400

    Remove debug statement

Author: Robregen
Date:   Thu Oct 16 10:44:52 2014 -0700

    Revert "Merge branch 'master' of https://github.com/EQEmu/Server"

Author: KLS
Date:   Thu Oct 16 01:16:38 2014 -0700

    Workaround for FreeBSD not having std::to_string

Author: KLS
Date:   Thu Oct 16 01:05:43 2014 -0700

    Removed PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP ifdef, we dont use it anyway and it was failing on FreeBSD gcc49

Author: KLS
Date:   Wed Oct 15 22:15:24 2014 -0700

    Very new versions of gcc appear to have now cleaned up yet another header leaking out

Author: JJ
Date:   Wed Oct 15 22:31:44 2014 -0400

    hateborne: grid assign match fix.

Author: JJ
Date:   Wed Oct 15 22:12:57 2014 -0400

    Manual merge of 4e3826228d43321abec7805f65b6d43d0f04ab06 in #269.

Author: JJ
Date:   Wed Oct 15 22:08:27 2014 -0400

    Manual merge for 0c3e51963b5803d66443e71554d3e06a296805b3 in pull request #269.

Author: Uleat
Date:   Wed Oct 15 07:49:39 2014 -0400

    Updated both load and drop sqls for bots..added a 'deprecated' load for pre-pp blob conversion databases..the auto-conversion code will catch this if the server
    is updated to a newer version. (Had a really nice load script coded..but, the supported version of MySQL doesn't support 'TEMPORARY' procedures, nor commit commands from
    'PREPARE(d)' statements... :( )

Author: Mackal
Date:   Tue Oct 14 22:50:09 2014 -0400

    Optimize EntityList::UnMarkNPC
    
    Going over the group_list is much better than hitting the same group
    up to 5 unnecessary times

Author: Mackal
Date:   Tue Oct 14 17:20:19 2014 -0400

    Correct misidentified OP_MarkNPC (RoF,SoD,SoF,UF) [skip ci]

Author: Mackal
Date:   Tue Oct 14 00:01:51 2014 -0400

    Added some previous unidentified (still unhandled) UF opcodes
    
    Didn't want them to get lost ;)

Author: Mackal
Date:   Mon Oct 13 23:24:25 2014 -0400

    Add debug log to Client::Handle_OP_DoGroupLeadershipAbility

Author: Mackal
Date:   Mon Oct 13 22:55:57 2014 -0400

    Raid Leadership RoF

Author: Mackal
Date:   Mon Oct 13 22:54:57 2014 -0400

    Raid leadership SoD

Author: Mackal
Date:   Mon Oct 13 22:53:41 2014 -0400

    Raid Leadership SoF

Author: Mackal
Date:   Mon Oct 13 21:36:59 2014 -0400

    Partial implementation of leadership in raids
    
    Currently working: stat bonuses and client side only effects
    Currently not working: Mark NPC and others that need more server side work
    
    Currently only tested on UF, Ti and 62 may work, but not tested
    SoF, SoD, and RoF need packet translators, which are most likely the same as UF

Author: KLS
Date:   Mon Oct 13 15:59:11 2014 -0700

    Fix for issue #270, fix for temp merchant lists not loading correctly, fix for ah redundant getadventurestats code.

Author: Akkadius
Date:   Sun Oct 12 22:57:49 2014 -0500

    Fix for LDON Character Stat load

Author: Robregen
Date:   Sat Oct 11 18:05:47 2014 -0700

    fixed the Guildmaster skill level display.

Author: Robregen
Date:   Sat Oct 11 17:40:48 2014 -0700

    fixed the bind start zone.

Author: Mackal
Date:   Sat Oct 11 02:07:49 2014 -0400

    Raid MOTD for SoF

Author: Mackal
Date:   Sat Oct 11 02:03:49 2014 -0400

    Raid MOTD for SoD

Author: Mackal
Date:   Sat Oct 11 01:54:32 2014 -0400

    Raid MOTD for RoF

Author: Mackal
Date:   Sat Oct 11 01:14:11 2014 -0400

    Implement Raid MOTD for UF
    
    Don't forget to source 2014_10_11_RaidMOTD.sql
    
    SoD and RoF implementations still to come

Author: Robregen
Date:   Fri Oct 10 16:17:30 2014 -0700

    changed player position update back originally before merge.

Author: Robregen
Date:   Fri Oct 10 12:05:59 2014 -0700

    remove #ifdef BOTS that got caught in the merge.

Author: Robregen
Date:   Fri Oct 10 11:58:16 2014 -0700

    enable arbituary lift on zoning to alleviate spawning under the world.
    removed a few unneeded load out or era db stuff.

Author: Uleat
Date:   Thu Oct 9 23:54:48 2014 -0400

    Added a 'BOTS' converter to supplement Akkadius's recent 'PP' blob converter - updates views/function to reference the proper tables and columns.

Author: Robregen
Date:   Thu Oct 9 20:53:48 2014 -0700

    player's air remaining should now refresh to full when zoning underwater.

Author: Mackal
Date:   Thu Oct 9 23:30:08 2014 -0400

    Fix issues with purchasing raid AAs

Author: JJ
Date:   Thu Oct 9 23:11:18 2014 -0400

    Establish default order for merchantlist items.
    Allow merchants to use 80th slot.

Author: Mackal
Date:   Thu Oct 9 22:55:28 2014 -0400

    Fix out of bounds error in SaveCharacterLeadershipAAs

Author: Robregen
Date:   Thu Oct 9 11:54:35 2014 -0700

    removed the tutorial and home option code that are not used with our client.

Author: JJ
Date:   Thu Oct 9 00:23:54 2014 -0400

    Update info for #suspend

Author: bwilliams
Date:   Wed Oct 8 21:51:06 2014 -0400

    added checks for dispell to allow it to be casted on anything except players in your group. Added check to not aggro PC pets with dispell unless you can attack the owner.

Author: Arthur Ice
Date:   Wed Oct 8 16:05:52 2014 -0700

    DisableRecipe converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 16:04:19 2014 -0700

    EnableRecipe converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 16:02:30 2014 -0700

    LearnRecipe converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 15:55:12 2014 -0700

    GetTradeRecipe converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 15:43:50 2014 -0700

    GetTradeRecipe converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 15:05:24 2014 -0700

    SendTradeskillDetails converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 15:00:34 2014 -0700

    TradeskillSearchResults converted to const std::string query instead of const *char query

Author: Arthur Ice
Date:   Wed Oct 8 14:41:34 2014 -0700

    removed unneeded querylength parameter from TradeskillSearchResults

Author: Arthur Ice
Date:   Wed Oct 8 14:38:38 2014 -0700

    TradeskillSearchResults converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 14:28:40 2014 -0700

    HandleautoCombine converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 14:15:43 2014 -0700

    LoadProximities converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 14:11:35 2014 -0700

    LoadLists converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 13:33:22 2014 -0700

    RemoveTask converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 13:22:10 2014 -0700

    DeleteCompletedTaskFromDatabase

Author: Arthur Ice
Date:   Wed Oct 8 13:17:03 2014 -0700

    DisableTask converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 13:07:03 2014 -0700

    EnableTask converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 12:30:08 2014 -0700

    LoadClientState converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Oct 8 11:11:33 2014 -0700

    SaveClientState converted to QueryDatabase

Author: Mackal
Date:   Wed Oct 8 13:43:32 2014 -0400

    Allow /setstartcity to work if home is set to tutorialb

Author: Mackal
Date:   Wed Oct 8 03:36:31 2014 -0400

    Implement mana/hp/end replenishments if logged off for long enough
    
    Default set to on with a default time of 6 hours (21600 seconds)

Author: Mackal
Date:   Wed Oct 8 01:28:03 2014 -0400

    Minor clean ups to CheckCharCreateInfo

Author: Mackal
Date:   Wed Oct 8 01:18:38 2014 -0400

    Minor clean ups to Client::OPCharCreate

Author: Mackal
Date:   Tue Oct 7 23:40:13 2014 -0400

    Rework OPCharCreate logic with tutorial flag
    
    Hopefully resolves issues with toons on Titanium spawning out of bounds
    when starting in tutorial.
    
    Resolves setting home bind to tutorial and being out of bounds.

Author: KayenEQ
Date:   Tue Oct 7 22:54:12 2014 -0400

    Fix for a few spell triggers using correct resist dif

Author: Mackal
Date:   Tue Oct 7 19:02:07 2014 -0400

    Fix issue with Return Home button always being available

Author: sSpeedz
Date:   Tue Oct 7 14:58:04 2014 -0700

    * Fix for forage and tradeskill desyncs.

Author: Arthur Ice
Date:   Tue Oct 7 11:56:38 2014 -0700

    LoadTasks converted to QueryDatabase

Author: Robregen
Date:   Tue Oct 7 11:41:53 2014 -0700

    moved eqmac_timer in forage.cpp to forage packet handler in client_packet.cpp.
    added eqmac_timer to tradeskill combine packet handler in client_packet.cpp.

Author: Arthur Ice
Date:   Tue Oct 7 11:36:42 2014 -0700

    LoadTaskSets converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 11:26:03 2014 -0700

    LearnMembers converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 11:21:20 2014 -0700

    GetRaidDetails converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 11:15:45 2014 -0700

    SetRaidDetails converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 11:14:02 2014 -0700

    LockRaid converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 11:10:27 2014 -0700

    RemoveTaidLooter converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 11:06:43 2014 -0700

    AddRaidLooter converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 11:02:17 2014 -0700

    UpdateLevel converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 10:59:59 2014 -0700

    SetRaidLeader converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 10:55:04 2014 -0700

    SetGroupleader converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 10:53:20 2014 -0700

    MoveMember converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 10:47:16 2014 -0700

    DisbandRaid converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 10:12:00 2014 -0700

    RemoveMember converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 09:58:21 2014 -0700

    AddMember converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 09:21:39 2014 -0700

    SaveGroupLeaderAA converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Oct 7 09:02:13 2014 -0700

    GeneralQueryReceive converted to QueryDatabase

Author: Robregen
Date:   Mon Oct 6 15:04:07 2014 -0700

    added back the misc stuff.

Author: Robregen
Date:   Mon Oct 6 14:20:01 2014 -0700

    add a timer to forage function to help alleviate desyncing from intel client.

Author: Robregen
Date:   Mon Oct 6 12:29:18 2014 -0700

    adjust some slots variable in mac.cpp to make merging more manageable

Author: Mackal
Date:   Mon Oct 6 01:30:01 2014 -0400

    Slay Undead to String IDs (and better filtering)

Author: Mackal
Date:   Sun Oct 5 22:47:57 2014 -0400

    Stop the book showing up while inspecting charms with RoF
    
    Stat display still broken sadly

Author: JJ
Date:   Sun Oct 5 21:42:33 2014 -0400

    Some updates to #command information.

Author: Mackal
Date:   Sun Oct 5 16:13:13 2014 -0400

    Call CalcBonuses for RoF+ augments

Author: Mackal
Date:   Sun Oct 5 15:15:17 2014 -0400

    More restrictive on the temp hack for UF (only spells with numhits)

Author: Mackal
Date:   Sun Oct 5 14:45:26 2014 -0400

    Add temp hack for num hits and UF
    
    Not sure what I screwed up, could of sworn it was working right before,
    but that was also 3 AM or something
    
    Rewrote UF's OP_BuffCreate to use the Write* functions which are a bit
    more straight forward

Author: bwilliams
Date:   Sun Oct 5 11:25:50 2014 -0400

    added function to eqTime to determine nighttime. added check in DoCastingChecks to stop nightime spells casted during the day. added missing strings from eqstr text file

Author: KayenEQ
Date:   Sun Oct 5 07:51:20 2014 -0400

    Fix to allow regular runes to absorn spell damage (except dots).

Author: Uleat
Date:   Sun Oct 5 06:12:33 2014 -0400

    Added corpse encode and decode translators

Author: Mackal
Date:   Sun Oct 5 02:28:17 2014 -0400

    Confirmed OP_ItemRecastDelay for SoF

Author: Mackal
Date:   Sun Oct 5 02:18:30 2014 -0400

    Move OP_ItemRecastDelay to after cast
    
    I originally assumed it needed to be sent "while casting"
    but it looks like right at the end (where we set the reuse timer)
    also works.

Author: Uleat
Date:   Sat Oct 4 23:38:20 2014 -0400

    Identified recast timer field in Ti item packet header

Author: Robregen
Date:   Sat Oct 4 17:13:13 2014 -0700

    indented mac.cpp and renamed some variables.

Author: bwilliams
Date:   Sat Oct 4 19:41:05 2014 -0400

    Added HasRacialAbility which checks to see if the race can innate Bash.  Patched BashDamage to only do 1 damage if no skill (like Ogre Shamans or pre level 6 warriors).

Author: Arthur Ice
Date:   Sat Oct 4 12:08:50 2014 -0700

    command_mysql converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 12:07:33 2014 -0700

    command_object converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 12:03:25 2014 -0700

    command_advnpcspawn converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 12:01:30 2014 -0700

    command_flagedit converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 11:58:24 2014 -0700

    command_qglobal converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 11:52:40 2014 -0700

    command_npcedit converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 10:50:04 2014 -0700

    command_ban converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 10:28:34 2014 -0700

    command_repop converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 10:26:19 2014 -0700

    command_revoke converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 10:20:33 2014 -0700

    command_suspend converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 15:29:02 2014 -0700

    ExpeditionSay converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 15:24:11 2014 -0700

    SetAccountFlag converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 15:21:05 2014 -0700

    LoadAccountFlags converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 15:14:50 2014 -0700

    TryReward converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:55:55 2014 -0700

    SendRewards converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:46:19 2014 -0700

    DiscoverItem converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:43:02 2014 -0700

    IsDiscovered converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:24:29 2014 -0700

    SetBotInspectMessage converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:23:53 2014 -0700

    GetBotInspectMessage converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:22:27 2014 -0700

    LoadLootDrops converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:21:25 2014 -0700

    LoadLootTables converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:20:46 2014 -0700

    GetLootDropInfo converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:19:04 2014 -0700

    LoadBaseData converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:18:11 2014 -0700

    GetMaxBaseDataLevel converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:16:54 2014 -0700

    LoadSpells converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:16:00 2014 -0700

    GetMaxSpellID converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:14:27 2014 -0700

    LoadDamageShieldTypes converted to queryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:13:05 2014 -0700

    LoadSkillCaps converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:12:16 2014 -0700

    GetcommandSettings converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:11:40 2014 -0700

    DeleteStalePlayerBackups converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:10:57 2014 -0700

    DeleteStalePlayerCorpses converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:10:00 2014 -0700

    LoadNPCFactionLists converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:08:53 2014 -0700

    GetFactionListInfo converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:07:55 2014 -0700

    GetBook converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:06:37 2014 -0700

    LoadItems converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:05:07 2014 -0700

    GetItemsCount converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:04:19 2014 -0700

    GetInventory char_id, inv) converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 14:02:43 2014 -0700

    GetInventory(account_id, name, inv) converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 13:55:43 2014 -0700

    GetSharedBank converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 13:54:33 2014 -0700

    SetStartingItems converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 13:53:28 2014 -0700

    SetSharedPlatinum converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 13:50:01 2014 -0700

    GetSharedPlatinum converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 13:45:50 2014 -0700

    SaveInventory converted into 4 methods, converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 13:32:01 2014 -0700

    VerifyInventory converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 13:31:06 2014 -0700

    SaveCursor

Author: Arthur Ice
Date:   Sat Oct 4 13:27:26 2014 -0700

    SetGMSpeed converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 13:26:45 2014 -0700

    GetGMSpeed converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 13:23:52 2014 -0700

    SetHideMe converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 12:45:50 2014 -0700

    LoadCharacterCreateCombos converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 12:44:29 2014 -0700

    LoadCharacterCreateAllocations converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 12:43:13 2014 -0700

    GetCharacterLevel converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 12:38:14 2014 -0700

    SetMailKey converted to QueryDatabase
    
    fix SetMailKey

Author: Arthur Ice
Date:   Sat Oct 4 12:37:19 2014 -0700

    GetLauncherList converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 12:36:04 2014 -0700

    GetStartZoneSoF converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 12:34:44 2014 -0700

    GetStartZone converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 10:16:26 2014 -0700

    command_spawnfix converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 10:12:39 2014 -0700

    command_listpetition converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 10:09:20 2014 -0700

    command_findzone converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 10:07:25 2014 -0700

    command_findnpctype converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 10:04:39 2014 -0700

    command_delpetition converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 10:03:07 2014 -0700

    command_petitioninfo converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 10:01:59 2014 -0700

    command_viewpetition converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Oct 4 09:58:55 2014 -0700

    command_setfaction converted to QueryDatabase

Author: bwilliams
Date:   Sat Oct 4 10:41:49 2014 -0400

    updated shared database to assign damage as backstabdmg since backstabdmg is zero in the db and out of era for Al Kabor

Author: Mackal
Date:   Sat Oct 4 03:23:42 2014 -0400

    Implement number of hit indicators for UF and RoF
    
    There is a small display bug with the initial cast of the spell,
    but it updates quickly enough that it shouldn't be too noticeable
    This still needs to be fixed though
    
    Changed SendBuffDurationPacket to take a Buffs_Struct by reference
    to allow more of the data to be obtained without more params
    
    Added Client::SendBuffNumHitPacket(Buffs_Struct &buff, int slot)

Author: Robregen
Date:   Fri Oct 3 20:14:56 2014 -0700

    fixed the crash with SavePetInfo function.

Author: KLS
Date:   Fri Oct 3 14:57:01 2014 -0700

    Turn off user literal error in clang

Author: KLS
Date:   Fri Oct 3 13:42:39 2014 -0700

    Hunger and thirst clamping within larger ranges

Author: Uleat
Date:   Fri Oct 3 15:05:20 2014 -0400

    Moved OP_LootItem slot translation to external handlers in client patch files

Author: Robregen
Date:   Fri Oct 3 11:40:44 2014 -0700

    Revert "implement auto_identify in logserver."
    

Author: Robregen
Date:   Fri Oct 3 10:59:55 2014 -0700

    fixed for swapping spells not saving.

Author: Uleat
Date:   Fri Oct 3 02:03:48 2014 -0400

    Fixed OP_AugmentInfo packet processing that I broked'd

Author: Mackal
Date:   Fri Oct 3 01:37:51 2014 -0400

    Rework ZoneDatabase::SavePetInfo -- should be better
    
    Worst case before some something like 96 queries.

Author: Robregen
Date:   Thu Oct 2 19:54:22 2014 -0700

    implement auto_identify in logserver.

Author: Mackal
Date:   Thu Oct 2 22:52:25 2014 -0400

    Make ZoneDatabase::FillAAEffects get the data from memory
    
    Note: This should probably be moved out of ZoneDatabase

Author: KayenEQ
Date:   Thu Oct 2 22:08:12 2014 -0400

    Exported to PERL $client->SendSpellAnim(targetid, spellid)
    This function sends the spell graphic of a spell without actually having to cast the spell.

Author: Uleat
Date:   Thu Oct 2 20:18:54 2014 -0400

    Detached direct packet routing for some older client opcodes

Author: Mackal
Date:   Thu Oct 2 14:10:48 2014 -0400

    Some AA updates from PEQ

Author: Robregen
Date:   Thu Oct 2 10:53:07 2014 -0700

    fixed starting skills.

Author: Mackal
Date:   Wed Oct 1 20:52:40 2014 -0400

    Move OP_ItemRecastDelay to the right spot

Author: Mackal
Date:   Wed Oct 1 20:51:47 2014 -0400

    Didn't mean to push those ....

Author: Mackal
Date:   Wed Oct 1 20:50:01 2014 -0400

    ITEM and PB slot checks too

Author: Mackal
Date:   Wed Oct 1 20:48:15 2014 -0400

    Fix nullptr and item_slot check

Author: Mackal
Date:   Wed Oct 1 18:34:26 2014 -0400

    Export SendColoredText to lua

Author: Mackal
Date:   Wed Oct 1 18:06:02 2014 -0400

    Fix errors in Database::ExpireMail in ucs

Author: Mackal
Date:   Wed Oct 1 16:22:45 2014 -0400

    Initial work on OP_ItemRecastDelay

Author: Robregen
Date:   Wed Oct 1 13:03:39 2014 -0700

    fixed intrazone
    fixed #goto command
    fixed zone name when using /who
    removed queu tells since it's more for modern clients.

Author: KayenEQ
Date:   Wed Oct 1 13:25:19 2014 -0400

    changelog

Author: KayenEQ
Date:   Wed Oct 1 13:24:38 2014 -0400

    Exported to PERL $client->SendColoredText(color, msg)

Author: Mackal
Date:   Wed Oct 1 02:11:38 2014 -0400

    Fix bazaar welcome message

Author: Mackal
Date:   Wed Oct 1 01:15:08 2014 -0400

    Add Master Wu message

Author: Robregen
Date:   Tue Sep 30 17:24:45 2014 -0700

    Revert "Revert "Merge branch 'master' of https://github.com/EQEmu/Server""

Author: Mackal
Date:   Tue Sep 30 19:23:02 2014 -0400

    Fix another bot SQL error

Author: Mackal
Date:   Tue Sep 30 19:20:38 2014 -0400

    Send the right person's name

Author: Mackal
Date:   Tue Sep 30 18:41:03 2014 -0400

    Fix already in raid message

Author: Mackal
Date:   Tue Sep 30 18:19:57 2014 -0400

    Fix error in GetBotOwnerCharacterID

Author: Robregen
Date:   Tue Sep 30 15:12:17 2014 -0700

    fixed a syntax sql error while loading merchant table.

Author: Uleat
Date:   Tue Sep 30 16:18:25 2014 -0400

    Added clicky items from bags for clients that support it (RoF, currently)

Author: Robregen
Date:   Tue Sep 30 13:02:50 2014 -0700

    Revert "Merge branch 'master' of https://github.com/EQEmu/Server"

Author: Mackal
Date:   Tue Sep 30 13:41:09 2014 -0400

    Added some updownsign to some newer formulas

Author: Robregen
Date:   Mon Sep 29 22:32:54 2014 -0700

    changed back the pp settings.

Author: Robregen
Date:   Mon Sep 29 19:22:20 2014 -0700

    fixed a compiler error.

Author: Robregen
Date:   Mon Sep 29 13:55:46 2014 -0700

    minor correction

Author: Paul Coene
Date:   Mon Sep 29 16:38:18 2014 -0400

    Update zone.cpp

Author: Mackal
Date:   Mon Sep 29 16:32:48 2014 -0400

    Reworked blind running around
    
    This should be more in line with how we do current fearpath stuff
    and with live.

Author: Mackal
Date:   Mon Sep 29 16:16:19 2014 -0400

    Correct "cure blindness" catch

Author: Robregen
Date:   Mon Sep 29 11:49:34 2014 -0700

    fixed the pet from spawning when logging on.

Author: Robregen
Date:   Mon Sep 29 09:48:16 2014 -0700

    fixed the issue with pet zoning.

Author: Mackal
Date:   Mon Sep 29 03:08:30 2014 -0400

    Fix issue with newly inserted saylinks not working correctly
    
    Sadly still silly

Author: Robregen
Date:   Sun Sep 28 18:42:55 2014 -0700

    some small minor fixing.

Author: Robregen
Date:   Sun Sep 28 11:02:10 2014 -0700

    fixed up the start up to match that of our old code.

Author: Mackal
Date:   Sun Sep 28 13:27:38 2014 -0400

    Add support for post June 18, 2014 Hundred Hands effects
    
    Set Spells:Jun182014HundredHandsRevamp to true if your spell file is newer

Author: Robregen
Date:   Sun Sep 28 10:07:30 2014 -0700

    Revert "remove Drakken codes and other junks that are irrelevant to our client."

Author: Robregen
Date:   Sun Sep 28 09:33:33 2014 -0700

    restore SaveCharacterData and SaveCharacterCurrency

Author: Robregen
Date:   Sun Sep 28 08:22:58 2014 -0700

    reverted CheckDatabaseConversion().

Author: Robregen
Date:   Sat Sep 27 22:28:29 2014 -0700

    remove more unneeded PP stuff.

Author: Robregen
Date:   Sat Sep 27 21:13:42 2014 -0700

    remove Drakken codes and other junks that are irrelevant to our client.

Author: Mackal
Date:   Sat Sep 27 23:14:11 2014 -0400

    Revamp attack delays / hastes / slows based on dev quotes
    
    See changelog

Author: Mackal
Date:   Sat Sep 27 21:37:14 2014 -0400

    Fix client SetAttackTimer issue
    
    Moved the call to the end of Client::CalcBonuses() since it depends on
    Client::CalcHaste() which requires a bunch of others to be called
    before it.

Author: Robregen
Date:   Sat Sep 27 18:32:26 2014 -0700

    fixed for merchants not loading items.

Author: Robregen
Date:   Sat Sep 27 18:02:37 2014 -0700

    items will now load on players inventory.

Author: KLS
Date:   Sat Sep 27 14:44:48 2014 -0700

    Merge of kayen's PR as well as some fixes i saw

Author: Paul Coene
Date:   Sat Sep 27 17:39:30 2014 -0400

    is_blind works better as an else to the line that handles cure

Author: Paul Coene
Date:   Sat Sep 27 17:17:12 2014 -0400

    Fixed issue where blind flag was set for beneficial spells like cure.wq

Author: KayenEQ
Date:   Sat Sep 27 16:39:37 2014 -0400

    changelog

Author: KayenEQ
Date:   Sat Sep 27 16:12:10 2014 -0400

    Perl Mob function GetSpellStat(spellid, identifier, slot)
    indentifier is the spell_new field
    slot is used for effectids,base,base2, max ect where 1 = first slot.
    Will add a wiki page

Author: Paul Coene
Date:   Sat Sep 27 13:00:07 2014 -0400

    Changes so that blind effects like those in Flash of Light work.

Author: KayenEQ
Date:   Sat Sep 27 09:21:37 2014 -0400

    Fix for commit failure.

Author: Robregen
Date:   Fri Sep 26 21:19:59 2014 -0700

    re-ordered server opcodes and handlers to make merging more manageable.

Author: Uleat
Date:   Fri Sep 26 20:51:42 2014 -0400

    Re-ordered client patch ENCODES and DECODES - snuck in a bitswap change for SoF+ item_struct::Slots translations

Author: Mackal
Date:   Fri Sep 26 12:43:34 2014 -0400

    Rename Name variable in SendBazaarResults to temp_buffer fixes #253

Author: KayenEQ
Date:   Fri Sep 26 06:56:42 2014 -0400

    Clean up of perl based NPC spell scaling functions.
    Added Perl - $npc->GetSpellFocusDMG(), $npc->GetSpellFocusHeal()

Author: Robregen
Date:   Thu Sep 25 22:05:05 2014 -0700

    fixed Ogre size with illusion.

Author: Mackal
Date:   Fri Sep 26 00:44:51 2014 -0400

     Client::SetClassStartingSkills should now match live

Author: Mackal
Date:   Thu Sep 25 21:40:31 2014 -0400

    Add bool EQEmu::IsSpecializedSkill(SkillUseTypes skill)

Author: Mackal
Date:   Thu Sep 25 21:35:17 2014 -0400

    Add tests for skills utilities

Author: Mackal
Date:   Thu Sep 25 21:20:59 2014 -0400

    EQEmu::IsTradeskill uint32 to SkillUseTypes

Author: Uleat
Date:   Thu Sep 25 18:48:58 2014 -0400

    More re-enumeration prep work

Author: Robregen
Date:   Thu Sep 25 15:46:57 2014 -0700

    reduce the Ogre size to 8 to better manage through small spaces.

Author: KLS
Date:   Thu Sep 25 14:54:40 2014 -0700

    Tired of this GLM warning (and we dont even use glm rotate grr) also reworked how I approached that peq entity process crash after thinking about it a bit

Author: KLS
Date:   Thu Sep 25 03:59:59 2014 -0700

    Fix for potion belt name loading.

Author: Mackal
Date:   Thu Sep 25 03:14:43 2014 -0400

    World needs to load skill cap data for char creation

Author: Mackal
Date:   Wed Sep 24 23:35:10 2014 -0400

    Added helper function bool EQEmu::IsTradeskill(uint32 skill)
    
    Returns true if you pass a tradeskill to it, otherwise false

Author: KLS
Date:   Wed Sep 24 19:46:53 2014 -0700

    I keep seeing a crash due to an invalidated iter during mob delete every few days, seeing if this fixes it.

Author: Uleat
Date:   Wed Sep 24 20:23:01 2014 -0400

    Re-ordered server opcodes and handlers to facilitate the export of client patch structs and handlers

Author: Mackal
Date:   Wed Sep 24 14:04:17 2014 -0400

    Add raid mob message
    
    "This creature would take an army to defeat!"
    Colors may be a bit off due to differences in clients

Author: Mackal
Date:   Wed Sep 24 13:50:18 2014 -0400

    Fix function signature of Mob::IsRaidTarget() so its actually a virtual

Author: Mackal
Date:   Wed Sep 24 13:14:20 2014 -0400

    Add Client::SendColoredText(uint32 color, std::string message)
    
    This will send a message (arbitrary size limit of 512) to the client
    of the provided color. The MT colors should work here.

Author: Mackal
Date:   Wed Sep 24 12:22:06 2014 -0400

    Rename OP_BuffFadeMsg to OP_ColoredText since it is a generic opcode

Author: Robregen
Date:   Wed Sep 24 08:13:07 2014 -0700

    Revert "possible slot id fixed."
    

Author: KLS
Date:   Wed Sep 24 03:30:38 2014 -0700

    Data verification utils, not in use yet.  Also added ability for lua packet to bypass the translation layer (dangerous) if a writer so desires (useful for quickly trying packet stuff)

Author: Akkadius
Date:   Tue Sep 23 20:16:19 2014 -0500

    Fix tribute loading/saving for real

Author: Robregen
Date:   Tue Sep 23 17:35:23 2014 -0700

    possible slot id fixed.

Author: Akkadius
Date:   Tue Sep 23 19:19:40 2014 -0500

    memset size fix to calc current size of 400 bytes for discipline initialization

Author: Akkadius
Date:   Tue Sep 23 19:12:31 2014 -0500

    Restoring Disciplines to their original load order (Slot)
    Tribute uninitialized value database conversion fix
    Tribute load fix (Lost in translation)
    Changed Tribute 0 value to 0xFFFFFFFF instead of 0
    Sanity check for unitialized tribute value on load

Author: Akkadius
Date:   Tue Sep 23 18:28:17 2014 -0500

    Fix for database schema conversion where `character_` table has 0 characters present. This will allow the tables to still be created properly and the old one renamed.

Author: KLS
Date:   Tue Sep 23 15:59:58 2014 -0700

    Fix for MoveCharacterToZone using zoneid instead of zone_id

Author: Robregen
Date:   Tue Sep 23 16:00:20 2014 -0700

    fixed for skill up bugs.

Author: Akkadius
Date:   Tue Sep 23 17:54:07 2014 -0500

    Fix for the undye command to properly purge character armor dye

Author: KLS
Date:   Tue Sep 23 15:42:20 2014 -0700

    Rob's broken skill up bug reported fixed

Author: Akkadius
Date:   Tue Sep 23 17:21:08 2014 -0500

    IncrementAA for scripting functions changed to use SaveAA instead of Save

Author: KLS
Date:   Tue Sep 23 15:09:33 2014 -0700

    Fix for AA conversion

Author: Mackal
Date:   Tue Sep 23 17:40:17 2014 -0400

    Fix AA issue

Author: KLS
Date:   Tue Sep 23 13:39:05 2014 -0700

    Fix for spell books on newer clients not playing well with the tricksy new deblob code

Author: KLS
Date:   Tue Sep 23 13:04:18 2014 -0700

    isnan fix for vs2012

Author: Akkadius
Date:   Tue Sep 23 14:40:09 2014 -0500

    Sending the client a spell value that is more inline with what it expects when no spell is set.

Author: KayenEQ
Date:   Tue Sep 23 09:15:02 2014 -0400

    SE_ApplySpell and SE_TriggerSpell will now be applied based on which effect slot they are used in (instead of always before all spell effects are checked).
    Note: If a spell has multiple SE_TriggerSpell effects within it. Only one will be able to trigger. (If you want multiple spells use SE_ApplySpell)

Author: KLS
Date:   Mon Sep 22 16:46:01 2014 -0700

    Style cleanup, clamp hunger and thirst values to correct ranges

Author: KayenEQ
Date:   Mon Sep 22 19:42:59 2014 -0400

    Fix to SE_ApplyEffect - Will now trigger spell from this effect at correct time.

Author: KLS
Date:   Mon Sep 22 15:37:11 2014 -0700

    Fix for creating characters failing at name verification

Author: KayenEQ
Date:   Mon Sep 22 18:02:40 2014 -0400

    Kayen: Spell recourse effects / triggerable spell effects will now be applied AFTER the base spells effects have been applied (consistent with live).

Author: Akkadius
Date:   Mon Sep 22 16:23:43 2014 -0500

    Fix starting items for starting_item entries that use slot -1 to find a free slot

Author: Akkadius
Date:   Mon Sep 22 02:52:23 2014 -0500

    Putting back in demonstar's lowercase check

Author: Akkadius
Date:   Mon Sep 22 01:00:28 2014 -0500

    #resetaa now covers the function of #resetaa and #refundaa
    #resetaa will wipe all AA data, refund the spent points into the available points and send character to character select properly
    Removed #refundaa
    Removed a lot of debug code for blob conversion
    Changed status logging for loads/saves to Debug category

Author: Robregen
Date:   Sun Sep 21 22:26:18 2014 -0700

    a few minor correction and remove a file that is not used.

Author: Akkadius
Date:   Sun Sep 21 23:54:52 2014 -0500

    NoRentExpired `character_` reference

Author: Akkadius
Date:   Sun Sep 21 23:48:51 2014 -0500

    Bye bye commented old junk

Author: Akkadius
Date:   Sun Sep 21 23:34:53 2014 -0500

    Another merge aftermath overwriting character_data reference to old table

Author: JJ
Date:   Sun Sep 21 20:02:01 2014 -0400

    Consistent directory locations under common.

Author: Akkadius
Date:   Sun Sep 21 19:01:50 2014 -0500

    Array iter fix

Author: KLS
Date:   Sun Sep 21 15:59:02 2014 -0700

    Bug with MySQLRequestResult

Author: Akkadius
Date:   Sun Sep 21 04:26:26 2014 -0500

    ..........................................

Author: KLS
Date:   Sun Sep 21 02:25:05 2014 -0700

    Build fix plus future travis update

Author: Akkadius
Date:   Sun Sep 21 04:12:36 2014 -0500

    make travis shut up

Author: Akkadius
Date:   Sun Sep 21 03:43:27 2014 -0500

    gcc fix <stdint.h> vs <limits>

Author: Akkadius
Date:   Sun Sep 21 02:58:56 2014 -0500

    Merge aftermath

Author: Akkadius
Date:   Sun Sep 21 02:27:57 2014 -0500

    Fix where if players instance is expired when logging back into it, they will get sent properly to bind. Issue was players player profile instance ID did not match the bind instance ID.

Author: KLS
Date:   Sat Sep 20 23:56:04 2014 -0700

    Should compile on gcc now

Author: Akkadius
Date:   Sun Sep 21 01:27:05 2014 -0500

    Blob changelog.txt

Author: KLS
Date:   Sat Sep 20 15:09:43 2014 -0700

    Ban and suspend commands now require a reason that is recorded in the DB

Author: Mackal
Date:   Sat Sep 20 16:58:35 2014 -0400

    Add Spells:SHDProcIDOffByeOne to support newer spell files
    
    In June 2009 SoE stopped doing a +1 to the base for SHD procs
    So UF+ spell files were not working, set this to false to support these spell files

Author: Mackal
Date:   Sat Sep 20 15:59:34 2014 -0400

    Limit character length to 15 (the client doesn't let you enter more)

Author: Mackal
Date:   Sat Sep 20 15:55:20 2014 -0400

    Fix crash in SendEnterWorld on illegally long names

Author: Robregen
Date:   Sat Sep 20 11:57:44 2014 -0700

    removed class Beserker related code.

Author: Mackal
Date:   Sat Sep 20 14:57:15 2014 -0400

    Fix issue with not online message from tells

Author: Mackal
Date:   Sat Sep 20 02:46:04 2014 -0400

    Fix toon names being allowed with lower case starting char

Author: Robregen
Date:   Fri Sep 19 17:50:06 2014 -0700

    put the group related statement back in zonedb.cpp

Author: Mackal
Date:   Fri Sep 19 18:17:42 2014 -0400

    Correct tell queue related messages

Author: Mackal
Date:   Fri Sep 19 18:16:52 2014 -0400

    Add Client::Tell_StringID for tell queue messages

Author: Robregen
Date:   Thu Sep 18 22:22:32 2014 -0700

    accidently changed code unrelated to prevous revert.

Author: Robregen
Date:   Thu Sep 18 22:14:16 2014 -0700

    Revert "Using the loginserver, we can now identify in world and zone whether the connected client is PC, Intel, or (in the future) PPC."
    

Author: Akkadius
Date:   Thu Sep 18 22:46:28 2014 -0500

    Character armor dye save fix

Author: Mackal
Date:   Thu Sep 18 22:56:16 2014 -0400

    Nuke #viewmessages

Author: Mackal
Date:   Thu Sep 18 22:55:06 2014 -0400

    Implement tell queues
    
    Default queue size 20 (World:TellQueueSize)
    This doe not play well with multiple sessions and a toon crashes and relogs
    Normal tells have issues as well.

Author: Mackal
Date:   Thu Sep 18 14:59:50 2014 -0400

    Stop nuking MySQLRequestResult Success flag

Author: Robregen
Date:   Thu Sep 18 10:27:24 2014 -0700

    re-commit zonedb.cpp and revert the SavePetInfo that was causing the crash.

Author: Mackal
Date:   Thu Sep 18 01:29:30 2014 -0400

    Fix error in 64f5bfd

Author: Mackal
Date:   Wed Sep 17 23:46:54 2014 -0400

    Make tell message a bit more understandable.

Author: KLS
Date:   Wed Sep 17 17:45:40 2014 -0700

    Small sanity checks that was causing a few errors

Author: Akkadius
Date:   Wed Sep 17 14:30:19 2014 -0500

    KLS Nazi Grammar Fix

Author: KayenEQ
Date:   Wed Sep 17 12:08:01 2014 -0400

    Fix for resource tap when gaining/loosing HP.

Author: KayenEQ
Date:   Wed Sep 17 05:14:10 2014 -0400

    Fix for calculation for SE_ManaAbsorbPercentDamage

Author: Akkadius
Date:   Wed Sep 17 02:52:13 2014 -0500

    Some descriptor adjustments

Author: Akkadius
Date:   Wed Sep 17 02:47:13 2014 -0500

    Changed conversion routine.
    At the end of conversion, character_ table will be renamed to character_old so that it does not get hit with trying to convert next world bootup
    Added some file logging during the initial conversion routine

Author: Mackal
Date:   Wed Sep 17 00:01:32 2014 -0400

    Fix some effect value calcs and implement more
    
    Derived from the client

Author: Uleat
Date:   Tue Sep 16 22:57:15 2014 -0400

    Fix for LoadBuffs() server crash

Author: Mackal
Date:   Tue Sep 16 18:35:49 2014 -0400

    Implement spell formula 137
    
    This is only used in the BER AA Desperation

Author: Akkadius
Date:   Tue Sep 16 16:03:27 2014 -0500

    Added quest::crosszonesetentityvariablebynpctypeid(npctype_id, id, m_var)
    Added quest::crosszonesignalnpcbynpctypeid(npctype_id, data)
    Added $client->GetTaskActivityDoneCount(THIS, TaskID, ActivityID)

Author: Robregen
Date:   Mon Sep 15 20:56:43 2014 -0700

    revert zonedb.cpp

Author: Robregen
Date:   Mon Sep 15 20:19:59 2014 -0700

    fixed a few issues in zone/zonedb.cpp

Author: Mackal
Date:   Mon Sep 15 20:31:45 2014 -0400

    Mob::ProcessSpecialAbilities pass by reference

Author: Mackal
Date:   Mon Sep 15 20:11:56 2014 -0400

    QGlobalCache::LoadBy to pass by reference

Author: Robregen
Date:   Mon Sep 15 16:20:44 2014 -0700

    removed lfg,lfm,and xtarget from StoreCharacterLookup.

Author: Robregen
Date:   Mon Sep 15 15:17:55 2014 -0700

    remove addspeech

Author: Robregen
Date:   Mon Sep 15 13:09:43 2014 -0700

    removed aug related queries from queryserv/database.cpp

Author: KayenEQ
Date:   Mon Sep 15 16:05:57 2014 -0400

    Nimbus effects will now be reapplied after zoning.
    Nimbus effects will now fade when associated buff is removed.
    Fix for ReduceAllDamage function.

Author: Mackal
Date:   Sun Sep 14 16:00:18 2014 -0400

    Style nits

Author: Mackal
Date:   Sun Sep 14 15:58:08 2014 -0400

    Fix ZoneDatabase::LoadTraderItem not returning anything valid

Author: Robregen
Date:   Sat Sep 13 16:26:28 2014 -0700

    fixed for linux compile

Author: Robregen
Date:   Sat Sep 13 13:11:48 2014 -0700

    Delete Mac_structs.h

Author: Robregen
Date:   Sat Sep 13 13:11:27 2014 -0700

    Delete Mac_ops.h

Author: Robregen
Date:   Sat Sep 13 13:11:18 2014 -0700

    Delete Mac.h

Author: Robregen
Date:   Sat Sep 13 13:11:03 2014 -0700

    Delete Mac.cpp

Author: Robregen
Date:   Sat Sep 13 13:10:44 2014 -0700

    Delete Evolution_structs.h

Author: Robregen
Date:   Sat Sep 13 13:10:36 2014 -0700

    Delete Evolution_ops.h

Author: Robregen
Date:   Sat Sep 13 13:10:08 2014 -0700

    Delete Evolution.h

Author: Robregen
Date:   Sat Sep 13 13:09:56 2014 -0700

    Delete Evolution.cpp

Author: Robregen
Date:   Sat Sep 13 13:08:41 2014 -0700

    fixed for files missing the 3 lines.

Author: Robregen
Date:   Sat Sep 13 12:55:32 2014 -0700

    fixed from the merge.

Author: Cavedude
Date:   Sat Sep 13 12:35:54 2014 -0700

    Compile fix.

Author: Cavedude
Date:   Sat Sep 13 12:28:21 2014 -0700

    Commented out EQClientUnused and EQClientEvolution for now.

Author: Cavedude
Date:   Sat Sep 13 10:19:58 2014 -0700

    Using the loginserver, we can now identify in world and zone whether the connected client is PC, Intel, or (in the future) PPC.
    
    DB UPDATED REQUIRED: utils\sql\git\required\2014_08_10_client_version.sql
    (please ignore the sql's date!)
    
    We will now correctly send the logserver packet to all Mac clients.
    
    The Intel duplicate packet hacked workarounds will no longer affect PC clients.

Author: Mackal
Date:   Sat Sep 13 03:20:43 2014 -0400

    Fix rogues not starting with Thieves' Cant

Author: Robregen
Date:   Fri Sep 12 11:20:28 2014 -0700

    a few minor fixes.

Author: Mackal
Date:   Fri Sep 12 13:10:03 2014 -0400

    Fix attack_delay for real

Author: Mackal
Date:   Fri Sep 12 11:57:09 2014 -0400

    Fix ZoneDatabase::GetNPCType nuking attack_delay changes

Author: Robregen
Date:   Thu Sep 11 22:32:24 2014 -0700

    Merge branch 'master' of https://github.com/EQEmu/Server

Author: Mackal
Date:   Thu Sep 11 18:28:25 2014 -0400

    Fix ZoneDatabase::GetZoneCFG for real

Author: Mackal
Date:   Thu Sep 11 18:24:40 2014 -0400

    Fix ZoneDatabase::GetZoneCFG errors

Author: Mackal
Date:   Thu Sep 11 16:57:00 2014 -0400

    Revert "GetAccountInfoForLogin_result converted to MySQLRequestResult"
    
    
    Conflicts:
            zone/zonedb.h

Author: Mackal
Date:   Thu Sep 11 16:56:15 2014 -0400

    Revert "LoadFactionValues converted to QueryDatabase"
    

Author: Mackal
Date:   Thu Sep 11 16:55:58 2014 -0400

    Revert "LoadFactionValues_result converted to MySQLRequestResult"
    

Author: Robregen
Date:   Thu Sep 11 13:06:13 2014 -0700

    remove uuid files that is no longer needed.

Author: Robregen
Date:   Thu Sep 11 12:18:44 2014 -0700

    fixed z axis in waypoint.cpp

Author: Akkadius
Date:   Thu Sep 11 03:14:34 2014 -0500

    Initial character creation escape sequences
    Added initial skill/language/bind saves to character creation

Author: Robregen
Date:   Thu Sep 11 00:59:31 2014 -0700

    disabled web_interface related code.

Author: Robregen
Date:   Wed Sep 10 23:50:18 2014 -0700

    fix #include in mac_constants.h

Author: Akkadius
Date:   Thu Sep 11 00:44:12 2014 -0500

    Small db changes

Author: KLS
Date:   Wed Sep 10 22:33:30 2014 -0700

    bestz will no longer scale off of model size, also it adjusts up less extremely in general.  Fixed super duper attack speed on command spawned npcs

Author: Robregen
Date:   Wed Sep 10 11:27:30 2014 -0700

    removed some recent changelog comments that aren't committed to our code.
    
    added comments about merchantprobability.

Author: Robregen
Date:   Wed Sep 10 10:37:57 2014 -0700

    match GetAttackSpeedTimer haste with the recent change to SetAttackSpeed

Author: Mackal
Date:   Wed Sep 10 00:07:16 2014 -0400

    Fix copy paste error

Author: Mackal
Date:   Wed Sep 10 00:05:00 2014 -0400

    Added attackdelay to #npcedit
    
    Also changelog!

Author: Mackal
Date:   Tue Sep 9 22:50:50 2014 -0400

    Change scale of GetPermaHaste()

Author: Mackal
Date:   Tue Sep 9 22:42:54 2014 -0400

    Change NPCs to have their attack delay set in DB
    
    This gives us a much more straight forward way of setting mob
    attack delay with respect to live.
    
    The attack_delay column is in 10ths of seconds, just like weapons are
    The attack_speed is left for references for now.

Author: Mackal
Date:   Tue Sep 9 22:13:30 2014 -0400

    Split Mob::SetAttackTimer into Client and NPC methods
    
    This was the easiest way to NPCs delay settings to be sane in the database.
    The functions are cleaner since there is no specific logic to change
    behavior depending on if they're a client or not.

Author: Akkadius
Date:   Tue Sep 9 16:15:25 2014 -0500

    Remove namespace std

Author: Akkadius
Date:   Tue Sep 9 16:03:24 2014 -0500

    Added some DB logging to catch any potential query errors, this logs to eqemu_query_error_log.txt at the root folder, currently no rule toggling for this
    Corrected some character name reservation logic
    Adjusted telnet console so it does not throw 'Command Unknown' when simply hitting enter key
    Adjusted System MSG for worldshutdown to use minutes instead of seconds
    Added warning for when Shared platinum is disabled at the rule level for players to NOT put platinum in the shared bank when they insert platinum in the shared platinum slot
    Changed a place in the code where disciplines were trained, someone had uint16 allocated to CharacterID and this was causing issues for characters with large ID's in the database
    Added a fix for bind points getting overwritten with invalid zone data, setting everything to 0,0,0,0 - Since I've added this change I've had no issues for players
    Fixed some spell book swap logic in the code, removed swap function.
    Fixed issue with guild ranks not loading properly
    Commented out some of the non-working tell-que code
    Took out some of the auto increment settings in the auto database conversion that don't affect anything anyways
    Added some additional escape string sequences for queries that needed them
    Added ThrowDBError logging to catch any potential query issues with saves or load functions

Author: Mackal
Date:   Tue Sep 9 17:02:05 2014 -0400

    Port slow fixes to bots

Author: Mackal
Date:   Tue Sep 9 15:34:30 2014 -0400

    Fix slow effect on NPC special attack reuse timers

Author: Mackal
Date:   Tue Sep 9 15:32:02 2014 -0400

    Increase NPC bash/kick delay by 3 (8 total by default)

Author: Mackal
Date:   Mon Sep 8 21:43:25 2014 -0400

    Fix slow calculation
    
    Full details: http://www.eqemulator.org/forums/showthread.php?t=38734

Author: KLS
Date:   Mon Sep 8 17:02:37 2014 -0700

    Strange crash hack/workaround that occured on peq

Author: KLS
Date:   Mon Sep 8 16:45:20 2014 -0700

    BestZ will now adjust for model size when used to adjust movement z

Author: Robregen
Date:   Mon Sep 8 11:43:17 2014 -0700

    level message should now display the message correctly.

Author: KLS
Date:   Mon Sep 8 03:04:22 2014 -0700

    Fixed many bugs with partial resist calculations, targets with higher resist should have a more natural curve when it comes to resisting spells

Author: KLS
Date:   Sun Sep 7 22:41:42 2014 -0700

    Fix for forage crash

Author: Robregen
Date:   Sun Sep 7 22:10:40 2014 -0700

    fixed a bug that was causing items lost in bag in corpse after death.

Author: Robregen
Date:   Sun Sep 7 19:39:17 2014 -0700

    changed slot number to variable.
    revert the level message to original minus the else statement.

Author: Akkadius
Date:   Sun Sep 7 05:43:37 2014 -0500

    Fixed ROF Augment item dupe with not checking for available slots properly and adding items to the virtual instance

Author: Akkadius
Date:   Sun Sep 7 05:35:19 2014 -0500

    Fix for item dupe via RoF augmenting

Author: Akkadius
Date:   Sun Sep 7 04:00:56 2014 -0500

    Removed debugging
    Added player profile data loading safety net checking

Author: KayenEQ
Date:   Sun Sep 7 03:43:34 2014 -0400

    Calc fix for spell power distance mod effect.

Author: Robregen
Date:   Sat Sep 6 20:44:57 2014 -0700

    fixed spell item not gettign destoyed after memming.

Author: Akkadius
Date:   Sat Sep 6 22:35:19 2014 -0500

    Removed command character backup
    Changed all remaining references from the character_ table to the character_data

Author: Akkadius
Date:   Sat Sep 6 21:50:29 2014 -0500

    - Ported inspect_messages to character_inspect_messages
    - Ported character leadership abilities to character_leadership_abilities
    - Removed player profile debug printing
    - Refactored total time entitled on account to load from the sum of time_played from all characters in character_data

Author: Robregen
Date:   Sat Sep 6 18:27:36 2014 -0700

    More slot fixes.

Author: KLS
Date:   Sat Sep 6 16:43:36 2014 -0700

    SQL Injection fix on inspect message setting

Author: Mackal
Date:   Sat Sep 6 17:58:42 2014 -0400

    Fix issue with hpregen in command_npcedit

Author: Robregen
Date:   Sat Sep 6 14:56:01 2014 -0700

    fixed an character equipment store bug associated with slot change.

Author: KLS
Date:   Sat Sep 6 14:31:02 2014 -0700

    Fix for perl api illusion

Author: Robregen
Date:   Sat Sep 6 14:29:21 2014 -0700

    forgot to fixed the conflict in the merge.

Author: Uleat
Date:   Sat Sep 6 16:19:32 2014 -0400

    Fix ItemTimerCheck() range criteria typo

Author: Robregen
Date:   Sat Sep 6 12:57:59 2014 -0700

    fixed a itemticktimer bug in client.cpp

Author: Arthur Ice
Date:   Sat Sep 6 12:56:35 2014 -0700

    Update client.cpp
    
    fixed bug with BEGIN_GENERAL to MainCursor being skipped before since it was starting at GENERAL_BAGS_BEGIN

Author: Arthur Ice
Date:   Sat Sep 6 12:51:50 2014 -0700

    Delete client.cpp.orig
    
    not supposed to be in there.

Author: Robregen
Date:   Sat Sep 6 12:28:47 2014 -0700

    adjust the number of bank slot for eqmac.

Author: Robregen
Date:   Sat Sep 6 12:22:18 2014 -0700

    Fixed the corpse loot bug associated with slot changed.

Author: Akkadius
Date:   Sat Sep 6 13:53:54 2014 -0500

    - Improved speed of character database conversion x1000 by changing query style
    - Adjusted AA MySQL saves for 100x speed increase
    - Removed StoreCharacter lookup methods as they will no longer be necessary
    - Some other cleanup

Author: Uleat
Date:   Sat Sep 6 12:45:45 2014 -0400

    Changed trade behavior to prioritize all main slots before sub slots

Author: KLS
Date:   Fri Sep 5 21:18:35 2014 -0700

    Bizarre issue reported with SendIllusionPacket corrupting size in lua, dunno if this fixes it but fingers crossed.

Author: Mackal
Date:   Fri Sep 5 22:38:32 2014 -0400

    Fix changelog [skip ci]

Author: Mackal
Date:   Fri Sep 5 22:36:44 2014 -0400

    Fix size issue with Lua_Mob::SendIllusionPacket
    
    Mob::SendIllusionPacket was expecting the size to be 0xFFFFFFFF
    to default rather than -1.0f

Author: Mackal
Date:   Fri Sep 5 21:56:49 2014 -0400

    Add missing QueryDatabase in ZoneDatabase::AddWPForSpawn

Author: Mackal
Date:   Fri Sep 5 21:55:35 2014 -0400

    Fix indentation of ZoneDatabase::AddWPForSpawn

Author: Arthur Ice
Date:   Fri Sep 5 16:14:28 2014 -0700

    UnDelegateMarkNPC converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Sep 5 16:13:50 2014 -0700

    DelegateMarkNPC converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Sep 5 16:04:34 2014 -0700

    UnDelegatePuller converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Sep 5 15:58:21 2014 -0700

    UnDelegateMainAssist converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Sep 5 15:54:07 2014 -0700

    UndelegateMainTank converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Sep 5 15:46:06 2014 -0700

    DelegatePuller converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Sep 5 15:27:12 2014 -0700

    DelegateMainTank converted to QueryDatabase

Author: Uleat
Date:   Fri Sep 5 16:46:03 2014 -0400

    Fix for gcc failure - Can't fix stupid!

Author: Uleat
Date:   Fri Sep 5 16:16:56 2014 -0400

    Fix for losing 2nd and 3rd cursor items after zoning

Author: Robregen
Date:   Fri Sep 5 12:51:39 2014 -0700

    fixed various slots.

Author: Arthur Ice
Date:   Fri Sep 5 10:45:36 2014 -0700

    LearnMembers converted to QueryDatabase

Author: Mackal
Date:   Fri Sep 5 13:26:44 2014 -0400

    Fix logging macros
    
    macros should be fully wrapped in do { ... } while(false) to prevent
    any accidental coding issues (like else being eaten!!!)

Author: Robregen
Date:   Fri Sep 5 10:26:09 2014 -0700

    correct to match the slot before the eqemu master merge.

Author: Arthur Ice
Date:   Thu Sep 4 22:51:31 2014 -0700

    Fix iterator on mercstance crash bug

Author: Robregen
Date:   Thu Sep 4 21:56:43 2014 -0700

    change to lower case in patch files.

Author: Arthur Ice
Date:   Thu Sep 4 18:20:41 2014 -0700

    AddSpawnFromSpawnGroup converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Sep 4 18:13:23 2014 -0700

    Moved add spawn from spawn group command case (5) from NPCSpawnDB into method AddSpawnFromSpawnGroup

Author: Arthur Ice
Date:   Thu Sep 4 17:15:09 2014 -0700

    DeleteSpawnRemoveFromNPCTypeTable converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Sep 4 16:44:52 2014 -0700

    DeleteSpawnLeaveInNPCType converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Sep 4 16:28:03 2014 -0700

    Moved deleting npc spawn command case (3) from NPCSpawnDB into method DeleteSpawnLeaveInNPCTypeTable

Author: Arthur Ice
Date:   Thu Sep 4 15:45:31 2014 -0700

    UpdateNPCTypeAppearance converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Sep 4 15:32:41 2014 -0700

    Moved updating npc type appearance command case (2) from NPCSpawnDB into method UpdateNPCTypeAppearance

Author: Arthur Ice
Date:   Thu Sep 4 14:53:55 2014 -0700

    AddNewNPCSpawnGroupCommand converted to QueryDatabase

Author: Robregen
Date:   Thu Sep 4 14:58:58 2014 -0700

    fixed the item on cursor bug after death.

Author: Arthur Ice
Date:   Thu Sep 4 12:38:11 2014 -0700

    Moved add new NPC spawngroup command case (1) from NPCSpawnDB into method AddNewNPCSpawnGroupCommand

Author: Robregen
Date:   Thu Sep 4 13:01:06 2014 -0700

    correct the slot id number

Author: Robregen
Date:   Thu Sep 4 12:35:41 2014 -0700

    added a missing login CMakeLists file

Author: Arthur Ice
Date:   Thu Sep 4 12:26:05 2014 -0700

    CreateNewNPCCommand converted to QueryDatabase

Author: Robregen
Date:   Thu Sep 4 12:24:54 2014 -0700

    removed extra files.

Author: Robregen
Date:   Thu Sep 4 12:13:19 2014 -0700

    added more merge from eqemu branch including the slot revamped change.
    added mac_constants.h
    readjust the eq_constants and dictionary.cpp to mac settings.
    disabled merchant probabily which causes the merchant list to not appear.

Author: Arthur Ice
Date:   Thu Sep 4 10:08:02 2014 -0700

    Moved create new NPC command case (0) from NPCSpawnDB into method CreateNewNPCCommand

Author: Akkadius
Date:   Thu Sep 4 07:24:17 2014 -0500

    State of Commit: Testable if you ask me (Akkadius) what you need to do
     - Need to convert a list of functions and columns and should be ready to start intensive testing phase
     - All preliminary tests show things working great
    
    - All of player profile is saved and loaded from the database
    - DBAsync has been completely removed from all code
            - Removed zone/dbasync.cpp/.h
            - Removed common/dbasync.cpp/.h
            - Removed dbasync from cmake commmon and zone
    - Cleaned up a ton of functions
    - Added several tables to world CheckDatabaseConversions script:
            - `character_skills`
            - `character_languages`
            - `character_bind`
            - `character_alternate_abilities`
            - `character_currency`
            - `character_data`
            - `character_spells`
            - `character_memmed_spells`
            - `character_disciplines`
            - `character_material`
            - `character_tribute`
            - `character_bandolier`
            - `character_potionbelt`
    - Character select now loads from `character_data`
    - Character creation now creates to `character_data`
    - Updated function Database::UpdateName to use `character_data`
    - Updated function Database::CheckUsedName to use `character_data`
    - Updated function Database::MoveCharacterToZone to use `character_data`
    - Updated function Database::SetLoginFlags to use `character_data`
    - Updated function Database::SetFirstLogon to use `character_data`
    - Updated function Database::SetLFG to use `character_data`
    - Removed CopyCharacter functions and commands, to be recreated later since it never worked to begin with
    - Removed SharedDatabase::SetPlayerProfile
    - Trimmed down redundant case switch statements for World sendpackets to QueryServ
    - Added Character Methods to Database class:
            Loads:
                    bool    LoadCharacterBandolier(uint32 character_id, PlayerProfile_Struct* pp);
                    bool    LoadCharacterTribute(uint32 character_id, PlayerProfile_Struct* pp);
                    bool    LoadCharacterPotions(uint32 character_id, PlayerProfile_Struct* pp);
            Saves:
                    bool    SaveCharacterBindPoint(uint32 character_id, uint32 zone_id, uint32 instance_id, float x, float y, float z, float heading, uint8 is_home);
                    bool    SaveCharacterCurrency(uint32 character_id, PlayerProfile_Struct* pp);
                    bool    SaveCharacterData(uint32 character_id, uint32 account_id, PlayerProfile_Struct* pp);
                    bool    SaveCharacterAA(uint32 character_id, uint32 aa_id, uint32 current_level);
                    bool    SaveCharacterSpellSwap(uint32 character_id, uint32 spell_id, uint32 from_slot, uint32 to_slot);
                    bool    SaveCharacterSpell(uint32 character_id, uint32 spell_id, uint32 slot_id);
                    bool    SaveCharacterMemorizedSpell(uint32 character_id, uint32 spell_id, uint32 slot_id);
                    bool    SaveCharacterMaterialColor(uint32 character_id, uint32 slot_id, uint32 color);
                    bool    SaveCharacterSkill(uint32 character_id, uint32 skill_id, uint32 value);
                    bool    SaveCharacterLanguage(uint32 character_id, uint32 lang_id, uint32 value);
                    bool    SaveCharacterDisc(uint32 character_id, uint32 slot_id, uint32 disc_id);
                    bool    SaveCharacterTribute(uint32 character_id, PlayerProfile_Struct* pp);
                    bool    SaveCharacterBandolier(uint32 character_id, uint8 bandolier_id, uint8 bandolier_slot, uint32 item_id, uint32 icon, const char* bandolier_name);
                    bool    SaveCharacterPotionBelt(uint32 character_id, uint8 potion_id, uint32 item_id, uint32 icon);
            Deletes:
                    bool    DeleteCharacterSpell(uint32 character_id, uint32 spell_id, uint32 slot_id);
                    bool    DeleteCharacterMemorizedSpell(uint32 character_id, uint32 spell_id, uint32 slot_id);
                    bool    DeleteCharacterDisc(uint32 character_id, uint32 slot_id);
                    bool    DeleteCharacterBandolier(uint32 character_id, uint32 band_id);

Author: Arthur Ice
Date:   Wed Sep 3 23:26:09 2014 -0700

    saylink converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 23:17:20 2014 -0700

    clearspawntimers converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 23:14:16 2014 -0700

    showgrid converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 23:10:42 2014 -0700

    delglobal converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 23:07:28 2014 -0700

    InsertQuestGlobal converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 21:05:31 2014 -0700

    RemoveTitle converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 21:03:00 2014 -0700

    CheckTitle converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 21:00:15 2014 -0700

    EnableTitle converted to QueryDatabase

Author: Uleat
Date:   Wed Sep 3 23:59:55 2014 -0400

    Client timer issue fix

Author: Arthur Ice
Date:   Wed Sep 3 20:57:26 2014 -0700

    CreateNewPlayerSuffix converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 20:52:00 2014 -0700

    CreateNewPlayerTitle converted to QueryDatabase

Author: Mackal
Date:   Wed Sep 3 23:50:23 2014 -0400

    Add #shownumhits workaround command to show numhits

Author: Arthur Ice
Date:   Wed Sep 3 20:45:38 2014 -0700

    LoadTitles converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 20:34:07 2014 -0700

    SendBuyerResults converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 20:24:30 2014 -0700

    ShowBuyLines converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 20:18:07 2014 -0700

    SendBazaarResults converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 19:39:50 2014 -0700

    SendBazaarWelcome converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 19:33:20 2014 -0700

    BazaarAuditTrail converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 19:28:25 2014 -0700

    GetHighestGrid converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 19:17:55 2014 -0700

    AddItem converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 19:10:27 2014 -0700

    SetGuildDoor converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 19:07:49 2014 -0700

    CheckGuildDoor converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 18:49:47 2014 -0700

    GetEquipmentColor converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 18:46:41 2014 -0700

    ProcessBoyCommands converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 18:41:21 2014 -0700

    LoadGuildMembership converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 18:31:14 2014 -0700

    SetBotGuildMembership converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 18:24:30 2014 -0700

    GetBotOwnerCharacterID converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 18:21:17 2014 -0700

    CreatedBotCount converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 18:16:22 2014 -0700

    AllowedBotSpawns converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 18:13:15 2014 -0700

    GetBotGroupLeaderIdByBotGroupName converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 18:09:53 2014 -0700

    GetBotGroupIdByBotGroupName converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 18:06:05 2014 -0700

    CanLoadBotGroup converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 18:01:32 2014 -0700

    DoesBotGroupNameExist converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 17:57:10 2014 -0700

    GetBotGroupListByBotOwnerCharacterId converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 17:52:06 2014 -0700

    LoadBotGroup converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 17:47:38 2014 -0700

    DeleteBotGroup converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 17:43:18 2014 -0700

    SaveBotGroup converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 17:36:59 2014 -0700

    ListSpawnedBots converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 17:32:55 2014 -0700

    GetBotList converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 17:26:51 2014 -0700

    GetGroupedBotsByGroupID converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 17:18:50 2014 -0700

    LoadBot converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 17:11:06 2014 -0700

    GetBotIDByBotName converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 17:07:11 2014 -0700

    GetBotItemsCount converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 17:04:21 2014 -0700

    GetBotItemBySlot converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 16:52:18 2014 -0700

    GetBotItems converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 16:43:59 2014 -0700

    RemoveBotItemBySlot converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 16:40:31 2014 -0700

    SetBotItemInSlot converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 16:29:47 2014 -0700

    DeleteBot converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 16:22:45 2014 -0700

    SaveTimers converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 16:16:04 2014 -0700

    LoadTimers converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 16:11:13 2014 -0700

    SaveStance converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 16:07:10 2014 -0700

    LoadStance converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 16:02:02 2014 -0700

    DeletePetStats converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 15:56:19 2014 -0700

    DeletePetItems converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 15:55:05 2014 -0700

    DeletePetBuffs converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 15:53:32 2014 -0700

    SavePetItems converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 15:47:14 2014 -0700

    SavePetBuffs converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 15:42:32 2014 -0700

    SavePetStats converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 15:38:15 2014 -0700

    LoadPetItems converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 15:28:13 2014 -0700

    LoadPetBuffs converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 15:19:44 2014 -0700

    LoadPetStats converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 15:14:21 2014 -0700

    GetPetSaveId converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 15:11:33 2014 -0700

    LoadBuffs converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 14:57:39 2014 -0700

    SaveBuffs converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 14:16:21 2014 -0700

    Save converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Sep 3 13:59:05 2014 -0700

    IsBotNameValid converted to QueryDatabase

Author: Secrets
Date:   Wed Sep 3 18:34:31 2014 -0400


Author: Secrets
Date:   Wed Sep 3 18:25:21 2014 -0400

    Identified the routines needed to augment items in RoF. Currently, only Insert and Remove are supported. Swap and Destroy do not work due to missing functions related to the cursor.

Author: Arthur Ice
Date:   Wed Sep 3 13:49:04 2014 -0700

    LoadAAs converted to QueryDatabase

Author: Robregen
Date:   Wed Sep 3 10:25:30 2014 -0700

    fixed the remaining compiling error and update to the latest commit

Author: Robregen
Date:   Wed Sep 3 01:02:12 2014 -0700

    fixed a lot of errors as result of merge.

Author: Secrets
Date:   Tue Sep 2 22:09:38 2014 -0400

    changelog.txt

Author: Secrets
Date:   Tue Sep 2 22:07:49 2014 -0400

    Oops.

Author: Uleat
Date:   Tue Sep 2 21:19:30 2014 -0400

    Changed #loc to report the same precision as /loc for Cartesians

Author: Secrets
Date:   Tue Sep 2 21:16:20 2014 -0400

    Secrets: Identified OP_GuildPromote for RoF clients.
    Secrets: Fixed promotion, demotion, transferring a leader and displaying of client ranks in the Rain of Fear client. The rain of fear client, as such, will only have 3 ranks like the other clients, but supports a theoretical 8 ranks later.
    Secrets/Akkadius: Fixed an issue involving character name lookup in the new DB code.

Author: Arthur Ice
Date:   Tue Sep 2 10:54:42 2014 -0700

    Fixed bug with loading failing on Guild bank areas

Author: Mackal
Date:   Tue Sep 2 02:39:03 2014 -0400

    Fix crash issue in zone/hate_list.cpp

Author: Akkadius
Date:   Mon Sep 1 23:54:15 2014 -0500

    -

Author: Akkadius
Date:   Mon Sep 1 22:17:06 2014 -0500

     Fixed Character select to be loaded from new character data tables

Author: Robregen
Date:   Mon Sep 1 17:16:14 2014 -0700

    fixed some mistyped / mismatch header and source name.

Author: KLS
Date:   Mon Sep 1 15:48:22 2014 -0700

    Fixed non-conforming sql files.

Author: Mackal
Date:   Mon Sep 1 02:58:52 2014 -0400

    Fix issue with requesting an adventure

Author: Uleat
Date:   Mon Sep 1 00:07:21 2014 -0400

    Script update for opcode_handlers.py - changes in file names.

Author: KLS
Date:   Sun Aug 31 20:27:02 2014 -0700

    Various bug fixes

Author: Akkadius
Date:   Sun Aug 31 21:58:04 2014 -0500

    pp revert

Author: Akkadius
Date:   Sun Aug 31 21:31:44 2014 -0500

    More stuff

Author: Robregen
Date:   Sun Aug 31 16:20:47 2014 -0700

    renaming zone

Author: Akkadius
Date:   Sun Aug 31 17:52:43 2014 -0500

    Fix void Database::GetCharName(uint32 char_id, char* name)
    Increased MAX_PP_SPELLBOOK to 720 for UF/RoF
    Increased MAX_PP_MEMSPELL to 12
    Implemented up to 12 spell slots
    Fix for public_note default value in bool BaseGuildManager::DBSetGuild(uint32 charid, uint32 guild_id, uint8 rank)
    Updated all CastSpell entries to use the appropriate slot type defines located now in zone/common.h
    Fixed Guild Loading from character_data
    Fixed #guild list
    Refactored Merchantlist loading
    Refactored Temp Merchantlist loading
    Gutted most of dbasync
    
    Added:
    LoadCharacterSpellBook(uint32 character_id, PlayerProfile_Struct* pp);
    LoadCharacterMemmedSpells(uint32 character_id, PlayerProfile_Struct* pp);
    LoadCharacterLanguages(uint32 character_id, PlayerProfile_Struct* pp);
    LoadCharacterBindPoint(uint32 character_id, PlayerProfile_Struct* pp);
    SaveCharacterSpellSwap(uint32 character_id, uint32 spell_id, uint32 from_slot, uint32 to_slot);
    SaveCharacterSpell(uint32 character_id, uint32 spell_id, uint32 slot_id);
    SaveCharacterMemorizedSpell(uint32 character_id, uint32 spell_id, uint32 slot_id);
    DeleteCharacterSpell(uint32 character_id, uint32 spell_id, uint32 slot_id);
    DeleteCharacterMemorizedSpell(uint32 character_id, uint32 spell_id, uint32 slot_id);
    
    Removed Zone::LoadTempMerchantData_result(MYSQL_RES* result)
    Removed Zone::LoadMerchantData_result(MYSQL_RES* result)
    Removed SharedDatabase::GetPlayerProfile
    Removed SharedDatabase::SetPlayerProfile
    Removed SharedDatabase::SetPlayerProfile_MQ
    Removed Zone::DBAWComplete(uint8 workpt_b1, DBAsyncWork* dbaw) from zone.cpp

Author: Robregen
Date:   Sun Aug 31 14:49:24 2014 -0700

    renaming loginserver and common/patch

Author: Robregen
Date:   Sun Aug 31 13:55:26 2014 -0700

    renaming eqlaunch and world files.

Author: Robregen
Date:   Sun Aug 31 12:48:24 2014 -0700

    renaming common files.

Author: Akkadius
Date:   Sun Aug 31 07:52:52 2014 -0500

    Made many adjustments to character load code.
    
    Removed bool Client::FinishConnState2(DBAsyncWork* dbaw)
    Removed all async character loads
    Removed bool    GetAccountInfoForLogin
    Removed bool    GetAccountInfoForLogin_result
    Removed bool    GetCharacterInfoForLogin_result
    Removed bool    GetCharacterInfoForLogin
    
    Added:
    bool    LoadCharacterFactionValues(uint32 character_id, faction_map & val_list);
    bool    LoadCharacterDisciplines(uint32 character_id, PlayerProfile_Struct* pp);
    bool    LoadCharacterSkills(uint32 character_id, PlayerProfile_Struct* pp);

Author: Akkadius
Date:   Sun Aug 31 05:52:36 2014 -0500

    Added the following tables to player profile automatic conversion during world bootup:
    
    `character_bind_home`;
    `character_alternate_abilities`;
    `character_currency`;
    `character_data`;
    `character_spells`;
    `character_memmed_spells`;
    `character_disciplines`;

Author: Akkadius
Date:   Sun Aug 31 03:23:42 2014 -0500

    Added automatic table creation in conversion process.
    
    More will come when more tables are added

Author: Akkadius
Date:   Sun Aug 31 02:53:59 2014 -0500

    At point of commit:
    
    Basic character data, currency and AA are being loaded/saved from the database, currently working on the rest right now.
    - Character blob removed from load for testing. Lots of cleanup yet to be done so don't judge code yet.
    
    Saves:
    - Two FULL saves when looting a corpse, this has been reduced to just currency saves on initial loot and trimmed to one save since AddToMoneyPP did it already
    - Every time a player moves coin with any situation (Splits/Trades/Merchant/Skills/Bank Coin Exchange/Coin Moves), a full save is made, this is now just a currency save
    - Every time a player skilled up at a skill vendor, a full blob save hit was made, this is not just a currency hit

Author: Speedz
Date:   Sat Aug 30 12:12:23 2014 -0700

    * Reverted save tests to rule out if connection stability is related to this or the newly allowed boxing.

Author: Mackal
Date:   Sat Aug 30 01:38:49 2014 -0400

    (noudess) Merchants are more descriptive in their rejections

Author: Speedz
Date:   Thu Aug 28 20:20:24 2014 -0700

    * Forage and fishing desync test fix as well.

Author: Speedz
Date:   Thu Aug 28 15:51:04 2014 -0700

    * More desync tests
    * Commented out the spammy save message as its not needed atm on live.
    * Added a save call in the inventory.cpp to test if that smooths out desyncs.
    * I left in a save call I put in tradeskills.cpp that I used to test, but commented as the previous should cover that well. But wanted to have that to refer to later if needed.

Author: KLS
Date:   Thu Aug 28 03:47:28 2014 -0700

    Crash fixes oh my

Author: KLS
Date:   Thu Aug 28 03:17:47 2014 -0700

    Crash fixes

Author: Arthur Ice
Date:   Thu Aug 28 00:10:55 2014 -0700

    LogMerchantTransaction converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 28 00:03:32 2014 -0700

    LogPlayerMove converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 27 23:57:55 2014 -0700

    LogPlayerDelete converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 27 23:50:58 2014 -0700

    LogPlayerNPCKill converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 27 23:44:03 2014 -0700

    LogPlayerHandin converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 27 23:36:36 2014 -0700

    LogPlayerTrade converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 27 23:21:09 2014 -0700

    AddSpeech converted to QueryDatabase

Author: Mackal
Date:   Thu Aug 28 02:15:37 2014 -0400

    Fix crash with MySQLRequestResult::ErrorMessage()

Author: Arthur Ice
Date:   Wed Aug 27 22:57:03 2014 -0700

    Fixed crash on expire mail success, messages where switched accidentally

Author: Akkadius
Date:   Wed Aug 27 14:26:36 2014 -0500

    NPC::ModifyNPCStat function bloat cleanup

Author: Akkadius
Date:   Wed Aug 27 09:55:39 2014 -0500

    Initial work

Author: Speedz
Date:   Tue Aug 26 14:54:00 2014 -0700

    * Temporary fix to troubleshoot Save() if this helps fix some desync and save issues then Save() may need to be redone.

Author: Uleat
Date:   Tue Aug 26 06:37:40 2014 -0400

    Tweaked QS code for Client::FinishTrade() and QueryServ handlers.

Author: KLS
Date:   Mon Aug 25 22:59:52 2014 -0700

    Changed void* to EQEmu::Any in quest interface. Been meaning to change from void* for a while to a structure that data hides instead.

Author: KLS
Date:   Mon Aug 25 22:31:02 2014 -0700

    Added eqemu::any

Author: Uleat
Date:   Mon Aug 25 22:29:00 2014 -0400

    Added QS code to Client::FinishTrade()

Author: Arthur Ice
Date:   Mon Aug 25 15:10:46 2014 -0700

    UpdateItemQuantity converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 25 12:43:14 2014 -0700

    DeleteItem converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 25 12:33:09 2014 -0700

    SetPermissions converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 25 12:15:06 2014 -0700

    Promote converted to QueryDatabase

Author: Mackal
Date:   Sun Aug 24 22:28:37 2014 -0400

    Remove extra c_str() non-sense now that the bug is fixed

Author: KLS
Date:   Sun Aug 24 16:30:02 2014 -0700

    Idiot kls missed a file

Author: KLS
Date:   Sun Aug 24 16:26:51 2014 -0700

    Basic string tests, plus fix for StringFormat returning a std::string that was just very subtley malformed.

Author: KayenEQ
Date:   Sun Aug 24 19:11:41 2014 -0400

    Added param to special attack NPC_NO_CHASE
    Param 2 = If set will disable LOS check

Author: Arthur Ice
Date:   Sun Aug 24 16:02:21 2014 -0700

    Load converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 14:21:33 2014 -0700

    Handle_OP_GMSearchCorpse converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 14:13:06 2014 -0700

    Handle_OP_SetStartCity converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 14:06:52 2014 -0700

    Handle_OP_ItemLinkClick converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 13:47:18 2014 -0700

    GetCondition converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 13:31:55 2014 -0700

    LoadSpawnConditions converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 13:18:51 2014 -0700

    LoadDBEvent converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 13:13:11 2014 -0700

    UpdatedDBCondition converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 13:10:15 2014 -0700

    UpdateDBEvent converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 13:07:15 2014 -0700

    CreateSpawn2 converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 13:03:45 2014 -0700

    LoadSpawn2 converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 13:00:39 2014 -0700

    PopulateZoneSpawnList converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 12:54:06 2014 -0700

    LoadSpawnGroupsByID converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 12:46:02 2014 -0700

    LoadSpawnGroups converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 12:37:44 2014 -0700

    SpellGlobalCheck converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 12:21:16 2014 -0700

    LoadStaticZonePoints converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 12:14:16 2014 -0700

    LoadDoors converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 12:08:39 2014 -0700

    GetDoorsDBCountPlusOne converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 12:00:45 2014 -0700

    GetDoorsCountPlusOne converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 24 11:53:28 2014 -0700

    GetDoorsCount converted to QueryDatabase

Author: Akkadius
Date:   Sun Aug 24 08:52:14 2014 -0500

    Created `character_lookup` table for applications that mirrors all `character_` table fields minus blob fields for application lookups
            - A 2.4GB character_ table will take 7 seconds to query on a SSD versus .1s on the character_lookup table
            - This also causes applications like Magelo to burst reads of the entire character table because of the blob fields that come with the reads, as much as 500-600MB/s even if a indexed id filter is provided
            - This field is synchronized on player save and has 0.001s DB hit
            - When we split out from the blob, ideally this table can be removed, but it really does no harm in mirroring data when a 2.6GB character table mirrors everything subtracting blob data down to 8MB
            - Required SQL: utils\sql\git\required\2014_08_24_character_lookup.sql

Author: Akkadius
Date:   Sun Aug 24 07:13:15 2014 -0500

    Character creation process crash fix (world) and query cleanup

Author: Uleat
Date:   Sun Aug 24 05:42:43 2014 -0400

    First attempt at fixing zone shutdown crashes. (Mob timer processing accessing released resources.)

Author: Akkadius
Date:   Sun Aug 24 02:50:39 2014 -0500

    Query Fix for SendQuery (Temporary)

Author: Arthur Ice
Date:   Sat Aug 23 23:26:45 2014 -0700

    ExpeditionSay converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 23:23:26 2014 -0700

    SetAccountFlag converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 23:20:55 2014 -0700

    LoadAccountFlags converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 23:15:49 2014 -0700

    TryReward converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 23:05:58 2014 -0700

    SendRewards converted to QueryDatabase

Author: Mackal
Date:   Sun Aug 24 02:02:42 2014 -0400

    strlen to std::string::length
    
    Minor style nits!

Author: Arthur Ice
Date:   Sat Aug 23 22:59:38 2014 -0700

    DiscoverItem converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 22:52:46 2014 -0700

    IsDiscovered converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 22:49:27 2014 -0700

    KeyRingAdd converted to QueryDatabase

Author: Mackal
Date:   Sun Aug 24 01:48:29 2014 -0400

    Fix gcc compile error

Author: Arthur Ice
Date:   Sat Aug 23 22:46:29 2014 -0700

    KeyRingLoad converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 22:33:05 2014 -0700

    GetFriendAndIgnore converted to QueryDatabase

Author: Akkadius
Date:   Sun Aug 24 00:28:45 2014 -0500

    2nd Nix fix

Author: Arthur Ice
Date:   Sat Aug 23 22:22:49 2014 -0700

    RemoveFriendOrIgnore converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 22:20:16 2014 -0700

    AddFriendOrIgnore converted to QueryDatabase

Author: Akkadius
Date:   Sun Aug 24 00:17:31 2014 -0500

    Cosmetic log fix from merge

Author: Arthur Ice
Date:   Sat Aug 23 22:16:37 2014 -0700

    ExpiredMail converted to QueryDatabase

Author: Akkadius
Date:   Sun Aug 24 00:09:09 2014 -0500

    Nix fix

Author: Arthur Ice
Date:   Sat Aug 23 22:07:04 2014 -0700

    SetMessageStatus converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 22:00:40 2014 -0700

    SendMail converted to QueryDatabase

Author: Akkadius
Date:   Sat Aug 23 23:59:20 2014 -0500

    Changed zone process window title format, example: 'crushbone :: clients: 6 inst_id: 1 inst_ver: 0 :: port: 7015'
    Most of the following changes are QueryServ related, fully implemented its original functionality to be able to offload
            intensive or metric based logging to a remote server process that could exist on another server entirely
    Implemented Player Event Logging Types (Go to table `qs_player_events`):
                    1 = Player_Log_Quest,
                    2 = Player_Log_Zoning,
                    3 = Player_Log_Deaths,
                    4 = Player_Log_Connect_State,
                    5 = Player_Log_Levels,
                    6 = Player_Log_Keyring_Addition,
                    7 = Player_Log_QGlobal_Update,
                    8 = Player_Log_Task_Updates,
                    9 = Player_Log_AA_Purchases,
                    10 = Player_Log_Trade_Skill_Events,
                    11 = Player_Log_Issued_Commands,
                    12 = Player_Log_Money_Transactions,
                    13 = Player_Log_Alternate_Currency_Transactions,
                    - All QueryServ logging will be implemented with a front end in EoC 2.0 very soon
    Changed all QS Error related logging to 'QUERYSERV__ERROR'
    (Natedog) (Crash Fix) Legacy MySQL bug revert for loading AA's COALESCE( from COALESCE (
    Implemented Perl Quest objects (LUA still needed to be exported):
            - quest::qs_send_query("MySQL query") - Will send a raw query to the QueryServ process, useful for custom logging
            - quest::qs_player_event(char_id, event_desc); - Will process a quest type event to table `qs_player_events`
    Added MySQL Tables:
            - `qs_player_aa_rate_hourly`
            - `qs_player_events`
            - Source table structures from:
                    - utils\sql\git\queryserv\required\08_23_2014_player_events_and_player_aa_rate_hourly
                    To get the complete QueryServ schema, source from here:
                    - utils\sql\git\queryserv\required\Complete_QueryServ_Table_Structures.sql
    Added rules for each logging type, source rules here with them enabled by default:
            - utils\sql\git\queryserv\required\Complete_QueryServ_Rules_Enabled.sql
    Spawn related logging cleanup
    General code cleanup
    Added queryserv.cpp and queryserv.h with QueryServ class

Author: Arthur Ice
Date:   Sat Aug 23 21:51:40 2014 -0700

    SendBody converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 21:47:59 2014 -0700

    SendHeaders converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 21:38:57 2014 -0700

    SetChannelOwner converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 21:34:27 2014 -0700

    SetChannelPassword converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 21:31:26 2014 -0700

    LoadChatChannels converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 21:27:18 2014 -0700

    GetVariable converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 21:24:28 2014 -0700

    FindCharacter converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 21:18:47 2014 -0700

    VerifyMailKey converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 21:16:05 2014 -0700

    FindAccount converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Aug 23 21:10:30 2014 -0700

    GetAccountStatus converted to QueryDatabase

Author: KayenEQ
Date:   Sat Aug 23 03:21:36 2014 -0400

    Implemented NPC special ability 40 'NPC_CHASE_DISTANCE'
    Param 0: Sets max distance you need to be away from an npc for it to chase you.
    Param 1: Sets min distance you need to be from npc for it to chase you.
    Usage: Ideally used with ranged attack npcs / casters who you DO NOT WANT
    to chase you unless you get too close or too far or out of sight.

Author: JJ
Date:   Fri Aug 22 22:28:40 2014 -0400

    Revert accident in 089360a3a5c71df7944a8521a07c2e83e6cda64d. Looks like it was meant for 7-10 instead of 4-10.

Author: Uleat
Date:   Fri Aug 22 20:48:11 2014 -0400

    Trade Stacking: BETA

Author: KLS
Date:   Fri Aug 22 14:50:13 2014 -0700

    Fix for aa effect loading.

Author: KLS
Date:   Thu Aug 21 23:55:04 2014 -0700

    Missed a file, thanks NTFS

Author: KLS
Date:   Thu Aug 21 23:46:01 2014 -0700

    Renamed zone files

Author: KLS
Date:   Thu Aug 21 23:30:09 2014 -0700

    More renames, world should be done

Author: KLS
Date:   Thu Aug 21 23:05:21 2014 -0700

    More renames

Author: KLS
Date:   Thu Aug 21 22:43:33 2014 -0700

    Moved some around, more renames

Author: KayenEQ
Date:   Fri Aug 22 00:35:14 2014 -0400

    Fix for NPC ranged attacks not allowing for multiple hits
    if set by special attack 11, also changed paramater 0 (which was
    incorrectly set as both 'amount of attacks' and 'min range'
    0 = amount attacks
    4 = min attack range
    
    Fix to spell directional effect targeting.

Author: KLS
Date:   Thu Aug 21 19:36:50 2014 -0700

    Missed Mutex.h

Author: KLS
Date:   Thu Aug 21 19:34:45 2014 -0700

    Got rid of socket_server, why the heck is it still around

Author: KLS
Date:   Thu Aug 21 19:33:02 2014 -0700

    Tons of renames

Author: Arthur Ice
Date:   Thu Aug 21 17:24:48 2014 -0700

    GetAccountInfoForLogin_result converted to MySQLRequestResult

Author: KLS
Date:   Thu Aug 21 17:30:00 2014 -0700

    Missed eq stream factory

Author: KLS
Date:   Thu Aug 21 17:26:32 2014 -0700

    Renaming headers is hard work

Author: Arthur Ice
Date:   Thu Aug 21 17:17:27 2014 -0700

    LoadFactionData converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 17:08:31 2014 -0700

    SetCharacterFactionLevel converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 17:04:08 2014 -0700

    LoadFactionValues converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 17:00:50 2014 -0700

    LoadFactionValues_result converted to MySQLRequestResult

Author: KLS
Date:   Thu Aug 21 16:59:32 2014 -0700

    More file renames.

Author: KLS
Date:   Thu Aug 21 16:44:02 2014 -0700

    Renaming files

Author: Mackal
Date:   Thu Aug 21 19:17:40 2014 -0400

    Fix dangling else statements

Author: Mackal
Date:   Thu Aug 21 19:02:29 2014 -0400

    Fix error in EQRawApplicationPacket::EQRawApplicationPacket()

Author: Arthur Ice
Date:   Thu Aug 21 15:58:11 2014 -0700

    LoadPetInfo converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 15:32:20 2014 -0700

    RemoveTempFactions converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 15:30:27 2014 -0700

    SavePetInfo converted to QueryDatabase

Author: Mackal
Date:   Thu Aug 21 18:10:40 2014 -0400

    Fix some if checks in Mob::CalcFocusEffect()

Author: Mackal
Date:   Thu Aug 21 17:59:52 2014 -0400

    Fix compiler warning in zone/inventory.cpp

Author: Mackal
Date:   Thu Aug 21 17:56:32 2014 -0400

    Fix incorrect array size on A/B/C/DStackers

Author: Mackal
Date:   Thu Aug 21 17:54:49 2014 -0400

    Clean up some compiler warnings with Stop_Return

Author: Arthur Ice
Date:   Thu Aug 21 13:53:54 2014 -0700

    LoadBuffs converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 13:42:02 2014 -0700

    SaveBuffs converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 13:36:01 2014 -0700

    UpdateAltCurrencyValues converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 13:34:19 2014 -0700

    LoadAltCurrencyValues converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 13:26:38 2014 -0700

    InsertDoor converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 13:22:21 2014 -0700

    QGlobalPurge converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 13:19:37 2014 -0700

    ListAllInstances converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 13:08:57 2014 -0700

    UpdateKarma converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 13:06:33 2014 -0700

    GetKarma converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 12:51:09 2014 -0700

    getZoneShutDownDelay converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 12:46:52 2014 -0700

    LoadBlockedSpells converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 12:39:38 2014 -0700

    GetBlockedSpellsCount converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 12:35:33 2014 -0700

    RaidGroupCount converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 12:30:06 2014 -0700

    GroupCount converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 12:25:32 2014 -0700

    RefreshGroupFromDB converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Aug 21 12:01:22 2014 -0700

    GetCharacterInfoForLogin removed, unused, unsupported

Author: Arthur Ice
Date:   Thu Aug 21 11:52:15 2014 -0700

    GetAccountInfoForLogin removed, unused, unsupported

Author: Kinglykrab
Date:   Wed Aug 20 23:41:47 2014 -0400

    Adds new column to 'merchantlist' table.
    
    Adds 'probability' after 'classes_required', valid values are 0 to 100.

Author: Arthur Ice
Date:   Wed Aug 20 23:26:41 2014 -0700

    SetZoneTZ converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 23:13:59 2014 -0700

    GetZoneTZ converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 23:07:19 2014 -0700

    Removed Get/SetServerFilters, unused and unsupported

Author: Arthur Ice
Date:   Wed Aug 20 22:14:40 2014 -0700

    GetUseCFGSafeCoords converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 22:11:14 2014 -0700

    UpdateZoneSafeCoords converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 22:06:56 2014 -0700

    SaveMerchantTemp converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 22:04:40 2014 -0700

    GetGridType converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 22:00:00 2014 -0700

    LoadMercEquipment converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 21:54:28 2014 -0700

    DeleteMerc converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 21:46:23 2014 -0700

    LoadMercBuffs converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 21:30:51 2014 -0700

    SaveMercBuffs converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 21:17:17 2014 -0700

    SaveMerc converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 21:04:00 2014 -0700

    LoadCurrentMerc converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 20:58:11 2014 -0700

    LoadMercInfo converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 20:50:36 2014 -0700

    GetMercType converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 20:21:39 2014 -0700

    GetNPCType converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 19:46:23 2014 -0700

    NoRentExpired converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 19:28:53 2014 -0700

    UpdateBuyLine converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 19:20:32 2014 -0700

    RemoveBuyLine converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 19:02:28 2014 -0700

    AddBuyLine converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 18:59:17 2014 -0700

    DeleteBuyLines converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 18:55:42 2014 -0700

    DeleteTraderItem converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 18:53:05 2014 -0700

    DeleteTraderItem converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 18:50:10 2014 -0700

    UpdateTraderItemPrice converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 18:42:25 2014 -0700

    UpdateTraderItemCharges converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 18:38:57 2014 -0700

    SaveTraderItem converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 18:35:54 2014 -0700

    LoadSingleTraderItem converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 18:21:50 2014 -0700

    LoadTraderItemWithCharges converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 18:16:05 2014 -0700

    LoadTraderItem converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 18:06:03 2014 -0700

    DeleteWorldContainer converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 18:03:02 2014 -0700

    SaveWorldContainer converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 17:57:44 2014 -0700

    LoadWorldContainer converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 17:51:52 2014 -0700

    GetEventLogs converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 17:46:12 2014 -0700

    SetSpecialAttkFlag converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 17:42:13 2014 -0700

    UpdateBug converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 17:39:25 2014 -0700

    UpdateBug converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 17:31:16 2014 -0700

    logevents converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 17:27:19 2014 -0700

    UpdateSpawn2Status converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 17:25:27 2014 -0700

    GetSpawnTimeLeft converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 17:21:07 2014 -0700

    UpdateSpawn2Timeleft converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 17:16:30 2014 -0700

    GetZoneCFG converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 16:46:17 2014 -0700

    SaveZoneCFG converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 16:39:07 2014 -0700

    UpdateHotzone converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 16:34:35 2014 -0700

    LoadTickItems converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 16:31:05 2014 -0700

    LoadNPCEmotes converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 16:27:12 2014 -0700

    LoadAdventureFlavor converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 16:24:05 2014 -0700

    LoadAlternateCurrencies converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 16:20:46 2014 -0700

    LoadVeteranRewards converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 16:15:55 2014 -0700

    LoadLDoNTrapEntries converted QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 16:08:20 2014 -0700

    LoadLDoNTraps converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 16:05:09 2014 -0700

    GetDecayTimes converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 16:00:36 2014 -0700

    LoadMercSpells converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 15:57:04 2014 -0700

    LoadLevelEXPMods converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 15:53:02 2014 -0700

    LoadMercTemplates converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 15:36:46 2014 -0700

    LoadNewMerchantData converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 15:32:14 2014 -0700

    LoadZoneObjects converted to QueryDatabase

Author: Uleat
Date:   Wed Aug 20 18:30:19 2014 -0400

    Reworked Trade::AddEntity() to allow client-directed movement of stacked items (as close to 'stacking' as I can get it - see changelog.txt)

Author: Arthur Ice
Date:   Wed Aug 20 15:14:36 2014 -0700

    GetHighestWaypoint converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 15:11:12 2014 -0700

    GetFreeGrid converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 15:06:53 2014 -0700

    AddWPForSpawn converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 14:48:57 2014 -0700

    DeleteWaypoint converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 14:44:32 2014 -0700

    AddWP converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 14:40:47 2014 -0700

    ModifyGrid converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 14:32:04 2014 -0700

    AssignGrid converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 14:08:43 2014 -0700

    GetWaypoints converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 14:03:00 2014 -0700

    GetGridType2 converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 13:58:36 2014 -0700

    AssignWaypoints converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 13:31:47 2014 -0700

    LoadTributes converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 13:20:51 2014 -0700

    LoadTraps converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 13:02:27 2014 -0700

    LoadZoneFlags converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 12:55:53 2014 -0700

    ClearZoneFlag converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 12:52:41 2014 -0700

    SetZoneFlag converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 12:48:10 2014 -0700

    CountAAEffects converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 12:45:41 2014 -0700

    CountAAs converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 12:41:37 2014 -0700

    FillAAEffects converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 12:37:02 2014 -0700

    GetAASkillVars converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 12:21:46 2014 -0700

    LoadAAs converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 12:09:59 2014 -0700

    GetTotalAALevels converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 12:05:57 2014 -0700

    LoadAAEffects converted to QueryDatabase

Author: Arthur Ice
Date:   Wed Aug 20 11:58:12 2014 -0700

    LoadAAEffects2 converted to QueryDatabase

Author: Mackal
Date:   Tue Aug 19 20:00:55 2014 -0400

    Properly set '-std=c++0x' as a CXX_FLAGS
    
    This fixes an issue with clang compiling C files.
    (Note: this does not mean clang is supported yet)
    
    Ideally, this should check the compiler for -std=c++11 support,
    then check -std=c++0x if the previous failed, then error if that
    fails as well.

Author: Kemmler
Date:   Tue Aug 19 17:07:27 2014 -0400

    Squashed commit of the following:
    
    Author: Mackal
    Date:   Thu Jun 5 02:57:56 2014 -0400
    
        Update LS default entry in example config
    
    Merge: 3690f93 dd73b82
    Author: KLS
    Date:   Wed Jun 4 18:32:48 2014 -0700
    
        Merge branch 'master' into water_map_v2
    
    Author: KLS
    Date:   Sat May 31 16:32:15 2014 -0700
    
        Fix for fear failing, removed #fear command because it was blank anyway, added a cmake command to change the default map/water/path directory
    
    Author: KLS
    Date:   Tue May 27 16:16:06 2014 -0700
    
        Fix for a problem with global player quests and hasquestsub
    
    Author: KLS
    Date:   Fri May 23 17:39:16 2014 -0700
    
        Fix for string.h missing in water map
    
    Author: KLS
    Date:   Fri May 23 16:10:23 2014 -0700
    
        Merge from master stuff
    
    Merge: 0483e8b 5af47c5
    Author: KLS
    Date:   Fri May 23 16:09:46 2014 -0700
    
        Merge branch 'master' into water_map_v2
    
    Author: KLS
    Date:   Fri May 23 16:08:02 2014 -0700
    
        Removed the logging now that the issue is resolved
    
    Author: KLS
    Date:   Fri May 23 15:54:26 2014 -0700
    
        Debug logs for map, also can actually turn perl off on zone
    
    Author: KLS
    Date:   Wed May 21 17:30:54 2014 -0700
    
        Added loading of v2 regular maps, also #bestz will report water info even if a reg map failed to load.
    
    Author: KLS
    Date:   Tue May 20 00:14:26 2014 -0700
    
        Initial v2 water map format.

Author: Akkadius
Date:   Tue Aug 19 10:58:22 2014 -0500

    Log merge fix

Author: Akkadius
Date:   Tue Aug 19 10:55:29 2014 -0500

    Implemented a Stop_Return feature (Accidental item handin prevention) that will be symmetrically used with plugin::return_items that I am currently running live testing on EZ before releasing to EQEmu. This does not hurt to have this in the source.
    Fixed crash where 'attacker' validation is not being checked
    Removed petition console spam that does not follow traditional logging and is useless
    Made fix with SympatheticProcChances where it was checking for TempItem->Focus.Effect instead of TempItemAug->Focus.Effect

Author: Arthur Ice
Date:   Mon Aug 18 22:12:01 2014 -0700

    GetBasePetItems converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 22:02:35 2014 -0700

    GetPoweredPetEntry converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 21:57:29 2014 -0700

    MakePoweredPet converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 21:46:46 2014 -0700

    RefreshPetitionsFromDB converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 21:36:11 2014 -0700

    UpdatePetitionToDB converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 21:20:55 2014 -0700

    DeletePetitionFromDB converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 21:16:11 2014 -0700

    InsertQuestGlobal converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 21:13:20 2014 -0700

    DelGlobal converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 21:05:38 2014 -0700

    LoadMercs converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 21:01:27 2014 -0700

    LoadMercTypes converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 20:55:28 2014 -0700

    BuildHorseType converted to QueryDatabase

Author: KLS
Date:   Mon Aug 18 20:27:15 2014 -0700

    Token verification

Author: Arthur Ice
Date:   Mon Aug 18 19:18:51 2014 -0700

    GetZoneFishing converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 19:09:06 2014 -0700

    GetZoneForage converted to QueryDatabase

Author: Uleat
Date:   Mon Aug 18 22:13:15 2014 -0400

    Fix for perl scripts passing non-client objects to API handler for MovePC and MovePCInstance. [Fixes #127]

Author: Arthur Ice
Date:   Mon Aug 18 18:54:40 2014 -0700

    Process converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 18:38:51 2014 -0700

    SetDynamicCount converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 18:36:08 2014 -0700

    DeleteStaticZone converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 18:34:15 2014 -0700

    ChangeStaticZone converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 18:31:20 2014 -0700

    BootStaticZone converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 18:28:54 2014 -0700

    DeleteLauncher converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 18:25:26 2014 -0700

    CreateLauncher converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 18:23:22 2014 -0700

    LoadSettings converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 18:10:28 2014 -0700

    Consolidated LoadBy code into new LoadBy method

Author: Arthur Ice
Date:   Mon Aug 18 17:58:51 2014 -0700

    LoadByGlobalContext converted to QueryDatabase

Author: Kinglykrab
Date:   Mon Aug 18 17:35:58 2014 -0400

    Renames spells_new fields.
    field191 => viral_targets
    field192 => viral_timer

Author: Arthur Ice
Date:   Mon Aug 18 17:55:35 2014 -0700

    LoadByZoneID converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 17:53:05 2014 -0700

    LoadByCharID converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 17:50:03 2014 -0700

    LoadNPCByNPCID converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 17:37:57 2014 -0700

    DeleteObject converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 17:35:47 2014 -0700

    LoadGroundSpawns converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 17:29:19 2014 -0700

    UpdateObject converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 17:21:27 2014 -0700

    AddObject converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 17:00:37 2014 -0700

    GetMaxNPCSpellsEffectsID converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 16:57:22 2014 -0700

    GetNPCSpellsEffects converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 16:40:45 2014 -0700

    GetMaxNPCSpellsID converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 16:34:27 2014 -0700

    GetNPCSpells converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 16:17:07 2014 -0700

    ResolveBug converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 16:15:47 2014 -0700

    GetBugDetails converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 16:13:11 2014 -0700

    ListBugs converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 16:10:39 2014 -0700

    CountBugs converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 15:44:55 2014 -0700

    LoadLeaderboardInfo converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 15:39:03 2014 -0700

    LoadAdventureEntries converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 15:01:29 2014 -0700

    ExpireEntries converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 15:13:28 2014 -0700

    MoveCorpsesToGraveyard converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 15:34:41 2014 -0700

    LoadAdventureTemplate converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:56:55 2014 -0700

    ToggleGuild converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:52:38 2014 -0700

    TogglePlayer converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:45:54 2014 -0700

    LoadDatabase converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:36:58 2014 -0700

    ListRulesets converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:33:27 2014 -0700

    GetRulesetName converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:30:13 2014 -0700

    _FindOrCreateRuleset converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:24:58 2014 -0700

    GetRulesetID converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:21:12 2014 -0700

    _SaveRules converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:18:21 2014 -0700

    LoadRules converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:05:59 2014 -0700

    ImportBaseData converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:05:06 2014 -0700

    ImportSkillCaps converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:03:53 2014 -0700

    ImportSpells converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 14:02:16 2014 -0700

    GetSpellColumns converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 13:50:16 2014 -0700

    ExportBaseData converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 13:46:05 2014 -0700

    GetSkill converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 13:42:25 2014 -0700

    SkillUsable converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 13:30:55 2014 -0700

    ExportSpells converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 13:14:46 2014 -0700

    ClearOffline converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 13:12:52 2014 -0700

    Clear converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 12:54:20 2014 -0700

    Load converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 12:37:33 2014 -0700

    Clear converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 12:35:16 2014 -0700

    Store converted to QueryDatabase

Author: Arthur Ice
Date:   Mon Aug 18 12:28:21 2014 -0700

    Load converted to QueryDatabase

Author: Robregen
Date:   Sun Aug 17 21:15:51 2014 -0700

    fixed the level message so it will display either gain or lose.

Author: Robregen
Date:   Sun Aug 17 17:35:06 2014 -0700

    rearrange how experience display and fixed so that the "welcome to level" don't display twice.

Author: Arthur Ice
Date:   Sun Aug 17 12:30:53 2014 -0700

    GetCharInfo converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 12:27:08 2014 -0700

    GetCharInfo converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 12:21:57 2014 -0700

    GetEntireGuild converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 12:21:05 2014 -0700

    ProcessGuildMember converted to use MySQLRequestRow

Author: Arthur Ice
Date:   Sun Aug 17 12:13:56 2014 -0700

    Removed large commented out section

Author: Arthur Ice
Date:   Sun Aug 17 12:13:27 2014 -0700

    DoesAccountContainAGuildLeader converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 12:07:43 2014 -0700

    DBSetPublicNote converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 12:04:38 2014 -0700

    GetAltFlag converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 12:01:39 2014 -0700

    GetBankerFlag converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 11:57:18 2014 -0700

    DBSetGuild converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 11:50:10 2014 -0700

    DBSetGuildChannel converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 11:48:01 2014 -0700

    DBSetGuildURL converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 11:46:03 2014 -0700

    DBSetGuildMOTD converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 11:43:45 2014 -0700

    DBSetGuildLeader converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 11:35:37 2014 -0700

    DBSetTributeFlag converted to non len QueryWithLogging

Author: Arthur Ice
Date:   Sun Aug 17 11:34:30 2014 -0700

    DBSetAltFlag converted to non len QueryWithLogging

Author: Arthur Ice
Date:   Sun Aug 17 11:32:56 2014 -0700

    DBSetBankerFlag converted to non len QueryWithLogging

Author: Arthur Ice
Date:   Sun Aug 17 11:31:56 2014 -0700

    DBSetGuildRank converted to non len QueryWithLogging

Author: Arthur Ice
Date:   Sun Aug 17 11:30:26 2014 -0700

    DBRenameGuild converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 11:27:00 2014 -0700

    DBDeleteGuild converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 11:24:21 2014 -0700

    removed len from QueryWithLogging

Author: Arthur Ice
Date:   Sun Aug 17 11:22:05 2014 -0700

    QueryWithLogging converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 11:19:56 2014 -0700

    _RunQuery renamed QueryWithLogging

Author: Arthur Ice
Date:   Sun Aug 17 11:11:56 2014 -0700

    _GetFeeGuildID converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 11:08:41 2014 -0700

    _StoreGuildDB converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 10:59:24 2014 -0700

    RefreshGuild converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Aug 17 10:51:08 2014 -0700

    LoadGuilds converted to QueryDatabase

Author: Uleat
Date:   Sat Aug 16 18:12:21 2014 -0400

    Fix for invalid handling of heading criteria in Client::Handle_OP_ClientUpdate()

Author: KLS
Date:   Sat Aug 16 15:03:01 2014 -0700

    Cleanup before push

Author: Kinglykrab
Date:   Sat Aug 16 01:13:15 2014 -0400

    Fixed GetItemStat making all information it pulls default it uint32.

Author: Uleat
Date:   Sat Aug 16 00:18:19 2014 -0400

    Minor tweaks...

Author: Uleat
Date:   Fri Aug 15 16:28:16 2014 -0400

    Reactivation of wear change updates in Bot::Spawn() until fix can be found.

Author: Kinglykrab
Date:   Fri Aug 15 04:15:37 2014 -0400

    Edit some uint32 to int32: GetAugmentIDAt, GetItemIDAt, GetItemStat

Author: Mackal
Date:   Thu Aug 14 15:05:44 2014 -0400

    Update README.md [skip ci]

Author: Uleat
Date:   Wed Aug 13 14:24:42 2014 -0400

    Fix for bot chest armor display glitch in SoF+ clients

Author: Mackal
Date:   Wed Aug 13 13:20:10 2014 -0400

    Some people were having issues with the other one [skip ci]

Author: Mackal
Date:   Tue Aug 12 22:51:36 2014 -0400

    Added SQLs from previous commit [skip ci]

Author: Russel Kinasz
Date:   Tue Aug 12 15:18:11 2014 -0700

    Implemented Raid OOC Regen

Author: Uleat
Date:   Mon Aug 11 18:55:00 2014 -0400

    Re-worked server 'discovery' code to better handle inclusions and exclusions.

Author: KLS
Date:   Mon Aug 11 14:10:24 2014 -0700

    Fixed param problem with zone/world, also please don't put excessive periods in function names... thank.you.please.for.the.love.of.god

Author: Arthur Ice
Date:   Mon Aug 11 13:55:25 2014 -0700

    Fixed bug with ErrorBuffer being overwritten on non query requests

Author: Arthur Ice
Date:   Sun Aug 10 22:27:25 2014 -0700

    fixed issue with row request on null result

Author: Mackal
Date:   Sun Aug 10 23:07:05 2014 -0400

    Pretty up the read me [skip ci]

Author: KayenEQ
Date:   Sun Aug 10 20:13:01 2014 -0400

    ST_PetMaster target type support added
    Targets pets master. (Works for regular and swarm pets)

Author: Arthur Ice
Date:   Sun Aug 10 14:19:35 2014 -0700

    Fixed bug with non row returning queries crashing.

Author: Mackal
Date:   Sun Aug 10 15:56:58 2014 -0400

    Fix some compiler warnings

Author: Mackal
Date:   Sun Aug 10 13:08:50 2014 -0400

    Proper bling instead of copy paste for another [skip ci]

Author: Mackal
Date:   Sun Aug 10 12:42:43 2014 -0400

    Add Travis-CI bling

Author: KayenEQ
Date:   Sun Aug 10 08:37:30 2014 -0400

    Rule ArcheryHitPenalty fix for calc mistake from prior update.

Author: KLS
Date:   Sun Aug 10 02:45:21 2014 -0700

    Travis CI file

Author: Uleat
Date:   Sat Aug 9 20:59:08 2014 -0400

    Added 'discovery' code for server handlers - still needs some debug/messaging work

Author: KayenEQ
Date:   Fri Aug 8 15:53:53 2014 -0400

    fix

Author: KayenEQ
Date:   Fri Aug 8 13:42:14 2014 -0400

    Support for spells_new field 'uninterruptable'

Author: Akkadius
Date:   Thu Aug 7 20:13:37 2014 -0500

    Added client to Zone.Get.Initial.Entity.Positions
    Added type field to Zone.Get.Initial.Entity.Positions
    Added method Zone.Move.Entity, currently in test mode
    Made modifications to explode function in web_interface_utils.h

Author: Robregen
Date:   Thu Aug 7 17:52:50 2014 -0700

    Revert "revert invis spells to break all charm"
    

Author: Uleat
Date:   Thu Aug 7 15:27:30 2014 -0400

    Total re-work..not much more can be done until more server handlers are added...

Author: Robregen
Date:   Wed Aug 6 20:39:54 2014 -0700

    remove mushroom from forage.cpp

Author: KayenEQ
Date:   Wed Aug 6 06:49:29 2014 -0400

    fix

Author: KLS
Date:   Tue Aug 5 14:30:23 2014 -0700

    More generic method handlers now

Author: Uleat
Date:   Tue Aug 5 16:34:57 2014 -0400

    Tweaked some procedural code and re-worked client opcode reader to standardize hex format (i.e., {0x0abc, 0x0ABC, 0xabc} = 0x0abc)

Author: Uleat
Date:   Mon Aug 4 23:12:28 2014 -0400

    Unix fix... Thanks Demonstar!!

Author: Uleat
Date:   Mon Aug 4 21:28:56 2014 -0400

    Added a dev script for cross-referencing server-to-client opcodes

Author: KLS
Date:   Mon Aug 4 14:35:10 2014 -0700

    Cleanup of various things, made writing method handlers in web_interface easier now you just have to check args

Author: KayenEQ
Date:   Sun Aug 3 16:36:44 2014 -0400

    fix

Author: KayenEQ
Date:   Sun Aug 3 16:32:36 2014 -0400

    fix

Author: KayenEQ
Date:   Sun Aug 3 16:04:55 2014 -0400

    min_range field

Author: KayenEQ
Date:   Sun Aug 3 08:21:47 2014 -0400

    Implemented 'min_range' field, sets a min range that you must
    be away from target for spell to land.

Author: Akkadius
Date:   Sun Aug 3 01:20:19 2014 -0500

    Stuff

Author: KayenEQ
Date:   Sat Aug 2 21:10:44 2014 -0400

    Implemented broad support for fields min_dist, min_dist_mod, max_dist, max_dist_mod -
    Scales spell power based on targets distance from caster.
    This implemented in a broad way to function with spells
    that would make sense to scale. Some work will still be needed on this.
    
    Be aware if making custom
    spells not everything will work and certain effects just
    should not be included (use common sense).

Author: Akkadius
Date:   Sat Aug 2 18:29:25 2014 -0500

    Temp crash fix

Author: KLS
Date:   Sat Aug 2 14:31:39 2014 -0700

    Changed a bunch of function names to be shorter but still descriptive

Author: KayenEQ
Date:   Sat Aug 2 10:43:48 2014 -0400

    SQL

Author: KayenEQ
Date:   Sat Aug 2 10:42:11 2014 -0400

    Implemented support for spells_new fields InCombat, OutofCombat
    Required SQL to rename and add new fields to spells_new table.

Author: KayenEQ
Date:   Fri Aug 1 23:35:35 2014 -0400

    Support for spells_new field npc_no_los (simply skips the LOS check for that spell
    despite name, no reason to hard code it only for NPC).

Author: KLS
Date:   Fri Aug 1 19:07:54 2014 -0700

    More cleanup

Author: KLS
Date:   Fri Aug 1 18:29:41 2014 -0700

    More work on subscription events, and relaying through world.

Author: Arthur Ice
Date:   Fri Aug 1 10:41:26 2014 -0700

    Merge upstream

Author: Uleat
Date:   Thu Jul 31 21:05:43 2014 -0400

    Changed a few mis-labeled range starts..no functionality change.

Author: Speedz
Date:   Thu Jul 31 08:48:41 2014 -0700

    * Added needed field for account creation web tool.

Author: Uleat
Date:   Thu Jul 31 11:41:27 2014 -0400

    Test fix for charm in trader's satchel while trader..thanks demonstar and Derision! ** This may need to be tweaked..but, I was able to test without crashing the client.

Author: Uleat
Date:   Thu Jul 31 07:52:38 2014 -0400

    More numeric to constant conversions..should be most of them... Please report any inventory abnormalities.

Author: KLS
Date:   Wed Jul 30 20:07:36 2014 -0700

    Work on relay

Author: KLS
Date:   Wed Jul 30 15:23:14 2014 -0700

    More work on getting remote calls up and running, added two remote calls list_zones and get_zone_info.

Author: Uleat
Date:   Sun Jul 27 23:05:16 2014 -0400

    This DOES fix the GCC issue..sorry for the inconvenience!

Author: Uleat
Date:   Sun Jul 27 22:18:17 2014 -0400

    GCC fix for last dictionary push (hopefully)

Author: Uleat
Date:   Sun Jul 27 20:35:43 2014 -0400

    More 'dictionary' updates..added 'constants' files to client translators..started replacement of hard-coded inventory values.

Author: KLS
Date:   Fri Jul 25 22:11:58 2014 -0700

    Prelim work on authorization, right now it's hard coded but it will actually check a db at some point

Author: KayenEQ
Date:   Thu Jul 24 14:06:15 2014 -0400

    Alllow SE_PetMeleeMitigation to work on swarm pets.

Author: KayenEQ
Date:   Thu Jul 24 11:31:22 2014 -0400

    Support for AA derived AC bonus.

Author: KayenEQ
Date:   Thu Jul 24 11:23:14 2014 -0400

    Spell Effect for melee mitigation will no longer use same bonus
    item shielding effect. Added support for spell effect melee mitigation
    to work on as item worn effects and AA.

Author: KayenEQ
Date:   Wed Jul 23 22:08:47 2014 -0400

    minor fix

Author: KayenEQ
Date:   Wed Jul 23 21:24:21 2014 -0400

    Update to how bonuses are calculated in chance to hit code to be
    consistent across all relevant effects (treating avoidance
    and hit chance bonuses equally).
    Rule ArcheryHitPenalty will now calc correctly (Was doing basically nothing)
    New field npc_types 'Avoidance' (add avoidance bonus to npc)
    Rules for setting min / max chance to hit

Author: KayenEQ
Date:   Wed Jul 23 16:57:59 2014 -0400

    debug msg removal

Author: KayenEQ
Date:   Wed Jul 23 13:13:51 2014 -0400

    Allow negative values for avoidance to work. (debuffs)

Author: Akkadius
Date:   Tue Jul 22 23:14:44 2014 -0500

    Position updates with do_pos_update test call

Author: KLS
Date:   Mon Jul 21 19:22:16 2014 -0700

    Racism down, uuid tracking up

Author: KayenEQ
Date:   Mon Jul 21 09:46:36 2014 -0400

    sql fix

Author: Speedz
Date:   Mon Jul 21 00:02:00 2014 -0700

    * Extra ) removed. Not sure how that got snuck in there.

Author: Speedz
Date:   Sun Jul 20 16:15:58 2014 -0700

    * Finishing touches on my last commit.
     - implemented this for the OSX client now.
    * Moved the activation check to a more logical spot.
    * Renamed client login functions to reflect client platform.
    * Moved all database logging calls to a singular function.
    * Added more database fields to prep for web based account handler.

Author: Akkadius
Date:   Sun Jul 20 15:02:06 2014 -0500

    Added rapidjson library
    Added web_interface_utils.cpp/.h to common to provide string based functions for outputting JSON
    Adjusted CMake to include rapidjson library and new web_interface_utils.h/cpp to common
    
    Currently, I have code set up hackishly for testing so do not think it is final. It is merely for demonstrating what I've done and played with.

Author: Cavedude
Date:   Sun Jul 20 11:40:49 2014 -0700

    Corrected "stopped" to "stop" in the previous commit's desync message.

Author: Cavedude
Date:   Sun Jul 20 11:38:18 2014 -0700

    Corrected the spell scribing related item desyncs.
    
    You will now receive a warning in a case where the server feels you may have desynced (or are about to), but haven't yet desynced client side. This message *should* only occur on the Intel client. But if it does happen on PC client, please report it. Also, I'd welcome discussion on the forums of any patterns that you may see when this message occurs. I have a sneaky suspicion that the longer you are in a zone for, the less likely you are to see this message. Also, I believe the faster you move items around, the more likely you are to see it. For reference, the message is in yellow and is:
    
    "Caution: You may have de-synced. Stopped what you're doing, and log out now to avoid item loss."
    
    Changed some desync logging to make it easier to spot true errors.

Author: Speedz
Date:   Sat Jul 19 17:07:16 2014 -0700

    * Removed unused login code.
    * Added an account activate setting.
    * Added activation check to allow/disallow per account logins.

Author: KayenEQ
Date:   Fri Jul 18 17:57:03 2014 -0400

    fix for aa pet flurry bonus calc

Author: Cavedude
Date:   Fri Jul 18 14:18:02 2014 -0700

    PBAE spells will no longer check LoS.

Author: Cavedude
Date:   Thu Jul 17 19:28:03 2014 -0700

    Changed inventory bag slots server side so they match the client. This is a significant change, so please report any new item issues that crop up.
    
    REQUIRED SQL: required/2014_07_17_inventory.sql
    This MUST be run when the server is down.
    
    Increased chance for Sense Heading to level up a bit.
    
    Implemented /shield. The .conf will need to be copied over.

Author: KLS
Date:   Wed Jul 16 23:52:52 2014 -0700

    Fixed memory allocation for socket write, stopgap for now we can probably set a max message out size and cut out allocations all together.

Author: Cavedude
Date:   Wed Jul 16 21:34:40 2014 -0700

    Account name should properly log from loginserver now.

Author: Uleat
Date:   Wed Jul 16 21:23:16 2014 -0400

    Added the initial references for two new dictionaries - EmuConstants and EQLimits..more to come.

Author: Cavedude
Date:   Wed Jul 16 12:23:40 2014 -0700

    "Stupid" NPCs will no longer have their INT scale.

Author: Cavedude
Date:   Wed Jul 16 11:18:54 2014 -0700

    Server side /con now matches the client. (EQEmu was waaaay off in many places.) This will fix many miscellaneous issues such as tracking, assisting/aggroing, exp calculation, etc.

Author: KLS
Date:   Tue Jul 15 22:52:18 2014 -0700

    Changed websockets lib, protocol not finalized at all

Author: Cavedude
Date:   Tue Jul 15 13:31:12 2014 -0700

    Removed TitleManager::MakeTitlesPacket as its only purpose is to create a packet our client doesn't use, and it created a compile error.

Author: Cavedude
Date:   Tue Jul 15 12:18:18 2014 -0700

    Removed Popup_Response script event.

Author: Robregen
Date:   Tue Jul 15 11:27:51 2014 -0700

    Update embparser.cpp
    
    fixed a gate issue.

Author: Robregen
Date:   Tue Jul 15 09:28:31 2014 -0700

    put back in op_shielding related code.

Author: Robregen
Date:   Mon Jul 14 18:19:23 2014 -0700

    more modern code removal.

Author: Robregen
Date:   Mon Jul 14 17:48:12 2014 -0700

    Removed SetStartCity modern client code.

Author: Robregen
Date:   Mon Jul 14 17:11:58 2014 -0700

    remove modern title code.

Author: KLS
Date:   Mon Jul 14 15:44:28 2014 -0700

    Removed more socket server stuff, changed some of the build stuff.

Author: KLS
Date:   Mon Jul 14 15:09:55 2014 -0700

    Reworking a lot of stuff at once, this will look very chaotic.

Author: Cavedude
Date:   Mon Jul 14 14:48:42 2014 -0700

    Self target spells will now completely skip the LoS check.
    
    Lowered the timers for LoH and Harm Touch.
    
    Admins run this query:
    delete from timers where type in (87,89);

Author: Stairs
Date:   Mon Jul 14 07:10:58 2014 +0000

    rework how invis works its now SetInvisiable(InvisType) and BreakInvis()

Author: Stairs
Date:   Mon Jul 14 06:30:11 2014 +0000

    rework invis

Author: Stairs
Date:   Mon Jul 14 05:13:23 2014 +0000

    make regular pets poof also

Author: Stairs
Date:   Mon Jul 14 04:50:50 2014 +0000

    revert invis spells to break all charm

Author: Robregen
Date:   Sun Jul 13 11:05:54 2014 -0700

    removed modern misc client code and restore dependencies folder.

Author: Robregen
Date:   Sat Jul 12 21:17:44 2014 -0700

    remove modern client tradeskill recipe and misc codes.

Author: Robregen
Date:   Sat Jul 12 11:47:18 2014 -0700

    Removed modern client petition codes.

Author: Cavedude
Date:   Fri Jul 11 21:24:21 2014 -0700

    Changed code to use slot 0 for cursor instead of slot 30. I've tested this out locally, but problems may still linger. This is the first step to hopefully fixing item desyncs.
    
    Admins, run the following query: UPDATE inventory set slotid = 0 where slotid = 30;
    
    Added a message to players warning them about zoning with a bag on their cursor containing items. This can/will cause a desync, until we can figure out how to send these items to the client so it recognizes them. (I tried every opcode we have with no luck.) This most likely is related to items in dropped bags and world containers not working either.
    
    Removed some unneeded item code (shared banks, some remaining augment code.)
    
    Flash of Light will now force an NPC to run (using fear pathing) if they are out of combat range.
    
    Changed buffs being stripped on low HP to compare against HP from items, instead of from spells.
    
    Removed some orphaned code and commented out some debug logging.

Author: Arthur Ice
Date:   Thu Jul 10 22:55:00 2014 -0700

    AddReport converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 22:53:20 2014 -0700

    CheckLogin converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 22:08:19 2014 -0700

    GetGuildIDByCharID converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 22:07:23 2014 -0700

    GetAdventureStats converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 22:06:19 2014 -0700

    UpdateAdventureStatsEntry converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 22:04:58 2014 -0700

    GlobalInstane converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 21:19:57 2014 -0700

    SetInstanceDuration converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:51:09 2014 -0700

    AssignRaidToInstance converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:50:08 2014 -0700

    AssignGroupToInstance converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:49:13 2014 -0700

    GetCharactersInInstance converted to StringFormat

Author: KayenEQ
Date:   Thu Jul 10 23:44:03 2014 -0400

    sql comment fix

Author: KayenEQ
Date:   Thu Jul 10 22:46:39 2014 -0400

    Updates to npc_spells and npc_types table.
    Implemented innate defensive and range procs
    Implemented ability to fine tune AI casting behavior/timers
    Global rules for AI casting behavior/timers
    NPC Ranged attack updates, set skill and ammo type in npc_types
    Various clean ups in attack related functions.
    Other minor fixes.
    See Change Log, +required, +optional SQL

Author: Robregen
Date:   Thu Jul 10 19:46:33 2014 -0700

    remove modern client code.

Author: Arthur Ice
Date:   Thu Jul 10 17:48:17 2014 -0700

    GetInstanceID converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:47:25 2014 -0700

    GetInstanceID converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:46:28 2014 -0700

    GetInstanceVersion converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:45:49 2014 -0700

    BuryCorpsesInInstance converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:44:58 2014 -0700

    CheckInstanceExists converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:44:04 2014 -0700

    RemoveClientsFromInstance converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:43:13 2014 -0700

    RemoveClientFromInstance converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:34:37 2014 -0700

    AddClientToInstance converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:33:44 2014 -0700

    PurgeExpiredInstances converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:32:48 2014 -0700

    CreateInstance converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:31:30 2014 -0700

    GetUnusedInstanceID converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:29:51 2014 -0700

    GetTimeRemainingInstance converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:28:38 2014 -0700

    VersionFromInstanceID converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:27:48 2014 -0700

    ZoneIDFromInstanceID converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:26:56 2014 -0700

    CheckInstanceExpired converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:25:58 2014 -0700

    DeleteInstance converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:24:01 2014 -0700

    CharacterInInstanceGroup converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:23:11 2014 -0700

    VerifyZoneInstance converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:22:20 2014 -0700

    GetRaidLeaderName converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:20:42 2014 -0700

    GetRaidID converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:19:44 2014 -0700

    ClearRaidDetails converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:18:49 2014 -0700

    ClearAllRaidDetails converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:17:54 2014 -0700

    ClearAllRaids converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:17:06 2014 -0700

    ClearRaid converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:16:16 2014 -0700

    SetAgreementFlag converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:14:21 2014 -0700

    GetAgreementFlag converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 17:05:47 2014 -0700

    ClearGroupLeader converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 16:21:46 2014 -0700

    ClearAllGroupLeaders converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 16:18:31 2014 -0700

    GetGroupLeadershipInfo converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 16:17:14 2014 -0700

    SetGroupLeaderName converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 15:19:10 2014 -0700

    GetGroupLeaderForLogin converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 15:17:10 2014 -0700

    GetGroupID converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 15:16:02 2014 -0700

    ClearGroup converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 15:15:05 2014 -0700

    ClearAllGroups converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 15:11:44 2014 -0700

    SetGroupID converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 15:03:25 2014 -0700

    SetFirstLogon converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 15:02:39 2014 -0700

    SetLFG converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 15:01:56 2014 -0700

    SetLoginFlags converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 15:01:08 2014 -0700

    SetLFP converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 15:00:05 2014 -0700

    GetLiveChar converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 14:59:16 2014 -0700

    UpdateLiveChar converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 14:58:27 2014 -0700

    GetCharacterInfo converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 14:57:24 2014 -0700

    GetSkillCap converted to StringFormat

Author: Arthur Ice
Date:   Thu Jul 10 14:55:57 2014 -0700

    GetRaceSkill converted to StringFormat

Author: Stairs
Date:   Thu Jul 10 03:10:40 2014 +0000

    convert skills to uint16 to avoid integer over flow in calculations

Author: Arthur Ice
Date:   Wed Jul 9 16:37:21 2014 -0700

    SetMQDetectionFlag converted to StringFormat

Author: Arthur Ice
Date:   Wed Jul 9 16:35:30 2014 -0700

    SetHackerFlag converted to StringFormat

Author: JJ
Date:   Wed Jul 9 19:19:51 2014 -0400

    Minor typos.

Author: Cavedude
Date:   Wed Jul 9 09:54:08 2014 -0700

    Pet spells will no longer require optional focus item to cast.
    
    Added a missing TradeReset opcode. (Doesn't seem to affect anything)
    
    Re-added patch_Evolution.conf since the code looks for it. (Evolution is NOT yet supported.)

Author: Arthur Ice
Date:   Tue Jul 8 20:46:41 2014 -0700

    CopyCharacter converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:42:10 2014 -0700

    MoveCharacterToZone converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:40:50 2014 -0700

    MoveCharacterToZone converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:35:41 2014 -0700

    GetServerType converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:34:44 2014 -0700

    CheckUsedName converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:28:04 2014 -0700

    UpdateName converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:26:52 2014 -0700

    ClearMerchantTemp converted to string

Author: Arthur Ice
Date:   Tue Jul 8 20:25:55 2014 -0700

    GetAccountFromID converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:24:24 2014 -0700

    GetAccountIDFromLSID converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:22:40 2014 -0700

    AddToNameFilter converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:21:15 2014 -0700

    CheckNameFilter converted to string

Author: Arthur Ice
Date:   Tue Jul 8 20:19:33 2014 -0700

    GetPEQZone converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:18:09 2014 -0700

    LoadZoneNames converted to use string

Author: Arthur Ice
Date:   Tue Jul 8 20:09:15 2014 -0700

    GetzoneGraveyardID converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:08:33 2014 -0700

    GetZoneLongName converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:07:02 2014 -0700

    GetSafePoints converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:05:40 2014 -0700

    GetMiniLoginAccount converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 20:04:15 2014 -0700

    SetVariable converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:59:02 2014 -0700

    GetAccountName converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:57:37 2014 -0700

    GetAccountIDByName converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:55:41 2014 -0700

    GetAccountIDByChar (id) converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:53:17 2014 -0700

    GetAccountIDByChar converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:50:50 2014 -0700

    StoreCharacter partialy converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:47:01 2014 -0700

    DeleteCharacter converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:33:38 2014 -0700

    ReserveName converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:31:53 2014 -0700

    SetAccountStatus converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:30:52 2014 -0700

    SetLocalPassword converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:29:22 2014 -0700

    changed cerr message to cout on DeleteAccount

Author: Arthur Ice
Date:   Tue Jul 8 19:28:02 2014 -0700

    DeleteAccount converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:24:47 2014 -0700

    CreateAccount converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:22:27 2014 -0700

    CheckStatus converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:20:34 2014 -0700

    LoginIP converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:18:18 2014 -0700

    AddGMIP converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:16:36 2014 -0700

    CheckGMIPs converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:13:38 2014 -0700

    AddBannedIP converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 19:11:06 2014 -0700

    CheckBannedIPs converted to StringFormat

Author: Arthur Ice
Date:   Tue Jul 8 17:40:42 2014 -0700

    minor formatting clean up, no functional changes

Author: Arthur Ice
Date:   Tue Jul 8 10:48:29 2014 -0700

    Removed unused FetchRowMap

Author: Arthur Ice
Date:   Tue Jul 8 10:18:35 2014 -0700

    GetGroupLeadershipInfo converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Jul 8 10:17:51 2014 -0700

    GetGroupLeaderForLogin converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 16:15:54 2014 -0700

    string based QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 16:01:10 2014 -0700

    Added FieldName for column name requests

Author: Arthur Ice
Date:   Sat Jul 5 10:10:55 2014 -0700

    Added LengthOfColumn method because of stupid BLOBs

Author: Arthur Ice
Date:   Sun Jul 6 15:36:30 2014 -0700

    renamed GetGuildDBIDByChar to GetGuildIDByChar, converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 15:30:43 2014 -0700

    GetAdventureStats converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 15:27:44 2014 -0700

    UpdateAdventureStatsEntry converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 15:21:59 2014 -0700

    GlobalInstance converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 15:18:39 2014 -0700

    SetInstanceDuration converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 15:13:12 2014 -0700

    AssignRaidToInstance converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 15:11:09 2014 -0700

    AssignGroupToInstance converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 15:07:55 2014 -0700

    GetCharactersInInstance converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 15:00:43 2014 -0700

    GetUnusedInsanceId converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 14:56:48 2014 -0700

    GetInstanceID (uint32 zone version) converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 14:52:40 2014 -0700

    GetInstanceID converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 14:47:06 2014 -0700

    GetInstanceVersion converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 14:43:13 2014 -0700

    BuryCorpsesInInstance converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 14:42:05 2014 -0700

    CheckInstanceExists converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 14:32:11 2014 -0700

    AddClientToInstance converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 14:30:38 2014 -0700

    PurgeExpiredInstances converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 14:26:13 2014 -0700

    CreateInstance converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 14:24:14 2014 -0700

    GetUnusedInstanceID converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 14:11:35 2014 -0700

    GetTimeRemainingInstance converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 14:10:53 2014 -0700

    VersionFromInstanceID converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 13:59:32 2014 -0700

    ZoneIDFromInstanceID converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 13:56:30 2014 -0700

    CheckInstanceExpired converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 13:52:26 2014 -0700

    DeleteInstance converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 13:51:21 2014 -0700

    CharacterInInstanceGroup converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 13:50:42 2014 -0700

    VerifyZoneInstance converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 13:46:20 2014 -0700

    formatting cleanup, no functional change

Author: Arthur Ice
Date:   Sun Jul 6 13:45:37 2014 -0700

    GetRaidLeaderName converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 11:56:42 2014 -0700

    GetRaidID converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 11:48:07 2014 -0700

    ClearRaidDetails converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 11:46:27 2014 -0700

    ClearAllRaidDetails converted to QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 11:44:59 2014 -0700

    Built utility function ClearAllRaidDetails

Author: Arthur Ice
Date:   Sat Jul 5 19:33:45 2014 -0700

    Converted ClearRaid to QueryDatabase, added ClearAllRaids utility method

Author: Arthur Ice
Date:   Sat Jul 5 17:07:34 2014 -0700

    SetAgreementFlag converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Jul 5 17:03:46 2014 -0700

    GetAgreementFlag converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Jul 5 11:33:49 2014 -0700

    Created private utility methods ClearAllGroups and ClearAllGroupLeaders

Author: Arthur Ice
Date:   Sat Jul 5 11:10:52 2014 -0700

    ClearGroupLeader converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Jul 5 11:06:05 2014 -0700

    SetGroupLeaderName converted to QueryDatabase

Author: Arthur Ice
Date:   Sat Jul 5 10:50:08 2014 -0700

    GetZoneName formatting cleanup. much easier to read

Author: Arthur Ice
Date:   Sat Jul 5 10:49:07 2014 -0700

    GetZoneID nullptr and formatting clean up

Author: Arthur Ice
Date:   Sat Jul 5 10:47:34 2014 -0700

    Converted StoreCharacter to QueryDatabase

Author: Arthur Ice
Date:   Fri Jul 4 19:17:33 2014 -0700

    GetGroupID converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Jul 4 19:13:39 2014 -0700

    ClearGroup converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Jul 4 15:52:14 2014 -0700

    errbuff and Query to query change

Author: Arthur Ice
Date:   Fri Jul 4 15:50:41 2014 -0700

    SetGroupID converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Jul 4 15:45:34 2014 -0700

    AddReport converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Jul 4 15:43:21 2014 -0700

    SetFirstLogon converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Jul 4 15:41:16 2014 -0700

    SetLoginFlags and SetLFG converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Jul 4 15:36:29 2014 -0700

    SetLFP converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Jul 4 15:33:33 2014 -0700

    GetLiveChar converted to QueryDatabase

Author: Arthur Ice
Date:   Fri Jul 4 15:31:24 2014 -0700

    getZoneLongName converted 0 assign of query to nullptr

Author: KayenEQ
Date:   Thu Jul 3 11:37:38 2014 -0400

    Update SE_InterruptCasting: Will now work for instant spells (as well as over time).

Author: KayenEQ
Date:   Thu Jul 3 11:00:23 2014 -0400

    Updated SE_BardAEDot to no longer damage target while target is moving (consistent with live)

Author: KayenEQ
Date:   Thu Jul 3 10:55:59 2014 -0400

    Changed SE_LimitMaxMana to SE_MeleeVulnerability - Weakness/Mitigation verse melee damage
    (Despite lives SPA lable as the former it clearly is not what the effect does from all spell examples)

Author: KayenEQ
Date:   Thu Jul 3 08:48:27 2014 -0400

    Implemented SE_LimitSpellClass - Focus Limits spell to pre defined categories. (3=Cures,3=Offensive, 6=Lifetap)

Author: KayenEQ
Date:   Wed Jul 2 21:38:26 2014 -0400

    Renamed various Cast on Fade spell effects to more accurately describe their functions.
    Missing code from prior commit.

Author: KayenEQ
Date:   Wed Jul 2 14:00:50 2014 -0400

    Re-Implemented SE_TriggerMeleeThreshold and SE_TriggerSpellThreshold correctly - Trigger spell if owner of buff
    takes more than the specified damage amount in a SINGLE hit, then fade the buff.

Author: KayenEQ
Date:   Wed Jul 2 11:54:59 2014 -0400

    Implemented SE_FactionModPct - Modifies faction gains and losses by percent.

Author: KayenEQ
Date:   Wed Jul 2 11:18:50 2014 -0400

    Implemented SE_ResourceTap - Coverts a percent of dmg from dmg spells(DD/DoT) to hp/mana/end.

Author: KayenEQ
Date:   Wed Jul 2 08:42:18 2014 -0400

    Implemented SE_Sanctuary - Places caster at bottom hate list,
    effect fades if caster cast spell on targets other than self.

Author: Mackal
Date:   Fri Jul 4 13:57:09 2014 -0400

    Hopefully fix compile issue with some VS versions

Author: Arthur Ice
Date:   Fri Jul 4 00:01:13 2014 -0700

    Linux compile fixes

Author: KLS
Date:   Thu Jul 3 23:35:19 2014 -0700

    Missing return value

Author: Mackal
Date:   Fri Jul 4 00:46:53 2014 -0400

    Fix case-sensitive issue

Author: KLS
Date:   Thu Jul 3 21:49:14 2014 -0700

    Fix for GCC+11 compile

Author: Arthur Ice
Date:   Thu Jul 3 21:16:31 2014 -0700

    UpdateLiveChar converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 21:14:27 2014 -0700

    Errbuf fix and GetCharacterInfo converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 21:01:55 2014 -0700

    GetSkillCap converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 20:31:56 2014 -0700

    GetRaceSkill converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 20:13:38 2014 -0700

    SetMQDetectionFlag converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 19:59:35 2014 -0700

    SetHackerFlag converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 19:57:52 2014 -0700

    CopyCharacter converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 19:31:41 2014 -0700

    MoveCharacterToZone converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 19:29:38 2014 -0700

    GetServerType converted to QueryDatabase

Author: Arthur Ice
Date:   Tue Jul 8 18:57:54 2014 -0700

    StringFormat converted to move semantics

Author: Akkadius
Date:   Thu Jul 3 18:16:43 2014 -0500

    Removing socket server from cmake for now and maintaining it in its own branch until push to master

Author: Akkadius
Date:   Thu Jul 3 03:25:58 2014 -0500

    More Socket Server work. Made Socket server a by default disabled option in the CMake configuration while development is underway. For now, do not use.

Author: Akkadius
Date:   Wed Jul 2 22:17:45 2014 -0500

    Initial Socket Server implementation with CMakeLists.txt updated. Socket server will connect to world at this point.

Author: KayenEQ
Date:   Tue Jul 1 17:34:36 2014 -0400

    Update to SE_AStacker, B, C, D
    Will correclty use base value to stack with same type ie (A vs A)
    Highest base value will take hold.

Author: KayenEQ
Date:   Tue Jul 1 16:52:28 2014 -0400

    Renamed a few spell effects more appropriately.

Author: KayenEQ
Date:   Tue Jul 1 04:55:50 2014 -0400

    minor fix

Author: KayenEQ
Date:   Tue Jul 1 04:53:24 2014 -0400

    Updated SE_WaketheDead , max will now set duration.

Author: KayenEQ
Date:   Mon Jun 30 16:17:55 2014 -0400

    Implemented SE_PetMeleeMitigation - Bonus applied to pet owner. Gives AC to owner's pet.
    Related AA's to be added in a seperate update.

Author: KayenEQ
Date:   Mon Jun 30 07:18:47 2014 -0400

    Revised Finishing blow so that damage now receives all melee bonus. Support also for this effect if placed on items or spells.

Author: KayenEQ
Date:   Mon Jun 30 06:34:12 2014 -0400

    Fix for AA Finishg Blow rank 1-3.
    AA Data was missing and incorrectly added to wrong aaid.
    Required SQL

Author: KayenEQ
Date:   Sun Jun 29 23:26:22 2014 -0400

    Implemented SE_Assassinate, SE_AssassinateLevel - Defines assassinate damage and level requirements.
    Revised Assassinate mechanic so damage now receives all backstab bonuses, proc chance can be set to either (lives new Proc Per minute
    system, or flat chance based on dex (formula updated). Assassinate can now proc from THROW if behind target, various other adjustments.
    
    Required SQL for AA updates

Author: KayenEQ
Date:   Sun Jun 29 01:10:19 2014 -0400

    Implemented SE_HeadShot, SE_HeadShotLevel - Defines headshot damage and level requirements.
    Revised HeadShot mechanic so damage now recieves all archery bonuses, proc chance can be set to either (lives new Proc Per minute
    system, or flat chance based on dex (formula updated).
    
    Required SQL for AA data
    Optional SQL for rules

Author: KayenEQ
Date:   Fri Jun 27 20:55:17 2014 -0400

    Udpated SE_ReclaimPet - Correct forumla for mana returned to properly return 75% of actual pet spell mana cost.
    Implemented SE_ImprovedReclaimEnergy - Modifies % mana returned from SE_ReclaimPet.
    Required SQL update.

Author: KayenEQ
Date:   Thu Jun 26 10:54:18 2014 -0400

    Slight change to TryDispel formula for better accuracy.
    
    Live PATCH 5-20-14 Note: "Updated all spells which
    use Remove Detrimental and Cancel Beneficial spell
    effects to use a new method. The chances for those
    spells to affect their targets have not changed unless
    otherwise noted"
    
    Support added for new base values to give
    a nearly equivelent result.
    (Ie. Will work for values pre and post change)

Author: KayenEQ
Date:   Thu Jun 26 10:04:21 2014 -0400

    Update SE_AETaunt - Base value will now determine AE taunt range (This will not result in any change to currently used spells).

Author: KayenEQ
Date:   Thu Jun 26 06:45:18 2014 -0400

    changelog fix

Author: KayenEQ
Date:   Thu Jun 26 06:23:27 2014 -0400

    Implemented SE_IllusionOther - Allows next Illusion buff (self only)
    cast to be cast on target. (AA ProjectIllusion now uses this)
    Run required SLQ to update AA.

Author: KayenEQ
Date:   Thu Jun 26 05:40:09 2014 -0400

    Implemented SE_MassGroupBuff as spell effect (no longer hard coded for AA
    only). Run required SQL to update AA tables.
    Updated spells_new field175 -> numhits_type

Author: KayenEQ
Date:   Wed Jun 25 15:25:22 2014 -0400

    Update SE_Taunt - Limit value if present will now add instant hate.

Author: KayenEQ
Date:   Wed Jun 25 14:41:15 2014 -0400

    Implemented SE_StrikeThough (Was incorrectly defined as implemented previously) - Works same as item bonus.

Author: KayenEQ
Date:   Wed Jun 25 14:31:35 2014 -0400

    Updated SE_FadingMemories - Base value will be properly utilized to set % chance for fade effect to work.

Author: KayenEQ
Date:   Wed Jun 25 14:14:55 2014 -0400

    Updated SE_Hate (Renamed from SE_Hate2) to now properly work for instant +/- hate spells.

Author: KLS
Date:   Mon Jun 30 14:09:03 2014 -0700

    Removed older AZone build options, use eqemu-zone-utils instead

Author: KayenEQ
Date:   Tue Jun 24 22:04:13 2014 -0400

    Implemented an enumerator list for numhits type variables.
    Implemented type 4 outgoing spell damage numhits type.

Author: KayenEQ
Date:   Tue Jun 24 08:24:11 2014 -0400

    Fix to SE_BlanaceMana to only check classes in group that have mana.

Author: KLS
Date:   Mon Jun 23 16:56:37 2014 -0700

    Some potential fixes for clang, not complete

Author: KayenEQ
Date:   Mon Jun 23 08:37:23 2014 -0400

    Update to SE_BalanaceMana, SE_BalanceHP to support limit value which caps max mana/hp that can be taken per player.

Author: KayenEQ
Date:   Sun Jun 22 23:10:29 2014 -0400

    Kayen: Implemented SE_Metabolism - Modifies food/drink consumption rates. [Data for AA is already in database]

Author: KayenEQ
Date:   Sun Jun 22 15:55:04 2014 -0400

    SE_NegateAttacks buff stacking optimized.

Author: KayenEQ
Date:   Sun Jun 22 10:30:18 2014 -0400

    Update to SE_NegateAttack, 'max' value can now set upper limit of damage absorbed.
    DOT ticks will no longer be absorbed.

Author: KayenEQ
Date:   Sun Jun 22 06:16:34 2014 -0400

    Fixes and Updates to spell and melee mitigation runes.
    -Fix for calculation error when rune was to be removed.
    -Updated to support these spell effect limit values which
    give a max amount per hit/spell that can be mitigated.
    -Updated to allow support for these spells effects when
    the max (rune value) is set to zero, which essentially
    gives you unlimited mitigation but typically there is
    a limit value set.

Author: KayenEQ
Date:   Sat Jun 21 10:12:24 2014 -0400

    minor fix

Author: KayenEQ
Date:   Fri Jun 20 18:10:29 2014 -0400

    Implemention for SE_Berserk, SE_Vampirism (These are not used on live)
    Fix for NPC not receiving spell bonus derived HP regen.

Author: KayenEQ
Date:   Wed Jun 18 06:25:14 2014 -0400

    Implemented SE_DoubleRiposte

Author: KayenEQ
Date:   Tue Jun 17 16:08:19 2014 -0400

    Kayen: Implemented SE_AddHateOverTimePct (Modifies +/- your total hate on NPC by percent over time)

Author: KayenEQ
Date:   Tue Jun 17 15:49:56 2014 -0400

    Implemented SE_AddHatePct (Modifies +/- your total hate on NPC by percent)

Author: KayenEQ
Date:   Tue Jun 17 15:23:07 2014 -0400

    Implemented SE_DamageModifier2

Author: KayenEQ
Date:   Tue Jun 17 09:45:12 2014 -0400

    Implemented SE_AStacker, BStacker, CStacker, DStacker
    Effects are buff stacking blockers.

Author: Arthur Ice
Date:   Thu Jul 3 19:19:13 2014 -0700

    CheckUsedName converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 19:15:43 2014 -0700

    UpdateName converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 19:12:17 2014 -0700

    ClearMerchantTemp converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 19:08:46 2014 -0700

    GetAccountFromID converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 19:06:00 2014 -0700

    GetAccountIDFromLSID converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 19:02:39 2014 -0700

    AddToNameFilter converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 19:00:15 2014 -0700

    CheckNameFilter converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 18:55:16 2014 -0700

    GetPEQZone converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 18:51:24 2014 -0700

    LoadZoneNames converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 18:39:51 2014 -0700

    GetZoneGraveyard converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 18:36:16 2014 -0700

    GetZoneGraveyardID converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 18:32:52 2014 -0700

    GetZoneLongName converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 18:28:49 2014 -0700

    errbuf fix (again) and GetSafePoints converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 18:24:02 2014 -0700

    GetMiniLoginAccount converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 18:21:21 2014 -0700

    SetVariable converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 17:42:35 2014 -0700

    Converted LoadVariables, and LoadVariables_result to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 17:38:47 2014 -0700

    errbuf issue again

Author: Arthur Ice
Date:   Thu Jul 3 17:36:56 2014 -0700

    GetCharName converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 17:34:25 2014 -0700

    GetAccountName converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 17:18:13 2014 -0700

    errbuff fixed, also moved alphanumeric account check to function in StringUtil

Author: Arthur Ice
Date:   Thu Jul 3 17:07:35 2014 -0700

    GetAccountIDByName converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 16:57:02 2014 -0700

    GetAccountIDByChar converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 16:50:14 2014 -0700

    GetAccountIDByChar converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 16:43:24 2014 -0700

    DeleteCharacter converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 16:22:15 2014 -0700

    removed printf from DeleteCharacter switched to cerr and cout

Author: Arthur Ice
Date:   Thu Jul 3 16:10:29 2014 -0700

    ReserveName converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 16:08:28 2014 -0700

    SetAccountStatus converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 16:04:50 2014 -0700

    SetLocalPassword converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 16:03:05 2014 -0700

    DeleteAccount converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 15:57:32 2014 -0700

    CreateAccount converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 15:41:26 2014 -0700

    CheckStatus using QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 15:34:42 2014 -0700

    fixed query release order and converted LoginIP to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 15:31:37 2014 -0700

    AddGMIP converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 15:26:39 2014 -0700

    CheckGMIPs to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 15:24:09 2014 -0700

    AddBannedIP converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 15:15:42 2014 -0700

    CheckLogin converted to DatabaseQuery

Author: Arthur Ice
Date:   Thu Jul 3 15:19:50 2014 -0700

    CheckBannedIPs converted to QueryDatabase

Author: Arthur Ice
Date:   Thu Jul 3 15:48:17 2014 -0700

    Added LastInsertID() to MySQLRequestResult

Author: Robregen
Date:   Tue Jul 8 19:19:50 2014 -0700

    removed op_deleteitem and related code used on modern client

Author: Mackal
Date:   Tue Jul 8 21:21:44 2014 -0400

    Inline a few functions that should be

Author: KayenEQ
Date:   Tue Jul 8 18:27:31 2014 -0400

    removal of debug msg

Author: Cavedude
Date:   Tue Jul 8 15:07:50 2014 -0700

    Fixed sneak, hide, and evade.

Author: KayenEQ
Date:   Tue Jul 8 08:04:56 2014 -0400

    fix for random int -> float error

Author: KLS
Date:   Mon Jul 7 22:19:46 2014 -0700

    Cleaned up web interface server, starting work on getting tcp connections to persist then will hook it up to the websockets/http/whatever else we deem worthy.

Author: Cavedude
Date:   Mon Jul 7 22:07:30 2014 -0700

    Fixed merchant price updates.
    
    Fixed fishing in most places.
    
    You can no longer cast a spell on an entity in a different map region (Normal, Water, Lava, etc.)
    
    Capped merchant inventory to 127 charges per stack.
    
    Increased charm break chance rule default to 50.

Author: Stairs
Date:   Tue Jul 8 04:42:01 2014 +0000

    fix build on linux file names are case sensitive

Author: Secrets
Date:   Mon Jul 7 00:49:33 2014 -0400

    Updates to netcode (crc32 was wrong on some packets .-.)

Author: KayenEQ
Date:   Sun Jul 6 20:13:19 2014 -0400

    Update to how FcBaseEffect focus modifies SE_SkillAttack damage.

Author: Arthur Ice
Date:   Sun Jul 6 16:15:54 2014 -0700

    string based QueryDatabase

Author: Arthur Ice
Date:   Sun Jul 6 16:01:10 2014 -0700

    Added FieldName for column name requests

Author: KayenEQ
Date:   Sun Jul 6 18:58:16 2014 -0400

    Complete revision of SE_SkillProc, SE_LimitToSkill,
    SE_SkillProcSuccess (now implemented correctly)
    to function more accurately and efficiently, AA supported.
    This may need to be updated in the future, if more live
    spells readily become avialable to test with.

Author: KLS
Date:   Sun Jul 6 15:22:58 2014 -0700

    Changed some headers that seemed to conflict on slightly older versions of msvc

Author: Secrets
Date:   Sun Jul 6 10:31:33 2014 -0400

    Cleaned up netcode a lot, fixed some memory corruption bugs in it and the netcode now finalizes connections a bit better. Still haven't tracked down the source of client memory corruption.

Author: Cavedude
Date:   Sat Jul 5 20:19:39 2014 -0700

    Updated text color defines and set many messages to use those, instead of non-descriptive numbers.
    
    Fixed an item desync.
    
    Implemented Hawk Eye family of spells.

Author: Cavedude
Date:   Sat Jul 5 15:45:07 2014 -0700

    Changes to InterruptSpell to correct some messages.
    
    Decreased failure chance for FD.
    Removed the message when your hate list is cleared due to FD.
    FD will now be broken when a detrimental spell is cast on you.
    
    Added see invis to #showstats
    
    InvisVs Undead and Animal will no longer set an invisible flag.
    
    You can now lifetap Eye of Zomm.
    
    Defense skillups should now be more in line with the other defensive skills.
    
    Removed unused code.

Author: Arthur Ice
Date:   Sat Jul 5 10:10:55 2014 -0700

    Added LengthOfColumn method because of stupid BLOBs

Author: Robregen
Date:   Fri Jul 4 21:55:50 2014 -0700

    Removed modern PVP codes.

Author: KayenEQ
Date:   Fri Jul 4 23:35:15 2014 -0400

    Updated SE_Sanctuary - Adjust way hate lowering effect worked to be more accurate
    Updated SE_SympatheticProc - Revised proc rate formula to be accurate to live.
    Sympathetic foci on items with proc rate mod will now benefit from that modifier.
    Sympathetic foci can now be placed on AA's (This should always be slot1 in the AA)
    Implemented SE_IllusionPersistence- Allows illusions to last until you die or the illusion is forcibly removed.
    Added rule 'PreNerftBardAEDot' for SE_BardAEDot to allow it to once again do damage to moving targets. (Set to true)

Author: Mackal
Date:   Fri Jul 4 13:57:09 2014 -0400

    Hopefully fix compile issue with some VS versions

Author: Robregen
Date:   Fri Jul 4 09:40:15 2014 -0700

    more modern Item code removal

Author: Robregen
Date:   Fri Jul 4 09:08:16 2014 -0700

    removed modern itemlink /itemverify codes.

Author: Cavedude
Date:   Fri Jul 4 00:49:13 2014 -0700

    Wizard spells will no longer shoot arrows.
    
    Divine Aura now reduces aggro to 1 for every entity on the hate list.
    
    Removed some unnecessary timers.

Author: KLS
Date:   Thu Jul 3 23:35:19 2014 -0700

    Missing return value

Author: KLS
Date:   Thu Jul 3 21:49:14 2014 -0700

    Fix for GCC+11 compile

Author: Mackal
Date:   Fri Jul 4 00:46:53 2014 -0400

    Fix case-sensitive issue

Author: Stairs
Date:   Fri Jul 4 01:01:02 2014 +0000

    try a boolean flag so scaling only happens with a focus item

Author: Akkadius
Date:   Thu Jul 3 18:16:43 2014 -0500

    Removing socket server from cmake for now and maintaining it in its own branch until push to master

Author: Arthur Ice
Date:   Thu Jul 3 15:48:17 2014 -0700

    Added LastInsertID() to MySQLRequestResult

Author: Robregen
Date:   Thu Jul 3 15:34:19 2014 -0700

    more unused code removal.

Author: KLS
Date:   Thu Jul 3 14:11:06 2014 -0700

    Auto-commit.

Author: Cavedude
Date:   Thu Jul 3 12:39:45 2014 -0700

    GMs will no longer be kicked to character select when they camp.
    
    Fixed training safe fall at GMs.
    
    When you buy a full stack of items from a merchant and already have a partial stack in your inventory, it'll will go to that slot first. (Buying partial stacks already worked properly.)
    
    Disabled AdjustRates as a test.

Author: KayenEQ
Date:   Thu Jul 3 11:37:38 2014 -0400

    Update SE_InterruptCasting: Will now work for instant spells (as well as over time).

Author: KayenEQ
Date:   Thu Jul 3 11:00:23 2014 -0400

    Updated SE_BardAEDot to no longer damage target while target is moving (consistent with live)

Author: KayenEQ
Date:   Thu Jul 3 10:55:59 2014 -0400

    Changed SE_LimitMaxMana to SE_MeleeVulnerability - Weakness/Mitigation verse melee damage
    (Despite lives SPA lable as the former it clearly is not what the effect does from all spell examples)

Author: KayenEQ
Date:   Thu Jul 3 08:48:27 2014 -0400

    Implemented SE_LimitSpellClass - Focus Limits spell to pre defined categories. (3=Cures,3=Offensive, 6=Lifetap)

Author: Akkadius
Date:   Thu Jul 3 04:15:00 2014 -0500

    Cleanup

Author: Akkadius
Date:   Thu Jul 3 03:25:58 2014 -0500

    More Socket Server work. Made Socket server a by default disabled option in the CMake configuration while development is underway. For now, do not use.

Author: Cavedude
Date:   Wed Jul 2 23:07:02 2014 -0700

    Faction messages will now take base modifiers into account.

Author: Cavedude
Date:   Wed Jul 2 21:39:13 2014 -0700

    Fixed the client crash when you receive a bag through quest and your inventory is full. (It will go to your cursor - which needs to be clear.)

Author: Akkadius
Date:   Wed Jul 2 22:17:45 2014 -0500

    Initial Socket Server implementation with CMakeLists.txt updated. Socket server will connect to world at this point.

Author: KayenEQ
Date:   Wed Jul 2 21:38:26 2014 -0400

    Renamed various Cast on Fade spell effects to more accurately describe their functions.
    Missing code from prior commit.

Author: Robregen
Date:   Wed Jul 2 17:02:03 2014 -0700

    Removed unused code.

Author: Cavedude
Date:   Wed Jul 2 15:17:16 2014 -0700

    Changed player speed default rule.
    
    Small tweaks to GM skill training.

Author: KayenEQ
Date:   Wed Jul 2 14:00:50 2014 -0400

    Re-Implemented SE_TriggerMeleeThreshold and SE_TriggerSpellThreshold correctly - Trigger spell if owner of buff
    takes more than the specified damage amount in a SINGLE hit, then fade the buff.

Author: Stairs
Date:   Wed Jul 2 12:43:31 2014 -0400

    Update pets.cpp
    
    Fixed spell id typo

Author: KayenEQ
Date:   Wed Jul 2 11:54:59 2014 -0400

    Implemented SE_FactionModPct - Modifies faction gains and losses by percent.

Author: KayenEQ
Date:   Wed Jul 2 11:18:50 2014 -0400

    Implemented SE_ResourceTap - Coverts a percent of dmg from dmg spells(DD/DoT) to hp/mana/end.

Author: KayenEQ
Date:   Wed Jul 2 08:42:18 2014 -0400

    Implemented SE_Sanctuary - Places caster at bottom hate list,
    effect fades if caster cast spell on targets other than self.

Author: Stairs
Date:   Wed Jul 2 06:55:56 2014 +0000

    whitespace

Author: Stairs
Date:   Wed Jul 2 06:51:39 2014 +0000

    Huge overhaul for support Al'kabor focus effects
    
     * When summoning a pet the server will pick the best focus item you have equipped for that pets level range
     * Supports PoP and Luclin Focus items that work for NEC, MAG, BST
     * Focus Items are semi hard coded in a constant array so they are easy to add / update
     * spell_effect file is cleaned up
     * Pet scaling should work more like it did on Al'kabor

Author: Cavedude
Date:   Tue Jul 1 14:50:06 2014 -0700

    Server LoS check has been moved to the beginning of the cast.
    
    LoS check is disabled in non-city outdoor zones (the DB needs to be correct for this.)
    
    Fixed interrupt messages so that there should be no more duplicate messages, and spell fizzles will always show in red.
    
    Added rule to change spell fizzle base chance.
    
    Changed color of AA spell interrupt on boats from yellow to red.
    
    Moved Gate failure check to beginning of cast, fixing it.
    
    Lowered player runspeed. (This was also made a rule.)
    
    Implemented items with hidden pet focus. Pet stats may need to be tweaked in the DB.
    
    Removed skill level check on most skills at when training at a guildmaster. Tradeskills are hardcoded in the client to stop training at 21, and there is also a server side check. Beyond that, you can only skillup the old fashioned way.
    
    Corrected PoP npcid in LevelScale

Author: KayenEQ
Date:   Tue Jul 1 17:34:36 2014 -0400

    Update to SE_AStacker, B, C, D
    Will correclty use base value to stack with same type ie (A vs A)
    Highest base value will take hold.

Author: KayenEQ
Date:   Tue Jul 1 16:52:28 2014 -0400

    Renamed a few spell effects more appropriately.

Author: Robregen
Date:   Tue Jul 1 08:54:23 2014 -0700

    more modern guild code removal.

Author: KayenEQ
Date:   Tue Jul 1 04:55:50 2014 -0400

    minor fix

Author: KayenEQ
Date:   Tue Jul 1 04:53:24 2014 -0400

    Updated SE_WaketheDead , max will now set duration.

Author: Robregen
Date:   Mon Jun 30 20:57:41 2014 -0700

    Remove modern guildmotd client code.

Author: Robregen
Date:   Mon Jun 30 17:16:01 2014 -0700

    Remove modern client guild codes.

Author: KLS
Date:   Mon Jun 30 14:09:03 2014 -0700

    Removed older AZone build options, use eqemu-zone-utils instead

Author: Cavedude
Date:   Mon Jun 30 13:18:23 2014 -0700

    Re-ordered NPC::Death to hopefully prevent a crash.

Author: KayenEQ
Date:   Mon Jun 30 16:17:55 2014 -0400

    Implemented SE_PetMeleeMitigation - Bonus applied to pet owner. Gives AC to owner's pet.
    Related AA's to be added in a seperate update.

Author: Cavedude
Date:   Mon Jun 30 11:15:30 2014 -0700

    Revert "more unused code removal"
    

Author: KayenEQ
Date:   Mon Jun 30 07:18:47 2014 -0400

    Revised Finishing blow so that damage now receives all melee bonus. Support also for this effect if placed on items or spells.

Author: KayenEQ
Date:   Mon Jun 30 06:34:12 2014 -0400

    Fix for AA Finishg Blow rank 1-3.
    AA Data was missing and incorrectly added to wrong aaid.
    Required SQL

Author: Cavedude
Date:   Mon Jun 30 01:03:48 2014 -0700

    Fixed swimming skillups.
    
    Further player position update tweaks.
    
    Slight tweak to invis logic to avoid double messages on fixed length spells.

Author: Cavedude
Date:   Sun Jun 29 23:19:17 2014 -0700

    Player sold stackable items will show with a 1 again.

Author: Cavedude
Date:   Sun Jun 29 22:09:21 2014 -0700

    Fixed the DivineAura crash.
    
    Fixed a crash in NPC::Death.
    
    Added more fixed length invis/camo spells to the effect handle. Reverted the chance to the invis fail formula as the current one is too high.

Author: KayenEQ
Date:   Sun Jun 29 23:26:22 2014 -0400

    Implemented SE_Assassinate, SE_AssassinateLevel - Defines assassinate damage and level requirements.
    Revised Assassinate mechanic so damage now receives all backstab bonuses, proc chance can be set to either (lives new Proc Per minute
    system, or flat chance based on dex (formula updated). Assassinate can now proc from THROW if behind target, various other adjustments.
    
    Required SQL for AA updates

Author: Robregen
Date:   Sun Jun 29 19:58:59 2014 -0700

    more unused code removal

Author: KayenEQ
Date:   Sun Jun 29 01:10:19 2014 -0400

    Implemented SE_HeadShot, SE_HeadShotLevel - Defines headshot damage and level requirements.
    Revised HeadShot mechanic so damage now recieves all archery bonuses, proc chance can be set to either (lives new Proc Per minute
    system, or flat chance based on dex (formula updated).
    
    Required SQL for AA data
    Optional SQL for rules

Author: Cavedude
Date:   Sat Jun 28 19:37:33 2014 -0700

    Group chat now works again.
    
    Better player position updates (I hope!)

Author: Cavedude
Date:   Sat Jun 28 11:53:30 2014 -0700

    Hopefully fixed pet zone crash.
    
    Rewrote NPCScale method per Torven's guidance.
    
    The see_invisible database columns now accept values 2-100 to indicate the percentage chance they have of seeing invis. A value of 0 means they won't see invis, and a value of 1 means they always will. (This preserves the current database entries.)
    
    Added a player profile dumping command for internal usage.

Author: Cavedude
Date:   Fri Jun 27 22:23:07 2014 -0700

    Buffs should now fade correctly.
    
    Increased the chance that invis/camo will break for lower level/skilled characters.
    
    Lowered the default save timer rule from 5 minutes to 4.
    
    Fixed some typos.
    
    Added #resetboat command, which will allow GMs to fixed bugged characters who believe they are still on a boat.

Author: KayenEQ
Date:   Fri Jun 27 20:55:17 2014 -0400

    Udpated SE_ReclaimPet - Correct forumla for mana returned to properly return 75% of actual pet spell mana cost.
    Implemented SE_ImprovedReclaimEnergy - Modifies % mana returned from SE_ReclaimPet.
    Required SQL update.

Author: Robregen
Date:   Thu Jun 26 09:49:42 2014 -0700

    removed the LFP / LFG features code and unneeded login tools found in misc folder

Author: KayenEQ
Date:   Thu Jun 26 10:54:18 2014 -0400

    Slight change to TryDispel formula for better accuracy.
    
    Live PATCH 5-20-14 Note: "Updated all spells which
    use Remove Detrimental and Cancel Beneficial spell
    effects to use a new method. The chances for those
    spells to affect their targets have not changed unless
    otherwise noted"
    
    Support added for new base values to give
    a nearly equivelent result.
    (Ie. Will work for values pre and post change)

Author: KayenEQ
Date:   Thu Jun 26 10:04:21 2014 -0400

    Update SE_AETaunt - Base value will now determine AE taunt range (This will not result in any change to currently used spells).

Author: KayenEQ
Date:   Thu Jun 26 06:45:18 2014 -0400

    changelog fix

Author: KayenEQ
Date:   Thu Jun 26 06:23:27 2014 -0400

    Implemented SE_IllusionOther - Allows next Illusion buff (self only)
    cast to be cast on target. (AA ProjectIllusion now uses this)
    Run required SLQ to update AA.

Author: KayenEQ
Date:   Thu Jun 26 05:40:09 2014 -0400

    Implemented SE_MassGroupBuff as spell effect (no longer hard coded for AA
    only). Run required SQL to update AA tables.
    Updated spells_new field175 -> numhits_type

Author: Cavedude
Date:   Wed Jun 25 13:34:10 2014 -0700

    Mobs will now path in zones without players. This should fix NPCs waiting for you when you zone back in, and also improve boats.
    
    Fixed /makeleader and players disbanding from groups.
    
    Spell specialization skills should no longer skillup until a point is trained at a guildmaster.

Author: KayenEQ
Date:   Wed Jun 25 15:25:22 2014 -0400

    Update SE_Taunt - Limit value if present will now add instant hate.

Author: KayenEQ
Date:   Wed Jun 25 14:41:15 2014 -0400

    Implemented SE_StrikeThough (Was incorrectly defined as implemented previously) - Works same as item bonus.

Author: KayenEQ
Date:   Wed Jun 25 14:31:35 2014 -0400

    Updated SE_FadingMemories - Base value will be properly utilized to set % chance for fade effect to work.

Author: KayenEQ
Date:   Wed Jun 25 14:14:55 2014 -0400

    Updated SE_Hate (Renamed from SE_Hate2) to now properly work for instant +/- hate spells.

Author: Robregen
Date:   Wed Jun 25 10:12:59 2014 -0700

    removed unused group code.

Author: Cavedude
Date:   Tue Jun 24 20:57:42 2014 -0700

    Spells cast from items will no longer require components.
    
    Bind Sight spells no longer need LoS to cast.

Author: KayenEQ
Date:   Tue Jun 24 22:04:13 2014 -0400

    Implemented an enumerator list for numhits type variables.
    Implemented type 4 outgoing spell damage numhits type.

Author: Cavedude
Date:   Tue Jun 24 18:20:51 2014 -0700

    Bind wound tweaks.

Author: Cavedude
Date:   Tue Jun 24 13:18:18 2014 -0700

    You will now stand when bind wound has completed, and also removed some duplicate messages.

Author: Secrets
Date:   Tue Jun 24 15:22:18 2014 -0400

    Changes to EQStream & Zone Logout procedures to help alleviate a crash-on-zone bug.

Author: Cavedude
Date:   Tue Jun 24 11:50:47 2014 -0700

    All buffs will now be stripped properly when HP is lower than HP from spells.

Author: Stairs
Date:   Tue Jun 24 16:34:28 2014 +0000

    Fixed invis I stupidly had cast it to a local variable

Author: KayenEQ
Date:   Tue Jun 24 08:24:11 2014 -0400

    Fix to SE_BlanaceMana to only check classes in group that have mana.

Author: Cavedude
Date:   Tue Jun 24 00:08:41 2014 -0700

    Fixed merchant price bug.
    
    You will now be stripped of buffs when you zone if your HP is lower than the HP you got from buffs. (Don't worry, if you all hate it I also made it a rule.)
    
    A couple of typo fixes, fiddling with objects to get items within world containers to spawn for a new player.

Author: KLS
Date:   Mon Jun 23 16:56:37 2014 -0700

    Some potential fixes for clang, not complete

Author: KayenEQ
Date:   Mon Jun 23 08:37:23 2014 -0400

    Update to SE_BalanaceMana, SE_BalanceHP to support limit value which caps max mana/hp that can be taken per player.

Author: KayenEQ
Date:   Sun Jun 22 23:10:29 2014 -0400

    Kayen: Implemented SE_Metabolism - Modifies food/drink consumption rates. [Data for AA is already in database]

Author: Robregen
Date:   Sun Jun 22 17:19:49 2014 -0700

    removed more unused code.

Author: KayenEQ
Date:   Sun Jun 22 15:55:04 2014 -0400

    SE_NegateAttacks buff stacking optimized.

Author: Cavedude
Date:   Sun Jun 22 11:47:17 2014 -0700

    Change to keep alive timer to match older versions of EQEmu.

Author: KayenEQ
Date:   Sun Jun 22 10:30:18 2014 -0400

    Update to SE_NegateAttack, 'max' value can now set upper limit of damage absorbed.
    DOT ticks will no longer be absorbed.

Author: KayenEQ
Date:   Sun Jun 22 06:16:34 2014 -0400

    Fixes and Updates to spell and melee mitigation runes.
    -Fix for calculation error when rune was to be removed.
    -Updated to support these spell effect limit values which
    give a max amount per hit/spell that can be mitigated.
    -Updated to allow support for these spells effects when
    the max (rune value) is set to zero, which essentially
    gives you unlimited mitigation but typically there is
    a limit value set.

Author: Cavedude
Date:   Sun Jun 22 01:54:17 2014 -0700

    Pets in-combat regen should be significantly lower.

Author: Cavedude
Date:   Sun Jun 22 01:46:39 2014 -0700

    Hopefully this will catch dupe packets in MoveCoin.
    
    Tweaked skills a bit more.
    
    Swimming should now longer skillup on z coord changes.

Author: Cavedude
Date:   Sat Jun 21 19:21:39 2014 -0700

    Changed position of Deity so we can use EQEmu values.

Author: Cavedude
Date:   Sat Jun 21 17:01:55 2014 -0700

    Identified faction mods and deity in item struct.

Author: Cavedude
Date:   Sat Jun 21 15:24:25 2014 -0700

    Fixed intel spell buff crash.
    
    Possible patch for item zone crash.

Author: Robregen
Date:   Sat Jun 21 14:48:48 2014 -0700

    revert for mac.cpp OP_TargetBuffs to fix a possible intel crash.

Author: Cavedude
Date:   Sat Jun 21 10:47:57 2014 -0700

    Fixed buff crash.

Author: Robregen
Date:   Sat Jun 21 08:52:01 2014 -0700

    remove lfguild ref

Author: KayenEQ
Date:   Sat Jun 21 10:12:24 2014 -0400

    minor fix

Author: Stairs
Date:   Sat Jun 21 10:02:21 2014 +0000

    spaces to tabs

Author: Stairs
Date:   Sat Jun 21 09:56:57 2014 +0000

    Pets will not stop attacking mobs once they are mezzed this was default behavior on Al'kabor.

Author: Cavedude
Date:   Sat Jun 21 00:13:01 2014 -0700

    Removed remaining lfguild.h references.

Author: Stairs
Date:   Sat Jun 21 06:39:54 2014 +0000

    typo

Author: Stairs
Date:   Sat Jun 21 06:35:10 2014 +0000

    pets will agro on any type of attack now unless pet hole is activated

Author: Stairs
Date:   Sat Jun 21 06:21:56 2014 +0000

    added vim rc to preserve tabs

Author: Robregen
Date:   Fri Jun 20 23:04:18 2014 -0700

    Removed Guildbank and LFGuild related code.

Author: Stairs
Date:   Sat Jun 21 04:54:03 2014 +0000

    fix tabs

Author: Stairs
Date:   Sat Jun 21 04:50:28 2014 +0000

    Revert "fixed tabing"
    

Author: Stairs
Date:   Sat Jun 21 04:49:48 2014 +0000

    fixed tabing

Author: Stairs
Date:   Sat Jun 21 04:45:05 2014 +0000

    you can't tell a charmed pet to get lost this was a bug Charmed only returns if the npc is charmed and not the pet

Author: Stairs
Date:   Sat Jun 21 04:16:46 2014 +0000

    Clean up magic numbers

Author: Stairs
Date:   Sat Jun 21 04:11:32 2014 +0000

    modifyed SetInvisible to take a flag is we should send the invis packet so that charm breaks correctly on invis vs undead and invis vs animals

Author: Cavedude
Date:   Fri Jun 20 18:38:43 2014 -0700

    Players can now remove themselves from their guild.

Author: Robregen
Date:   Fri Jun 20 16:47:57 2014 -0700

    remove petbuffwindow, appearanceeffect, enduranceupdate, mobenduranceupdate, and mobmanaupdate from code.

Author: KayenEQ
Date:   Fri Jun 20 18:10:29 2014 -0400

    Implemention for SE_Berserk, SE_Vampirism (These are not used on live)
    Fix for NPC not receiving spell bonus derived HP regen.

Author: Cavedude
Date:   Fri Jun 20 10:01:58 2014 -0700

    SenseHeading should now give skillups.
    
    Changed default value of a rule.

Author: Robregen
Date:   Thu Jun 19 21:20:11 2014 -0700

    more removal of unneeded code.

Author: Robregen
Date:   Thu Jun 19 12:47:13 2014 -0700

    removed unused world code and input new opcode for WorldLogout in patch_Mac.conf

Author: Cavedude
Date:   Wed Jun 18 20:41:56 2014 -0700

    Added Attack Speed to #npcstats and #showstats

Author: Cavedude
Date:   Wed Jun 18 18:51:01 2014 -0700

    Partial revert.

Author: Cavedude
Date:   Wed Jun 18 18:03:16 2014 -0700

    /who all friend now works (copy the patch file over!)
    
    Removed references to Drakkin and some AA code we don't need.
    
    Tweaked the invalid source slot item desync.
    
    Renamed GetStartZoneSoF to GetStartZone
    
    Dwarves now get 50 points in sense heading, since the client seemed to want to do that anyhow.

Author: Arthur Ice
Date:   Wed Jun 18 15:58:26 2014 -0700

    Database interface improvement with stl style iterators

Author: Robregen
Date:   Wed Jun 18 13:25:57 2014 -0700

    removed some world login code that we don't use

Author: KayenEQ
Date:   Wed Jun 18 06:25:14 2014 -0400

    Implemented SE_DoubleRiposte

Author: Secrets
Date:   Wed Jun 18 03:28:36 2014 -0400

    Updated EQStream.cpp changes again, this time with more unlocking of mutexes :S

Author: Cavedude
Date:   Tue Jun 17 20:14:32 2014 -0700

    The expansions a player has available to them is now determined by the account table. sql/git/required/2014_06_17_expansions.sql is REQUIRED.
    
    No rent items will now delete if the player has been offline for 30 minutes or more.
    
    Increased the chance of defense skilling up.
    
    Added a rule to determine the EQ minute for strict spawn_events.
    
    Added a new rule for tradeskill skillups.
    
    Removed more uncessary code.

Author: Robregen
Date:   Tue Jun 17 17:10:32 2014 -0700

    removed more leadership abilities and group roles related code.

Author: KayenEQ
Date:   Tue Jun 17 16:08:19 2014 -0400

    Kayen: Implemented SE_AddHateOverTimePct (Modifies +/- your total hate on NPC by percent over time)

Author: KayenEQ
Date:   Tue Jun 17 15:49:56 2014 -0400

    Implemented SE_AddHatePct (Modifies +/- your total hate on NPC by percent)

Author: KayenEQ
Date:   Tue Jun 17 15:23:07 2014 -0400

    Implemented SE_DamageModifier2

Author: KayenEQ
Date:   Tue Jun 17 09:45:12 2014 -0400

    Implemented SE_AStacker, BStacker, CStacker, DStacker
    Effects are buff stacking blockers.

Author: Cavedude
Date:   Mon Jun 16 23:38:49 2014 -0700

    GMs using hideme will no longer appear on /who or /who all.

Author: Cavedude
Date:   Mon Jun 16 22:33:50 2014 -0700

    Removed some unnecessary code.

Author: Robregen
Date:   Mon Jun 16 22:09:34 2014 -0700

    Remove BecomeCorpse, BuffCreate, BuffFadeMsg, and CameraEffects.

Author: Speedz
Date:   Mon Jun 16 18:36:26 2014 -0700

    Removed modern client code from login, removed some empty space, added logging option for successful logins (might be usefull for tracking bots/boxes/account sharing if one wants)

Author: Robregen
Date:   Mon Jun 16 16:18:12 2014 -0700

    Removed Bartar and new client bazaar functionality.

Author: KLS
Date:   Mon Jun 16 15:09:17 2014 -0700

    Work around for msvc tuple bug

Author: Cavedude
Date:   Sun Jun 15 21:35:28 2014 -0700

    Implemented /random (Copy the .conf over!)

Author: Cavedude
Date:   Sun Jun 15 21:18:42 2014 -0700

    Items sold to merchants will never display a number.
    
    Meditate will no longer auto-train.

Author: Robregen
Date:   Sun Jun 15 13:18:08 2014 -0700

    Removed some Unneeded code.

Author: Cavedude
Date:   Sun Jun 15 11:45:41 2014 -0700

    AA timers now work. AAs should be fully functional now, except for the few not yet added to the DB.
    
    Items sold to merchants will now only show 1 charge.
    
    Corrected a typo in ruletypes.h

Author: Cavedude
Date:   Sun Jun 15 01:43:48 2014 -0700

    Last of the bad merge correction.

Author: Cavedude
Date:   Sun Jun 15 01:31:46 2014 -0700

    Made better use of expansion field. Cleaned up some more unnecessary code.

Author: Cavedude
Date:   Sat Jun 14 23:26:01 2014 -0700

    This is the expansions byte in the pp.

Author: Cavedude
Date:   Sat Jun 14 23:13:39 2014 -0700

    Setting this one little byte to 15 enables /disc, allows activated AAs to work (all that I tried worked so far, except the refresh timer isn't working atm), allows higher ranked AAs to be purchased, and makes the raid window popup. I bet many other things just start working as well, too.

Author: Robregen
Date:   Sat Jun 14 22:21:03 2014 -0700

    remove some leadership aa and other stuff.

Author: Cavedude
Date:   Sat Jun 14 18:29:31 2014 -0700

    More augment removal.

Author: Cavedude
Date:   Sat Jun 14 16:23:33 2014 -0700

    Fixed knockback.

Author: Cavedude
Date:   Sat Jun 14 13:51:41 2014 -0700

    Fixed item links, and forgot a eqmac timer.

Author: Robregen
Date:   Sat Jun 14 13:00:51 2014 -0700

    remove bandalier

Author: Cavedude
Date:   Sat Jun 14 12:21:35 2014 -0700

    Increased duplicate packet timers.

Author: Cavedude
Date:   Sat Jun 14 09:29:41 2014 -0700

    Reverted EQStream change as it makes server unusable :I

Author: Stairs
Date:   Sat Jun 14 08:11:57 2014 +0000

    whitespace to tab oops

Author: Stairs
Date:   Sat Jun 14 08:10:22 2014 +0000

    whitespace to tabs opps

Author: Stairs
Date:   Sat Jun 14 08:08:42 2014 +0000

    whitespace to tabs opps

Author: Stairs
Date:   Sat Jun 14 07:58:07 2014 +0000

    Convert DoAnim to only accept Animation enums

Author: Stairs
Date:   Sat Jun 14 07:57:14 2014 +0000

    convert AttackAnimation to use new Animation enum and fix 2HB animation

Author: Stairs
Date:   Sat Jun 14 07:56:43 2014 +0000

    convert animations to Animation enum

Author: Stairs
Date:   Sat Jun 14 07:56:14 2014 +0000

    added const for 2HPericing

Author: Cavedude
Date:   Fri Jun 13 23:26:08 2014 -0700

    NPCs should path more smoothly now. I am hoping this helps with boats and fleeing as well.
    
    Changed some rule defaults.
    
    Increased difficulty of skillups, particularly defense.
    
    Made another change to see about correcting client "warping"

Author: Secrets
Date:   Sat Jun 14 01:59:25 2014 -0400

    When we resend packets, there was a crash issue that could rarely occur if a packet was incoming at the same time as a resend.

Author: KayenEQ
Date:   Fri Jun 13 17:46:34 2014 -0400

    Implemented 'special_abilities' 38 ALLOW_BENEFICIAL (Allows an NPC to recieve player buffs/heals)
    Implemented 'special_abilities' 39 DISABLE_MELEE (Prevents NPC from auto attacking, will still aggro)

Author: Cavedude
Date:   Fri Jun 13 14:28:05 2014 -0700

    Leveling should no longer restore your mana.
    
    Added additional logging to track down the whoall bug.
    
    Experimental change to player position timer, let's see if this does anything.
    
    Removed some unecessary logging.

Author: KayenEQ
Date:   Fri Jun 13 14:51:26 2014 -0400

    Implemented SE_AlterNPCLevel

Author: KayenEQ
Date:   Fri Jun 13 05:32:41 2014 -0400

    Additional functionality for damage shield and skill damage taken
    effects va the npc_spell_effects table. See change log and wiki.

Author: Cavedude
Date:   Thu Jun 12 22:08:37 2014 -0700

    Added duplicate packet timer to feigndeath.
    
    Reverted Gate failure base as it's been set in the DB.

Author: Stairs
Date:   Thu Jun 12 20:15:47 2014 -0400

    fixed spell damage message

Author: Cavedude
Date:   Thu Jun 12 16:28:37 2014 -0700

    We're now handling duplicate hide packets.
    
    Guildmasters now handle the initial training of skills correctly.
    
    Meditate no longer needs to be trained to benefit from its effects and get skillups.

Author: Cavedude
Date:   Thu Jun 12 11:34:33 2014 -0700

    Mobs killed by NPCs will no longer create corpses.
    
    Added tracking rules to help pinpoint good values. Once found, we can probably pull the rules out. Optional SQL added.
    
    You are no longer allowed to forage while sitting or in combat/combat state.

Author: Robregen
Date:   Thu Jun 12 09:01:20 2014 -0700

    cleaned up some augs stuffs.

Author: Stairs
Date:   Thu Jun 12 10:09:36 2014 -0400

    fix filtered messages so crits send correctly

Author: Cavedude
Date:   Wed Jun 11 23:28:01 2014 -0700

    Fixed /played
    
    Corrected the opcode for GuildUninvite. Remember to copy over patch file.

Author: Cavedude
Date:   Wed Jun 11 21:59:31 2014 -0700

    Spells that require a non-consumable focus item will now check for the item. (Flame Lick)

Author: Cavedude
Date:   Wed Jun 11 16:19:37 2014 -0700

    Item desyncs should be much better.
    
    Added more logging for item desyncs.
    
    Fixed the Intel client crash when the guildmaster window is closed.
    
    Changed default rule for the empty NPC corpse timer.
    
    Players will no longer receive XP when a NPC kills/steals your mob.
    
    Heal messages now work.
    
    Fixed the duplicate messages in chat, inspect, and /who all.

Author: Secrets
Date:   Wed Jun 11 18:17:06 2014 -0400

    Improved the speed of individual EQStreams by removing locking from unneeded areas.

Author: Secrets
Date:   Tue Jun 10 21:47:02 2014 -0400

    Sent Session Info bool added to Session Login. This prevents the loginserver from sending the username/password twice resulting in a client crash on Intel Mac clients.
    
    Removed the FatalError that is sent when the connection is subsequently closed on the Session Login at the LoginServer, as the client did not seem to like that.

Author: Cavedude
Date:   Tue Jun 10 14:15:58 2014 -0700

    Fixed /assist.

Author: Cavedude
Date:   Tue Jun 10 12:38:57 2014 -0700

    Removed a couple of rules.

Author: Cavedude
Date:   Tue Jun 10 12:28:49 2014 -0700

    Initial removal of all non classic clients. This code compiles, but is untested in-game.

Author: KLS
Date:   Sun Jun 8 15:18:48 2014 -0700

    Experimental changes to lua get_qglobal implementation to try to see if we can figure out this gcc x86 bug.

Author: Secrets
Date:   Fri Jun 6 13:38:28 2014 -0400

    I don't code without coffee, and this is what happens

Author: Secrets
Date:   Fri Jun 6 13:35:38 2014 -0400

    Bugfix for intel

Author: Cavedude
Date:   Fri Jun 6 09:10:43 2014 -0700

    Added support for GM commands /becomenpc and /searchcorpse.

Author: Secrets
Date:   Fri Jun 6 11:24:09 2014 -0400

    Added the ability to salt passwords in the database. Yum.

Author: Cavedude
Date:   Thu Jun 5 20:08:12 2014 -0700

    Fixed the opcode for /report, and removed the ones we aren't using.

Author: Cavedude
Date:   Thu Jun 5 19:25:01 2014 -0700

    Implemented #rewind, since EQMac doesn't have /rewind.

Author: Secrets
Date:   Thu Jun 5 08:50:33 2014 -0400

    Fixed a problem in EQOldStream that popped too many packets.
    Changed a bit of the EQStream class to have less margin for error. Should have less race conditions due to mutexes being in the right spot now.
    
    Hell, This has to be the dumbest code I've ever written:
    
    while (p = SendQueue.pop()) {
    MySendPacketStruct *p = SendQueue.pop();

Author: Mackal
Date:   Thu Jun 5 02:57:56 2014 -0400

    Update LS default entry in example config

Author: Cavedude
Date:   Wed Jun 4 11:34:09 2014 -0700

    /face now works. For some characters, typing /face does nothing however, so that'll need to be looked into.
    
    Cleaned up the logs a bit.

Author: Secrets
Date:   Wed Jun 4 06:33:19 2014 -0400

    SQLi fix

Author: Secrets
Date:   Wed Jun 4 05:38:35 2014 -0400

    Forgot cmakelists, oops

Author: Secrets
Date:   Wed Jun 4 05:34:38 2014 -0400

    Removed the ability to log in using Titanium/UF clients in the PEQMac LS

Author: Cavedude
Date:   Tue Jun 3 15:40:13 2014 -0700

    We will now drop any packets that should not be sent to EQMac, to prevent Intel from crashing.

Author: Cavedude
Date:   Tue Jun 3 14:45:37 2014 -0700

    Fixed Intel EQMac item desync caused by the client sending SwapItem twice.

Author: Cavedude
Date:   Tue Jun 3 12:04:16 2014 -0700

    Fixed the GM and pet buff crash on the Intel client.
    
    Started to try to figure out innate abilities and ability timers.

Author: Cavedude
Date:   Sun Jun 1 20:28:52 2014 -0700

    Intel Mac shouldn't crash as much when targeting.

Author: Cavedude
Date:   Sun Jun 1 09:13:09 2014 -0700

    (Secrets) Better position updates.

Author: Cavedude
Date:   Sun Jun 1 00:27:56 2014 -0700

    Added merchant class check for experience gain.

Author: Secrets
Date:   Sat May 31 22:45:36 2014 -0400

    Probably a dumb idea to remove a client that's existing as a potential other connection.
    
    Fixed up Structs.h a bit as i'm working on position updates for right now.
    
    Fixed a memory leak. Probably a good idea to not leak 1 byte of memory all over the place :(

Author: KLS
Date:   Sat May 31 16:32:15 2014 -0700

    Fix for fear failing, removed #fear command because it was blank anyway, added a cmake command to change the default map/water/path directory

Author: Cavedude
Date:   Sat May 31 13:23:09 2014 -0700

    Fixed exp while solo.

Author: Cavedude
Date:   Sat May 31 12:58:19 2014 -0700

    Fixed exp gain on NPC death.

Author: Cavedude
Date:   Sat May 31 10:48:48 2014 -0700

    Compile fix.

Author: Cavedude
Date:   Sat May 31 09:47:53 2014 -0700

    Changed hardcoded IP in Handle_SessionLogin to an .ini option "network_ip." Use this to specify your internet IP (or DNS) for Intel Mac clients.

Author: Secrets
Date:   Sat May 31 10:22:47 2014 -0400

    Rudimentary native Mac client support.
    Edit Client.cpp for the time being, there is a comment that says changeme. It accepts either DNS or IP as valid arguments. At some point we can save this per client in the basic auth.
    To login, change eqhost to your loginserver as per normal for old clients
    
    The paramaters to start EverQuest are as follows
    
    ./EverQuest patchme *user*/*pass*
    
    where *user* is your username, and *pass* is your password. All passwords are SHA1'd on the server but this opens the client to snooping. We'll deal with that later.
    
    Identified the purpose of two opcodes in login.

Author: Cavedude
Date:   Thu May 29 16:04:08 2014 -0700

    Guildmasters will now display the level you qualify for skills.
    
    Implemented greed on guildmasters.
    
    Rough stop gap for client training skills when it isn't supposed to. It's only cosmetic however, the server check still fails.

Author: Cavedude
Date:   Wed May 28 14:26:00 2014 -0700

    QuestReward now accepts a single bool (true or false) for faction instead of 2 int32s. If true, it will pull the faction hits assigned to the NPC in the DB (reversed, of course) and give you that as part of the reward.
    
    Example usage:
    e.other:QuestReward(e.self,copper,silver,gold,platinum,itemid,exp,faction)

Author: Cavedude
Date:   Wed May 28 11:17:13 2014 -0700

    Fully implemented QuestReward.
    
    Syntax on NPC is:
    e.other:QuestReward(e.self,copper,silver,gold,platinum,item,experience,factionid,factionvalue);
    
    This will give you any or all of the rewards and their messages with one call, including the quest ding sound. Any item is sent to your inventory, like SummonItem does now. The coin message is generated by the client, and will give you a message for each coin type (You recieve 5 copper...). No way around that, but it's still useful if the reward only calls for a single type.

Author: Speedz
Date:   Wed May 28 01:13:12 2014 -0700

    changed client auth default to allow

Author: Robregen
Date:   Tue May 27 21:55:51 2014 -0700

    Update the QuestReward Struct in eq_packet_structs and some other files related to it.

Author: Robregen
Date:   Tue May 27 18:30:02 2014 -0700

    Removed Veteran Related code.

Author: Robregen
Date:   Tue May 27 16:20:07 2014 -0700

    fixed for xtarget window when first logging on.

Author: KLS
Date:   Tue May 27 16:16:06 2014 -0700

    Fix for a problem with global player quests and hasquestsub

Author: Robregen
Date:   Tue May 27 16:11:41 2014 -0700

    Removed Task System from code.

Author: Cavedude
Date:   Tue May 27 15:51:09 2014 -0700

    Changed weather intensity to match logs. Thanks Rob!

Author: Cavedude
Date:   Tue May 27 15:37:51 2014 -0700

    Minor correction.

Author: Cavedude
Date:   Tue May 27 15:35:44 2014 -0700

    Controllable boats now work.
    
    Set the warp detection rule to false, as I was getting sick of seeing warp messages.

Author: Cavedude
Date:   Tue May 27 00:28:07 2014 -0700

    Fixed the crash when multiple world servers are connected to the login. This also fixes greennames. Thanks for the help, KLS.

Author: Robregen
Date:   Mon May 26 22:57:28 2014 -0700

    Removed Adventure / LDoN codes.

Author: Robregen
Date:   Mon May 26 18:33:32 2014 -0700

    removed Expedition codes.

Author: Robregen
Date:   Sun May 25 19:53:43 2014 -0700

    Remove Tributes and Crystals.

Author: Cavedude
Date:   Sun May 25 16:55:41 2014 -0700

    Fixed loginserver not sending world the account name when using old protocol.

Author: Robregen
Date:   Sun May 25 15:21:50 2014 -0700

    Removed Crystals (Radiant and Ebon) from code.

Author: Speedz
Date:   Sun May 25 12:34:19 2014 -0700

    fixed case in sql

Author: Robregen
Date:   Sun May 25 12:24:58 2014 -0700

    more RoF code removed.

Author: Cavedude
Date:   Sun May 25 11:51:27 2014 -0700

    Fixed a bug that caused ammo to be deleted twice server side.

Author: Cavedude
Date:   Sun May 25 00:32:49 2014 -0700

    Login server now compiles under Linux. Install OpenSSL (exe on Windows, apt-get/yum on Linux) and cmake should find and use it. Tested working on Ubuntu 12.04 server and Windows 7 w/ VS 2012.

Author: Robregen
Date:   Sat May 24 21:27:58 2014 -0700

    removed RoF and related code.

Author: Robregen
Date:   Sat May 24 15:43:59 2014 -0700

    correct the syntax for sql update.

Author: Robregen
Date:   Sat May 24 15:20:15 2014 -0700

    removed alt currency from code as well as more clean merc clean up.

Author: Speedz
Date:   Fri May 23 21:55:01 2014 -0700

    Removed commented code that I missed, Changed some database entries to ints instead of strings for stability.
    Changed the sql a bit to support "updates" from past databases to be a little nicer.

Author: Speedz
Date:   Fri May 23 19:12:44 2014 -0700

    Changed WIN32 to _WINDOWS as per robregen's suggestion, Removed normalize as it was causing confusion and not really needed.
    Changed Status check to stay within loginserver's tables. Now all created accounts no matter how are flagged to false for clients other than eqmac.
    Added a field for this check. Removed the write of email address to determine creation method as it will conflict with website creation methods.
    Added a field to show how account was created. This defaults to WEB but the login server handles if it is PC or MAC.
    Can create an account on non-eqmac clients and eqmac clients when auto create is on. But they will not login with non-eqmac unless flag is set.
    Can log into these accounts via eqmac after creation. Flag requires database admins to set this flag. I purposely excluded the server auto changing this setting.
    With this extra status check, you in practice can have a GM that can't use a UF client if you wish. OPTIONS!!! They rock!

Author: Cavedude
Date:   Fri May 23 18:54:54 2014 -0700

    One more default Z rule change.

Author: KLS
Date:   Fri May 23 17:39:16 2014 -0700

    Fix for string.h missing in water map

Author: Cavedude
Date:   Fri May 23 17:33:49 2014 -0700

    More Merc cleanup

Author: Speedz
Date:   Fri May 23 16:21:04 2014 -0700

    Edited previous commit request. Also added a start minimized for all server windows for Windows based compiles.

Author: KLS
Date:   Fri May 23 16:10:23 2014 -0700

    Merge from master stuff

Author: KLS
Date:   Fri May 23 16:08:02 2014 -0700

    Removed the logging now that the issue is resolved

Author: KLS
Date:   Fri May 23 15:54:26 2014 -0700

    Debug logs for map, also can actually turn perl off on zone

Author: Cavedude
Date:   Fri May 23 15:32:28 2014 -0700

    Changed some defaults rules for pathing.

Author: Robregen
Date:   Fri May 23 15:28:12 2014 -0700

    Removed everything BOTS from the git.

Author: Mackal
Date:   Fri May 23 17:21:47 2014 -0400

    Fix for Technique of Master Wu triple attack

Author: Robregen
Date:   Fri May 23 12:57:51 2014 -0700

    Delete merc.h

Author: Robregen
Date:   Fri May 23 12:57:32 2014 -0700

    Delete merc.cpp

Author: Robregen
Date:   Fri May 23 12:54:44 2014 -0700

    removed the merc files

Author: Robregen
Date:   Fri May 23 12:30:19 2014 -0700

    Removed Merc codes.  Will need to run cmake again.

Author: Speedz
Date:   Fri May 23 12:18:35 2014 -0700

    Win32 checks on loginserver for users that forget the ini. It stops window from closing and lets user know. Then prompts for anykey to close.
    Added the start of #dbversion and a rule to have the option to broadcast player logins. This currently has an issue that I can't track down.

Author: Cavedude
Date:   Fri May 23 10:59:36 2014 -0700

    Forgot the most common case of SummonItem :I

Author: Cavedude
Date:   Fri May 23 09:55:04 2014 -0700

    Quest item summons will now first try to put the item(s) in the player's inventory. If that fails, it pushes it to cursor, and as a last resort pushes it to the ground. This also requires a change to items.lua, so be sure your lua_modules folder is up to date!

Author: Speedz
Date:   Thu May 22 21:48:01 2014 -0700

    fixed some of my previous additions, and also added GM status check to be able to use UF+ clients

Author: Cavedude
Date:   Thu May 22 10:47:24 2014 -0700

    Fixed appearance updates not working until the player zones.

Author: Mackal
Date:   Thu May 22 13:45:44 2014 -0400

    Fix issue with avoidance discs

Author: Cavedude
Date:   Thu May 22 09:46:20 2014 -0700

    Other players will now see emotes. The client side filter doesn't seem to work for socials, though. Will have to look into that later.

Author: Cavedude
Date:   Wed May 21 17:58:24 2014 -0700

    Added support for /emote. (Remember to copy the patch file over!)
    
    Added new lua events board_boat and leave_boat
    
    Fixed unhandled packet logging.
    
    strict spawn_events now take into account EQ minute.

Author: KLS
Date:   Wed May 21 17:30:54 2014 -0700

    Added loading of v2 regular maps, also #bestz will report water info even if a reg map failed to load.

Author: KLS
Date:   Tue May 20 00:14:26 2014 -0700

    Initial v2 water map format.

Author: Cavedude
Date:   Sun May 18 11:31:50 2014 -0700

    Minor item effect fixes.
    
    More work on boats.

Author: Secrets
Date:   Sat May 17 23:33:35 2014 -0400

    Identified the opcode/struct for guild ranks in Rain of Fear+ clients and created a temporary workaround for permissions until full DB support is added for the new permissions system.

Author: Cavedude
Date:   Sat May 17 08:16:45 2014 -0700

    Changed item ID to signed int16.

Author: Cavedude
Date:   Thu May 15 17:32:42 2014 -0700

    Gate will now always zone you. Fixed the failure check.
    
    More boat work.
    
    Disabled some spam when EQDBUG is set to 10.

Author: Speedz
Date:   Wed May 14 07:33:28 2014 -0700

    Added the abilities to auto add accounts that don't exist, normalize ID between login server and account in the database, logging of how accounts were created (PC or mac), and logging of failed password attempts specifying PC or Mac (included a database table for this). These are all for PC and Mac logins all off by default and able to toggle on with new ini entries in the included login.ini.
    
    Also alphabetized part of the command.cpp for easier location of things. (personal preference)

Author: KayenEQ
Date:   Wed May 14 09:27:47 2014 -0400

    Update for spell effect SE_LimitHPPercent, SE_LimitManaPercent, SE_LimitEndPercent
    to utilize limit values. These effects cap your hp/end/mana at a set percent (base)
    OR flat value (limit) which is ever is lower.

Author: KayenEQ
Date:   Wed May 14 08:40:18 2014 -0400

    Rooted NPC's will no longer target players with Divine Aura effect if
    they are the closest target and other targets exist on the hate list.

Author: KayenEQ
Date:   Wed May 14 07:59:12 2014 -0400

    Missing rule SQL from prior update.

Author: Uleat
Date:   Mon May 12 03:06:13 2014 -0400

    Re-arranged Item.cpp functions to match their declaration order in Item.h (prep for upcoming changes)

Author: Kringlykrab
Date:   Sun May 11 13:27:33 2014 -0400

    WIS fix.
    
    WIS was actually setting MR.

Author: Kringlykrab
Date:   Sat May 10 12:02:48 2014 -0400

    Updated with fix.

Author: KLS
Date:   Fri May 9 15:06:33 2014 -0700

    Fix for crash in loading loot drops when you hit the actual lootdrop entry limit of 1260

Author: Kinglykrab
Date:   Thu May 8 13:42:21 2014 -0400

    Update command.cpp
    
    Removed an accidental repetition of atoi.

Author: KayenEQ
Date:   Wed May 7 22:46:00 2014 -0400

    AA/Item/Spell that allow pets to flurry and critical will now
    also apply to owners swarm pets consistent with live.

Author: Cavedude
Date:   Wed May 7 11:13:23 2014 -0700

    eqtime is now stored in the DB. Source in the sql to get it working now, but the DB will include it starting tomorrow.

Author: Uleat
Date:   Mon May 5 21:59:21 2014 -0400

    Fix for test... (conn_state != client_state)

Author: JJ
Date:   Mon May 5 21:18:08 2014 -0400

    SQL file rename (added '0')

Author: Uleat
Date:   Mon May 5 20:42:31 2014 -0400

    Test fix for 'random' zone crashes..particularly relating to MGB use.

Author: Mackal
Date:   Mon May 5 18:23:55 2014 -0400

    Fix #150

Author: Kinglykrab
Date:   Mon May 5 15:58:36 2014 -0400

    Update command.cpp

Author: Mackal
Date:   Mon May 5 15:48:19 2014 -0400

    Added pointer check

Author: Mackal
Date:   Mon May 5 15:29:29 2014 -0400

    Melee 'facing' code updated to client derived function
    
    These new functions are derived from the client
    The need was because the old function sometimes didn't line
    up with the client generated messages.

Author: Cavedude
Date:   Sun May 4 14:19:02 2014 -0700

    Fixed a crash caused by item links under Linux.
    Locked doors now require the key to be on your cursor to open (using the U key)
    Quest summons now will default to summoning a single item instead of the full stack unless otherwise specified. The #si command has the opposite behavior.

Author: Kinglykrab
Date:   Sun May 4 10:30:52 2014 -0400

    Added new abilites to #npcedit.
    
    I added the ability to modify stats, version, maxlevel, PhR, no_target_hotkey, adventure_template_id, npc_spell_effects_id, trap_template, special_abilities, scalerate, healscale, spellscale, and color.

Author: KayenEQ
Date:   Sun May 4 01:02:04 2014 -0400

    Fix for npc_types table error setting SlowMitigation to null by default.
    
    If you already ran the 4-12 update you do not need to run it again,
    just run the new one.

Author: Cavedude
Date:   Tue Apr 29 19:54:05 2014 -0700

    Re-added map.cpp

Author: KayenEQ
Date:   Tue Apr 29 22:23:25 2014 -0400

    Fix for AA stacking where first AA in series has only 1 rank.

Author: KLS
Date:   Tue Apr 29 17:49:17 2014 -0700

    Some compile fixes for older versions of C++ on windows

Author: Cavedude
Date:   Tue Apr 29 17:20:35 2014 -0700

    Merge fix.

Author: KLS
Date:   Tue Apr 29 13:05:45 2014 -0700

    Changelog

Author: KayenEQ
Date:   Mon Apr 28 17:18:23 2014 -0400

    fix sql

Author: KLS
Date:   Mon Apr 28 13:15:43 2014 -0700

    And of course memset too way to not include the whole error message the first time jerk

Author: KLS
Date:   Mon Apr 28 13:10:11 2014 -0700

    Raycastmesh missing malloc, free, NULL refs

Author: Cavedude
Date:   Mon Apr 28 08:36:33 2014 -0700

    Revert.

Author: Cavedude
Date:   Sun Apr 27 22:29:52 2014 -0700

    Reverted Crash fix/memleak fix on EQStream.cpp for testing.

Author: Robregen
Date:   Sun Apr 27 08:38:14 2014 -0700

    Update login.ini
    
    add the option to use login_opcodes_oldver.conf

Author: Secrets
Date:   Sun Apr 27 05:49:28 2014 -0400

    Changed encryption to sha1 (default for eqemuls)

Author: KayenEQ
Date:   Sun Apr 27 04:27:02 2014 -0400

    sql hot fix

Author: KayenEQ
Date:   Sun Apr 27 04:02:41 2014 -0400

    remove old sql

Author: KayenEQ
Date:   Sun Apr 27 03:57:14 2014 -0400

    Implemented new table 'npc_spells_effects' and 'npc_spells_effects_entires'.
    Implemented new field in 'npc_spell_effects_id' in npc_types.
    
    These are used to directly apply spell effect bonuses to NPC's without requirings spells/buffs.
    Example: Allow an npc to spawn with an innate 50 pt damage shield and a 5% chance to critical hit.
    
    Please see the wiki page: http://wiki.eqemulator.org/p?npc_spell_effects_entries for details.
    
    *NPC's can now do critical heals / damage spells if bonus is applied from table.
    
    Required SQL: utils/sql/git/required/2014_04_27_AISpellEffects.sql
    Note: 30 examples of spell effects have been included by default in this sql. Edited/removed as needed.

Author: Secrets
Date:   Sun Apr 27 00:37:11 2014 -0400

    Crash fix/memleak fix on EQStream.cpp
    
    EQEmu LoginServer now supports the mac client.

Author: KLS
Date:   Fri Apr 25 18:45:19 2014 -0700

    Darwin caused ipc mutex to stop working for non-darwin, non-windows systems. Hopefully fixed

Author: Cavedude
Date:   Fri Apr 25 12:40:25 2014 -0700

    Fixed a zone crash in spawn_conditions.
    spawn_events changes, fixes, and additions.

Author: Cavedude
Date:   Fri Apr 25 11:59:12 2014 -0700

    Forgot some minor cleanup in spawn2.

Author: Cavedude
Date:   Fri Apr 25 11:39:21 2014 -0700

    DB change required, will be in next Alkabor revision (I'll get it up today.)
    
    Fixed a crash in spawn_conditions caused by NPCs on one way paths.
    
    Added a strict column to spawn_events, to prevent a spawn_condition from firing mid-cycle if need be (will be required by boats.)
    
    Added stuff to get boats working - not finished yet. Boats do not work and there is still debug code left.
    
    Changes to skills to hopefully eventually get guildmasters working correctly.
    
    Removed the +6 tacked on to the z coord during zone-in. EQMac will still continue to hop 5 coords on zone-in. This happened on Alkabor, too. I confirmed it while it was still up.

Author: KayenEQ
Date:   Fri Apr 25 09:07:48 2014 -0400

    fix

Author: KayenEQ
Date:   Fri Apr 25 08:52:49 2014 -0400

    Developement Branch AISpellEffects.
    Debug crash on NPC death.

Author: Secrets
Date:   Wed Apr 23 12:50:25 2014 -0400

    Revert "It's never ogre with these hatelist crashes.."
    

Author: KayenEQ
Date:   Wed Apr 23 03:54:54 2014 -0400

    Improved SE_LimitCombatSkills will now more accurately determine if a spell is a combat proc.
    SE_LimitInstant will now also work when set to include instant spells.
    
    Optional SQL: utils/sql/git/optional/2014_04_23_FocusComabtProcs.sql
    Note: Set to false, if enabled will allow all combat procs to receive spell focuses.

Author: Secrets
Date:   Tue Apr 22 13:37:35 2014 -0400

    hatelist fixes to fixes to fixes

Author: Secrets
Date:   Tue Apr 22 13:24:07 2014 -0400

    More hatelist fixes. Trying to nail the crash :S

Author: Mackal
Date:   Tue Apr 22 00:48:46 2014 -0400

    Add mez break message

Author: Secrets
Date:   Mon Apr 21 22:19:12 2014 -0400

    It's never ogre with these hatelist crashes..

Author: Secrets
Date:   Sun Apr 20 21:00:50 2014 -0400

    indentation is important

Author: Secrets
Date:   Sun Apr 20 20:54:21 2014 -0400

    Hatelist crash fix

Author: KLS
Date:   Sun Apr 20 17:46:43 2014 -0700

    CMake flags to defining what is logged and where

Author: KLS
Date:   Sun Apr 20 17:26:51 2014 -0700

    Change to how quest signals work

Author: Corysia
Date:   Sat Apr 19 21:45:54 2014 -0700

    Apparently 0 is a vaid file descriptor in OSX

Author: Secrets
Date:   Sun Apr 20 00:26:54 2014 -0400

    smoke commits everyday

Author: Akkadius
Date:   Fri Apr 18 19:37:26 2014 -0500

    Added #command error message suppression for those who don't want to see 'Command is not recognized' constantly
            - You need to have rule 'Chat:SuppressCommandErrors' set to true, this is set to false by default
            - Required SQL: 2014_04_18_Suppress_Command_Error.sql

Author: Mackal
Date:   Wed Apr 16 12:44:02 2014 -0400

    Fix linux compile issue with 884b0291

Author: Akkadius
Date:   Tue Apr 15 12:00:33 2014 -0500

    Exported $client->SendMarqueeMessage(type, priority, fade_in, fade_out, duration, msg) - Will be available for simple plugin use
    Exported $client->ExpeditionMessage(THIS, ExpdID, Message) - In use with custom expedition mod that will be released soon

Author: KayenEQ
Date:   Sat Apr 12 21:15:13 2014 -0400

    Revision of SE_PercentHeal
    Will now apply focus properly
    Can now do damage if set to negative value

Author: KayenEQ
Date:   Sat Apr 12 03:31:30 2014 -0400

    removed commented out code.

Author: KayenEQ
Date:   Sat Apr 12 00:18:19 2014 -0400

    Revision of slow mitigation code.
    Fix for the slow mitigation spam messages
    Converted value from FLOAT to INT
    Use SQL to update your npc_types table

Author: KayenEQ
Date:   Thu Apr 10 00:55:31 2014 -0400

    SQL

Author: KayenEQ
Date:   Thu Apr 10 00:47:20 2014 -0400

    Rule to make player cast swarm pets untargetable with F8.
    New npc_types field to allow any NPC to be untargetable with F8
    Swarm pets will now be heal/buffable like live.
    See change log for more details.
    
    Note: The method used here to prevent
    targeting is a hack but the only side
    effect it turns affected NPC's names Yellow.

Author: KayenEQ
Date:   Wed Apr 9 05:17:36 2014 -0400

    -Implemented the ability to properly use live spell projectile graphics.
    This data is found in the player_1 field of the spells_new table.
    -Rule for this set to be disabled by default.
    -Enable IF your server uses an UF+ spell file
    and your players use UF+ clients
    -Otherwise your better off with alternative method/rules
    already implemented so that all players can see the effect.
    -Added ability for PERL ProjectileAnim function to only
    need an IT#### and not an actual item id.
    -If you want it in LUA somebody needs to add it.
    - Change to wizard innate critical ratios based on parse data.

Author: Mackal
Date:   Mon Apr 7 21:21:08 2014 -0400

    Fix wiz innate crit issue

Author: Uleat
Date:   Sun Apr 6 05:39:37 2014 -0400

    Dual Wield changes - see posting linked in changelog.txt

Author: Mackal
Date:   Sun Apr 6 03:03:18 2014 -0400

    Fix issue with optional SQL

Author: Akkadius
Date:   Sat Apr 5 18:12:58 2014 -0500

    changelog.txt

Author: Akkadius
Date:   Sat Apr 5 18:09:12 2014 -0500

    Fix for the Fix for the Fix: Rule Combat:OneProcPerWeapon was created so that you can revert to the original proc functionality
            for custom servers that have balanced their content around having more than 1 aug proc on weapons. By having this rule set to 'false' you revert this functionality.
            This rule is set to 'true' by default as the original functionality from Live was intended to be

Author: KLS
Date:   Sat Apr 5 16:07:13 2014 -0700

    Renamed errant sql file.

Author: Mackal
Date:   Sat Apr 5 18:47:14 2014 -0400

    Allow multiple aug procs if Combat:OneProcPerWeapon is false

Author: Secrets
Date:   Sat Apr 5 17:18:19 2014 -0400

    Added a rule to enable multiple procs from the same weapon's other slots if a proc is deemed to trigger, Defaults to true.

Author: Corysia
Date:   Sat Apr 5 10:24:28 2014 -0700

    Backward port to OSX 10.6 (Snow Leopard)

Author: Akkadius
Date:   Sat Apr 5 03:38:58 2014 -0500

    (Performance Adjustment) Removed AsyncLoadVariables from InterserverTimer.Check() in both zone and world. By watching the MySQL general.log file on mass zone idle activity, you can
            see that the query 'SELECT varname, value, unix_timestamp() FROM variables where unix_timestamp(ts) >= timestamp' is called every 10 seconds. This function is loading
            variables that are initially loaded on World and Zone bootup. When running a large amount of zone servers, the amount of MySQL chatter that is produced is enormous and
            unnecessary. For example, if I ran 400 zone servers, I would see 3,456,000 unnecessary queries from all idle or active zone processes in a 24 hour interval.

Author: Akkadius
Date:   Sat Apr 5 01:58:16 2014 -0500

    Test

Author: KayenEQ
Date:   Fri Apr 4 22:03:32 2014 -0400

    Implemented proper functionality of SE_Screech
    If you have a buff with SE_Screech with value of 1
    it will block any other buff with SE_Screen that has
    a value of -1, giving you an immunity message.
    Example: 1383 Screech and 2785 Screech Immunity

Author: KayenEQ
Date:   Fri Apr 4 21:32:56 2014 -0400

    Change log correction.

Author: KLS
Date:   Fri Apr 4 12:27:18 2014 -0700

    Fix for crash in EntityList::MobInZone(Mob *who) when a dangling pointer is passed to the function. Which used to work without crashing but was changed at some point which can be triggered by quests in some situations.

Author: KayenEQ
Date:   Fri Apr 4 01:59:55 2014 -0400

    Implemented Physical Resists consistent with live.
    SQL to add new column 'PhR' to npc_types
    Values to populate table based on extensive parsing.
    Fixes for spell projectile code.

Author: Corysia
Date:   Thu Apr 3 14:10:03 2014 -0700

    Changes for intel Mac OSX build

Author: KayenEQ
Date:   Thu Apr 3 04:25:45 2014 -0400

    -Implemented live like spell projectiles (ie mage bolts).
    -See function in spells.cpp for more info on bolt behavior.
    -This works reasonably well, but still room for improvements.
    -Rules are for setting what item id is used for the projectile
    since live uses an item id from SOF+ I added alternate item graphic
    for titanium clients.
    -Note: Max number of projectiles (set at 10) is a made up value in most
    situations it would be nearly impossible to have more than 3 bolts
    in the air at the same time. This values gives enough wiggle room that no
    server should have an issue though.
    -Small fix to SE_CompleteHeal

Author: Trevius
Date:   Tue Apr 1 23:00:15 2014 -0500

    Fixed potential endless quest loop with EVENT_COMBAT and WipeHateList().

Author: Mackal
Date:   Tue Apr 1 21:03:49 2014 -0400

    Implement ability for NPC Merchants to open and close shop

Author: Trevius
Date:   Mon Mar 31 22:03:11 2014 -0500

    Prevented an endless loop crash related to EVENT_TASK_STAGE_COMPLETE.

Author: Uleat
Date:   Mon Mar 31 09:31:49 2014 -0400

    Added optional rule for allowing bots to auto-update with their owner.
    (Run the optional sql script to activate this feature)

Author: Uleat
Date:   Mon Mar 31 03:21:22 2014 -0400

    Fix for unconscious ability skillups.
    Fix for zone crash related to item==nullptr in Client::SummonItem().

Author: KayenEQ
Date:   Thu Mar 27 23:23:15 2014 -0400

    Implemented SE_NegateIfCombat

Author: KayenEQ
Date:   Thu Mar 27 19:17:05 2014 -0400

    String updates
    Level requirment for Summon Corpse spells

Author: KayenEQ
Date:   Thu Mar 27 05:14:54 2014 -0400

    Spell Effect Updates.
    Implemented fail chances for SE, Gate, Succor, FeignDeath.
    Minor fixes to haste bonuses to allow for negatives.
    Rule added for Succor failure rate.

Author: Mackal
Date:   Thu Mar 27 02:41:39 2014 -0400

    Fix for wizard innate crits when they have no chance otherwise

Author: Robregen
Date:   Tue Mar 25 14:02:20 2014 -0700

    Cleaned up Mac_structs
    
    removed old comments, proper indentation, and numbering for readabilty.

Author: Uleat
Date:   Sat Mar 22 05:17:38 2014 -0400

    Fix for bot guild script failures.
    MOVED 'load_bots.sql' and 'drop_bots.sql' into this repository. (They are updated)

Author: KayenEQ
Date:   Thu Mar 20 00:53:49 2014 -0400

    Further refinements to root, charm, mez and fear behaviors.
    
    Updates to a few rule due to new/corrected parse data.
    
    All behaviors defined from weeks of extensive live parsing
    
    Root Break Chance from DD now will scale based on level difference.
    
    Root has a baseline aproximately 6% chance to break per check when target has
    at 0% chance to resist spells.(ie green cons 60 levels lower with tash).
    
    Fear has an approximately 70% chance to trigger a resist check each tick
    to determine if it will fade early. (no baseline break chance)
    
    Charisma less than 100, gives -20 resist mod to intial fear casts
    Charisma from 100 to 255 will progressively reduce this mod to 0.
    Charisma DOES NOT effect UNDEAD fears
    
    Charmisma less than 75 significantly increase CHARM/MEZ/LULL resist rates.
    
    Mez spells will now also use charisma resist check, as they do on live.

Author: Uleat
Date:   Tue Mar 18 06:00:46 2014 -0400

    Fix for name/account discrepancy in \\zone\inventory.cpp.
    Rearranged/condensed code snippets in Client::SummonItem().
    Added 'augslotvisible' check to augment validation in C::SI().

Author: Uleat
Date:   Mon Mar 17 04:53:47 2014 -0400

    ** Fix for RoF clients not displaying Augment Restrictions in the Item Info window.
    ** Change to Client::SummonItem() to enforce valid item/augment combinations. (Run the optional sql file first, before posting any
    SummonItem() failure issues in the forums.)

Author: KayenEQ
Date:   Wed Mar 12 05:14:19 2014 -0400

    Coverted melee and magic runes to use bonuses.
    Removed all the old rune flags now that none of them are used.
    Fixed issues where runes would not fade properly if damage = remaing rune amount
    Fixed issue where runes would stop absorbing damage if you had multiple runes.

Author: UKMethod
Date:   Fri Mar 7 01:34:30 2014 +0100

    Fixed 2H Blunt Animation to match Live
    Melee bots (with no mana) will now sit when not full HP and out of combat.

Author: Uleat
Date:   Tue Mar 18 06:00:46 2014 -0400

    Fix for name/account discrepancy in \\zone\inventory.cpp.
    Rearranged/condensed code snippets in Client::SummonItem().
    Added 'augslotvisible' check to augment validation in C::SI().

Author: Uleat
Date:   Mon Mar 17 04:53:47 2014 -0400

    ** Fix for RoF clients not displaying Augment Restrictions in the Item Info window.
    ** Change to Client::SummonItem() to enforce valid item/augment combinations. (Run the optional sql file first, before posting any
    SummonItem() failure issues in the forums.)

Author: Arthur Ice
Date:   Thu Mar 13 14:45:54 2014 -0700

    Tests for hextoi, hextoi64, atobool
    
    const hextoi / hextoi64 / atobool. null check for each. tests for each.

Author: KayenEQ
Date:   Wed Mar 12 05:14:19 2014 -0400

    Coverted melee and magic runes to use bonuses.
    Removed all the old rune flags now that none of them are used.
    Fixed issues where runes would not fade properly if damage = remaing rune amount
    Fixed issue where runes would stop absorbing damage if you had multiple runes.

Author: KLS
Date:   Mon Mar 10 16:43:33 2014 -0700

    Changed how item faction bonuses are cleared.

Author: KLS
Date:   Sun Mar 9 18:41:50 2014 -0700

    Added some missing bufffadebyx functions to lua mob

Author: KLS
Date:   Sun Mar 9 17:55:24 2014 -0700

    Memory leak work around for perl, should play better with events that call other events now.

Author: KayenEQ
Date:   Sat Mar 8 05:35:22 2014 -0500

    Lull spell effect revisions

Author: KLS
Date:   Fri Mar 7 19:59:44 2014 -0800

    Added some other timer functions to lua, removed perl memory leak stop gap for the moment until i decide how to fix it...

Author: UKMethod
Date:   Fri Mar 7 01:34:30 2014 +0100

    Fixed 2H Blunt Animation to match Live
    Melee bots (with no mana) will now sit when not full HP and out of combat.

Author: KayenEQ
Date:   Thu Mar 6 07:52:10 2014 -0500

    fix

Author: KayenEQ
Date:   Thu Mar 6 07:44:39 2014 -0500

    root related bonuses for negate effect.

Author: KayenEQ
Date:   Thu Mar 6 07:36:47 2014 -0500

    SE_Root and SE_RootBreakChance updates

Author: Mackal
Date:   Thu Mar 6 02:39:54 2014 -0500

    Renamed optional SQL

Author: Mackal
Date:   Thu Mar 6 02:38:22 2014 -0500

    Renamed optional SQL

Author:Sorvani
Date:   Wed Mar 5 22:19:55 2014 -0600

    Fixes #119

Author: Mackal
Date:   Wed Mar 5 23:02:57 2014 -0500

    Fix NPC swarm pets despawning on owner death
    Fix NPC swarm pets IsAttackAllowed logic

Author: Mackal
Date:   Wed Mar 5 01:52:41 2014 -0500

    Fixes #129 - Initialize pointer to nullptr.

Author: Mackal
Date:   Wed Mar 5 01:34:17 2014 -0500

    Fix rogue's evade to be single target
    
    This is also a lot nice performance wise

Author: Mackal
Date:   Wed Mar 5 01:09:18 2014 -0500

    Fix QuestManager::RemoveAllFromInstance

Author:Sorvani
Date:   Tue Mar 4 23:11:33 2014 -0600

    missed a couple MT_Say

Author:Sorvani
Date:   Tue Mar 4 22:39:52 2014 -0600

    Created RemoveFromInstance and RemoveAllFromInstance and exported to lua_general.cpp

Author: KayenEQ
Date:   Tue Mar 4 06:43:57 2014 -0500

    Root rule optional SQL

Author: KayenEQ
Date:   Tue Mar 4 06:42:41 2014 -0500

    Root spell revision
    Optional SQL

Author: Mackal
Date:   Mon Mar 3 15:01:52 2014 -0500

    Optimized EntityList::AddHealAggro

Author: Mackal
Date:   Mon Mar 3 14:59:39 2014 -0500

    Implemented deadly strikes and increase rogue throwing crit rate
    
    New rules:
            Combat:RogueCritThrowingChance, Combat:RogueDeadlyStrikeChance, Combat:RogueDeadlyStrikeMod
    Rogue throwing crit rate is rather ridiculous. These rules might need tweaking
    but they gave me fairly live-like results, even with AA added

Author: Mackal
Date:   Sun Mar 2 22:10:32 2014 -0500

    Melee Crits, HoTs, DoTs messages should now filter correctly
    
    Clients that also support seeing others DoTs will now see them
    if they don't filter them.
    
        Note: HoTs 'mine only' doesn't seem to be different from 'show'

Author: KayenEQ
Date:   Sun Mar 2 19:44:42 2014 -0500

    Added lower bounds for chance of charm fading.
    Parsed on live to be approximately no lower
    than 5% regardless of level difference.

Author: KayenEQ
Date:   Sun Mar 2 17:36:18 2014 -0500

    Fix for SQL

Author: KayenEQ
Date:   Sun Mar 2 04:24:51 2014 -0500

    debug msg removed

Author: KayenEQ
Date:   Sun Mar 2 03:46:51 2014 -0500

    Revisions to how charm works.
    Optional SQL for rules

Author: Mackal
Date:   Sat Mar 1 14:02:57 2014 -0500

    Add FilteredMessage do nothing mob virtuals

Author: Mackal
Date:   Sat Mar 1 00:16:37 2014 -0500

    Added FilteredMessage functions that better use ServerFilters
    
    These functions are currently unused, but should work nicely.
    I didn't add overloads to separate them from the others for now

Author: Mackal
Date:   Fri Feb 28 22:06:10 2014 -0500

    Fix issue with mob procing

Author: Mackal
Date:   Fri Feb 28 17:43:37 2014 -0500

    Switched some heal messages to StringIDs

Author: Mackal
Date:   Fri Feb 28 02:57:43 2014 -0500

    Shielding now uses StringIDs

Author: Mackal
Date:   Fri Feb 28 02:56:36 2014 -0500

    Fix zone crash with TryWeaponProc

Author: Mackal
Date:   Fri Feb 28 02:25:17 2014 -0500

    Crit Spells to StringIDs
    Some minor clean up
    Fix an mlog message

Author: Cavedude
Date:   Thu Feb 27 23:21:57 2014 -0800

    Exported TrainDisc to Lua.
    Updated idle timer names.

Author: Siroro
Date:   Thu Feb 27 12:00:06 2014 +0000

    Fixed augs having 100% proc rate

Author: Siroro
Date:   Thu Feb 27 09:41:57 2014 +0000

    Added rule Merchant: EnableAltCurrencySell - defaults to true, allows servers to disable the ability to resell items to alternate currency merchants.

Author: Mackal
Date:   Thu Feb 27 03:19:25 2014 -0500

    Reworked Weapon Procing
    
    Broke up the logic to be a bit easier to follow
    Procs should happen in the order that they do on live
    Proc rates for spell buff procs should be more consistent with live

Author: Cavedude
Date:   Wed Feb 26 18:28:27 2014 -0800

    Getting us current so I can merge EQEmu. Slight changes to the .conf

Author: Uleat
Date:   Wed Feb 26 21:27:30 2014 -0500

    Fix for 'sqrt' failures on vs2010 clients

Author: Cavedude
Date:   Wed Feb 26 18:20:16 2014 -0800

    Corrected 2014_02_26_virulentvenomAA.sql

Author: Cavedude
Date:   Wed Feb 26 18:06:16 2014 -0800

    Better flee runspeed calculation.
    Added two new NPC special_abilities, ALWAYS_FLEE and FLEE_PERCENT.
    Fixed an issue where a NPC could get stuck on a single coord in a rectangular roambox.
    Added mindelay to spawngroup to allow for greater control of the roambox delay. SQL is required.

Author: KayenEQ
Date:   Wed Feb 26 05:16:37 2014 -0500

    Clean up and revision of proc chance bonuses
    Combat Effects and WeaponProc bonuses will no longer affect melee spell procs

Author: KayenEQ
Date:   Wed Feb 26 00:09:59 2014 -0500

    Spell effect addition / fixes

Author: Mackal
Date:   Tue Feb 25 23:15:14 2014 -0500

    Added entity_list::IsMobSpawnedByNpcTypeID
    
    Exported to both lua and perl

Author: Cavedude
Date:   Tue Feb 25 15:01:36 2014 -0800

    Fixed issue where NPCs would get stuck on a single coord if one side of their roambox is larger than the specified distance.
    
    Added files for Evolution. Nothing functional yet. cmake will probably need to be re-run.

Author: Mackal
Date:   Mon Feb 24 17:25:49 2014 -0500

    Fix HOTs timer when they're in the song window

Author: Mackal
Date:   Mon Feb 24 02:31:40 2014 -0500

    Mobs will now face their target they are casting on
    
    Note: they do not switch their target, this is how live does it

Author: Mackal
Date:   Mon Feb 24 01:24:27 2014 -0500

    Add SpellType_Root to EngagedCast check

Author:Sorvani
Date:   Mon Feb 24 00:20:18 2014 -0600

    Updated GetUnusedInstanceID to not recycle instance ID's unless it has reached max (65535)

Author: Mackal
Date:   Mon Feb 24 00:43:24 2014 -0500

    Debuff/Slow on random mob on hatelist

Author: Mackal
Date:   Mon Feb 24 00:37:38 2014 -0500

    Mobs cast root on random person on hatelist

Author: Mackal
Date:   Mon Feb 24 00:27:26 2014 -0500

    Make the random addition to time_cancast actually useful
    
    It was in ms so adding 0-4 ms doesn't really do much

Author: Mackal
Date:   Mon Feb 24 00:22:02 2014 -0500

    Remove dist in Mob casting AI for roots

Author: KLS
Date:   Sun Feb 23 21:17:28 2014 -0800

    Partial port of der's map rewrite, no new azone format yet but it's coming.  Will convert legacy map formats on the fly atm.

Author: KLS
Date:   Sun Feb 23 17:14:50 2014 -0800

    RaycastMesh work der started I'm going to pick up...

Author: Secrets
Date:   Sun Feb 23 19:48:46 2014 -0500

    Exported the client object SendTargetCommand to Perl.

Author: Cavedude
Date:   Sun Feb 23 15:55:26 2014 -0800

    Merchants will now keep track of charges sold to them properly so it is no longer possible to recharge items using merchants.

Author: KLS
Date:   Sat Feb 22 15:26:18 2014 -0800

    Export of eq.clock(), os.clock() isn't a good option on unix

Author: KLS
Date:   Sat Feb 22 15:04:01 2014 -0800

    SetDestructibleObject exported to lua

Author: KayenEQ
Date:   Sat Feb 22 02:23:37 2014 -0500

    not_reflectable -> reflectable

Author: KayenEQ
Date:   Sat Feb 22 01:34:16 2014 -0500

    fixes
    Re implemented deathsavechanceAA ect as ExtraDIChance
    Confirmed on live that this effect persists even if caster not in zone.

Author: Mackal
Date:   Fri Feb 21 22:57:15 2014 -0500

    Changed SE_SingingSkill to SE_Amplificatoin
    
    This effect will now stack with other singing spell/item mods
    like it does on live.

Author: Mackal
Date:   Fri Feb 21 04:04:18 2014 -0500

    Keep track of base spell id for SpellProcs/PermaProcs
    
    This will fix numhits issue for procs from spells

Author: Mackal
Date:   Thu Feb 20 01:35:59 2014 -0500

    (Performance) Corpse drag will now fetch entity by ID

Author: KayenEQ
Date:   Thu Feb 20 01:05:44 2014 -0500

    change log

Author: KayenEQ
Date:   Thu Feb 20 01:04:34 2014 -0500

    new spell effects
    buff struct/tables - required sql
    Removed: death_save_chance and deathsave_aa_chance (no longer used)
    Added: dot_rune, caston_x, caston_y, caston_z
    minor fixes

Author: Mackal
Date:   Wed Feb 19 20:29:19 2014 -0500

    NPC vs Client damage revamp
    
    Shot list of things that changed:
    AC Softcap is based on your defensive skill (the scaling factors
    are based on at least previously stated dev quotes)
    The over AC Softcap returns are now based on exact calculations
    made with the Armor of Wisdom AA.
    Shielding item bonus and Melee mitigation spell bonus (nerfs)
    NPCs damage will now correctly follow the
    "damage base + (damage interval * [1, 20])" formula.
    
    These changes might seem a little weird but I didn't want to change
    any of the other damage situations since they were fairly good, but
    they still could use a revamp as well.
    
    New rules:
    RULE_BOOL ( Combat, OldACSoftcapRules, false) // use old softcaps
    RULE_BOOL ( Combat, UseOldDamageIntervalRules, false) // use old damage formulas for everything
    RULE_REAL ( Combat, WarACSoftcapReturn, 0.3448) // new AC returns
    RULE_REAL ( Combat, ClrRngMnkBrdACSoftcapReturn, 0.3030)
    RULE_REAL ( Combat, PalShdACSoftcapReturn, 0.3226)
    RULE_REAL ( Combat, DruNecWizEncMagACSoftcapReturn, 0.2000)
    RULE_REAL ( Combat, RogShmBstBerACSoftcapReturn, 0.2500)
    RULE_REAL ( Combat, SoftcapFactor, 1.88)
    
    If you want to use the old calculations only, set
    Combat:OldACSoftcapRules and Combat:UseOldDamageIntervalRules to true

Author: KayenEQ
Date:   Tue Feb 18 23:26:09 2014 -0500

    fix

Author: KayenEQ
Date:   Tue Feb 18 23:24:14 2014 -0500

    fix

Author: KayenEQ
Date:   Tue Feb 18 21:59:33 2014 -0500

    Spell Effect additions
    Minor fixes

Author: Mackal
Date:   Tue Feb 18 18:22:19 2014 -0500

    Fix NPC rampage to be more in-line with live
    
    New rules:
    RuleI: Combat, DefaultRampageTargets
            Set to 1
            If the specatk db entry has no extra param it will use this
    RuleB: Combat, RampageHitsTargets
            Defaults to false
            If true, if number hit is still less than RampageTargets, try tank
    
    If you want the old behavior still set DefaultRampageTargets to 3 and
    RampageHitsTargets to true

Author: Mackal
Date:   Tue Feb 18 16:52:51 2014 -0500

    Added single target HalveAggro and DoubleAggro
    
    Both exported to perl/lua
    pass the target you wish to change their hate.

Author: Cavedude
Date:   Tue Feb 18 11:15:01 2014 -0800

    Nothing really of note in this commit. Cleaned up zone booting for EQEmac a bit more. Added some more things for AAs and discs to try to get them working. Added a packet the server sends on zone-in.
    
    Copy the .conf over.

Author: Gpanula
Date:   Mon Feb 17 19:45:47 2014 -0600

    Update tblWorldServerRegistration.sql
    
    login server expects a "ServerTrusted" column

Author: Mackal
Date:   Mon Feb 17 20:38:40 2014 -0500

    Fix Mob double/triple/quad check to work if a lower one isn't set

Author: Mackal
Date:   Mon Feb 17 19:38:37 2014 -0500

    Only build flurry attack opts on success

Author: Mackal
Date:   Mon Feb 17 17:34:02 2014 -0500

    Performance: Changed RampageArray to be a vector of IDs

Author: Mackal
Date:   Sun Feb 16 23:58:18 2014 -0500

    Fix mod_spell_resist to be no-op by default ...

Author: Secrets
Date:   Sun Feb 16 19:16:18 2014 -0500

    potential crash issue involving backstab & missing primary weapons resolved.

Author: Cavedude
Date:   Sun Feb 16 12:29:12 2014 -0800

    Fixed NPC animations.
    
    NewSpawn and ZoneSpawns are now handled by a single function.
    
    Fixed Guildmasters and Formatted Messages for newer clients.
    
    Identified some fields in the guildmaster struct.

Author: Mackal
Date:   Sun Feb 16 00:17:25 2014 -0500

    Post-inc to pre-inc

Author: Secrets
Date:   Sat Feb 15 23:50:32 2014 -0500

    Fixed a performance issue involving std::string and EQStream identification.
    
    Fixed a denial-of-service exploit in EQStream.

Author: KayenEQ
Date:   Sat Feb 15 22:34:48 2014 -0500

    fix for LimitCombatSkills
    fix for Extended Inginuity table data

Author: KayenEQ
Date:   Sat Feb 15 08:16:41 2014 -0500

    fixes

Author: Secrets
Date:   Fri Feb 14 12:30:50 2014 -0500

    Fixed an order-of-operations crash within the Quest Parser classes

Author: JJ
Date:   Thu Feb 13 21:14:05 2014 -0500

    Remove db name from sql.

Author:Sorvani
Date:   Thu Feb 13 11:24:54 2014 -0600

    Cleaned up GetUnusedInstanceID logic and renamed instance_lockout* tables to instance_list*

Author: Secrets
Date:   Thu Feb 13 12:02:26 2014 -0500

    bot.cpp was missing nullptr instead of NULL, that is now fixed.
    hate_list.cpp potential crash fix related to center being nullptr

Author: KayenEQ
Date:   Thu Feb 13 07:41:57 2014 -0500

    Fixes for numhits system
    Implementation of new spell table fields
    Update and further implemention of CastRestriction

Author: KLS
Date:   Wed Feb 12 15:51:20 2014 -0800

    Added cmake options to alter eqstream settings if one would so wish.

Author: KLS
Date:   Wed Feb 12 15:26:08 2014 -0800

    Changed SpecialAttacks to an array instead of a map. Basic access was causing a hotspot.  Brief testing doesn't show any obvious bugs but let me know if any prop up.

Author: Cavedude
Date:   Wed Feb 12 13:56:05 2014 -0800

    Rough fix for zone crash.

Author: Cavedude
Date:   Wed Feb 12 09:19:27 2014 -0800

    Workaround for zone crash when a merchant is clicked on who shares a merchantlist with other NPCs who are also spawned.
    
    Removed more unnecessary messages.

Author: KayenEQ
Date:   Tue Feb 11 22:47:57 2014 -0500

    Bot fixes for previous update.

Author: KayenEQ
Date:   Tue Feb 11 22:34:00 2014 -0500

    change log change test

Author: Cavedude
Date:   Tue Feb 11 13:39:25 2014 -0800

    Looting a corpse with more than 8 items now works properly.
    
    Populated the AA fields in the PP.

Author: KLS
Date:   Mon Feb 10 21:00:25 2014 -0800

    Make sure some strings coming from the client are actually null terminated.

Author: Cavedude
Date:   Mon Feb 10 13:21:41 2014 -0800

    Fixed oddness that occurs when something dies that was implemented last commit.
    
    Added skylock to DB (Alkabor DB is already updated.)
    
    More work on structs.

Author:Sorvani
Date:   Mon Feb 10 15:13:54 2014 -0600

    fix for npcthis crash in new spawn condition case.

Author: Mackal
Date:   Mon Feb 10 13:41:55 2014 -0500

    Fix corpse_list check in remove mob

Author: Mackal
Date:   Mon Feb 10 12:16:14 2014 -0500

    Some clean up related to the entity_list changes

Author: Mackal
Date:   Mon Feb 10 12:04:35 2014 -0500

    Merge with master

Author: Secrets
Date:   Mon Feb 10 10:39:12 2014 -0500

    demonstar55's entity list changes (slightly modified) and a crash fix for the #repop command used in rapid succession.

Author:Sorvani
Date:   Mon Feb 10 09:22:55 2014 -0600

    Typos in spawn condition log messages

Author: Secrets
Date:   Mon Feb 10 06:45:33 2014 -0500

    Fix for crashes related to #repop force and not clearing quest timers, resulting in a zone crash. Quest timers are now cleared on zone repop.

Author: Cavedude
Date:   Sun Feb 9 23:48:55 2014 -0800

    Intrazone ports now work correctly.
    
    Zone name shows up in /who.
    
    Pet window shows up for charmed creatures.
    
    Filled out some structs for reference and future implementation.

Author: Secrets
Date:   Sun Feb 9 12:04:45 2014 -0500

    tasks crash fix

Author: Cavedude
Date:   Sat Feb 8 22:09:34 2014 -0800

    Flee should work much better.

Author:Sorvani
Date:   Sun Feb 9 00:08:09 2014 -0600

    Enhanced spawn conditions with new onchange option DoRepopIfReady

Author: Cavedude
Date:   Sat Feb 8 17:44:07 2014 -0800

    Surnames will now display properly.
    
    Adjusted wolf size so they aren't tiny. Also adjusted the Wolf illusion size to match. Some dope had set it to 2 :I
    
    Illusions will now restore your proper appearance. Size is a bit off because we are using an int vs a float, but it's close enough.
    
    Copy over the .conf!

Author: Cavedude
Date:   Fri Feb 7 12:13:56 2014 -0800

    Auto-deleting of stacked items now works properly (spell components, fishing grubs, etc.)
    
    Food/drink and alcohol consumption all work much better now.
    
    Cleaned up some logging.

Author: Cavedude
Date:   Thu Feb 6 13:34:05 2014 -0800

    Archery and throwing weapons should now work, including animations.
    
    Bolts also work with minor heading issues, but the spellsnew files have to be removed from the client for them to show up. Not authentic to Al'Kabor of course, just something to tinker with.
    
    Made some changes to AAs to try to figure out why activated abilities aren't working properly client side.

Author: Cavedude
Date:   Tue Feb 4 01:10:22 2014 -0800

    Combat Abilities (Kick, Bash, Slam, etc) and Taunt all now work for clients.

Author: Cavedude
Date:   Mon Feb 3 23:44:17 2014 -0800

    XP messages will now display in yellow.

Author: Cavedude
Date:   Mon Feb 3 12:06:41 2014 -0800

    Cleanup.

Author: Cavedude
Date:   Mon Feb 3 12:03:31 2014 -0800

    /bug is now functional. CLIENT UPDATE NEEDED.
    
    Under utils, I added a UI folder with the needed files to get /bug to work correctly. This also fixes the incompatible UI error we've been seeing in red every time we login or zone.

Author: Kemmler
Date:   Mon Feb 3 10:37:11 2014 -0500

    Resolve "unknown identifiers" in Bot::GetActSpellDamage

Author: Kemmler
Date:   Mon Feb 3 09:45:22 2014 -0500

    Resolve SQL error on attempt to insert Consumption of the Soul values

Author: Cavedude
Date:   Sun Feb 2 20:26:35 2014 -0800

    Chat Channel correction.
    
    Unhanded packets should now spit out the opcode as well. (Helpful)

Author: KayenEQ
Date:   Sun Feb 2 23:23:41 2014 -0500

    Revision to spell damage calculations

Author: Cavedude
Date:   Sun Feb 2 11:36:12 2014 -0800

    Zones with a single door won't crash zone.

Author: Cavedude
Date:   Sat Feb 1 15:55:18 2014 -0800

    Bazaar is now fully functional.
    
    Updated some structs to correct ShowEQ errors.
    Added structs and opcodes from our version of ShowEQ (4.3.4).
    
    Cleaned up Mac.cpp some.

Author: KLS
Date:   Sat Feb 1 14:55:51 2014 -0800

    Export clear_npctype_cache as both lua/perl general functions.

Author: KLS
Date:   Fri Jan 31 20:38:32 2014 -0800

    Compiler option for playing with npctype_cache as was requested for a feature.  Not entirely tested may need some work. Currently defaults to old behavior on #repop.

Author: Cavedude
Date:   Thu Jan 30 16:45:55 2014 -0800

    Bazaar buying and selling works. Searching does not yet work.
    
    Remember to copy the .conf over.

Author: KayenEQ
Date:   Tue Jan 28 22:27:45 2014 -0500

    Hot fix for issue with numhits not fading

Author: Mackal
Date:   Tue Jan 28 22:14:31 2014 -0500

    Bash/Kick stun will respect UNSTUNABLE now

Author: Mackal
Date:   Tue Jan 28 17:14:27 2014 -0500

    Revamped Kick/Bash stun a little
    
    Before bash/kick's ability to stun was completely useless
    at higher levels, it also never stunned for any duration.
    
    Bash/Kick will always stun if the target is under the
    base immunity level (kick the attacker needs to be over 55 as well)
    
    If over base immunity, there is a chance to stun, defaults to
    Combat:NPCBashKickStunChance  (15%)
    
    A Kick/Bash stun will last for 0-2 seconds

Author: Cavedude
Date:   Mon Jan 27 22:30:50 2014 -0800

    ding() will no longer attempt to give out 5 copper. TODO: Fully implement the packet and functionality now that we've figured it out for our use.

Author: Cavedude
Date:   Mon Jan 27 22:05:57 2014 -0800

    Workaround for crash in guktop until proper fix can be made.

Author: Mackal
Date:   Tue Jan 28 00:42:48 2014 -0500

    Send the stun effect that goes around their head

Author: Cavedude
Date:   Mon Jan 27 19:31:38 2014 -0800

    Fixed weather from previous commit.
    Identified more connecting opcodes.

Author: Mackal
Date:   Mon Jan 27 20:55:11 2014 -0500

    Fix aaid for new req SQL

Author: Cavedude
Date:   Mon Jan 27 15:18:00 2014 -0800

    Cleaned up zone-in packets. Packets are now sent in the correct order more or less. Also removed packets that shouldn't be sent to EQMac. Zoning seems to be much faster now.
    
    This change breaks AA loading, as I was sending a packet that shouldn't be as a workaround. Until I can figure out why AAs aren't loading on their own, changing your AA Percent will force your abilities to load.
    
    Please keep an eye out for anything else this commit breaks!
    
    Remember to copy the new .conf over.

Author: KayenEQ
Date:   Mon Jan 27 05:17:52 2014 -0500

    New spell effects

Author: Cavedude
Date:   Sun Jan 26 18:15:54 2014 -0800

    Fixed a zone crash when creating guilds.

Author: Mackal
Date:   Sun Jan 26 13:38:12 2014 -0500

    Use the first overwritten buff slot like live does
    
    Very minor change, but some people can be rather anal
    about their buff orders, so this should help them out,
    and its more live like :P

Author: KayenEQ
Date:   Sun Jan 26 04:41:45 2014 -0500

    Revised how dispel works.

Author: Mackal
Date:   Fri Jan 24 18:48:47 2014 -0500

    Do not trip hacker detection if target is on their XTargets

Author: Mackal
Date:   Fri Jan 24 15:28:54 2014 -0500

    Mostly cosmetic changes to CheckAggroAmount funcs
    
    Also changed some silliness

Author: Mackal
Date:   Fri Jan 24 02:05:26 2014 -0500

    Switched some things to StringID defines

Author: Mackal
Date:   Fri Jan 24 01:28:09 2014 -0500

    Create hate on immune to fear due to level

Author: Mackal
Date:   Fri Jan 24 01:26:47 2014 -0500

    Correct Fear level immunity message

Author: Mackal
Date:   Fri Jan 24 01:24:08 2014 -0500

    Correct CheckAggroAmount calls in IsImmumeToSpell

Author: KayenEQ
Date:   Thu Jan 23 21:34:47 2014 -0500

    Minor fix to numhits update
    New spell effect

Author: Cavedude
Date:   Thu Jan 23 12:28:49 2014 -0800

    Guilds
    Removed some comments and annoying logging.
    Added some stuff to hopefully help implement /bug
    Added a rule for consumption value and changed defaults.

Author: Mackal
Date:   Wed Jan 22 01:41:26 2014 -0500

    Moved Assisting Exemption check up
    
    This is just so assisting to a client will clear the flag

Author: Mackal
Date:   Wed Jan 22 01:08:42 2014 -0500

    Forgot to make m_AssistExemption default to 0

Author: Mackal
Date:   Wed Jan 22 01:00:48 2014 -0500

    Fix /assist to only care about range to assistee

Author: Cavedude
Date:   Tue Jan 21 15:38:30 2014 -0800

    Starting bind points will now load properly.

Author: Mackal
Date:   Tue Jan 21 14:50:22 2014 -0500

    Implemented ST_TargetAETap

Author: KayenEQ
Date:   Mon Jan 20 21:46:13 2014 -0500

    Removal of test msg

Author: KayenEQ
Date:   Mon Jan 20 21:27:53 2014 -0500

    Numhits system revised

Author: Mackal
Date:   Mon Jan 20 16:26:51 2014 -0500

    Updated changelog.txt

Author: Mackal
Date:   Mon Jan 20 16:24:17 2014 -0500

    Move Mez Mastery to DB

Author: Mackal
Date:   Mon Jan 20 15:57:44 2014 -0500

    Move Spell Casting Reinforcement to aa_effects

Author: Cavedude
Date:   Mon Jan 20 10:58:08 2014 -0800

    Forgot changelog.txt in previous commit.

Author: Mackal
Date:   Mon Jan 20 13:55:52 2014 -0500

    Fix name of SQL file

Author: Cavedude
Date:   Mon Jan 20 10:43:46 2014 -0800

    Opcode change for death in certain cases. Remember to copy the conf file over!

Author: Mackal
Date:   Mon Jan 20 13:34:18 2014 -0500

    Implement not_extendable spell field

Author: Cavedude
Date:   Mon Jan 20 10:10:39 2014 -0800

    Live-Like weather. Big thanks to Robregen for figuring out the system!
    
    Included in the required SQL is weather data pulled from NewZone live packets for up to PoP. An update to EQExtractor will be made to grab the rest of the data from existing collects.
    
    Please note: Until weather data is grabbed for zones later than PoP, weather will not work in those zones.

Author: Mackal
Date:   Mon Jan 20 02:01:52 2014 -0500

    Export death event variables to Perl (Kingly Krab)
    
    http://www.eqemulator.org/forums/showpost.php?p=227770&postcount=9

Author: Mackal
Date:   Sun Jan 19 16:18:38 2014 -0500

    Fix OP_MobEnduranceUpdate for UF

Author: Cavedude
Date:   Sun Jan 19 13:16:46 2014 -0800

    Death should work much better.

Author: Cavedude
Date:   Sun Jan 19 09:07:09 2014 -0800

    Fixed items with a worn effect.
    Fixed zoning on death.

Author: Cavedude
Date:   Sun Jan 19 07:58:21 2014 -0800

    Tweaked weather some more.
    Clients will now be damaged properly while drowning.

Author: Mackal
Date:   Sun Jan 19 00:45:50 2014 -0500

    Turn on NPC charm casting

Author:Sorvani
Date:   Sat Jan 18 23:34:16 2014 -0600

    added GetCharactersInInstance

Author: Cavedude
Date:   Sat Jan 18 16:59:03 2014 -0800

    Weather is now more like Live. Thanks to Robregen for figuring out the system!

Author: Cavedude
Date:   Sat Jan 18 12:01:08 2014 -0800

    Fixed zone crash when more than 160 doors are loaded.

Author: Cavedude
Date:   Sat Jan 18 10:35:20 2014 -0800

    Removed some comments.
    Changed some default rules to match our client better. Untested but I see no reason why it wouldn't work.

Author: Robregen
Date:   Fri Jan 17 21:53:44 2014 -0800

    Update variables.sql

Author: Robregen
Date:   Fri Jan 17 21:52:16 2014 -0800

    Update LoginServer.ini

Author: Mackal
Date:   Fri Jan 17 22:09:41 2014 -0500

    Tweaked down SE_CurrentHP aggro from buffs

Author: Robregen
Date:   Fri Jan 17 18:44:10 2014 -0800

    Update variables.sql
    
    remove some variable entries that causes the player to zone into the arena on starting area.

Author: Robregen
Date:   Fri Jan 17 15:39:06 2014 -0800

    Update eqemu_config.xml.full

Author: Cavedude
Date:   Fri Jan 17 14:20:00 2014 -0800

    Merchants will now buy items from players and keep them until sold.

Author: Cavedude
Date:   Thu Jan 16 17:22:29 2014 -0800

    Item cleanup and added some more fields. Bard instruments should now work as a result.
    
    Removed another string that our client doesn't have.

Author: KLS
Date:   Thu Jan 16 13:08:04 2014 -0800

    Reversed event_command return value, may cause visual issues if you already updated your code but easy to fix.  Return 1 instead of return 0 on event_command dispatch

Author: Mackal
Date:   Wed Jan 15 21:06:18 2014 -0500

    Improve feign_memory_list thanks to C++11

Author: Mackal
Date:   Wed Jan 15 17:10:15 2014 -0500

    Revert change to SE_LimitEffect
    
    Also fix for SE_SummonItem for unstackable charged items
    (Still need to verify on live though)

Author: Mackal
Date:   Wed Jan 15 01:19:03 2014 -0500

    Add numhitstype to the spell structure

Author: Mackal
Date:   Tue Jan 14 22:24:01 2014 -0500

    Fix mod rods

Author: Mackal
Date:   Tue Jan 14 15:16:29 2014 -0500

    Updated URL

Author: Mackal
Date:   Tue Jan 14 02:38:49 2014 -0500

    Fix some potential null pointer dereferences
    
    I don't think there were any instances of these causing problems
    but it's better to be safe than sorry.

Author: Mackal
Date:   Mon Jan 13 22:14:02 2014 -0500

    Prefer prefix ++/-- on non-primitive types
    
    Postfix ++/-- might cause the creation of a tmp instance
    that might be optimized out. Mights are bad. Prefix doesn't
    have this problem.

Author: Cavedude
Date:   Mon Jan 13 15:12:58 2014 -0800

    Items will now appear in the trade window to both clients. It's a bit hackish for now until I can rewrite the item code but it works.

Author: KayenEQ
Date:   Mon Jan 13 05:03:21 2014 -0500

    Spell effect updates

Author: Cavedude
Date:   Sun Jan 12 20:19:02 2014 -0800

    Player heading is fixed. Player position updates needs some tweaking, but is acceptable for now.

Author: Mackal
Date:   Sun Jan 12 21:26:31 2014 -0500

    Some clean up in questmgr.cpp

Author: KLS
Date:   Sun Jan 12 14:54:58 2014 -0800

    /MP now set by default on windows.  Option to turn it off for people who want/need eg: people with slower lower core systems.

Author: Mackal
Date:   Sun Jan 12 00:58:47 2014 -0500

    Added fclose to ExportBaseData

Author: Mackal
Date:   Sat Jan 11 15:07:11 2014 -0500

    Add lua_say_link overloads

Author: Mackal
Date:   Sat Jan 11 13:20:01 2014 -0500

    Change faction messages to use String IDs.

Author: Mackal
Date:   Thu Jan 9 14:25:29 2014 -0500

    Add pet size preservation like live
    
    Run the SQL!!

Author: Mackal
Date:   Wed Jan 8 16:11:29 2014 -0500

    SE_SummonItem and SE_SummonItemIntoBag should work like live now
    
    This isn't exactly like live since they seem to use something
    else to decide how many to summon, but this should act the same
    as live currently does.

Author: Mackal
Date:   Wed Jan 8 14:06:39 2014 -0500

    Added required SQL for previous changes

Author: Mackal
Date:   Wed Jan 8 00:24:33 2014 -0500

    Make use of the suspendable spell flag

Author: Mackal
Date:   Tue Jan 7 23:29:46 2014 -0500

    Implement persist death spell field

Author: Mackal
Date:   Tue Jan 7 17:02:35 2014 -0500

    Moved pet target checking to the attack command, which is more live like
    
    Also, probably a little better than attacking then backing off :P

Author: Robregen
Date:   Sun Jan 5 10:02:33 2014 -0800

    Update patch_Mac.conf

Author: Robregen
Date:   Sun Jan 5 09:57:16 2014 -0800

    Update Mac_structs.h

Author: Mackal
Date:   Sat Jan 4 19:20:59 2014 -0500

    Implemented SE_SongModCap
    
    Bard AAs Ayonaes Tutelage and Echo of Taelosia implemented as bonuses
    Remember to run the SQL!

Author: Mackal
Date:   Sat Jan 4 14:54:18 2014 -0500

    Forgot an unknown

Author: Mackal
Date:   Sat Jan 4 14:42:13 2014 -0500

    Renamed all Unknown Spell Effects based on live
    
    Note: These are all still commented out and I did not check for
    any collisions. Feel free to rename these as they're implemented

Author: Mackal
Date:   Sat Jan 4 13:41:41 2014 -0500

    Added links to full spell effect list from a dev

Author: KLS
Date:   Fri Jan 3 23:41:11 2014 -0800

    Fix for a potential buffer overflow on login server under very rare circumstances via Rogean.  Fix for perl parser not clearing errors via sorvani

Author: Mackal
Date:   Sat Jan 4 01:34:58 2014 -0500

    Add some overflow protection for emotes
    
    Clients crash if the emote is too large, despite the client
    using a 1024 char buffer...

Author: Mackal
Date:   Fri Jan 3 19:20:52 2014 -0500

    Added overload to Lua entity list RemoveFromTargets

Author: Mackal
Date:   Thu Jan 2 18:19:59 2014 -0500

    Fix missing paren.

Author: Mackal
Date:   Thu Jan 2 03:08:59 2014 -0500

    Fix stuns from beneficial spells (ex. Harvest)

Author: KLS
Date:   Sat Dec 28 18:19:12 2013 -0800

    Luabind updated to be able to be compiled with Lua 5.2.  Didn't really test it with 5.2 though since I'm still on 5.1.  In theory it should work now though.

Author: Nicholas Haggmark
Date:   Fri Dec 27 22:28:54 2013 -0500

    Committing update to zone/client_packet.pp which fixes a bug with Lay
    on Hands and Harm Touch. Basically what is happening is that because
    LoH and Harm Touch come in on spell slot 9 (ABILITY_SLOT), and because
    ABILITY_SLOT is handled in the same block of code as standard memorized
    spells, it was failing the MAX_PP_MEMSPELL check and always getting
    silently interrupted. I broke DISCIPLINE_SLOT and ABILITY_SLOT processing
    out into separate blocks which not only resolves this problem, but also
    cleans up that processing a little bit.

Author: Mackal
Date:   Thu Dec 26 16:29:09 2013 -0500

    Added support for merchant item filtering by class
    
    Added column classes_required to merchantlist to allow
    the merchant to only sell items to specified classes
    
    Ex. (only example I know from live) To only allow poison supplies
    to be sell able to only rogues, you would set classes_required
    to 256.
    classes_required defaults to 65535 (all/any class)
    
    Remember to run the new SQL!

Author: KLS
Date:   Tue Dec 24 13:21:11 2013 -0800

    Hopefully this is a fix for issue #100 -- Uninitialized alt currency variable causing db corruption.

Author: KLS
Date:   Tue Dec 24 00:27:57 2013 -0800

    Added lua export for Client:PlayMP3

Author: Secrets
Date:   Tue Dec 24 01:28:32 2013 -0500

    Secrets: Added functionality to Perl/Server for $client->PlayMP3("name of file").

Author: Secrets
Date:   Tue Dec 24 01:09:35 2013 -0500

    Akkadius: Perl $client->SilentMessage("Message"); addition, this is a pre-req for a Perl plugin I've shared with EQEmu. This function essentially mimics a player speaking with an NPC - which is used in popup window responses

Author: KLS
Date:   Mon Dec 23 17:35:58 2013 -0800

    More work on Client Marquee messages.

Author: KLS
Date:   Mon Dec 23 15:42:13 2013 -0800

    More work on OP_Marquee.  Should be enough to implement a function with it.  Anyone wants to fiddle around with the unknowns and get them better documented they are free to.

Author: KLS
Date:   Sun Dec 22 22:37:41 2013 -0800

    Added prelim work on OP_Marquee incase anyone else wants to also have a go at it.  Packet and opcode for SoD client figured out partially.

Author: Mackal
Date:   Fri Dec 20 18:45:33 2013 -0500

    Fix MakeRandomInt for flurry and extraattack

Author: Mackal
Date:   Fri Dec 20 18:43:52 2013 -0500

    Switched some stuff that made sense to Mob::InFrontMob

Author: Mackal
Date:   Fri Dec 20 18:43:16 2013 -0500

    Switched bard check in auto attack to IsBardSong

Author: Mackal
Date:   Fri Dec 20 17:47:28 2013 -0500

    Added facing check to auto attack LoS code
    
    The Mob::InFrontMob check uses 56 degrees which is where the
    client will generate the "You cannon see your target." message.
    There were still a few weird angles that I was able to still
    attack, but in like 99% of the cases it should work ...

Author: JJ
Date:   Thu Dec 19 19:39:34 2013 -0500

    Update per discussion on bfb17a2fb53f3924cfaee2a271cb8be036cbae62

Author: KayenEQ
Date:   Tue Dec 17 21:51:13 2013 -0500

    Kayen: Implemented SE_ArcheryDoubleAttack (Chance to do an extra archery attack)
    Kayen: Implemented SE_ShieldEquipDmgMod (Increase damage in primary hand if shield equiped)
    Kayen: Implemented SE_ShieldEquipHateMod (Increase hate generated if shield equiped)
    Kayen: Implemented SE_TriggerOnAmountValue (Trigger spell if HP/Mana/End bellow X value or num pet on target)

Author: KayenEQ
Date:   Mon Dec 16 00:53:00 2013 -0500

    Kayen: Fix to SE_BlockNextSpellFocus to make it functional again.

Author: Mackal
Date:   Sun Dec 15 18:44:45 2013 -0500

    Moved BlockedBuffs check down for spell effects

Author: Mackal
Date:   Sun Dec 15 03:21:57 2013 -0500

    Fix some indentation

Author: KayenEQ
Date:   Sun Dec 15 03:15:39 2013 -0500

    Kayen: Implemented SE_ReduceHealing (Reduces amount of healing on target by X amount)
    Kayen: Implemented SE_CastonFocusEffect (Triggers spell as part of a focus, when that focus effect is used)
    Kayen: Implemented SE_IncreaseHitDmgTaken (Effect is triggered when X amount of damage is taken)
    Kayen: More fixes for various spell triggers/procs to now properly use their resist modifier.

Author: Mackal
Date:   Sat Dec 14 16:42:12 2013 -0500

    Fix blocked buffs from failing
    
    When a buff is blocked it should just fail to be applied
    instead of interrupting. Mana should also be eaten.

Author: JJ
Date:   Sat Dec 14 09:55:46 2013 -0500

    Changed enable/disable recipe to confirm change made.

Author: KayenEQ
Date:   Fri Dec 13 21:29:35 2013 -0500

    Kayen: Implemented additional functionality for SE_CurrentHP utilizing base2 values. (ie limit to body type)
    Kayen: Implemented SE_MitigateMeleeDamageSP (Partial Melee Rune that only is lowered if melee hits are over X amount of damage)
    Kayen: Implemented SE_SpellOnAmtDmgTaken (Effect is triggered when X amount of damage is taken)
    Kayen: Fix for various spell triggers/procs to now properly use their resist modifier.
    Kayen: Fix to mob->ModSkillDmgTaken(skill_num, value), setting value to -1 will now properly effect all skills.

Author: Mackal
Date:   Wed Dec 11 15:44:59 2013 -0500

    Fix haste caps
    
    Before these were mostly guess work, now based on what clients report
    since they do their own calculations so are most likely correct.

Author: Mackal
Date:   Wed Dec 11 01:49:51 2013 -0500

    Fixed crippling blow issues with berserker frenzy
    
    Also added two rules to control when to enter/exit berserker frenzy

Author: Mackal
Date:   Wed Dec 4 00:52:12 2013 -0500

    Fix issue with SpellType_Charm case in AICastSpell

Author: Mackal
Date:   Tue Dec 3 16:12:13 2013 -0500

    Fix procing off of unattackable things
    
    This /might/ be a little restrictive, but it should prevent easy
    farming of bone chips from Boneshear etc

Author: Mackal
Date:   Tue Dec 3 15:57:50 2013 -0500

    Added #showspellslist command to show us a mob's spells

Author: JJ
Date:   Mon Dec 2 22:20:46 2013 -0500

    Bandaid fix to CopyCharacter function.

Author: Mackal
Date:   Fri Nov 29 18:32:30 2013 -0500

    Stacking issues should be resolved now
    
    I have a feeling this could be slightly better, but it works correctly.

Author: Mackal
Date:   Fri Nov 29 15:35:51 2013 -0500

    Revert "Fixed issue with SE_StackingCommand_Overwrite"
    

Author: Mackal
Date:   Wed Nov 27 16:05:09 2013 -0500

    Fixed issue with SE_StackingCommand_Overwrite
    
    SE_StackingCommand_Overwite uses the calc to figure out the slot to check.
    Seems that calc 202 is slot 1 and 201 is actually something special. It
    could be any slot, but need further investigation, for now, just ignore it.

Author: Mackal
Date:   Wed Nov 27 14:38:03 2013 -0500

    Quick fix to issue with self buffs
    
    casting_spell_targetid isn't guaranteed to be correct at that point in the code
    Quick fix for now

Author: Secrets
Date:   Sat Nov 23 21:42:22 2013 -0500

    AA fixes for PEQ's reported crash

Author: KLS
Date:   Sat Nov 23 17:26:41 2013 -0800

    Fix for non-standard eqemu options in cmake, please don't do this in the future. Thank you.

Author: Secrets
Date:   Fri Nov 22 15:32:02 2013 -0500

    Fixes to the following crashes seen on PEQ:
    
    http://www.peqtgc.com/phpBB3/viewtopic.php?f=1&t=14293&p=67404#p67404
    http://www.peqtgc.com/phpBB3/viewtopic.php?f=1&t=14293&p=67105#p67105

Author: Mackal
Date:   Tue Nov 19 18:34:20 2013 -0500

    Quick fix for dot issue introduced in 765b5ee8
    
    This could probably be done better

Author: Mackal
Date:   Tue Nov 19 17:43:40 2013 -0500

    Partially implement dot_stacking_exempt
    
    When it is 1 the spell will block it from other casters
    Not 100% sure on when it's -1 so not currently used

Author: Russel Kinasz
Date:   Tue Nov 19 12:48:59 2013 -0800

    suspend/ban kick fix

Author: Secrets
Date:   Tue Nov 19 09:57:52 2013 -0500

    Made the variable for disabling the logging system always default to ON instead of OFF. Changed the wording so it's less confusing.
    
    This means that the debug logging information will not display at all by default, but the GM command logging will display enabled. If you need to diagnose the logs, simply turn them on at the expense of added CPU/Disk I/O

Author: Mackal
Date:   Tue Nov 19 00:09:41 2013 -0500

    Fixed shared memory read me

Author: Mackal
Date:   Tue Nov 19 00:08:22 2013 -0500

    Added read me to shared_memory

Author: Secrets
Date:   Mon Nov 18 23:54:24 2013 -0500

    Fixes to actually use the cmake defs added in the previous revision

Author: Secrets
Date:   Mon Nov 18 23:49:12 2013 -0500

    Added options to CMake to disable GM command logging or disable logging entirely while keeping GM commands enabled.
    Cleaned up some logging

Author: Mackal
Date:   Mon Nov 18 16:21:10 2013 -0500

    Fix some errors in comments

Author:Sorvani
Date:   Mon Nov 18 13:53:21 2013 -0600

    changed aggro_range to leach_range and tether_range appropriately

Author: Mackal
Date:   Mon Nov 18 12:44:39 2013 -0500

    Added npc_types.assistradius, defaults to npc_types.aggroradius if set to 0

Author:Sorvani
Date:   Sun Nov 17 20:55:44 2013 -0600

    fixed leash and tether to correctly used specified range.

Author: Mackal
Date:   Sun Nov 17 19:37:49 2013 -0500

    Fixed an issue that arose from 78ab3471
    
    Reworked how Mob::_GetMovementSpeed worked to fix an issue of walking
    with a sufficiently high movemod.
    
    Added a rule Character:BaseRunSpeedCap (default 158) to control the
    cap on runspeed from buffs. Hardcapped to 225 for sanity's sake.

Author: Cavedude
Date:   Sun Nov 17 08:08:41 2013 -0800

    Added version to login sql.

Author: Mackal
Date:   Sun Nov 17 00:34:58 2013 -0500

    Some whitespace fixes in zone/spells.cpp

Author: Mackal
Date:   Sun Nov 17 00:31:17 2013 -0500

    Added Mob::DoCastingChecks() which checks for various casting fail conditions while casting

Author: Leere
Date:   Sat Nov 16 03:40:35 2013 +0100

    Fix for auto-consume drinking message

Author: JJ
Date:   Fri Nov 15 19:31:43 2013 -0500

    Add a little more debug info to MQGate hack detection.

Author: Leere
Date:   Fri Nov 15 18:03:13 2013 +0100

    Fix for a stacking issue with SE_StackingCommand_Block for druid skins

Author: Mackal
Date:   Fri Nov 15 01:17:27 2013 -0500

    Fixed Mob::CalcFocusEffect()'s SE_LimitEffect

Author: Mackal
Date:   Thu Nov 14 20:26:58 2013 -0500

    Fix Spell level restrictions
    
    I made an incorrect assumption, fixed now

Author: Cavedude
Date:   Thu Nov 14 10:46:24 2013 -0800

    Added missing login files.

Author: JJ
Date:   Wed Nov 13 21:59:38 2013 -0500

    Change INSERT to REPLACE

Author: Mackal
Date:   Wed Nov 13 18:04:11 2013 -0500

    Fix last commit ....

Author: Mackal
Date:   Wed Nov 13 18:03:08 2013 -0500

    Implemented Singing/Instrument Mastery as an AA bonus
    
    Don't forget to source the SQL file!

Author: Mackal
Date:   Wed Nov 13 15:07:34 2013 -0500

    Implement bard song instrument mod caps
    
    The maximum bard songs can be effected by instrument mods is 3.6.
    This is set by the rule Character:BaseInstrumentSoftCap which defaults to 36
    Also fix Echo of Taelosia and Ayonae's Tutelage to increase the mod cap.

Author: Mackal
Date:   Tue Nov 12 22:32:03 2013 -0500

    Add some sanity for bard songs in snares ...

Author: Cavedude
Date:   Tue Nov 12 16:08:31 2013 -0800

    Compile fix.

Author: Httm
Date:   Tue Nov 12 18:06:24 2013 -0500

    Update exp.cpp
    
    Replaced elseif statements in group experience calculation with single if statement for calculation when membercount between 2 and 5

Author: Mackal
Date:   Mon Nov 11 23:55:43 2013 -0500

    Fix walk speed calculation
    
    Walk speed should be calculated as a movement speed reduction that
    stacks with snares so it's possible to snare a mob FD and have it
    not be able to walk back.

Author: Mackal
Date:   Mon Nov 11 21:06:48 2013 -0500

    Revert "Fixed non-attacking related movement while mobs are snared"
    
    Did some testing, this isn't exactly the case on live.
    

Author: Mackal
Date:   Mon Nov 11 18:18:12 2013 -0500

    Fixed non-attacking related movement while mobs are snared
    
    On live a nec/shd normal splitting involved snaring the mob you want
    and FDing after they moved enough. The non-snared mobs would return home
    and the snared mob would just sit there until it was no longer snared.
    There is even a nice flash video! http://www.dzert.com/downloads/eq/fd02.swf
    This might need some tweaking, but I'm not sure of any instances where it would
    break things...

Author: Mackal
Date:   Mon Nov 11 15:37:20 2013 -0500

    Fix database scheme comments that got clobbered on nullptr conversion

Author: Cavedude
Date:   Mon Nov 11 10:52:53 2013 -0800

    Secrets: Dumped opcodes and structs from the client. Yes, dude is a GOD.

Author: Cavedude
Date:   Mon Nov 11 10:45:34 2013 -0800

    We are now using stock EQEmu zoning code, except for one intrazone condition. Intrazone zone_points still force the client to send a NewZone, no clue why as it doesn't on Al'Kabor. Possible crude workaround for now is to remove those zone_points and have Lua handle it.
    
    Minor correction in the PP struct
    
    AA timers are now sent, activated abilities still do not work :( I hoped that would have gotten it.
    
    Probably other things I have forgotten.

Author: Mackal
Date:   Sun Nov 10 21:37:01 2013 -0500

    Cleaned up common/spdat.cpp
    
    There was a lot of stuff that I found that the level of readability.
    I cleaned up a lot of the stuff, no functionality should be changed
    unless where noted below.
    
    * IsPartialDeathSaveSpell is now generic and no longer uses a hardcoded spell id
    * IsFullDeathSaveSpell is now generic and no longer uses a hardcoded spell id
    
    If these functions were actually used in the spell effects it would probably
    fix issues with newer spells (which there are on live)

Author: Robregen
Date:   Sat Nov 9 16:50:16 2013 -0800

    fixed races.

Author: Leere
Date:   Sat Nov 9 04:56:57 2013 +0100

    Fix for bard mana regen

Author: Secrets
Date:   Thu Nov 7 18:41:47 2013 -0500

    -Fixed the invalid check to see if a spell is valid or not in Mac.cpp.
    -Identified the struct fields in OP_LogServer and the opcode itself.
    -Identified OP_ShopEndConfirm (no struct needed)

Author: Secrets
Date:   Thu Nov 7 18:13:06 2013 -0500

    Revert "changes."
    

Author: Secrets
Date:   Thu Nov 7 17:21:31 2013 -0500

    changes.

Author: Cavedude
Date:   Thu Nov 7 13:22:08 2013 -0800

    Fixed up the AA system, still doesn't work any better than it did before but these changes were required.
    
    Identified PP fields based on Secret's dump.
    
    Changed hunger/thirst now that the fields are confirmed. Tweaking still may need to be done to this system.

Author: Cavedude
Date:   Thu Nov 7 00:28:37 2013 -0800

    Identified zoning field of LoginInfo struct, allowing groups to persist over zoning.

Author: JJ
Date:   Wed Nov 6 21:12:57 2013 -0500

    Fix for #npcedit qglobal

Author: Cavedude
Date:   Wed Nov 6 16:47:18 2013 -0800

    Filters are now properly implemented. As a result, spell messages and other entity combat message now display.

Author: KLS
Date:   Wed Nov 6 13:48:35 2013 -0800

    Prerelease commit

Author: KLS
Date:   Wed Nov 6 13:17:44 2013 -0800

    Importing client files works now

Author: Cavedude
Date:   Wed Nov 6 11:15:29 2013 -0800

    Item links and item link generation now work.

Author: Cavedude
Date:   Tue Nov 5 11:37:38 2013 -0800

    Not only implemented weather for PEQMac, but also improved the EQEmu weather system.
    
    -Individual zones now have their own weather chance
    -Added a weather type 4, which allows it to rain or snow in zones with that set
    -The max weather timer is now a rule, Zone:WeatherTimer
    
    DB changes are required, they will be put into Alkabor DB and dumped right now.
    
    Eventually, I will get this into EQEmu git ;)

Author: Cavedude
Date:   Mon Nov 4 18:31:14 2013 -0800

    Compile fix.

Author: Cavedude
Date:   Mon Nov 4 17:22:51 2013 -0800

    Most AAs are now purchase-bale. Passive abilities seem to work both server side and client. Activated abilities do not work.
    
    (Robregen) Found opcode for ding.

Author: Cavedude
Date:   Sun Nov 3 10:47:37 2013 -0800

    Fixed appearance.

Author: Cavedude
Date:   Sat Nov 2 23:48:41 2013 -0700

    Fixed doors :)

Author: Cavedude
Date:   Sat Nov 2 12:32:15 2013 -0700

    Inspect now works.
    
    Coin shows up properly in trade window.
    
    Identified trade item opcode, I just need to send the packet differently as the struct is slightly different than the normal item struct.

Author: Cavedude
Date:   Sat Nov 2 08:48:52 2013 -0700

    /who all now works
    
    The basics of grouping works, but players who zone don't retain group information for now.

Author: JJ
Date:   Fri Nov 1 23:55:17 2013 -0400

    Added in-game commands to enable/disable tradeskill recipes
    -Commands: #enablerecipe recipe_id, #disablerecipe recipe_id
    -Perl: quest::enablerecipe(recipe_id), quest::disablerecipe(recipe_id)
    -Lua: eq.enable_recipe(recipe_id), eq.disable_recipe(recipe_id)

Author: Cavedude
Date:   Fri Nov 1 09:20:37 2013 -0700

    Pets are now fully usable.
    
    Changed some structs and added their encodes to make ShowEQ happy.
    
    Added some untested opcodes found by Robregen, this commit is just a checkpoint so I can begin to test/implement those opcodes.

Author: Leere
Date:   Thu Oct 31 17:55:04 2013 +0100

    Add the ability to disable a tradeskill recipe

Author: Cavedude
Date:   Wed Oct 30 21:22:10 2013 -0700

    Forgot patch file.

Author: Cavedude
Date:   Wed Oct 30 21:20:22 2013 -0700

    Trading now works.
    
    EQMac clients will no longer attempt to display messages using string id 9073 (HIT_NON_MELEE), which it does not have.

Author: Uleat
Date:   Wed Oct 30 03:49:32 2013 -0400

    Fix for compile failure in deity.h - Thanks V! (I should write a book on gcc:vs differences..I have found almost all of them...)

Author: Cavedude
Date:   Tue Oct 29 15:39:54 2013 -0700

    Tradeskills now work.
    Items can be dropped and picked up (ground spawns.)
    Merchants and looting will better handle a full inventory.
    Since SimpleMessage opcode has not been found, altered FormattedMessage to take its place. Most client messages should display now.
    Fixed spell scrolls not deleting properly on the server after being scribed.
    Items on your cursor will now appear after zoning/camping.
    Fixed the proc id 0 error during combat.

Author: Uleat
Date:   Mon Oct 28 13:06:49 2013 -0400

    Final prep for extending skill use range - client patch and database are ready..just need the code in-between

Author: Uleat
Date:   Mon Oct 28 05:00:49 2013 -0400

    Client patch prep work for extending usable skill range

Author: Uleat
Date:   Sun Oct 27 13:41:39 2013 -0400

    Changelog entry clarification..did not explain the issue clearly...

Author: Uleat
Date:   Sun Oct 27 13:30:45 2013 -0400

    Prepped the client patch files for larger skill buffer size (not active)

Author: Uleat
Date:   Sun Oct 27 13:03:41 2013 -0400

    Converted SkillType typedef enumeration to SkillUseTypes enumeration

Author: Uleat
Date:   Sun Oct 27 09:04:52 2013 -0400

    Changed ItemTypes to ItemUseTypes

Author: Uleat
Date:   Sun Oct 27 08:01:37 2013 -0400

    Converted MATERIAL defines to MaterialUseSlots enumeration

Author: Uleat
Date:   Sun Oct 27 06:38:34 2013 -0400

    Changed ItemClass enumeration to ItemClassTypes enumeration

Author: Uleat
Date:   Sun Oct 27 05:45:52 2013 -0400

    Changed ItemUseType enumeration to ItemInstTypes enumeration - naming conflicted with definition

Author: Uleat
Date:   Sun Oct 27 05:08:53 2013 -0400

    Moved and expanded Deity-related code

Author: Uleat
Date:   Sun Oct 27 04:17:08 2013 -0400

    Enforced naming standard on my recent changes

Author: Uleat
Date:   Sun Oct 27 03:25:27 2013 -0400

    Improper skill in use allowing riposte fix (Archery and Throwing allowing riposte check..no known bug reports)

Author: Uleat
Date:   Sun Oct 27 03:13:10 2013 -0400

    High level debug (12) compile failure fix - I searched for as many as I could find with GrepWin, so there may be a few out there still

Author: vexyl
Date:   Sat Oct 26 13:46:03 2013 -0700

    Fix for healing unconscious players.

Author: Cavedude
Date:   Sat Oct 26 13:09:24 2013 -0700

    Tradeskill objects and ground spawns now spawn. I have run out of time to get manipulation of those items to work, but it shouldn't be too difficult once I have the time.

Author: Mackal
Date:   Thu Oct 24 17:38:46 2013 -0400

    Changed the MT_Shout to MT_SpellFailure in Mob::SpellOnTarget

Author: Mackal
Date:   Thu Oct 24 17:35:21 2013 -0400

    Fix some memory leaks in Mob::SpellOnTarget
    
    This should fix the memory leak introduced in the last commit and
    a few lingering memory leaks, don't think they should break anything

Author: Cavedude
Date:   Tue Oct 22 16:41:16 2013 -0700

    Work on AAs. *Updated Alkabor DB is required*
    
    Points, Exp, and Exp % all work great.
    
    You can buy some general AAs up to rank 5. Their effects work both client side and server side.
    
    Any AA on the bottom of the first page and beyond will either not train, is trainable buy buying another ability, or may cause a client desync.
    
    The struct is definitely wrong, but some abilities work on some classes but not others, so it may even be per class :( I am also not sending out a 12 byte packet on opcode 1442 seen on Live. The only column I've identified of it so far is aaid.

Author: KLS
Date:   Mon Oct 21 16:41:34 2013 -0700

    More work on importing... I need my escape stuff from other branch for this though

Author: Mackal
Date:   Mon Oct 21 19:13:55 2013 -0400

    Implemented buff level restrictions
    
    Higher level buffs can't be cast on lower level toons.
    The formula was based on information found here: http://samanna.net/eq.general/buffs.shtml
    This behavior is controlled by the rule Spells:BuffLevelRestrictions which defaults to true.

Author: Mackal
Date:   Mon Oct 21 19:10:01 2013 -0400

    GetMinLevel will now return 0 for more cases
    
    For some reason EQ uses 127 (melee classes), 254 (some AAs), and 255
    in the class level for spells a class doesn't have

Author: Cavedude
Date:   Sat Oct 19 19:11:28 2013 -0700

    Animations now work.
    
    NPCs' health updates.
    
    Loot now works. Coin is perfect, items will cause desyncs if your inventory is full. Shopkeepers do the same thing, so it's probably just a matter of changing the Emu code to handle the way this client accepts items.

Author: Cavedude
Date:   Sat Oct 19 15:30:02 2013 -0700

    Char select appearance is perfect, NPC's primary and secondary textures now show up.
    
    Purchasing from shopkeepers now updates your money without requiring a zone.

Author: KLS
Date:   Fri Oct 18 21:43:47 2013 -0700

    Compile fix

Author: KLS
Date:   Fri Oct 18 21:23:45 2013 -0700

    Import/Export util start

Author: Uleat
Date:   Fri Oct 18 20:33:41 2013 -0400

    Renamed/expanded 'BagTypes' enumeration

Author: Cavedude
Date:   Fri Oct 18 14:15:26 2013 -0700

    Fixed the z coord issues. Many things seem to have started working, including basic combat.
    
    #givemoney and other ways of GAINING money now update the client and no longer require a zone. Losing money still needs a zone to update, for now.

Author: KLS
Date:   Fri Oct 18 00:09:00 2013 -0700

    Base data for hp/mana/end calcs, mostly but not completely correct

Author: Cavedude
Date:   Thu Oct 17 23:53:20 2013 -0700

    Item clickies now work.
    
    Spell scrolls delete properly after being scribed into your book.

Author: Cavedude
Date:   Thu Oct 17 15:18:54 2013 -0700

    Please excuse the item mess, that is getting cleaned up.
    
    Merchants are now mostly functional.
    
    -This client strictly enforces slot, so the DB will need to be changed to make sure each merchantlist starts at 0 AND are in order.
    
    -Coin will update after you've zoned when you've made a purchase. We are missing the moneyupdate opcode for now.
    
    -Stackable items display weird for now.
    
    -I have not tested selling, but it may work.
    
    Formatted opcode finally found. Lua text, guildmasters, shopkeepers, all now speak to you. Text on normal clients is broken for now.
    
    Spell illusions now work, with some minor bugs. Zoning fixes everything though of course.
    
    Added some opcodes and other misc stuff, maybe things might start working!

Author: KLS
Date:   Wed Oct 16 15:47:08 2013 -0700

    Fix for lua say links, other branch taking longer than thought so making this its own commit

Author: Cavedude
Date:   Tue Oct 15 16:06:57 2013 -0700

    Bank should fully work for items and coin. Just a note: #givemoney won't update your coin until after you zone. We are missing the update opcode for now. But, it works otherwise.
    
    Fixed an issue with classes I introduced :I

Author: Cavedude
Date:   Tue Oct 15 14:16:08 2013 -0700

    Fixed weight reduction.

Author: Cavedude
Date:   Tue Oct 15 13:43:46 2013 -0700

    Bags now work.
    
    Added books. Note: The item DB is very messed up. It will need to be updated with at least correct booktypes, so books and notes show up properly.

Author: Cavedude
Date:   Tue Oct 15 00:07:28 2013 -0700

    NewZone now loads properly. The You have entered message now works as well as sky/fog.
    
    The server will now do a better job of determining your z coord. Many areas that were causing me problems before are now smooth. However, some areas are still really messed up. *cough* PoK *cough*
    
    Laid the framework for container and book type items.

Author: Cavedude
Date:   Mon Oct 14 01:04:00 2013 -0700

    Items can now be deleted and swapping is more reliable.
    The server and client now agree on the number of charges an item has.
    Initial work on hunger/thirst/stamina/consumption.

Author: Cavedude
Date:   Sun Oct 13 17:21:00 2013 -0700

    Inventory now loads. Items are extremely buggy as they are handled much differently than modern clients. They will need a lot of work.

Author: Cavedude
Date:   Sun Oct 13 00:44:39 2013 -0700

    #summonitem and item summoning spells now work. Inventory does not work yet, so any items you summon will disappear when you zone. They should still save server side, however.
    
    Removed a reference to an unnecessary opcode.

Author: Cavedude
Date:   Sat Oct 12 14:39:04 2013 -0700

    Guilmasters now work more or less.
    Spells work a bit better.
    Started to lay out the structure for items.

Author: Russel Kinasz
Date:   Fri Oct 11 22:54:35 2013 -0700

    update to spell fix

Author: badcaptain
Date:   Sat Oct 12 00:52:02 2013 -0400

    Changed dates due to time of commit.

Author: badcaptain
Date:   Sat Oct 12 00:47:15 2013 -0400

    Bots- added out of combat bard songs & #bot bardoutofcombat on|off command to turn them on/off.

Author: Mackal
Date:   Sat Oct 12 00:29:44 2013 -0400

    Fix Titanium clients from not being able to start in Tutorial zone.

Author: badcaptain
Date:   Fri Oct 11 23:37:46 2013 -0400

    Initial check-in of bard bot in combat song code.

Author: badcaptain
Date:   Fri Oct 11 23:27:55 2013 -0400

    Fix Merc crash bugs.

Author: JJ
Date:   Fri Oct 11 22:40:49 2013 -0400

    Allow use of Go Home button when Tutorial still selected in RoF.

Author: Mackal
Date:   Fri Oct 11 00:00:21 2013 -0400

    bool* foo = false should probably be an error, GCC 4.8+ at least warns about it, clang I think fails on it.

Author: Mackal
Date:   Thu Oct 10 23:17:02 2013 -0400

    Fix mana and timer being used on single target buffs failing
    
    Single target buffs shouldn't have their mana consumed or their
    reuse timers set if they fail the Mob::SpellOnTarget call in
    Mob::SpellFinished. Ex. Night's Dark Terror not taking hold
    (no free slots) or Target running out of range.
    Debuffs do not get this nice behavior.

Author: JJ
Date:   Thu Oct 10 22:38:23 2013 -0400

    Revert change to EnterWorldPacket introduced on 22 April 2013 to fix inability to enter Tutorial or Go Home from character select screen.

Author: Cavedude
Date:   Thu Oct 10 15:47:28 2013 -0700

    Doors now spawn and work. Intrazaone portals are bugged, but that's probably a problem in the zoning code. Regular portals (PoK books/stones) work fine.
    
    Fixed character creation starting/bind positions that were broken as a result of the client bit change.
    
    Spell interrupts/fizzles now work. The message color seems to change based on zone, so the struct must be close but not 100% correct.
    
    Buffs no longer come back after you've removed them and zoned.

Author: Secrets
Date:   Thu Oct 10 05:15:38 2013 -0700

    Fixed zone shutdown (or #reloadqst) reinitalization of Perl. This should allow for Perl 5.14 and later to work on Windows under the new quest system.

Author: Cavedude
Date:   Thu Oct 10 00:32:57 2013 -0700

    Forgot new patch file.

Author: Cavedude
Date:   Thu Oct 10 00:27:05 2013 -0700

    Con and quest text.

Author: Dmitry Marakasov
Date:   Wed Oct 9 00:46:43 2013 +0400

    Simplify conditional linking with libdl

Author: Mackal
Date:   Wed Oct 9 02:00:49 2013 -0400

    Fixed more instances of AA timers being eaten
    
    Every time I touch zone/AA.cpp to fix timers it gets uglier.
    This should fix the bug reported here: http://www.peqtgc.com/phpBB3/viewtopic.php?f=17&t=14125
    It should also fix AAs not being reset when it when you have no buff slots free (confirmed on live)

Author: Cavedude
Date:   Tue Oct 8 18:35:59 2013 -0700

    Spell animations and particle effects now occur. Buff icons and effects will now appear without zoning.
    
    There is a new version of the patch file.

Author: Mackal
Date:   Tue Oct 8 17:24:07 2013 -0400

    Added IsBuffSpell(spell_id). This will return true if the spell would end up having a duration, which will mean it would end up in one of the many buff windows on the client. This just makes sure the spell has a buffduration or buffdurationformula, which means the calculation will return a duration
    Replaced all instances of CalcBuffDuration being used to determine if a spell was a buff with IsBuffSpell
    Removed Mob::HasBuffIcon since it does the same thing IsBuffSpell does in a more convoluted way and had a rather missing leading name
    Fixed issues that arose from the 10/03/2013 changes

Author: Cavedude
Date:   Tue Oct 8 10:04:56 2013 -0700

    Spells: Committing what I have right now so I have a checkpoint to go back to.
    
    What works:
    
    Memorizing and scribing should work 100% (including swapping/deleting spells from your book.) Of course without items, you have to use #scribespell to get spells. :I
    
    Buffs DO work, but you have to zone to see the icon and effects. That is what I am working on now.
    
    Spells with instant effects (gate, bind, healing) all seem to work properly as well.
    
    What doesn't work:
    
    There is a LOT I haven't tested but I can say that you shouldn't cast any spell with a damage component or you're gonna have a bad time.

Author: Cavedude
Date:   Mon Oct 7 08:06:44 2013 -0700

    Assigned versionbit 1 to the Mac client since doors, zone_points, AAs, etc will require it. All other clients got bumped up by 1 bit, so testing will be needed.
    zone_points now work.
    Druid/Ranger/Bard tracking now works.

Author:Sorvani
Date:   Sat Oct 5 21:55:21 2013 -0500

    fixed issue with stackable items summoning with 0 charges

Author: Cavedude
Date:   Sat Oct 5 14:51:09 2013 -0700

    Missing changes to world.

Author: Cavedude
Date:   Sat Oct 5 14:33:38 2013 -0700

    Fixed common/CMakeLists.txt.

Author: Cavedude
Date:   Sat Oct 5 14:25:51 2013 -0700

    Added character creation
    Added #zone and #goto
    All clients will now path properly
    Corrected issue causing 062 and Titanium clients to not be able to zone-in
    Robregen: Some work on appearance.
    Robregen: Progress with z coord issues.

Author: Mackal
Date:   Thu Oct 3 23:04:58 2013 -0400

     Fix when the random +1 tick is added to nerf extension focus effects to where they should be

Author: Mackal
Date:   Mon Sep 30 22:17:34 2013 -0400

    Fixed issue with #showstats window, should probably be refactored to completely use stringstream or to_string whenever VS2010 support is dropped

Author:Sorvani
Date:   Mon Sep 30 20:57:12 2013 -0500

    Changed SummonItem to no longer recharge 0 charge items

Author: Vexyl
Date:   Sat Sep 28 10:38:50 2013 -0700

    Fix for segfault in Database::CheckStatus() when using MariaDB.

Author: Mackal
Date:   Fri Sep 13 15:20:45 2013 -0400

    Add /pet hold on and /pet hold off support for UF/RoF

Author: KLS
Date:   Thu Aug 29 15:52:17 2013 -0700

    Fix for training skill bailout when you can train the skill but not at the current level.

Author: KLS
Date:   Thu Aug 29 15:46:40 2013 -0700

    Removed Common Profiler and Zone Profiler.  They're well past outdated status and are just code bloat.

Author: Uleat
Date:   Tue Aug 20 20:55:19 2013 -0400

    Fix for bot pet spell buff corruption

Author: KLS
Date:   Sat Aug 10 14:17:06 2013 -0700

    Fix for special atk sql missing a type.
    Fix for a crash in quest manager setanim.
    Fix for pfs_list not compiling on x64 windows.

Author: Tabasco
Date:   Thu Aug 1 19:37:16 2013 -0500

    Fixed some lua stuff I bork.

Author: Tabasco
Date:   Thu Aug 1 19:34:27 2013 -0500

    Removed redundant Innate Metabolism checks.

Author: Tabasco
Date:   Thu Aug 1 19:24:15 2013 -0500

    Added rules for what int mobs need to not attack red cons and how much food and drink is taken per stamina update.
    Added mod hooks for food/drink values and mob aggro.
    Added quest functions for getting/setting hunger and thirst.

Author: Tabasco
Date:   Thu Aug 1 14:41:27 2013 -0500

    Fixed a regression with level 10 and 20 hit caps.

Author: KLS
Date:   Thu Jul 18 00:24:43 2013 -0700

    Fix for special_abilities crash dealing with std::string in struct that was then memcpyed

Author: Uleat
Date:   Mon Jul 15 23:22:17 2013 -0400

    fix for tortoisegit commit and overlay issues in dependencies/.gitignore

Author:Sorvani
Date:   Mon Jul 15 00:35:46 2013 -0500

    fir for lua get_spawn_condition

Author: KLS
Date:   Sun Jul 14 14:47:22 2013 -0700

    Memset SpecialAbility before putting it into map.

Author: KLS
Date:   Sat Jul 13 14:03:55 2013 -0700

    Changelog for lua_packet

Author: KLS
Date:   Sat Jul 13 13:53:41 2013 -0700

    Lua packet handler dispatch

Author: KLS
Date:   Sat Jul 13 13:53:13 2013 -0700

    Fix for bot compile

Author: KLS
Date:   Fri Jul 12 22:21:43 2013 -0700

    Basic lua packet api, and it works too.  Exciting I must say.

Author: KLS
Date:   Fri Jul 12 18:57:49 2013 -0700

    Compile error in AA.cpp

Author: KLS
Date:   Fri Jul 12 15:01:12 2013 -0700

    Windows compile error again, why wasn't this fixed on the second pass. I brought it up last time grr

Author: KLS
Date:   Thu Jul 11 13:44:45 2013 -0700

    NPC Special Attacks should all work right: also huge explanation in changelog.txt

Author: j883376
Date:   Mon Jul 8 19:02:54 2013 -0400

    Fix Database::GetZoneID()

Author: KLS
Date:   Mon Jul 8 14:37:01 2013 -0700

    Rampage, Area Rampage, Flurry got new customizable effects. Part of that was adding a new set of stuff to attack.

Author: Secrets
Date:   Sun Jul 7 21:44:31 2013 -0700

    Logfile cleanups. See changelog.txt.

Author: KLS
Date:   Sun Jul 7 15:22:20 2013 -0700

    Few warning and lua fixes, fix for summon not working on new system.  Need to look at enrage as it doesn't appear to work right either and think it's timing related

Author: KLS
Date:   Sat Jul 6 03:45:06 2013 -0700

    Replaced npcspecialatk with special_attacks, needs more testing also gotta export new api for it as I can't remove the legacy one.  Too many quests rely on the legacy functionality.

Author: KLS
Date:   Fri Jul 5 13:25:19 2013 -0700

    Changelog too

Author: KLS
Date:   Fri Jul 5 02:56:53 2013 -0700

    Perl will now capture return values (lua style), yeah I said I wouldn't be improving much of perl from here on but I said if I found a way I'd do it.

Author: KLS
Date:   Fri Jul 5 01:46:24 2013 -0700

    Removed quest queue from perl parser, should do events properly recursively

Author: KLS
Date:   Fri Jul 5 00:33:45 2013 -0700

    Added functions to eq to get the internals of the current quest_manager quest, also bug fix to a lua client function

Author: KLS
Date:   Wed Jul 3 15:20:42 2013 -0700

    Fix for Spell(int) not working in lua...

Author: KLS
Date:   Tue Jul 2 14:16:16 2013 -0700

    eq.follow() and eq.stop_follow()

Author: KLS
Date:   Mon Jul 1 14:12:31 2013 -0700

    Update README.md

Author: KLS
Date:   Mon Jul 1 14:06:20 2013 -0700

    Lua changelog entry

Author: Mackal
Date:   Mon Jul 1 16:03:04 2013 -0400

    Prevent Monster Summoning from summoning a portal in bothunder

Author: Mackal
Date:   Mon Jul 1 15:22:07 2013 -0400

    Fix Monster Summoning related to giants/cyclops

Author: KLS
Date:   Sat Jun 29 12:18:40 2013 -0700

    Fix for trade being retained on logout/zone

Author: KLS
Date:   Sat Jun 29 01:43:56 2013 -0700

    More selective filtering of lua libs, seed random set for lua interpreter, Release Canidate

Author: KLS
Date:   Fri Jun 28 16:43:57 2013 -0700

    eq.attack_npc(npc_id) and eq.attack_npc_type(npc_type) added.

Author: KLS
Date:   Fri Jun 28 16:30:27 2013 -0700

    Added eq.attack(client_name) to lua.

Author: j883376
Date:   Fri Jun 28 04:25:44 2013 -0400

    Revert "Revert "Merge pull request #77 from j883376/cleanups""
    

Author: KLS
Date:   Thu Jun 27 15:07:28 2013 -0700

    event_death_complete

Author: KLS
Date:   Thu Jun 27 14:14:10 2013 -0700

    Fix for perl not loading events if they're chained, fix for items not being removed from inventory at an intuitive time in event_trade

Author: KLS
Date:   Thu Jun 27 12:50:20 2013 -0700

    Revert "Merge pull request #77 from j883376/cleanups"
    
    changes made to e811e3975b3e6f5f1c3274a501b6f964925281fb.

Author: KLS
Date:   Wed Jun 26 22:23:31 2013 -0700

    missing lua mob function

Author: KLS
Date:   Wed Jun 26 15:43:55 2013 -0700

    Fix for quest::depop and quest::respawn not functioning

Author: KLS
Date:   Wed Jun 26 09:57:06 2013 -0700

    Added custom find lua cmake module to make building on windows easier

Author: KLS
Date:   Wed Jun 26 09:26:19 2013 -0700

    Fixed translocate, dispatch event now returns values properly, embparser now stores errors (what few it has)

Author: KLS
Date:   Wed Jun 26 08:05:36 2013 -0700

    Fix for msvc compile, lua_bit.cpp wont try to compile if lua isn't set to build

Author: j883376
Date:   Tue Jun 25 23:40:05 2013 -0400

    Fix uses of uninitialized variables
    
    - Replace unknown008 array with two separate variables in Object code
    
    - Fix mismatched safe_delete() of an array

Author: KLS
Date:   Tue Jun 25 14:51:06 2013 -0700

    Sorta hacky work around for doing nukeitem in item quests. Added lua bitop library. Made excluding io/os optional

Author: Zaela
Date:   Tue Jun 25 11:05:03 2013 -0700

    Made default-on-error a little less bad.

Author: Zaela
Date:   Tue Jun 25 10:45:07 2013 -0700

    one eof newline

Author: KLS
Date:   Mon Jun 24 13:00:50 2013 -0700

    Forgot a semicolon in an important spot.

Author: KLS
Date:   Mon Jun 24 12:42:42 2013 -0700

    Fix for clickies not working, changed order of dispatch events to allow nuking items from regular item events.  Changed the lua modules path.

Author: KLS
Date:   Sun Jun 23 14:48:36 2013 -0700

    Added Spawn object to lua and functions to manipulate them

Author: KLS
Date:   Sat Jun 22 20:47:11 2013 -0700

    Added quest areas (only accessable in lua) which work similar to proximities except are not attached to any one npc.  Also fixed up the proximity code a bit to comply and got rid of my stupid ass fix for the deleting lists thing

Author: KLS
Date:   Sat Jun 22 14:23:07 2013 -0700

    encounter events can now watch all events by all npcs/items/quests by registering themselves to watch -1, fix #74

Author: Zaela
Date:   Sat Jun 22 08:35:33 2013 -0700

    Reworked RespawnFromHover framework to allow future customization (scripting) of respawn options.
    Added event_respawn to be triggered when a client respawns from hover into the current zone (may not be set up correctly!).

Author: KLS
Date:   Sat Jun 22 01:32:41 2013 -0700

    Fix for luabind not compiling (jumbers), bunch of api upgrades for lua, changed where spells and items load quests from, removed some old code. etc etc.

Author: j883376
Date:   Sat Jun 22 00:55:54 2013 -0400

    Fix some improper uses of printf formats

Author: j883376
Date:   Fri Jun 21 23:21:57 2013 -0400

    Change binary output path to use CMake variable
    
    Tools that use CMake's EXECUTABLE_OUTPUT_PATH variable to
    determine which binary to launch for debugging may be confused
    by a relative path, so use CMake variable PROJECT_BINARY_DIR
    instead.

Author: j883376
Date:   Fri Jun 21 22:54:28 2013 -0400

    Fix exit code values
    
    - Change all exit codes to match the standard of 0 for success
    and 1 for error
    
    - Add empty shared folder to utils/defaults for shared_memory

Author: KLS
Date:   Fri Jun 21 14:20:30 2013 -0700

    Augment item events

Author: j883376
Date:   Fri Jun 21 17:09:46 2013 -0400

    Fix a few memory leaks
    
    - Rewrite zonename_array to use std::map rather than a pointer to an array
    of character pointers
    
    - Properly delete ZoneConfig on Zone shutdown
    
    - Delete AdventureTemplates in AdventureManager destructor

Author: KLS
Date:   Thu Jun 20 14:03:22 2013 -0700

    Added direct inventory access, and event_loot for items and event_weapon_proc for items

Author: KLS
Date:   Wed Jun 19 22:56:46 2013 -0700

    Regression fixes, support for new lua arguments for many events

Author: KLS
Date:   Sun Jun 16 21:04:36 2013 -0700

    Mod functions should respect perl being turned off.

Author: Secrets
Date:   Sun Jun 16 13:07:48 2013 -0700


Author: Secrets
Date:   Sun Jun 16 13:04:48 2013 -0700

Author: KLS
Date:   Sat Jun 15 13:08:32 2013 -0700

    Image fix for OP_CastSpell exploit.

Author: Hateborne
Date:   Thu Jun 13 17:59:24 2013 -0400

    spell.max convert int16 to int32
    
    Converting the spell.max field to int32 to handle larger numbers in the
    PercentalHeal field.

Author: Uleat
Date:   Wed Jun 12 22:04:07 2013 -0400

    Added changelog message for predated commit (Bot procs and AE buff casting)

Author: KLS
Date:   Wed Jun 12 15:04:26 2013 -0700

    Many fixes to regressions in perl and cleaning up the final interface

Author: KLS
Date:   Wed Jun 12 12:11:56 2013 -0700

    Merge of hatebourne's stuff

Author: KLS
Date:   Fri Jun 7 02:26:17 2013 -0700

    Redoing event item api

Author: KLS
Date:   Thu Jun 6 14:29:45 2013 -0700

    Added three new events

Author: KLS
Date:   Wed Jun 5 17:00:59 2013 -0700

    Removed perl stuff from mod stuff

Author: KLS
Date:   Wed Jun 5 16:47:49 2013 -0700

    Changed EVENT_TRADE to pass iteminst instead of variable ids, perl will not have changed at all but lua now passes the iteminsts in the trade object. Also redid a bunch of the spell quest stuff

Author: KLS
Date:   Tue Jun 4 23:22:03 2013 -0700

    Last work to make lua parser feature complete, time to start fixing bugs and cleaning up design and maybe adding some features here and there.

Author: KLS
Date:   Tue Jun 4 16:48:32 2013 -0700

    Fix for potential nullptr when using base lua class constructors in debug mode, also added eq.get_qglobals and removed automatic export of them (will do this for a lot of other automatic exports)

Author: KLS
Date:   Mon Jun 3 16:49:47 2013 -0700

    Player event export plus lua_object api

Author: Tabasco
Date:   Mon Jun 3 17:08:58 2013 -0500

    Removed comments from mod_client.cpp for erroneous 255 stat cap.

Author: KLS
Date:   Mon Jun 3 00:08:41 2013 -0700

    Lua doors api

Author: Tabasco
Date:   Sun Jun 2 18:58:44 2013 -0500

    Lua corpse API

Author: KLS
Date:   Sun Jun 2 13:47:52 2013 -0700

    Raid/Group lua stuff, renamed corpses

Author: KLS
Date:   Sun Jun 2 00:15:26 2013 -0700

    Added all lua objects i need for now, a ton of API too

Author: Tabasco
Date:   Sat Jun 1 10:49:58 2013 -0500

    Cautionary XP mod update.

Author: Tabasco
Date:   Sat Jun 1 10:44:32 2013 -0500

    Updated mod_functions and mod_functions_base with new hooks and descriptions

Author: KLS
Date:   Fri May 31 16:40:55 2013 -0700

    Finished exporting lua general functions for now, also had to fix some const char* stuff

Author: Tabasco
Date:   Tue May 28 20:27:17 2013 -0500

    Berserker updates.

Author: Tabasco
Date:   Tue May 28 19:58:40 2013 -0500

    Added mod_spell_cast and various mod_functions fixes.

Author: KLS
Date:   Tue May 28 13:12:42 2013 -0700

    Small amount of general lua functions

Author: KLS
Date:   Mon May 27 17:24:31 2013 -0700

    More lua work, client should be completely exported barring any more bugs that crop up. Starting work on getting the rest of the general functions

Author: Tabasco
Date:   Mon May 27 15:32:59 2013 -0500

    Fixed some mod function bugs and stat caps.

Author: j883376
Date:   Mon May 27 12:35:45 2013 -0400

    Fix loginserver crash on DB connect failure

Author: Tabasco
Date:   Mon May 27 08:46:50 2013 -0500

    Added reloadworld console command

Author: KLS
Date:   Sun May 26 15:56:55 2013 -0700

    Bug fix in event_trade export, exported augments too. Also need to fix overloads

Author: KLS
Date:   Sun May 26 12:44:33 2013 -0700

    Exported client functions to lua, going to work on npc next

Author: KLS
Date:   Sat May 25 01:08:30 2013 -0700

    Retransmit support added back in (stupid compile flags), prelim work on lua_client stuff, took out a few redundant or non-working functions

Author: KLS
Date:   Fri May 24 01:41:33 2013 -0700

    Failed merge on a specific file also fix for std and string changes in my embparser

Author: KLS
Date:   Fri May 24 01:10:19 2013 -0700

    Red. include string

Author: KLS
Date:   Fri May 24 00:52:28 2013 -0700

    Function for retrieving a qglobal or list of them

Author: j883376
Date:   Thu May 23 20:22:42 2013 -0400

    Fix several GCC warnings

Author: KLS
Date:   Thu May 23 12:43:21 2013 -0700

    Changed a bunch of lua stuff, as well as modified a bunch of generic item quest stuff

Author: Kemmler
Date:   Thu May 23 12:17:30 2013 -0400

    Windows compile fixes (bots)

Author: KLS
Date:   Thu May 23 00:55:29 2013 -0700

    Windows compile fix

Author: Arthur Ice
Date:   Wed May 22 23:01:43 2013 -0700

    added std:: to a lot of locations which where
    missed and added NOMINMAX to cmakelist

Author: Arthur Ice
Date:   Wed May 22 22:21:28 2013 -0700

    Spelling fix in a comment. Nothing else.

Author: Arthur Ice
Date:   Wed May 22 19:52:48 2013 -0700

    tabbify and cleaned up std issues and min/max problems.

Author: Arthur Ice
Date:   Wed May 22 19:41:16 2013 -0700

    Removed MakeUpperString since it's not used anywhere.

Author: Mackal
Date:   Wed May 22 16:17:19 2013 -0400

    Remove 'using namespaces std' fixes #61

Author: Tabasco
Date:   Wed May 22 07:19:09 2013 -0500

    Added exp for level mod, misc fixes.

Author: Arthur Ice
Date:   Tue May 21 23:02:15 2013 -0700

    Should only need dumpItemCollection and dumpBagContents internally so made them protected.

Author: Arthur Ice
Date:   Tue May 21 22:51:35 2013 -0700

    broke up dumpInventory into methods, changed it to dumpEntireInventory (dumpInventory now only dumps a small peice)

Author: Arthur Ice
Date:   Tue May 21 18:08:21 2013 -0700

    removed DBMemLeak.cpp and DBMemLeak.h, unused.

Author: Arthur Ice
Date:   Tue May 21 00:25:12 2013 -0700

    weird #ifdef pattern, reorganized and cleaned it up. easier to understand now.

Author: Arthur Ice
Date:   Tue May 21 00:12:28 2013 -0700

    reorganized includes to allow for consolidation and cleanup.

Author: Arthur Ice
Date:   Tue May 21 00:04:45 2013 -0700

    removed unneeded defines. snprintf and friends are used within StringUtil.h

Author: Arthur Ice
Date:   Mon May 20 23:59:41 2013 -0700

    changed from using a preset char buffer to string.

Author: Arthur Ice
Date:   Mon May 20 23:25:08 2013 -0700

    set many pointers to nullptr instead of 0.

Author: Arthur Ice
Date:   Mon May 20 23:16:02 2013 -0700

    corrected incorrect use of StringFormat and did basic indenting fix.

Author: Arthur Ice
Date:   Mon May 20 22:40:10 2013 -0700

    removed visual studio 5,6,7 specific code except in tinyxml and StackWalker.

Author: Arthur Ice
Date:   Mon May 20 22:20:01 2013 -0700

    simplified the includes to be a bit clearer.

Author: Arthur Ice
Date:   Mon May 20 22:17:56 2013 -0700

    reordering includes to make it easier to simplify.

Author: Arthur Ice
Date:   Mon May 20 22:13:19 2013 -0700

    removed char buffer in 'UpdateWindowTitle"

Author: Arthur Ice
Date:   Mon May 20 17:51:08 2013 -0700

    Apparently the original implementation from facebook was incorrect.
    Fixed it, sadly this does mean we need to call vsnprintf twice.
    Once to find out the size involved, a second time to apply.

Author: Tabasco
Date:   Mon May 20 16:24:10 2013 -0500

    Chat filter tests

Author: KLS
Date:   Sun May 19 23:39:18 2013 -0700

    Lua fixes, need to get perl working again D=

Author: KLS
Date:   Sun May 19 12:13:44 2013 -0700

    Cleanup of some lua code, initial work on encounter_quests

Author: KLS
Date:   Sat May 18 14:42:54 2013 -0700

    Exported a ton of functions to mob

Author: Tabasco
Date:   Sat May 18 11:21:19 2013 -0500

    Added server man quest events and command parsing.

Author: KLS
Date:   Fri May 17 17:10:38 2013 -0700

    Some quest item and spell work, took out that stupid multiquesting code -> use your brains that's completely doable entirely in quests even perl

Author: KLS
Date:   Fri May 17 10:48:59 2013 -0700

    Hatelist will now use a std::list so i can avoid a list copy when exporting it to quests.  Cause frankly two copies was absurd

Author: Tabasco
Date:   Fri May 17 12:27:18 2013 -0500

    Updated mod_functions with DC examples

Author: Tabasco
Date:   Fri May 17 12:20:49 2013 -0500

    Mod function updates - better documentation

Author: KLS
Date:   Fri May 17 09:49:02 2013 -0700

    Hate list stuff, need to make it more efficient

Author: KLS
Date:   Thu May 16 23:24:47 2013 -0700

    Added id to spells so i can export them to lua correctly. Also made the lua_classes less messy by having them all derive from Lua_Ptr instead of reimplementing functionality

Author: KLS
Date:   Thu May 16 15:35:55 2013 -0700

    More work on lua parser - gonna get all events firing correctly by end of week also put all arguments into an event table object

Author: KLS
Date:   Wed May 15 18:43:06 2013 -0700

    Changed a bunch of event names, made event_death returning more seamless and fixed up trading quests to have them always face target outside the parser

Author: KLS
Date:   Wed May 15 14:37:30 2013 -0700

    Azone fix for new compilers and possible fix for x64

Author: j883376
Date:   Wed May 15 17:04:08 2013 -0400

    Add install paths to CMakeLists

Author: KLS
Date:   Wed May 15 13:00:46 2013 -0700

    Changed quests/templates to quests/global. Changed default location for plugins to quests/plugins instead of quests. Added a single interpreter for lua instead of multiple ones.

Author: KLS
Date:   Tue May 14 19:05:49 2013 -0700

    more lua, gonna work on single interpreter soon

Author: KLS
Date:   Mon May 13 21:56:42 2013 -0700

    Lua - basic npc quests work and i need a damned break for a bit

Author: KLS
Date:   Mon May 13 14:40:15 2013 -0700

    Cleaned up lua glue macro a bit

Author: KLS
Date:   Mon May 13 14:29:50 2013 -0700

    Working on last of Mob:: that can be implemented atm, added safety checks to the lua functions that will be optional later in dev mode. Also changed quest return types to integers instead of doubles as that was non-intuitive

Author: Tabasco
Date:   Sun May 12 21:35:21 2013 -0500

    CHA scribe rule logic fix

Author: KLS
Date:   Sat May 11 20:34:04 2013 -0700

    More lua work - more mob implementation

Author: KLS
Date:   Sat May 11 16:39:22 2013 -0700

    Missed a file save

Author: KLS
Date:   Sat May 11 16:37:03 2013 -0700

    More lua work - changed how i get return values off the stack and do calls

Author: KLS
Date:   Sat May 11 13:51:57 2013 -0700

    Lua work on api - entity and mob, lots more to go

Author: Mackal
Date:   Sat May 11 14:32:14 2013 -0400

    FreeBSD support and clean up of unnecessary ifdef FREEBSD

Author: KLS
Date:   Sat May 11 01:29:58 2013 -0700

    ...trying out boost with luabind

Author: Arthur Ice
Date:   Sat May 11 00:46:46 2013 -0700

    For windows compile, moved definve of va_copy

Author: Arthur Ice
Date:   Sat May 11 00:17:02 2013 -0700

    missed two string conversion functions. Moved them to StringUtil

Author: Arthur Ice
Date:   Sat May 11 00:05:11 2013 -0700

    moved string functions from MiscFunctions to StringUtil

Author: Arthur Ice
Date:   Fri May 10 23:18:00 2013 -0700

    Added StringUtil h/cpp which contains StringFormat

Author: KLS
Date:   Fri May 10 20:13:35 2013 -0700

    Lua work - loading works, I think checking for sub works.  Calling subs is in the beginning stages and binding is starting

Author: Uleat
Date:   Fri May 10 22:24:56 2013 -0400

    -- Added missing wrapper to bot update message
    -- Added notes to AESpell() update

Author: KLS
Date:   Thu May 9 21:25:50 2013 -0700

    Cleanup perl parsers

Author: Uleat
Date:   Thu May 9 20:57:02 2013 -0400

    -- Added Bot primary weapon proc (secondary and ranged already exist)
    -- Added Bard Bot Instrumentation bonuses
    -- Added checks to avoid AE Buff casting on enemy mobs
    -- Fixed a few typos in 'Vah Shir'-related code

Author: KLS
Date:   Thu May 9 14:52:20 2013 -0700

    Perl parser works, still needs a little cleanup

Author: j883376
Date:   Thu May 9 10:44:08 2013 -0400

    Change space indentation to tabs

Author: j883376
Date:   Mon May 6 13:07:41 2013 -0400

    Remove trailing whitespace

Author: KLS
Date:   Thu May 9 03:22:56 2013 -0700

    perl changes

Author: KLS
Date:   Wed May 8 21:03:35 2013 -0700

    VS2012 fix + return 0 fix

Author: KLS
Date:   Wed May 8 21:01:15 2013 -0700

    Parser stuff, fix for GetSpawnKillCount + item_tick

Author: KLS
Date:   Wed May 8 20:18:39 2013 -0700

    Partial perl parser rewrite, want to make it cleaner and have it match the interface

Author: Arthur Ice
Date:   Wed May 8 18:13:33 2013 -0700

    removed using namespace std

Author: Arthur Ice
Date:   Sun May 5 16:58:16 2013 -0700

    Removed the _MSC_VER special cases for Visual Studio 2008 and lower.
    We no longer support 2008 and lower so these defines will never be used.

Author: Arthur Ice
Date:   Sun May 5 16:40:03 2013 -0700

    Converted a lot of the char[] stuff internally into std:string
    in addition I switched over to <string> rather than <string.h>

Author: Mackal
Date:   Wed May 8 17:07:49 2013 -0400

    Fixed NPC::GetScore and XS_NPC_GetScore

Author: Derision
Date:   Wed May 8 20:02:55 2013 +0100

    Changed dummy strings written into the TaskSelector packet from nullptr to ABCD since the packet size calculation was based on the strings being 4 characters long.

Author: Mackal
Date:   Tue May 7 18:20:09 2013 -0400

    Fix NULL to nullptr for SQL queries take 2

Author: Mackal
Date:   Tue May 7 17:41:05 2013 -0400

    Fix NULL to nullptr for SQL queries

Author: Kemmler
Date:   Tue May 7 15:19:27 2013 -0400

    VS2010 compatibility

Author: Tabasco
Date:   Mon May 6 16:24:44 2013 -0500

    Fixing some regressions

Author: KLS
Date:   Sun May 5 23:36:15 2013 -0700

    Working on fixing up QuestInterface to make multiple parsers work together in harmony, need to fix up Embperl parser next

Author: Arthur Ice
Date:   Sun May 5 16:58:16 2013 -0700

    Removed the _MSC_VER special cases for Visual Studio 2008 and lower.
    We no longer support 2008 and lower so these defines will never be used.

Author: Arthur Ice
Date:   Sun May 5 16:40:03 2013 -0700

    Converted a lot of the char[] stuff internally into std:string
    in addition I switched over to <string> rather than <string.h>

Author: Tabasco
Date:   Sun May 5 18:20:22 2013 -0500

    Various customizations from DungeonCrawl

Author: Tabasco
Date:   Sun May 5 17:53:34 2013 -0500

    Removed my bookmark comments and cleaned up itemtick for cases where there are no tick items.

Author: j883376
Date:   Sun May 5 18:51:20 2013 -0400

    Change NULL to nullptr in RemoveAutoXTargets()

Author: j883376
Date:   Sun May 5 06:47:53 2013 -0400

    Fix Auto XTargets not clearing on death

Author: Arthur Ice
Date:   Sat May 4 18:06:58 2013 -0700

    NULL to nullptr

Author: Derision
Date:   Fri May 3 09:36:16 2013 +0100

    NULL check in Merc::CalcItemBonuses

Author: KLS
Date:   Thu May 2 23:24:52 2013 -0700

    PERL ON BY DEFAULT - THANKS DALAYA

Author: KLS
Date:   Thu May 2 23:21:04 2013 -0700

    Make perl truely optional (Dalaya)

Author: Derision
Date:   Sun Apr 28 18:57:08 2013 +0100

    Changed return type of CRC16 to uint16

Author: PiB
Date:   Sat Apr 27 19:13:34 2013 +0100

    Implement CRC16 using CRC32.

Author: Derision
Date:   Sat Apr 27 16:22:29 2013 +0100

    Verify minimum size of OP_Packet, OP_Fragment and OP_OutOfOrderAck

Author: Derision
Date:   Sat Apr 27 15:45:24 2013 +0100

    Verify OP_Ack size & fix crash in BasePacket::build_raw_header_dump due to uninitialised timestamp

Author: Derision
Date:   Thu Apr 25 19:04:33 2013 +0100

    EQExtractor2 SQL gen support for current client.

Author: badcaptain
Date:   Thu Apr 25 00:42:52 2013 -0400

    Fixed a couple of merc stat issues and a few bot aggro issues, removed unneeded bot pet AI.

Author: Tabasco
Date:   Wed Apr 24 15:58:51 2013 -0500

    Dungeon Crawl custom code merge
    Added numerous modding hooks.
    Added rules:
            Character:KeepLevelOverMax - Don't delevel a character if they are found to be over max level rule.
            Spells:UseCHAScribeHack - Optionally omit spells with CHA in effect12 when using scribespells and traindiscs
            Combat:MonkACBonusWeight - Adjust the weight threshold for monk AC bonus
            Combat:ClientStunLevel - Adjust the level clients kicks and bashes start to roll for stuns
            Combat;QuiverWRHasteDiv - Adjust the divisor applied to weight reduction for haste calcs
            Combat:UseArcheryBonusRoll - Make archery stationary bonus a roll
            Combat:ArcheryBonusChance - Archery stationary bonus chance
    
    Added account flags and associated perl wrappers
    Added EVENT_ITEM_TICK for interactive items
    Added EVENT_DUEL_WIN and EVENT_DUEL_LOSE, which exports $enemyname and $enemyid
    Added timer and interval to console worldshutdown command
    Added EQW interface for worldshutdown and server-wide messages

Author: Derision
Date:   Wed Apr 24 19:31:13 2013 +0100

    EQExtractor2 update.

Author: Arthur Ice
Date:   Mon Apr 22 23:22:13 2013 -0700

    Turn HandleZoneChangePacket into method.

Author: Arthur Ice
Date:   Mon Apr 22 23:18:40 2013 -0700

    Reorganized handling of Packets to be a bit cleaner.

Author: Arthur Ice
Date:   Mon Apr 22 23:14:00 2013 -0700

    Turn DeleteCharacterPacket handling into a method.

Author: Arthur Ice
Date:   Mon Apr 22 23:10:57 2013 -0700

    Turn EnterWorldPacket handling into a method.

Author: Arthur Ice
Date:   Mon Apr 22 23:00:44 2013 -0700

    Turn CharacterCreatePacket handling into a method.

Author: Arthur Ice
Date:   Mon Apr 22 22:56:55 2013 -0700

    Turn CharacterCreateRequestPacket handling into a method.

Author: Arthur Ice
Date:   Mon Apr 22 22:52:29 2013 -0700

    Turn GenerateRandomNamePacket handling into a method.

Author: Arthur Ice
Date:   Mon Apr 22 22:47:19 2013 -0700

    Turn SendLoginInfoPacket handling into a method.

Author: Arthur Ice
Date:   Mon Apr 22 22:44:29 2013 -0700

    Turn NameApprovalPacket handling into a method.

Author: JJ
Date:   Sat Apr 20 14:04:08 2013 -0400

    Fix rare case where heals from buffs could be negative.

Author: Derision
Date:   Fri Apr 12 19:20:43 2013 +0100

    Moved entity_list.Clear() prior to destruction of Perl objects in zone shutdown

Author: Mackal
Date:   Tue Apr 9 14:50:51 2013 -0400

    Realized there was a better way to do the DB entries for salvage, so I changed the script.
    Run the optional 2013_04_09_SalvageCleanOld.sql if you ran the old script.

Author: Mackal
Date:   Mon Apr 8 22:33:19 2013 -0400

    Implemented Salvage AA.
    Added a new coloumn to tradeskill_recipe_entires called salvagecount that works much in the same way to fail/success/componentcount
    The code will default to the component list if nothing is found with a salvagecount
    New script: generate_salvage.py will generate the entries for recipes with a failcount (make sure your config is vaild XML as well, it complains if it isn't)

Author: Mackal
Date:   Mon Apr 8 17:20:03 2013 -0400

    Fix XML Type Declaration in example configs

Author: Mackal
Date:   Mon Apr 8 14:16:08 2013 -0400

    More work on salvage, added some extra checks and won't return stacks of items

Author: Mackal
Date:   Sun Apr 7 22:38:43 2013 -0400

    Work on implementing salvage

Author: JJ
Date:   Sat Apr 6 08:23:09 2013 -0400

    Attempting manual merge for Nature's Bounty

Author: Mackal
Date:   Wed Apr 3 16:09:44 2013 -0400

    Switched rest of pet messages to MT_PetResponse
    Overloaded Mob::Say_StringID with a version that takes a message type

Author: badcaptain
Date:   Tue Apr 2 19:17:28 2013 -0400

    Merged from Master & changelog.

Author: badcaptain
Date:   Tue Apr 2 19:09:32 2013 -0400

    Fixed Merc lack of use of heal over time spells (causing excessive healing), fixed pet mitigation/AC issues.

Author: KLS
Date:   Mon Apr 1 14:23:54 2013 -0700

    Patch for:
    -Perl blessing of exported variables is causing the SVs to be overwritten but never freed by the Perl GC.  I'm not sure if this is a feature or a bug in Perl as the documentation sucks.
    
    Addressed by setting the blessed SVs in question to be undefined at the end of every script.  Caused a noticeable drop in memory for zones with a lot of quest events firing but it's probably not perfect.

Author: Mackal
Date:   Mon Apr 1 17:19:45 2013 -0400

    Bards can now use instant cast AAs while singing (Fading Memories, Boastful Bellow)
    AA reuse timers now start before the spell is cast and reset upon failure or canceling

Author: Mackal
Date:   Sat Mar 30 22:57:20 2013 -0400

    Fix pet message to use StringIDs, most should be correct related to pet "saying" or just the client getting a message
    Added the pet taunting message

Author: Secrets
Date:   Mon Mar 25 13:07:58 2013 -0400

    Made Merc::AddMercToGroup handle cleaning up old groups as opposed to doing it in each location before AddMercToGroup. This should fix cases where the Merc's owner is invalid and being referenced, which causes the crash located in:
    
    http://www.eqemulator.org/forums/showthread.php?t=36670&page=2

Author: Secrets
Date:   Sun Mar 24 18:08:03 2013 -0400

    Moved around some data in Mercs to help prevent another crash... dunno if it actually will fix it but it can't hurt >_<

Author: Secrets
Date:   Sun Mar 24 14:31:03 2013 -0400

    Merc group/depop crash fixes.

Author: JJ
Date:   Sun Mar 24 08:36:53 2013 -0400

    Fixed SQL

Author: Kemmler
Date:   Sun Mar 24 08:14:50 2013 -0400

    Fix typos

Author: Secrets
Date:   Sun Mar 24 04:02:47 2013 -0400

    Whoops. Fixed a small change I did.

Author: Secrets
Date:   Sun Mar 24 04:01:49 2013 -0400

    Fix for a crash issue related to groups that both PEQ and Armm reported on the forums.

Author: Mackal
Date:   Sat Mar 23 18:34:06 2013 -0400

    Fixed and cleaned up Client::Escape()
    Fixed SE_FadingMemories to use Client::Escape()
    Rogue AA Escape now uses a spell instead of AA Action
    Bard AA Fading Memories now only uses the AA Action to eat mana

Author: Secrets
Date:   Sat Mar 23 10:13:29 2013 -0400

    Syntax error, better place for entity list removal

Author: Secrets
Date:   Sat Mar 23 10:10:03 2013 -0400

    Another safeguard against a dangling pointer.

Author: Secrets
Date:   Sat Mar 23 10:04:49 2013 -0400

    Added a few checks to resolve dangling pointers involving Mercs. Similar to the AIYellForHelp crash fixed years ago by Rogean.

Author: Secrets
Date:   Sat Mar 23 04:58:03 2013 -0400

    -Merc upkeep timers fixed to display properly. They now persist through zones as well as save to the database properly.
    -Merc unsuspend timers should now be more reliable across zone shutdown.

Author: JJ
Date:   Fri Mar 22 21:48:57 2013 -0400

    Added some pointer checks as discussed in issue #36

Author: badcaptain
Date:   Fri Mar 22 00:03:50 2013 -0400

    Fixed merc buffing bugs, added checks before dismissing merc to prevent possible bugged mercs, merged in Secret's merc memory leak fixes.

Author: Secrets
Date:   Thu Mar 21 00:40:59 2013 -0400

    -Fixed a memleak in inviting mercs to group.
    -Fixed a duplicate merc in window bug.

Author: Mackal
Date:   Wed Mar 20 23:29:00 2013 -0400

    Fixed stacking issues with SE_Limit* (ex. Unholy Aura Discipline and Aura of Reverence)

Author: Secrets
Date:   Wed Mar 20 10:46:09 2013 -0400

    Two crash fixes reported on the forums are hopefully fixed.

Author: Secrets
Date:   Wed Mar 20 07:19:20 2013 -0400

    Whoops, forgot CMakeLists.txt

Author: Secrets
Date:   Wed Mar 20 04:02:33 2013 -0400

    Merc message removed.
    
    VLD removed, oops.

Author: Secrets
Date:   Wed Mar 20 04:02:33 2013 -0400

    Merc message removed.

Author: Secrets
Date:   Wed Mar 20 04:00:08 2013 -0400

    Fixed mercenary memleaks in AI_Start and Unsuspend.

Author: Derision
Date:   Tue Mar 19 20:44:22 2013 +0000

    Initialised some data in Mob/Merc constructors to stop valgrind complaining.

Author: Derision
Date:   Tue Mar 19 19:22:16 2013 +0000

    Fixed memory leak in OP_VeteranRewardsAvailable

Author: badcaptain
Date:   Tue Mar 19 01:03:15 2013 -0400

    Changelog fix.

Author: badcaptain
Date:   Tue Mar 19 00:53:01 2013 -0400

    Fixed zone crash due to merc focus effects & tribute, merc aggro issues when client in melee range, spell recast timers. Added melee DPS spells/disciplines & support.

Author: Derision
Date:   Mon Mar 18 21:09:23 2013 +0000

    Fixed a couple of memory leaks.

Author: Derision
Date:   Sun Mar 17 15:52:48 2013 +0000

    Fixed missing version parameter in DB select in GetZoneWeather.

Author: Derision
Date:   Sun Mar 17 13:52:43 2013 +0000

    Fixed a couple of merc memory leaks and removed some commented out DumpPacket calls.

Author: Secrets
Date:   Sun Mar 17 06:20:12 2013 -0400

    Forgot changelog :x

Author: Secrets
Date:   Sun Mar 17 06:18:32 2013 -0400

    Hopefully fixed that pesky merc memleak and cleaned up mercs a tad.

Author: Secrets
Date:   Fri Mar 15 03:27:45 2013 -0400

    Test

Author: Secrets
Date:   Sun Mar 17 06:20:12 2013 -0400

    Forgot changelog :x

Author: Secrets
Date:   Sun Mar 17 06:18:32 2013 -0400

    Hopefully fixed that pesky merc memleak and cleaned up mercs a tad.

Author: Derision
Date:   Sun Mar 17 10:09:13 2013 +0000

    EQExtractor2: Added SQL generation support for current Live client decoder.

Author: Derision
Date:   Sat Mar 16 19:56:09 2013 +0000

    EQExtractor2 update.

Author: Derision
Date:   Fri Mar 15 19:37:29 2013 +0000

    Resurrection - Fix for RoF + fixed a couple of memory leaks.

Author: Secrets
Date:   Fri Mar 15 03:27:45 2013 -0400

    Test

Author: badcaptain
Date:   Thu Mar 14 23:13:49 2013 -0400

    Forgot to remove debugging.

Author: badcaptain
Date:   Thu Mar 14 22:56:45 2013 -0400

    Forgot changelog.

Author: JJ
Date:   Thu Mar 14 20:42:02 2013 -0400

    Fix for hatelist random missing last member on hatelist.

Author: badcaptain
Date:   Thu Mar 14 19:51:29 2013 -0400

    Fixed Merc spell recast timers, changed how Mercs add mobs to their hate lists (should prevent IsEngaged() issues), initial Caster DPS Merc spell casting AI, initial Merc stance implementation, Mercs now suspend when their owner dies to prevent them being bugged (until it can be fixed), added 2 seconds between spell casts to be live-like.

Author: Derision
Date:   Sun Mar 10 20:41:09 2013 +0000

    Updated comment in Handle_OP_ItemPreview

Author: Derision
Date:   Sun Mar 10 18:55:18 2013 +0000

    More compiler warning fixes.

Author: Derision
Date:   Sat Mar 9 20:13:11 2013 +0000

    Added some error logging into ZoneDatabase::NPCSpawnDB for #npcspawn create

Author: Arthur Ice
Date:   Sat Mar 9 10:52:25 2013 -0800

    Added some consts to remove 'deprecated string to char*' warnings.

Author: Derision
Date:   Sat Mar 9 13:21:06 2013 +0000

    Removed _log message from zone/CatchSignal on Linux as it can deadlock on shutdown if another signal is received while the _log call is being processed.

Author: Derision
Date:   Sat Mar 9 13:18:36 2013 +0000

    Fix from Zaela_S to stop mobs aggroing on dead players when using RespawnFromHover.

Author: KLS
Date:   Fri Mar 8 18:07:28 2013 -0800

    Fix for DBCore crash

Author: Kemmler
Date:   Thu Mar 7 23:33:21 2013 -0500

    Reword blurbs in changelog.txt.

Author: Kemmler
Date:   Thu Mar 7 09:42:16 2013 -0500

    Melee tomes named "Skill: ...": had overlooked learn-by-right-click, updated.

Author: KLS
Date:   Wed Mar 6 11:19:44 2013 -0800

    Changed some stuff to keep it consistent with old behavior: was seeing crashes related to ptimers on peq.

Author: Kemmler
Date:   Tue Mar 5 15:44:05 2013 -0500

    Stop NPCs from aggroing each other with buffs/beneficial spells.

Author: Kemmler
Date:   Tue Mar 5 15:44:05 2013 -0500

    Stop NPCs from aggroing each other with buffs/beneficial spells.

Author: Derision
Date:   Mon Mar 4 19:15:07 2013 +0000

    Few minor issues highlighted by cppcheck/valgrind.

Author: Kemmler
Date:   Mon Mar 4 13:08:53 2013 -0500

    Forgot to update changelog.txt earlier

Author: Arthur Ice
Date:   Sun Mar 3 21:45:46 2013 -0800

    More warning clean ups (NULL to 0 on int, sprintf flags, typedef on enum)

Author: Arthur Ice
Date:   Sun Mar 3 16:17:06 2013 -0800

    Fixed some warnings, like sprintf %i warnings (converted to %lu), fals vs NULL, etc

Author: Arthur Ice
Date:   Sun Mar 3 15:26:40 2013 -0800

    Fixed missing include that blocked compile on linux.

Author: Derision
Date:   Sun Mar 3 22:26:57 2013 +0000

    Fixed uninitialised variabled tempBot in #bot stance command (cppcheck)

Author: Derision
Date:   Sun Mar 3 22:22:04 2013 +0000

    Fixed memleak in Client::Handle_OP_MercenaryDataRequest (cppcheck)

Author: Derision
Date:   Sun Mar 3 22:12:14 2013 +0000

    Fixed uninitialised mercOwner highlighted by cppcheck.

Author: Arthur Ice
Date:   Sat Mar 2 11:58:39 2013 -0800

    Deleted the old and duplicated GNU license text

Author: badcaptain
Date:   Sat Mar 2 01:07:18 2013 -0500

    Fixed Merc depop bug, added merc rest regen, fixed merc group spell casting bug where mercs would continue to try to cast group buffs on pets of caster who didn't have Pet Affinity AA.

Author: KLS
Date:   Fri Mar 1 16:45:10 2013 -0800

    Update README.md

Author: KLS
Date:   Thu Feb 28 22:33:20 2013 -0800

    Tests fix + fix for certain factions not loading

Author: badcaptain
Date:   Fri Mar 1 00:34:25 2013 -0500

    Oops, it's not a leap year.

Author: af4t
Date:   Fri Mar 1 00:23:21 2013 -0500

    Undo MAG pet targeting change

Author: badcaptain
Date:   Fri Mar 1 00:01:27 2013 -0500

    Fixed Merc duplicate save bug, focus items, spell_scale and heal_scale now work implemented, new merc equipment (with focus items), added checks during merc hire, unsuspend, & timer update for states where a merc can't be hired, unsuspended, or can't be retained due to insufficient funds, no room in group, in raid, invalid merc data, etc, and give appropriate feedback, added rules for charging of merc purchase and upkeep costs.

Author: KLS
Date:   Wed Feb 27 16:16:20 2013 -0800

    Shared Memory changelog + something with CMake to support rvalue refs

Author: af4t
Date:   Tue Feb 26 09:48:36 2013 -0500

    SK AA Touch of the Wicked should reduce reuse timers for Improved Harm Touch & Leech Touch as well as regular HT.  Add to aa_actions with same redux rate as regular HT

Author: af4t
Date:   Mon Feb 25 10:33:53 2013 -0500

    Fix targeting for summoned pets in Mob::DetermineSpellTargets

Author: af4t
Date:   Mon Feb 25 09:19:07 2013 -0500

    Melee tomes named "Skill: ..." can be handed to guildmasters and memorized.

Author: KLS
Date:   Sun Feb 24 22:08:10 2013 -0800

    Fix for sdrawkcab index in skill_caps

Author: KLS
Date:   Sun Feb 24 10:52:52 2013 -0800

    Removed obsolete cleanipc program

Author: KLS
Date:   Sun Feb 24 10:51:04 2013 -0800

    Fix for linux ipc mutex

Author: KLS
Date:   Sun Feb 24 10:33:07 2013 -0800

    Fix for bad data on factions

Author: KLS
Date:   Sat Feb 23 22:42:40 2013 -0800

    Fix for shared memory loot: both the inconsistent tables and the not loading of tables with no items

Author: Derision
Date:   Sat Feb 23 23:12:10 2013 +0000

    Misc fizes.

Author: KLS
Date:   Sat Feb 23 15:03:15 2013 -0800

    Moved faction stuff around, removed stupid external item status stuff

Author: Derision
Date:   Sat Feb 23 22:17:19 2013 +0000

    Set #reloadlevelmods to status 255

Author: Derision
Date:   Sat Feb 23 22:00:43 2013 +0000

    Set #reloadworld to 255 status

Author: KLS
Date:   Sat Feb 23 13:48:05 2013 -0800

    Missing EOL

Author: KLS
Date:   Sat Feb 23 13:45:19 2013 -0800

    NPC Faction lists to new shared memory scheme

Author: KLS
Date:   Sat Feb 23 01:32:05 2013 -0800

    Fix for mmf failing on linux (relies on size_ which wasn't init properly on one of the constructors, now is)

Author: KLS
Date:   Sat Feb 23 00:48:16 2013 -0800

    mmf wont lock - programmer can handle that

Author: KLS
Date:   Sat Feb 23 00:37:12 2013 -0800

    Stupid design choice in cppunit fixt -.-

Author: KLS
Date:   Sat Feb 23 00:07:47 2013 -0800

    c++11 linux compile conflicts with perl more

Author: KLS
Date:   Sat Feb 23 00:06:03 2013 -0800

    c++11 linux compile conflicts with perl

Author: KLS
Date:   Fri Feb 22 23:40:16 2013 -0800

    IPCMutex needed to be rewritten for Linux due to an annoying limitation of posix semaphores that makes encapping them moronic

Author: KLS
Date:   Fri Feb 22 22:31:07 2013 -0800

    Slight cleanup on recent pull req + changing versions up

Author: Mackal
Date:   Fri Feb 22 22:27:03 2013 -0500

    Mobs will now be removed from XTarget when they clear their feign memory aggro

Author: KLS
Date:   Fri Feb 22 18:25:17 2013 -0800

    Shared Memory Loot works

Author: KLS
Date:   Thu Feb 21 22:13:33 2013 -0800

    Partial work on loot tables (non-compiling)

Author: Arthur Ice
Date:   Thu Feb 21 00:07:49 2013 -0800

    fixed miss spelling of 'recieved' to 'received' in ServerStats and in log messages.

Author: KLS
Date:   Wed Feb 20 22:36:30 2013 -0800

    Items in shared memory

Author: KLS
Date:   Wed Feb 20 15:36:36 2013 -0800

    Delete some pointless files

Author: KLS
Date:   Wed Feb 20 15:35:46 2013 -0800

    Got rid of rules global (ugh) and gonna start work on items loading next

Author: KLS
Date:   Wed Feb 20 13:54:26 2013 -0800

    Skill caps load with new smem scheme

Author: KLS
Date:   Wed Feb 20 11:26:23 2013 -0800

    Starting on skill caps today

Author: KLS
Date:   Tue Feb 19 23:06:00 2013 -0800

    Style + compile option for rvalue-move

Author: KLS
Date:   Tue Feb 19 22:20:30 2013 -0800

    Spells via shared memory work, removal of blah, general fixes

Author: KLS
Date:   Tue Feb 19 16:50:05 2013 -0800

    Almost have spells loaded

Author: KLS
Date:   Tue Feb 19 15:33:21 2013 -0800

    More shared memory work + moved spdat from zone to common

Author: Derision
Date:   Tue Feb 19 20:07:53 2013 +0000

    World should no longer crash if the start_zone query fails at character creation.

Author: KLS
Date:   Mon Feb 18 23:07:32 2013 -0800

    Update .gitignore

Author: KLS
Date:   Mon Feb 18 19:23:27 2013 -0800

    EVENT_DEATH changelog

Author: KLS
Date:   Mon Feb 18 19:22:07 2013 -0800

    EVENT_DEATH for PlayerQuests

Author: KLS
Date:   Mon Feb 18 19:00:07 2013 -0800

    Working on shared memory stuff - removed some stuff dealing with older code and loading spells from the non-database

Author: Mackal
Date:   Mon Feb 18 14:22:09 2013 -0500

    Changelog udpated

Author: Mackal
Date:   Mon Feb 18 14:19:20 2013 -0500

    Added the item_name field to potionbelt to give the user the Tool Tip

Author: Derision
Date:   Mon Feb 18 18:58:26 2013 +0000

    Charmed pets should no longer be targettable with F8. Charmed pets no longer get a surname of Soandso's Pet.

Author: KLS
Date:   Mon Feb 18 09:12:14 2013 -0800

    Quest Interface wont attempt to keep loading GlobalQuest sub over and over and over...

Author: KLS
Date:   Mon Feb 18 09:01:49 2013 -0800

    Issue where not having a global npc quest file may cause the server to crash on bootup

Author: JJ
Date:   Sun Feb 17 23:38:51 2013 -0500

    Chat garbled for drunk characters.

Author: KLS
Date:   Sun Feb 17 22:57:15 2013 -0800


Author: badcaptain
Date:   Mon Feb 18 00:50:19 2013 -0500

    Moved merc save data from extended player profile to new merc table, save merc buffs, added cure and rez spells to healer merc.

Author: KLS
Date:   Sun Feb 17 15:40:29 2013 -0800

    Forgot to take out my comment code - doh

Author: KLS
Date:   Sun Feb 17 15:36:53 2013 -0800

    Fix for sub checking on global npc quests

Author: KLS
Date:   Sun Feb 17 15:22:35 2013 -0800

    One fix to QuestParserCollection for global npc quests, HasSub is not working at all right with it.  Need to check it out later tonight

Author: KLS
Date:   Sun Feb 17 13:36:39 2013 -0800

    Unit tests + cleanup

Author: KLS
Date:   Sun Feb 17 12:31:18 2013 -0800

    Working on tests, not there yet, added licensing stuff

Author: Derision
Date:   Sun Feb 17 20:23:34 2013 +0000

    Fixed bug where BecomeTrader packets were only being sent to the Trader, not all other clients in the bazaar.

Author: KLS
Date:   Sun Feb 17 11:51:32 2013 -0800

    MMFs + a scaled down hash set to use them with

Author: KLS
Date:   Sun Feb 17 11:35:50 2013 -0800

    Way to miss two files KLS - doh

Author: KLS
Date:   Sun Feb 17 11:35:03 2013 -0800

    IPC mutex

Author: KLS
Date:   Sun Feb 17 11:27:43 2013 -0800

    Exception classes & required C++11 stuff from GCC(still needs to be fixed)

Author: Derision
Date:   Sun Feb 17 18:09:31 2013 +0000

    Client version is now returned by the stream proxy as a number.

Author: Derision
Date:   Sun Feb 17 10:19:12 2013 +0000

    Added optional guildid and minstatus parameters to quest::gmsay(<messsage>, [color], [toworld], [guildid], [minstatus])

Author: KLS
Date:   Sat Feb 16 22:07:32 2013 -0800

    Some warning fixes, unreferenced local variables.

Author: KLS
Date:   Sat Feb 16 18:05:41 2013 -0800

    utils/sql/git added

Author: Mackal
Date:   Sat Feb 16 20:14:07 2013 -0500

    Remove old filters and change all remaining old to new (Also fix Auction filtering out OOC as well due to incorrect define)

Author: KLS
Date:   Sat Feb 16 16:55:04 2013 -0800

    Ignore all files in dependencies.

Author: Mackal
Date:   Sat Feb 16 19:50:19 2013 -0500

    Update change log

Author: KLS
Date:   Sat Feb 16 16:47:28 2013 -0800

    Moved queryserv sql to svn so I can more easily have a git section without confusion

Author: Mackal
Date:   Sat Feb 16 19:47:12 2013 -0500

    Fix calc of resuse timers on multi-rank AAs

Author: KLS
Date:   Sat Feb 16 16:37:14 2013 -0800

    Update .gitignore

Author: KLS
Date:   Sat Feb 16 16:25:57 2013 -0800

    Derision's revert from svn I missed.

Author: KLS
Date:   Sat Feb 16 16:14:39 2013 -0800

    svn -> git Migration

Author: KLS
Date:   Sat Feb 16 15:00:23 2013 -0800

    Create .gitattributes

Author: KLS
Date:   Sat Feb 16 12:16:58 2013 -0800

    Create LICENSE.md

Author: KLS
Date:   Sat Feb 16 12:16:31 2013 -0800

    Create .gitignore

Author: KLS
Date:   Sat Feb 16 12:14:37 2013 -0800

    Create README.md
